"use strict";var gg=Object.defineProperty;var mg=(_,f,t)=>f in _?gg(_,f,{enumerable:!0,configurable:!0,writable:!0,value:t}):_[f]=t;var fa=(_,f,t)=>mg(_,typeof f!="symbol"?f+"":f,t);const fn=require("siyuan");function Zn(){}function nc(_){return _()}function bu(){return Object.create(null)}function oa(_){_.forEach(nc)}function ac(_){return typeof _=="function"}function er(_,f){return _!=_?f==f:_!==f||_&&typeof _=="object"||typeof _=="function"}let Ni;function za(_,f){return _===f?!0:(Ni||(Ni=document.createElement("a")),Ni.href=f,_===Ni.href)}function pg(_){return Object.keys(_).length===0}function ut(_,f){_.appendChild(f)}function wn(_,f,t){_.insertBefore(f,t||null)}function _n(_){_.parentNode&&_.parentNode.removeChild(_)}function rc(_,f){for(let t=0;t<_.length;t+=1)_[t]&&_[t].d(f)}function Yt(_){return document.createElement(_)}function ha(_){return document.createElementNS("http://www.w3.org/2000/svg",_)}function Rn(_){return document.createTextNode(_)}function vn(){return Rn(" ")}function Co(){return Rn("")}function Ln(_,f,t,u){return _.addEventListener(f,t,u),()=>_.removeEventListener(f,t,u)}function Oo(_){return function(f){return f.preventDefault(),_.call(this,f)}}function ic(_){return function(f){return f.stopPropagation(),_.call(this,f)}}function Xe(_,f,t){t==null?_.removeAttribute(f):_.getAttribute(f)!==t&&_.setAttribute(f,t)}function hg(_){return Array.from(_.childNodes)}function On(_,f){f=""+f,_.data!==f&&(_.data=f)}function Cr(_,f){_.value=f??""}function yu(_,f,t,u){_.style.setProperty(f,t,"")}function Eu(_,f,t){for(let u=0;u<_.options.length;u+=1){const r=_.options[u];if(r.__value===f){r.selected=!0;return}}_.selectedIndex=-1}function Gn(_,f,t){_.classList.toggle(f,!!t)}function bg(_,f,{bubbles:t=!1,cancelable:u=!1}={}){return new CustomEvent(_,{detail:f,bubbles:t,cancelable:u})}let Qr;function $r(_){Qr=_}function Fo(){if(!Qr)throw new Error("Function called outside component initialization");return Qr}function Nr(_){Fo().$$.on_mount.push(_)}function oc(_){Fo().$$.on_destroy.push(_)}function Lr(){const _=Fo();return(f,t,{cancelable:u=!1}={})=>{const r=_.$$.callbacks[f];if(r){const e=bg(f,t,{cancelable:u});return r.slice().forEach(n=>{n.call(_,e)}),!e.defaultPrevented}return!0}}function yg(_,f){const t=_.$$.callbacks[f.type];t&&t.slice().forEach(u=>u.call(this,f))}const Ir=[],xr=[];let Ar=[];const vu=[],Eg=Promise.resolve();let No=!1;function vg(){No||(No=!0,Eg.then(lc))}function xo(_){Ar.push(_)}const vo=new Set;let Sr=0;function lc(){if(Sr!==0)return;const _=Qr;do{try{for(;Sr<Ir.length;){const f=Ir[Sr];Sr++,$r(f),_g(f.$$)}}catch(f){throw Ir.length=0,Sr=0,f}for($r(null),Ir.length=0,Sr=0;xr.length;)xr.pop()();for(let f=0;f<Ar.length;f+=1){const t=Ar[f];vo.has(t)||(vo.add(t),t())}Ar.length=0}while(Ir.length);for(;vu.length;)vu.pop()();No=!1,vo.clear(),$r(_)}function _g(_){if(_.fragment!==null){_.update(),oa(_.before_update);const f=_.dirty;_.dirty=[-1],_.fragment&&_.fragment.p(_.ctx,f),_.after_update.forEach(xo)}}function Tg(_){const f=[],t=[];Ar.forEach(u=>_.indexOf(u)===-1?f.push(u):t.push(u)),t.forEach(u=>u()),Ar=f}const zi=new Set;let dr;function jo(){dr={r:0,c:[],p:dr}}function Uo(){dr.r||oa(dr.c),dr=dr.p}function ia(_,f){_&&_.i&&(zi.delete(_),_.i(f))}function ba(_,f,t,u){if(_&&_.o){if(zi.has(_))return;zi.add(_),dr.c.push(()=>{zi.delete(_),u&&(t&&_.d(1),u())}),_.o(f)}else u&&u()}function La(_){return(_==null?void 0:_.length)!==void 0?_:Array.from(_)}function sc(_,f){_.d(1),f.delete(_.key)}function wg(_,f){ba(_,1,1,()=>{f.delete(_.key)})}function Bo(_,f,t,u,r,e,n,c,i,l,p,h){let b=_.length,E=e.length,y=b;const R={};for(;y--;)R[_[y].key]=y;const F=[],te=new Map,de=new Map,ee=[];for(y=E;y--;){const S=h(r,e,y),q=t(S);let se=n.get(q);se?ee.push(()=>se.p(S,f)):(se=l(q,S),se.c()),te.set(q,F[y]=se),q in R&&de.set(q,Math.abs(y-R[q]))}const ve=new Set,Ae=new Set;function M(S){ia(S,1),S.m(c,p),n.set(S.key,S),p=S.first,E--}for(;b&&E;){const S=F[E-1],q=_[b-1],se=S.key,P=q.key;S===q?(p=S.first,b--,E--):te.has(P)?!n.has(se)||ve.has(se)?M(S):Ae.has(P)?b--:de.get(se)>de.get(P)?(Ae.add(se),M(S)):(ve.add(P),b--):(i(q,n),b--)}for(;b--;){const S=_[b];te.has(S.key)||i(S,n)}for(;E;)M(F[E-1]);return oa(ee),F}function fr(_){_&&_.c()}function Qa(_,f,t){const{fragment:u,after_update:r}=_.$$;u&&u.m(f,t),xo(()=>{const e=_.$$.on_mount.map(nc).filter(ac);_.$$.on_destroy?_.$$.on_destroy.push(...e):oa(e),_.$$.on_mount=[]}),r.forEach(xo)}function Za(_,f){const t=_.$$;t.fragment!==null&&(Tg(t.after_update),oa(t.on_destroy),t.fragment&&t.fragment.d(f),t.on_destroy=t.fragment=null,t.ctx=[])}function Sg(_,f){_.$$.dirty[0]===-1&&(Ir.push(_),vg(),_.$$.dirty.fill(0)),_.$$.dirty[f/31|0]|=1<<f%31}function tr(_,f,t,u,r,e,n=null,c=[-1]){const i=Qr;$r(_);const l=_.$$={fragment:null,ctx:[],props:e,update:Zn,not_equal:r,bound:bu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f.context||(i?i.$$.context:[])),callbacks:bu(),dirty:c,skip_bound:!1,root:f.target||i.$$.root};n&&n(l.root);let p=!1;if(l.ctx=t?t(_,f.props||{},(h,b,...E)=>{const y=E.length?E[0]:b;return l.ctx&&r(l.ctx[h],l.ctx[h]=y)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](y),p&&Sg(_,h)),b}):[],l.update(),p=!0,oa(l.before_update),l.fragment=u?u(l.ctx):!1,f.target){if(f.hydrate){const h=hg(f.target);l.fragment&&l.fragment.l(h),h.forEach(_n)}else l.fragment&&l.fragment.c();f.intro&&ia(_.$$.fragment),Qa(_,f.target,f.anchor),lc()}$r(i)}class nr{constructor(){fa(this,"$$");fa(this,"$$set")}$destroy(){Za(this,1),this.$destroy=Zn}$on(f,t){if(!ac(t))return Zn;const u=this.$$.callbacks[f]||(this.$$.callbacks[f]=[]);return u.push(t),()=>{const r=u.indexOf(t);r!==-1&&u.splice(r,1)}}$set(f){this.$$set&&!pg(f)&&(this.$$.skip_bound=!0,this.$$set(f),this.$$.skip_bound=!1)}}const kg="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(kg);var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uc(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function Tu(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Oi={exports:{}};Oi.exports;(function(_,f){/*!
 * artplayer.js v5.2.1
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2024 Harvey Zack
 * Released under the MIT License.
 */(function(t,u,r,e,n){var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof _u<"u"?_u:{},i=typeof c[e]=="function"&&c[e],l=i.cache||{},p=typeof Tu=="function"&&Tu.bind(_);function h(y,R){if(!l[y]){if(!t[y]){var F=typeof c[e]=="function"&&c[e];if(!R&&F)return F(y,!0);if(i)return i(y,!0);if(p&&typeof y=="string")return p(y);var te=Error("Cannot find module '"+y+"'");throw te.code="MODULE_NOT_FOUND",te}ee.resolve=function(ve){var Ae=t[y][1][ve];return Ae??ve},ee.cache={};var de=l[y]=new h.Module(y);t[y][0].call(de.exports,ee,de,de.exports,this)}return l[y].exports;function ee(ve){var Ae=ee.resolve(ve);return Ae===!1?{}:h(Ae)}}h.isParcelRequire=!0,h.Module=function(y){this.id=y,this.bundle=h,this.exports={}},h.modules=t,h.cache=l,h.parent=i,h.register=function(y,R){t[y]=[function(F,te){te.exports=R},{}]},Object.defineProperty(h,"root",{get:function(){return c[e]}}),c[e]=h;for(var b=0;b<u.length;b++)h(u[b]);{var E=h(r);_.exports=E}})({"5lTcX":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("bundle-text:./style/index.less"),c=e.interopDefault(n),i=t("option-validator"),l=e.interopDefault(i),p=t("./utils/emitter"),h=e.interopDefault(p),b=t("./utils"),E=t("./scheme"),y=e.interopDefault(E),R=t("./config"),F=e.interopDefault(R),te=t("./template"),de=e.interopDefault(te),ee=t("./i18n"),ve=e.interopDefault(ee),Ae=t("./player"),M=e.interopDefault(Ae),S=t("./control"),q=e.interopDefault(S),se=t("./contextmenu"),P=e.interopDefault(se),ae=t("./info"),we=e.interopDefault(ae),$=t("./subtitle"),ze=e.interopDefault($),Ce=t("./events"),Te=e.interopDefault(Ce),Ye=t("./hotkey"),Ue=e.interopDefault(Ye),De=t("./layer"),We=e.interopDefault(De),lt=t("./loading"),At=e.interopDefault(lt),jt=t("./notice"),Bt=e.interopDefault(jt),Ie=t("./mask"),Ne=e.interopDefault(Ie),Qe=t("./icons"),B=e.interopDefault(Qe),Y=t("./setting"),I=e.interopDefault(Y),L=t("./storage"),fe=e.interopDefault(L),X=t("./plugins"),xe=e.interopDefault(X);let Ve=0,Le=[];class Me extends h.default{constructor(qe,rt){super(),this.id=++Ve;let Ze=b.mergeDeep(Me.option,qe);if(Ze.container=qe.container,this.option=(0,l.default)(Ze,y.default),this.isLock=!1,this.isReady=!1,this.isFocus=!1,this.isInput=!1,this.isRotate=!1,this.isDestroy=!1,this.template=new de.default(this),this.events=new Te.default(this),this.storage=new fe.default(this),this.icons=new B.default(this),this.i18n=new ve.default(this),this.notice=new Bt.default(this),this.player=new M.default(this),this.layers=new We.default(this),this.controls=new q.default(this),this.contextmenu=new P.default(this),this.subtitle=new ze.default(this),this.info=new we.default(this),this.loading=new At.default(this),this.hotkey=new Ue.default(this),this.mask=new Ne.default(this),this.setting=new I.default(this),this.plugins=new xe.default(this),typeof rt=="function"&&this.on("ready",()=>rt.call(this,this)),Me.DEBUG){let ct=Vt=>console.log(`[ART.${this.id}] -> ${Vt}`);ct("Version@"+Me.version),ct("Env@"+Me.env),ct("Build@"+Me.build);for(let Vt=0;Vt<F.default.events.length;Vt++)this.on("video:"+F.default.events[Vt],Nt=>ct("Event@"+Nt.type))}Le.push(this)}static get instances(){return Le}static get version(){return"5.2.1"}static get env(){return"production"}static get build(){return"2024-10-26 15:26:30"}static get config(){return F.default}static get utils(){return b}static get scheme(){return y.default}static get Emitter(){return h.default}static get validator(){return l.default}static get kindOf(){return l.default.kindOf}static get html(){return de.default.html}static get option(){return{id:"",container:"#artplayer",url:"",poster:"",type:"",theme:"#f00",volume:.7,isLive:!1,muted:!1,autoplay:!1,autoSize:!1,autoMini:!1,loop:!1,flip:!1,playbackRate:!1,aspectRatio:!1,screenshot:!1,setting:!1,hotkey:!0,pip:!1,mutex:!0,backdrop:!0,fullscreen:!1,fullscreenWeb:!1,subtitleOffset:!1,miniProgressBar:!1,useSSR:!1,playsInline:!0,lock:!1,fastForward:!1,autoPlayback:!1,autoOrientation:!1,airplay:!1,proxy:void 0,layers:[],contextmenu:[],controls:[],settings:[],quality:[],highlight:[],plugins:[],thumbnails:{url:"",number:60,column:10,width:0,height:0,scale:1},subtitle:{url:"",type:"",style:{},name:"",escape:!0,encoding:"utf-8",onVttLoad:qe=>qe},moreVideoAttr:{controls:!1,preload:b.isSafari?"auto":"metadata"},i18n:{},icons:{},cssVar:{},customType:{},lang:navigator.language.toLowerCase()}}get proxy(){return this.events.proxy}get query(){return this.template.query}get video(){return this.template.$video}destroy(qe=!0){this.events.destroy(),this.template.destroy(qe),Le.splice(Le.indexOf(this),1),this.isDestroy=!0,this.emit("destroy")}}r.default=Me,Me.STYLE=c.default,Me.DEBUG=!1,Me.CONTEXTMENU=!0,Me.NOTICE_TIME=2e3,Me.SETTING_WIDTH=250,Me.SETTING_ITEM_WIDTH=200,Me.SETTING_ITEM_HEIGHT=35,Me.RESIZE_TIME=200,Me.SCROLL_TIME=200,Me.SCROLL_GAP=50,Me.AUTO_PLAYBACK_MAX=10,Me.AUTO_PLAYBACK_MIN=5,Me.AUTO_PLAYBACK_TIMEOUT=3e3,Me.RECONNECT_TIME_MAX=5,Me.RECONNECT_SLEEP_TIME=1e3,Me.CONTROL_HIDE_TIME=3e3,Me.DBCLICK_TIME=300,Me.DBCLICK_FULLSCREEN=!0,Me.MOBILE_DBCLICK_PLAY=!0,Me.MOBILE_CLICK_PLAY=!1,Me.AUTO_ORIENTATION_TIME=200,Me.INFO_LOOP_TIME=1e3,Me.FAST_FORWARD_VALUE=3,Me.FAST_FORWARD_TIME=1e3,Me.TOUCH_MOVE_RATIO=.5,Me.VOLUME_STEP=.1,Me.SEEK_STEP=5,Me.PLAYBACK_RATE=[.5,.75,1,1.25,1.5,2],Me.ASPECT_RATIO=["default","4:3","16:9"],Me.FLIP=["normal","horizontal","vertical"],Me.FULLSCREEN_WEB_IN_BODY=!1,Me.LOG_VERSION=!0,Me.USE_RAF=!1,b.isBrowser&&(window.Artplayer=Me,b.setStyleText("artplayer-style",c.default),setTimeout(()=>{Me.LOG_VERSION&&console.log(`%c ArtPlayer %c ${Me.version} %c https://artplayer.org`,"color: #fff; background: #5f5f5f","color: #fff; background: #4bc729","")},100))},{"bundle-text:./style/index.less":"0016T","option-validator":"bAWi2","./utils/emitter":"66mFZ","./utils":"71aH7","./scheme":"AKEiO","./config":"lyjeQ","./template":"X13Zf","./i18n":"3jKkj","./player":"a90nx","./control":"8Z0Uf","./contextmenu":"2KYsr","./info":"02ajl","./subtitle":"eSWto","./events":"jo4S1","./hotkey":"6NoFy","./layer":"6G6hZ","./loading":"3dsEe","./notice":"dWGTw","./mask":"5POkG","./icons":"6OeNg","./setting":"3eYNH","./storage":"2aaJe","./plugins":"8MTUM","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"0016T":[function(t,u,r){u.exports='.art-video-player{--art-theme:red;--art-font-color:#fff;--art-background-color:#000;--art-text-shadow-color:#00000080;--art-transition-duration:.2s;--art-padding:10px;--art-border-radius:3px;--art-progress-height:6px;--art-progress-color:#ffffff40;--art-hover-color:#ffffff40;--art-loaded-color:#ffffff40;--art-state-size:80px;--art-state-opacity:.8;--art-bottom-height:100px;--art-bottom-offset:20px;--art-bottom-gap:5px;--art-highlight-width:8px;--art-highlight-color:#ffffff80;--art-control-height:46px;--art-control-opacity:.75;--art-control-icon-size:36px;--art-control-icon-scale:1.1;--art-volume-height:120px;--art-volume-handle-size:14px;--art-lock-size:36px;--art-indicator-scale:0;--art-indicator-size:16px;--art-fullscreen-web-index:9999;--art-settings-icon-size:24px;--art-settings-max-height:300px;--art-selector-max-height:300px;--art-contextmenus-min-width:250px;--art-subtitle-font-size:20px;--art-subtitle-gap:5px;--art-subtitle-bottom:15px;--art-subtitle-border:#000;--art-widget-background:#000000d9;--art-tip-background:#000000b3;--art-scrollbar-size:4px;--art-scrollbar-background:#ffffff40;--art-scrollbar-background-hover:#ffffff80;--art-mini-progress-height:2px}.art-bg-cover{background-position:50%;background-repeat:no-repeat;background-size:cover}.art-bottom-gradient{background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x}.art-backdrop-filter{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.art-video-player{zoom:1;text-align:left;user-select:none;box-sizing:border-box;color:var(--art-font-color);background-color:var(--art-background-color);text-shadow:0 0 2px var(--art-text-shadow-color);-webkit-tap-highlight-color:#0000;-ms-touch-action:manipulation;touch-action:manipulation;-ms-high-contrast-adjust:none;direction:ltr;outline:0;width:100%;height:100%;margin:0 auto;padding:0;font-family:PingFang SC,Helvetica Neue,Microsoft YaHei,Roboto,Arial,sans-serif;font-size:14px;line-height:1.3;position:relative}.art-video-player *,.art-video-player :before,.art-video-player :after{box-sizing:border-box}.art-video-player ::-webkit-scrollbar{width:var(--art-scrollbar-size);height:var(--art-scrollbar-size)}.art-video-player ::-webkit-scrollbar-thumb{background-color:var(--art-scrollbar-background)}.art-video-player ::-webkit-scrollbar-thumb:hover{background-color:var(--art-scrollbar-background-hover)}.art-video-player img{vertical-align:top;max-width:100%}.art-video-player svg{fill:var(--art-font-color)}.art-video-player a{color:var(--art-font-color);text-decoration:none}.art-icon{justify-content:center;align-items:center;line-height:1;display:flex}.art-video-player.art-backdrop .art-contextmenus,.art-video-player.art-backdrop .art-info,.art-video-player.art-backdrop .art-settings,.art-video-player.art-backdrop .art-layer-auto-playback,.art-video-player.art-backdrop .art-selector-list,.art-video-player.art-backdrop .art-volume-inner{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-video{z-index:10;cursor:pointer;width:100%;height:100%;position:absolute;inset:0}.art-poster{z-index:11;pointer-events:none;background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%;position:absolute;inset:0}.art-video-player .art-subtitle{z-index:20;text-align:center;pointer-events:none;justify-content:center;align-items:center;gap:var(--art-subtitle-gap);bottom:var(--art-subtitle-bottom);font-size:var(--art-subtitle-font-size);transition:bottom var(--art-transition-duration)ease;text-shadow:var(--art-subtitle-border)1px 0 1px,var(--art-subtitle-border)0 1px 1px,var(--art-subtitle-border)-1px 0 1px,var(--art-subtitle-border)0 -1px 1px,var(--art-subtitle-border)1px 1px 1px,var(--art-subtitle-border)-1px -1px 1px,var(--art-subtitle-border)1px -1px 1px,var(--art-subtitle-border)-1px 1px 1px;flex-direction:column;width:100%;padding:0 5%;display:none;position:absolute}.art-video-player.art-subtitle-show .art-subtitle{display:flex}.art-video-player.art-control-show .art-subtitle{bottom:calc(var(--art-control-height) + var(--art-subtitle-bottom))}.art-danmuku{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0;overflow:hidden}.art-video-player .art-layers{z-index:40;pointer-events:none;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player .art-layers .art-layer{pointer-events:auto}.art-video-player.art-layer-show .art-layers{display:flex}.art-video-player .art-mask{z-index:50;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;inset:0}.art-video-player .art-mask .art-state{opacity:0;width:var(--art-state-size);height:var(--art-state-size);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;display:flex;transform:scale(2)}.art-video-player.art-mask-show .art-state{cursor:pointer;pointer-events:auto;opacity:var(--art-state-opacity);transform:scale(1)}.art-video-player.art-loading-show .art-state{display:none}.art-video-player .art-loading{z-index:70;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player.art-loading-show .art-loading{display:flex}.art-video-player .art-bottom{z-index:60;opacity:0;pointer-events:none;padding:0 var(--art-padding);transition:all var(--art-transition-duration)ease;background-size:100% var(--art-bottom-height);background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x;flex-direction:column;justify-content:flex-end;width:100%;height:100%;display:flex;position:absolute;inset:0;overflow:hidden}.art-video-player .art-bottom .art-controls,.art-video-player .art-bottom .art-progress{transform:translateY(var(--art-bottom-offset));transition:transform var(--art-transition-duration)ease}.art-video-player.art-control-show .art-bottom,.art-video-player.art-hover .art-bottom{opacity:1}.art-video-player.art-control-show .art-bottom .art-controls,.art-video-player.art-hover .art-bottom .art-controls,.art-video-player.art-control-show .art-bottom .art-progress,.art-video-player.art-hover .art-bottom .art-progress{transform:translateY(0)}.art-bottom .art-progress{z-index:0;pointer-events:auto;padding-bottom:var(--art-bottom-gap);position:relative}.art-bottom .art-progress .art-control-progress{cursor:pointer;height:var(--art-progress-height);justify-content:center;align-items:center;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner{transition:height var(--art-transition-duration)ease;background-color:var(--art-progress-color);align-items:center;width:100%;height:50%;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-hover{z-index:0;background-color:var(--art-hover-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-loaded{z-index:10;background-color:var(--art-loaded-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-played{z-index:20;background-color:var(--art-theme);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight span{z-index:0;pointer-events:auto;transform:translateX(calc(var(--art-highlight-width)/-2));background-color:var(--art-highlight-color);width:100%;height:100%;position:absolute;inset:0 auto 0 0;width:var(--art-highlight-width)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{z-index:40;width:var(--art-indicator-size);height:var(--art-indicator-size);transform:scale(var(--art-indicator-scale));margin-left:calc(var(--art-indicator-size)/-2);transition:transform var(--art-transition-duration)ease;border-radius:50%;justify-content:center;align-items:center;display:flex;position:absolute;left:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator .art-icon{pointer-events:none;width:100%;height:100%}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:hover{transform:scale(1.2)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:active{transform:scale(1)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-tip{z-index:50;border-radius:var(--art-border-radius);white-space:nowrap;background-color:var(--art-tip-background);padding:3px 5px;font-size:12px;line-height:1;display:none;position:absolute;top:-25px;left:0}.art-bottom .art-progress .art-control-progress:hover .art-control-progress-inner{height:100%}.art-bottom .art-progress .art-control-thumbnails{bottom:calc(var(--art-bottom-gap) + 10px);border-radius:var(--art-border-radius);pointer-events:none;background-color:var(--art-widget-background);display:none;position:absolute;left:0;box-shadow:0 1px 3px #0003,0 1px 2px -1px #0003}.art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{transform:scale(1)}.art-controls{z-index:10;pointer-events:auto;height:var(--art-control-height);justify-content:space-between;align-items:center;display:flex;position:relative}.art-controls .art-controls-left,.art-controls .art-controls-right{height:100%;display:flex}.art-controls .art-controls-center{flex:1;justify-content:center;align-items:center;height:100%;padding:0 10px;display:none}.art-controls .art-controls-right{justify-content:flex-end}.art-controls .art-control{cursor:pointer;white-space:nowrap;opacity:var(--art-control-opacity);min-height:var(--art-control-height);min-width:var(--art-control-height);transition:opacity var(--art-transition-duration)ease;flex-shrink:0;justify-content:center;align-items:center;display:flex}.art-controls .art-control .art-icon{height:var(--art-control-icon-size);width:var(--art-control-icon-size);transform:scale(var(--art-control-icon-scale));transition:transform var(--art-transition-duration)ease}.art-controls .art-control .art-icon:active{transform:scale(calc(var(--art-control-icon-scale)*.8))}.art-controls .art-control:hover{opacity:1}.art-control-volume{position:relative}.art-control-volume .art-volume-panel{text-align:center;cursor:default;opacity:0;pointer-events:none;left:0;right:0;bottom:var(--art-control-height);width:var(--art-control-height);height:var(--art-volume-height);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;padding:0 5px;font-size:12px;display:flex;position:absolute;transform:translateY(10px)}.art-control-volume .art-volume-panel .art-volume-inner{border-radius:var(--art-border-radius);background-color:var(--art-widget-background);flex-direction:column;align-items:center;gap:10px;width:100%;height:100%;padding:10px 0 12px;display:flex}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider{cursor:pointer;flex:1;justify-content:center;width:100%;display:flex;position:relative}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle{border-radius:var(--art-border-radius);background-color:#ffffff40;justify-content:center;width:2px;display:flex;position:relative;overflow:hidden}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle .art-volume-loaded{z-index:0;background-color:var(--art-theme);width:100%;height:100%;position:absolute;inset:0}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-indicator{width:var(--art-volume-handle-size);height:var(--art-volume-handle-size);margin-top:calc(var(--art-volume-handle-size)/-2);background-color:var(--art-theme);transition:transform var(--art-transition-duration)ease;border-radius:100%;flex-shrink:0;position:absolute;transform:scale(1)}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider:active .art-volume-indicator{transform:scale(.9)}.art-control-volume:hover .art-volume-panel{opacity:1;pointer-events:auto;transform:translateY(0)}.art-video-player .art-notice{z-index:80;padding:var(--art-padding);pointer-events:none;width:100%;height:auto;display:none;position:absolute;inset:0 0 auto}.art-video-player .art-notice .art-notice-inner{border-radius:var(--art-border-radius);background-color:var(--art-tip-background);padding:5px;line-height:1;display:inline-flex}.art-video-player.art-notice-show .art-notice{display:flex}.art-video-player .art-contextmenus{z-index:120;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);min-width:var(--art-contextmenus-min-width);flex-direction:column;padding:5px 0;font-size:12px;display:none;position:absolute}.art-video-player .art-contextmenus .art-contextmenu{cursor:pointer;border-bottom:1px solid #ffffff1a;padding:10px 15px;display:flex}.art-video-player .art-contextmenus .art-contextmenu span{padding:0 8px}.art-video-player .art-contextmenus .art-contextmenu span:hover,.art-video-player .art-contextmenus .art-contextmenu span.art-current{color:var(--art-theme)}.art-video-player .art-contextmenus .art-contextmenu:hover{background-color:#ffffff1a}.art-video-player .art-contextmenus .art-contextmenu:last-child{border-bottom:none}.art-video-player.art-contextmenu-show .art-contextmenus{display:flex}.art-video-player .art-settings{z-index:90;border-radius:var(--art-border-radius);max-height:var(--art-settings-max-height);left:auto;right:var(--art-padding);bottom:var(--art-control-height);transition:all var(--art-transition-duration)ease;background-color:var(--art-widget-background);flex-direction:column;display:none;position:absolute;overflow:hidden auto}.art-video-player .art-settings .art-setting-panel{flex-direction:column;display:none}.art-video-player .art-settings .art-setting-panel.art-current{display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item{cursor:pointer;transition:background-color var(--art-transition-duration)ease;justify-content:space-between;align-items:center;padding:0 5px;display:flex;overflow:hidden}.art-video-player .art-settings .art-setting-panel .art-setting-item:hover{background-color:#ffffff1a}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current{color:var(--art-theme)}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon-check{visibility:hidden;height:15px}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current .art-icon-check{visibility:visible}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left{flex-shrink:0;justify-content:center;align-items:center;gap:5px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left .art-setting-item-left-icon{height:var(--art-settings-icon-size);width:var(--art-settings-icon-size);justify-content:center;align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right{justify-content:center;align-items:center;gap:5px;font-size:12px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-tooltip{white-space:nowrap;color:#ffffff80}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-icon{justify-content:center;align-items:center;min-width:32px;height:24px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-range{appearance:none;background-color:#fff3;outline:none;width:80px;height:3px}.art-video-player .art-settings .art-setting-panel .art-setting-item-back{border-bottom:1px solid #ffffff1a}.art-video-player.art-setting-show .art-settings{display:flex}.art-video-player .art-info{left:var(--art-padding);top:var(--art-padding);z-index:100;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);padding:10px;font-size:12px;display:none;position:absolute}.art-video-player .art-info .art-info-panel{flex-direction:column;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item{align-items:center;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item .art-info-title{text-align:right;width:100px}.art-video-player .art-info .art-info-panel .art-info-item .art-info-content{text-overflow:ellipsis;white-space:nowrap;user-select:all;width:250px;overflow:hidden}.art-video-player .art-info .art-info-close{cursor:pointer;position:absolute;top:5px;right:5px}.art-video-player.art-info-show .art-info{display:flex}.art-hide-cursor *{cursor:none!important}.art-video-player[data-aspect-ratio]{overflow:hidden}.art-video-player[data-aspect-ratio] .art-video{object-fit:fill;box-sizing:content-box}.art-fullscreen{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3}.art-fullscreen-web{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3;z-index:var(--art-fullscreen-web-index);width:100%;height:100%;position:fixed;inset:0}.art-mini-popup{z-index:9999;border-radius:var(--art-border-radius);cursor:move;user-select:none;background:#000;width:320px;height:180px;transition:opacity .2s;position:fixed;overflow:hidden;box-shadow:0 0 5px #00000080}.art-mini-popup svg{fill:#fff}.art-mini-popup .art-video{pointer-events:none}.art-mini-popup .art-mini-close{z-index:20;cursor:pointer;opacity:0;transition:opacity .2s;position:absolute;top:10px;right:10px}.art-mini-popup .art-mini-state{z-index:30;pointer-events:none;opacity:0;background-color:#00000040;justify-content:center;align-items:center;width:100%;height:100%;transition:opacity .2s;display:flex;position:absolute;inset:0}.art-mini-popup .art-mini-state .art-icon{opacity:.75;cursor:pointer;pointer-events:auto;transition:transform .2s;transform:scale(3)}.art-mini-popup .art-mini-state .art-icon:active{transform:scale(2.5)}.art-mini-popup.art-mini-droging{opacity:.9}.art-mini-popup:hover .art-mini-close,.art-mini-popup:hover .art-mini-state{opacity:1}.art-video-player[data-flip=horizontal] .art-video{transform:scaleX(-1)}.art-video-player[data-flip=vertical] .art-video{transform:scaleY(-1)}.art-video-player .art-layer-lock{height:var(--art-lock-size);width:var(--art-lock-size);top:50%;left:var(--art-padding);background-color:var(--art-tip-background);border-radius:50%;justify-content:center;align-items:center;display:none;position:absolute;transform:translateY(-50%)}.art-video-player .art-layer-auto-playback{border-radius:var(--art-border-radius);left:var(--art-padding);bottom:calc(var(--art-control-height) + var(--art-bottom-gap) + 10px);background-color:var(--art-widget-background);align-items:center;gap:10px;padding:10px;line-height:1;display:none;position:absolute}.art-video-player .art-layer-auto-playback .art-auto-playback-close{cursor:pointer;justify-content:center;align-items:center;display:flex}.art-video-player .art-layer-auto-playback .art-auto-playback-close svg{fill:var(--art-theme);width:15px;height:15px}.art-video-player .art-layer-auto-playback .art-auto-playback-jump{color:var(--art-theme);cursor:pointer}.art-video-player.art-lock .art-subtitle{bottom:var(--art-subtitle-bottom)!important}.art-video-player.art-mini-progress-bar .art-bottom,.art-video-player.art-lock .art-bottom{opacity:1;background-image:none;padding:0}.art-video-player.art-mini-progress-bar .art-bottom .art-controls,.art-video-player.art-lock .art-bottom .art-controls,.art-video-player.art-mini-progress-bar .art-bottom .art-progress,.art-video-player.art-lock .art-bottom .art-progress{transform:translateY(calc(var(--art-control-height) + var(--art-bottom-gap) + var(--art-progress-height)/4))}.art-video-player.art-mini-progress-bar .art-bottom .art-progress-indicator,.art-video-player.art-lock .art-bottom .art-progress-indicator{display:none!important}.art-video-player.art-control-show .art-layer-lock{display:flex}.art-control-selector{justify-content:center;display:flex;position:relative}.art-control-selector .art-selector-list{text-align:center;border-radius:var(--art-border-radius);opacity:0;pointer-events:none;bottom:var(--art-control-height);max-height:var(--art-selector-max-height);background-color:var(--art-widget-background);transition:all var(--art-transition-duration)ease;flex-direction:column;align-items:center;display:flex;position:absolute;overflow:hidden auto;transform:translateY(10px)}.art-control-selector .art-selector-list .art-selector-item{flex-shrink:0;justify-content:center;align-items:center;width:100%;padding:10px 15px;line-height:1;display:flex}.art-control-selector .art-selector-list .art-selector-item:hover{background-color:#ffffff1a}.art-control-selector .art-selector-list .art-selector-item:hover,.art-control-selector .art-selector-list .art-selector-item.art-current{color:var(--art-theme)}.art-control-selector:hover .art-selector-list{opacity:1;pointer-events:auto;transform:translateY(0)}[class*=hint--]{font-style:normal;display:inline-block;position:relative}[class*=hint--]:before,[class*=hint--]:after{visibility:hidden;opacity:0;z-index:1000000;pointer-events:none;transition:all .3s;position:absolute;transform:translate(0,0)}[class*=hint--]:hover:before,[class*=hint--]:hover:after{visibility:visible;opacity:1;transition-delay:.1s}[class*=hint--]:before{content:"";z-index:1000001;background:0 0;border:6px solid #0000;position:absolute}[class*=hint--]:after{color:#fff;white-space:nowrap;background:#000;padding:8px 10px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;line-height:12px}[class*=hint--][aria-label]:after{content:attr(aria-label)}[class*=hint--][data-hint]:after{content:attr(data-hint)}[aria-label=""]:before,[aria-label=""]:after,[data-hint=""]:before,[data-hint=""]:after{display:none!important}.hint--top-left:before,.hint--top-right:before,.hint--top:before{border-top-color:#000}.hint--bottom-left:before,.hint--bottom-right:before,.hint--bottom:before{border-bottom-color:#000}.hint--left:before{border-left-color:#000}.hint--right:before{border-right-color:#000}.hint--top:before{margin-bottom:-11px}.hint--top:before,.hint--top:after{bottom:100%;left:50%}.hint--top:before{left:calc(50% - 6px)}.hint--top:after{transform:translate(-50%)}.hint--top:hover:before{transform:translateY(-8px)}.hint--top:hover:after{transform:translate(-50%)translateY(-8px)}.hint--bottom:before{margin-top:-11px}.hint--bottom:before,.hint--bottom:after{top:100%;left:50%}.hint--bottom:before{left:calc(50% - 6px)}.hint--bottom:after{transform:translate(-50%)}.hint--bottom:hover:before{transform:translateY(8px)}.hint--bottom:hover:after{transform:translate(-50%)translateY(8px)}.hint--right:before{margin-bottom:-6px;margin-left:-11px}.hint--right:after{margin-bottom:-14px}.hint--right:before,.hint--right:after{bottom:50%;left:100%}.hint--right:hover:before,.hint--right:hover:after{transform:translate(8px)}.hint--left:before{margin-bottom:-6px;margin-right:-11px}.hint--left:after{margin-bottom:-14px}.hint--left:before,.hint--left:after{bottom:50%;right:100%}.hint--left:hover:before,.hint--left:hover:after{transform:translate(-8px)}.hint--top-left:before{margin-bottom:-11px}.hint--top-left:before,.hint--top-left:after{bottom:100%;left:50%}.hint--top-left:before{left:calc(50% - 6px)}.hint--top-left:after{margin-left:12px;transform:translate(-100%)}.hint--top-left:hover:before{transform:translateY(-8px)}.hint--top-left:hover:after{transform:translate(-100%)translateY(-8px)}.hint--top-right:before{margin-bottom:-11px}.hint--top-right:before,.hint--top-right:after{bottom:100%;left:50%}.hint--top-right:before{left:calc(50% - 6px)}.hint--top-right:after{margin-left:-12px;transform:translate(0)}.hint--top-right:hover:before,.hint--top-right:hover:after{transform:translateY(-8px)}.hint--bottom-left:before{margin-top:-11px}.hint--bottom-left:before,.hint--bottom-left:after{top:100%;left:50%}.hint--bottom-left:before{left:calc(50% - 6px)}.hint--bottom-left:after{margin-left:12px;transform:translate(-100%)}.hint--bottom-left:hover:before{transform:translateY(8px)}.hint--bottom-left:hover:after{transform:translate(-100%)translateY(8px)}.hint--bottom-right:before{margin-top:-11px}.hint--bottom-right:before,.hint--bottom-right:after{top:100%;left:50%}.hint--bottom-right:before{left:calc(50% - 6px)}.hint--bottom-right:after{margin-left:-12px;transform:translate(0)}.hint--bottom-right:hover:before,.hint--bottom-right:hover:after{transform:translateY(8px)}.hint--small:after,.hint--medium:after,.hint--large:after{white-space:normal;word-wrap:break-word;line-height:1.4em}.hint--small:after{width:80px}.hint--medium:after{width:150px}.hint--large:after{width:300px}[class*=hint--]:after{text-shadow:0 -1px #000;box-shadow:4px 4px 8px #0000004d}.hint--error:after{text-shadow:0 -1px #592726;background-color:#b34e4d}.hint--error.hint--top-left:before,.hint--error.hint--top-right:before,.hint--error.hint--top:before{border-top-color:#b34e4d}.hint--error.hint--bottom-left:before,.hint--error.hint--bottom-right:before,.hint--error.hint--bottom:before{border-bottom-color:#b34e4d}.hint--error.hint--left:before{border-left-color:#b34e4d}.hint--error.hint--right:before{border-right-color:#b34e4d}.hint--warning:after{text-shadow:0 -1px #6c5328;background-color:#c09854}.hint--warning.hint--top-left:before,.hint--warning.hint--top-right:before,.hint--warning.hint--top:before{border-top-color:#c09854}.hint--warning.hint--bottom-left:before,.hint--warning.hint--bottom-right:before,.hint--warning.hint--bottom:before{border-bottom-color:#c09854}.hint--warning.hint--left:before{border-left-color:#c09854}.hint--warning.hint--right:before{border-right-color:#c09854}.hint--info:after{text-shadow:0 -1px #1a3c4d;background-color:#3986ac}.hint--info.hint--top-left:before,.hint--info.hint--top-right:before,.hint--info.hint--top:before{border-top-color:#3986ac}.hint--info.hint--bottom-left:before,.hint--info.hint--bottom-right:before,.hint--info.hint--bottom:before{border-bottom-color:#3986ac}.hint--info.hint--left:before{border-left-color:#3986ac}.hint--info.hint--right:before{border-right-color:#3986ac}.hint--success:after{text-shadow:0 -1px #1a321a;background-color:#458746}.hint--success.hint--top-left:before,.hint--success.hint--top-right:before,.hint--success.hint--top:before{border-top-color:#458746}.hint--success.hint--bottom-left:before,.hint--success.hint--bottom-right:before,.hint--success.hint--bottom:before{border-bottom-color:#458746}.hint--success.hint--left:before{border-left-color:#458746}.hint--success.hint--right:before{border-right-color:#458746}.hint--always:after,.hint--always:before{opacity:1;visibility:visible}.hint--always.hint--top:before{transform:translateY(-8px)}.hint--always.hint--top:after{transform:translate(-50%)translateY(-8px)}.hint--always.hint--top-left:before{transform:translateY(-8px)}.hint--always.hint--top-left:after{transform:translate(-100%)translateY(-8px)}.hint--always.hint--top-right:before,.hint--always.hint--top-right:after{transform:translateY(-8px)}.hint--always.hint--bottom:before{transform:translateY(8px)}.hint--always.hint--bottom:after{transform:translate(-50%)translateY(8px)}.hint--always.hint--bottom-left:before{transform:translateY(8px)}.hint--always.hint--bottom-left:after{transform:translate(-100%)translateY(8px)}.hint--always.hint--bottom-right:before,.hint--always.hint--bottom-right:after{transform:translateY(8px)}.hint--always.hint--left:before,.hint--always.hint--left:after{transform:translate(-8px)}.hint--always.hint--right:before,.hint--always.hint--right:after{transform:translate(8px)}.hint--rounded:after{border-radius:4px}.hint--no-animate:before,.hint--no-animate:after{transition-duration:0s}.hint--bounce:before,.hint--bounce:after{-webkit-transition:opacity .3s,visibility .3s,-webkit-transform .3s cubic-bezier(.71,1.7,.77,1.24);-moz-transition:opacity .3s,visibility .3s,-moz-transform .3s cubic-bezier(.71,1.7,.77,1.24);transition:opacity .3s,visibility .3s,transform .3s cubic-bezier(.71,1.7,.77,1.24)}.hint--no-shadow:before,.hint--no-shadow:after{text-shadow:initial;box-shadow:initial}.hint--no-arrow:before{display:none}.art-video-player.art-mobile{--art-bottom-gap:10px;--art-control-height:38px;--art-control-icon-scale:1;--art-state-size:60px;--art-settings-max-height:180px;--art-selector-max-height:180px;--art-indicator-scale:1;--art-control-opacity:1}.art-video-player.art-mobile .art-controls-left{margin-left:calc(var(--art-padding)/-1)}.art-video-player.art-mobile .art-controls-right{margin-right:calc(var(--art-padding)/-1)}'},{}],bAWi2:[function(t,u,r){var e;e=function(){function n(E){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(E)}var c=Object.prototype.toString,i=function(E){if(E===void 0)return"undefined";if(E===null)return"null";var y=n(E);if(y==="boolean")return"boolean";if(y==="string")return"string";if(y==="number")return"number";if(y==="symbol")return"symbol";if(y==="function")return l(E)==="GeneratorFunction"?"generatorfunction":"function";if(Array.isArray?Array.isArray(E):E instanceof Array)return"array";if(E.constructor&&typeof E.constructor.isBuffer=="function"&&E.constructor.isBuffer(E))return"buffer";if(function(R){try{if(typeof R.length=="number"&&typeof R.callee=="function")return!0}catch(F){if(F.message.indexOf("callee")!==-1)return!0}return!1}(E))return"arguments";if(E instanceof Date||typeof E.toDateString=="function"&&typeof E.getDate=="function"&&typeof E.setDate=="function")return"date";if(E instanceof Error||typeof E.message=="string"&&E.constructor&&typeof E.constructor.stackTraceLimit=="number")return"error";if(E instanceof RegExp||typeof E.flags=="string"&&typeof E.ignoreCase=="boolean"&&typeof E.multiline=="boolean"&&typeof E.global=="boolean")return"regexp";switch(l(E)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(typeof E.throw=="function"&&typeof E.return=="function"&&typeof E.next=="function")return"generator";switch(y=c.call(E)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return y.slice(8,-1).toLowerCase().replace(/\s/g,"")};function l(E){return E.constructor?E.constructor.name:null}function p(E,y){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:["option"];return h(E,y,R),b(E,y,R),function(F,te,de){var ee=i(te),ve=i(F);if(ee==="object"){if(ve!=="object")throw Error("[Type Error]: '".concat(de.join("."),"' require 'object' type, but got '").concat(ve,"'"));Object.keys(te).forEach(function(Ae){var M=F[Ae],S=te[Ae],q=de.slice();q.push(Ae),h(M,S,q),b(M,S,q),p(M,S,q)})}if(ee==="array"){if(ve!=="array")throw Error("[Type Error]: '".concat(de.join("."),"' require 'array' type, but got '").concat(ve,"'"));F.forEach(function(Ae,M){var S=F[M],q=te[M]||te[0],se=de.slice();se.push(M),h(S,q,se),b(S,q,se),p(S,q,se)})}}(E,y,R),E}function h(E,y,R){if(i(y)==="string"){var F=i(E);if(y[0]==="?"&&(y=y.slice(1)+"|undefined"),!(-1<y.indexOf("|")?y.split("|").map(function(te){return te.toLowerCase().trim()}).filter(Boolean).some(function(te){return F===te}):y.toLowerCase().trim()===F))throw Error("[Type Error]: '".concat(R.join("."),"' require '").concat(y,"' type, but got '").concat(F,"'"))}}function b(E,y,R){if(i(y)==="function"){var F=y(E,i(E),R);if(F!==!0){var te=i(F);throw te==="string"?Error(F):te==="error"?F:Error("[Validator Error]: The scheme for '".concat(R.join("."),"' validator require return true, but got '").concat(F,"'"))}}}return p.kindOf=i,p},u.exports=e()},{}],"66mFZ":[function(t,u,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=class{on(e,n,c){let i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:n,ctx:c}),this}once(e,n,c){let i=this;function l(...p){i.off(e,l),n.apply(c,p)}return l._=n,this.on(e,l,c)}emit(e,...n){let c=((this.e||(this.e={}))[e]||[]).slice();for(let i=0;i<c.length;i+=1)c[i].fn.apply(c[i].ctx,n);return this}off(e,n){let c=this.e||(this.e={}),i=c[e],l=[];if(i&&n)for(let p=0,h=i.length;p<h;p+=1)i[p].fn!==n&&i[p].fn._!==n&&l.push(i[p]);return l.length?c[e]=l:delete c[e],this}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9pCYc":[function(t,u,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,n){return Object.keys(e).forEach(function(c){c==="default"||c==="__esModule"||Object.prototype.hasOwnProperty.call(n,c)||Object.defineProperty(n,c,{enumerable:!0,get:function(){return e[c]}})}),n},r.export=function(e,n,c){Object.defineProperty(e,n,{enumerable:!0,get:c})}},{}],"71aH7":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./dom");e.exportAll(n,r);var c=t("./error");e.exportAll(c,r);var i=t("./subtitle");e.exportAll(i,r);var l=t("./file");e.exportAll(l,r);var p=t("./property");e.exportAll(p,r);var h=t("./time");e.exportAll(h,r);var b=t("./format");e.exportAll(b,r);var E=t("./compatibility");e.exportAll(E,r)},{"./dom":"bSNiV","./error":"hwmZz","./subtitle":"inzwq","./file":"6b7Ip","./property":"5NSdr","./time":"epmNy","./format":"gapRl","./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bSNiV:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"query",()=>c),e.export(r,"queryAll",()=>i),e.export(r,"addClass",()=>l),e.export(r,"removeClass",()=>p),e.export(r,"hasClass",()=>h),e.export(r,"append",()=>b),e.export(r,"remove",()=>E),e.export(r,"setStyle",()=>y),e.export(r,"setStyles",()=>R),e.export(r,"getStyle",()=>F),e.export(r,"sublings",()=>te),e.export(r,"inverseClass",()=>de),e.export(r,"tooltip",()=>ee),e.export(r,"isInViewport",()=>ve),e.export(r,"includeFromEvent",()=>Ae),e.export(r,"replaceElement",()=>M),e.export(r,"createElement",()=>S),e.export(r,"getIcon",()=>q),e.export(r,"setStyleText",()=>se),e.export(r,"supportsFlex",()=>P),e.export(r,"getRect",()=>ae),e.export(r,"loadImg",()=>we);var n=t("./compatibility");function c($,ze=document){return ze.querySelector($)}function i($,ze=document){return Array.from(ze.querySelectorAll($))}function l($,ze){return $.classList.add(ze)}function p($,ze){return $.classList.remove(ze)}function h($,ze){return $.classList.contains(ze)}function b($,ze){return ze instanceof Element?$.appendChild(ze):$.insertAdjacentHTML("beforeend",String(ze)),$.lastElementChild||$.lastChild}function E($){return $.parentNode.removeChild($)}function y($,ze,Ce){return $.style[ze]=Ce,$}function R($,ze){for(let Ce in ze)y($,Ce,ze[Ce]);return $}function F($,ze,Ce=!0){let Te=window.getComputedStyle($,null).getPropertyValue(ze);return Ce?parseFloat(Te):Te}function te($){return Array.from($.parentElement.children).filter(ze=>ze!==$)}function de($,ze){te($).forEach(Ce=>p(Ce,ze)),l($,ze)}function ee($,ze,Ce="top"){n.isMobile||($.setAttribute("aria-label",ze),l($,"hint--rounded"),l($,`hint--${Ce}`))}function ve($,ze=0){let Ce=$.getBoundingClientRect(),Te=window.innerHeight||document.documentElement.clientHeight,Ye=window.innerWidth||document.documentElement.clientWidth,Ue=Ce.top-ze<=Te&&Ce.top+Ce.height+ze>=0,De=Ce.left-ze<=Ye+ze&&Ce.left+Ce.width+ze>=0;return Ue&&De}function Ae($,ze){return $.composedPath&&$.composedPath().indexOf(ze)>-1}function M($,ze){return ze.parentNode.replaceChild($,ze),$}function S($){return document.createElement($)}function q($="",ze=""){let Ce=S("i");return l(Ce,"art-icon"),l(Ce,`art-icon-${$}`),b(Ce,ze),Ce}function se($,ze){let Ce=document.getElementById($);if(Ce)Ce.textContent=ze;else{let Te=S("style");Te.id=$,Te.textContent=ze,document.head.appendChild(Te)}}function P(){let $=document.createElement("div");return $.style.display="flex",$.style.display==="flex"}function ae($){return $.getBoundingClientRect()}function we($,ze){return new Promise((Ce,Te)=>{let Ye=new Image;Ye.crossOrigin="Anonymous",Ye.onload=function(){if(ze&&ze!==1){let Ue=document.createElement("canvas"),De=Ue.getContext("2d");Ue.width=Ye.width*ze,Ue.height=Ye.height*ze,De.drawImage(Ye,0,0,Ue.width,Ue.height),Ue.toBlob(We=>{let lt=URL.createObjectURL(We),At=new Image;At.onload=function(){Ce(At)},At.onerror=function(){URL.revokeObjectURL(lt),Te(Error(`Image load failed: ${$}`))},At.src=lt})}else Ce(Ye)},Ye.onerror=function(){Te(Error(`Image load failed: ${$}`))},Ye.src=$})}},{"./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6ZTr6":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"userAgent",()=>n),e.export(r,"isSafari",()=>c),e.export(r,"isWechat",()=>i),e.export(r,"isIE",()=>l),e.export(r,"isAndroid",()=>p),e.export(r,"isIOS",()=>h),e.export(r,"isIOS13",()=>b),e.export(r,"isMobile",()=>E),e.export(r,"isBrowser",()=>y);let n=typeof navigator<"u"?navigator.userAgent:"",c=/^((?!chrome|android).)*safari/i.test(n),i=/MicroMessenger/i.test(n),l=/MSIE|Trident/i.test(n),p=/android/i.test(n),h=/iPad|iPhone|iPod/i.test(n)&&!window.MSStream,b=h||n.includes("Macintosh")&&navigator.maxTouchPoints>=1,E=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n)||b,y=typeof window<"u"},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hwmZz:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"ArtPlayerError",()=>n),e.export(r,"errorHandle",()=>c);class n extends Error{constructor(l,p){super(l),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,p||this.constructor),this.name="ArtPlayerError"}}function c(i,l){if(!i)throw new n(l);return i}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],inzwq:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(l){return`WEBVTT \r
\r
`.concat(l.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(p,h,b)=>{let E=b.slice(0,3);return b.length===1&&(E=b+"00"),b.length===2&&(E=b+"0"),`${h},${E}`}).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function c(l){return URL.createObjectURL(new Blob([l],{type:"text/vtt"}))}function i(l){let p=RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function h(b=""){return b.split(/[:.]/).map((E,y,R)=>{if(y===R.length-1){if(E.length===1)return`.${E}00`;if(E.length===2)return`.${E}0`}else if(E.length===1)return(y===0?"0":":0")+E;return y===0?E:y===R.length-1?`.${E}`:`:${E}`}).join("")}return`WEBVTT

`+l.split(/\r?\n/).map(b=>{let E=b.match(p);return E?{start:h(E[1].trim()),end:h(E[2].trim()),text:E[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(y=>y.trim()).join(`
`)}:null}).filter(b=>b).map((b,E)=>b?E+1+`
${b.start} --> ${b.end}
${b.text}`:"").filter(b=>b.trim()).join(`

`)}e.defineInteropFlag(r),e.export(r,"srtToVtt",()=>n),e.export(r,"vttToBlob",()=>c),e.export(r,"assToVtt",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6b7Ip":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c,i){let l=document.createElement("a");l.style.display="none",l.href=c,l.download=i,document.body.appendChild(l),l.click(),document.body.removeChild(l)}e.defineInteropFlag(r),e.export(r,"getExt",()=>function c(i){return i.includes("?")?c(i.split("?")[0]):i.includes("#")?c(i.split("#")[0]):i.trim().toLowerCase().split(".").pop()}),e.export(r,"download",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5NSdr":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"def",()=>n),e.export(r,"has",()=>i),e.export(r,"get",()=>l),e.export(r,"mergeDeep",()=>function p(...h){let b=E=>E&&typeof E=="object"&&!Array.isArray(E);return h.reduce((E,y)=>(Object.keys(y).forEach(R=>{let F=E[R],te=y[R];Array.isArray(F)&&Array.isArray(te)?E[R]=F.concat(...te):b(F)&&b(te)?E[R]=p(F,te):E[R]=te}),E),{})});let n=Object.defineProperty,{hasOwnProperty:c}=Object.prototype;function i(p,h){return c.call(p,h)}function l(p,h){return Object.getOwnPropertyDescriptor(p,h)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],epmNy:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(l=0){return new Promise(p=>setTimeout(p,l))}function c(l,p){let h;return function(...b){clearTimeout(h),h=setTimeout(()=>(h=null,l.apply(this,b)),p)}}function i(l,p){let h=!1;return function(...b){h||(l.apply(this,b),h=!0,setTimeout(function(){h=!1},p))}}e.defineInteropFlag(r),e.export(r,"sleep",()=>n),e.export(r,"debounce",()=>c),e.export(r,"throttle",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gapRl:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(h,b,E){return Math.max(Math.min(h,Math.max(b,E)),Math.min(b,E))}function c(h){return h.charAt(0).toUpperCase()+h.slice(1)}function i(h){if(!h)return"00:00";let b=Math.floor(h/3600),E=Math.floor((h-3600*b)/60),y=Math.floor(h-3600*b-60*E);return(b>0?[b,E,y]:[E,y]).map(R=>R<10?`0${R}`:String(R)).join(":")}function l(h){return h.replace(/[&<>'"]/g,b=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[b]||b)}function p(h){let b={"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'},E=RegExp(`(${Object.keys(b).join("|")})`,"g");return h.replace(E,y=>b[y]||y)}e.defineInteropFlag(r),e.export(r,"clamp",()=>n),e.export(r,"capitalize",()=>c),e.export(r,"secondToTime",()=>i),e.export(r,"escape",()=>l),e.export(r,"unescape",()=>p)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],AKEiO:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"ComponentOption",()=>y);var n=t("../utils");let c="array",i="boolean",l="string",p="number",h="object",b="function";function E(R,F,te){return(0,n.errorHandle)(F===l||F===p||R instanceof Element,`${te.join(".")} require '${l}' or 'Element' type`)}let y={html:E,disable:`?${i}`,name:`?${l}`,index:`?${p}`,style:`?${h}`,click:`?${b}`,mounted:`?${b}`,tooltip:`?${l}|${p}`,width:`?${p}`,selector:`?${c}`,onSelect:`?${b}`,switch:`?${i}`,onSwitch:`?${b}`,range:`?${c}`,onRange:`?${b}`,onChange:`?${b}`};r.default={id:l,container:E,url:l,poster:l,type:l,theme:l,lang:l,volume:p,isLive:i,muted:i,autoplay:i,autoSize:i,autoMini:i,loop:i,flip:i,playbackRate:i,aspectRatio:i,screenshot:i,setting:i,hotkey:i,pip:i,mutex:i,backdrop:i,fullscreen:i,fullscreenWeb:i,subtitleOffset:i,miniProgressBar:i,useSSR:i,playsInline:i,lock:i,fastForward:i,autoPlayback:i,autoOrientation:i,airplay:i,proxy:`?${b}`,plugins:[b],layers:[y],contextmenu:[y],settings:[y],controls:[{...y,position:(R,F,te)=>{let de=["top","left","right"];return(0,n.errorHandle)(de.includes(R),`${te.join(".")} only accept ${de.toString()} as parameters`)}}],quality:[{default:`?${i}`,html:l,url:l}],highlight:[{time:p,text:l}],thumbnails:{url:l,number:p,column:p,width:p,height:p,scale:p},subtitle:{url:l,name:l,type:l,style:h,escape:i,encoding:l,onVttLoad:b},moreVideoAttr:h,i18n:h,icons:h,cssVar:h,customType:h}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lyjeQ:[function(t,u,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default={propertys:["audioTracks","autoplay","buffered","controller","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","mediaGroup","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","startDate","textTracks","videoTracks","volume"],methods:["addTextTrack","canPlayType","load","play","pause"],events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],prototypes:["width","height","videoWidth","videoHeight","poster","webkitDecodedFrameCount","webkitDroppedFrameCount","playsInline","webkitSupportsFullscreen","webkitDisplayingFullscreen","onenterpictureinpicture","onleavepictureinpicture","disablePictureInPicture","cancelVideoFrameCallback","requestVideoFrameCallback","getVideoPlaybackQuality","requestPictureInPicture","webkitEnterFullScreen","webkitEnterFullscreen","webkitExitFullScreen","webkitExitFullscreen"]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],X13Zf:[function(t,u,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var e=t("./utils");class n{constructor(i){this.art=i;let{option:l,constructor:p}=i;l.container instanceof Element?this.$container=l.container:(this.$container=(0,e.query)(l.container),(0,e.errorHandle)(this.$container,`No container element found by ${l.container}`)),(0,e.errorHandle)((0,e.supportsFlex)(),"The current browser does not support flex layout");let h=this.$container.tagName.toLowerCase();(0,e.errorHandle)(h==="div",`Unsupported container element type, only support 'div' but got '${h}'`),(0,e.errorHandle)(p.instances.every(b=>b.template.$container!==this.$container),"Cannot mount multiple instances on the same dom element"),this.query=this.query.bind(this),this.$container.dataset.artId=i.id,this.init()}static get html(){return'<div class="art-video-player art-subtitle-show art-layer-show art-control-show art-mask-show"><video class="art-video"><track default kind="metadata" src=""></track></video><div class="art-poster"></div><div class="art-subtitle"></div><div class="art-danmuku"></div><div class="art-layers"></div><div class="art-mask"><div class="art-state"></div></div><div class="art-bottom"><div class="art-progress"></div><div class="art-controls"><div class="art-controls-left"></div><div class="art-controls-center"></div><div class="art-controls-right"></div></div></div><div class="art-loading"></div><div class="art-notice"><div class="art-notice-inner"></div></div><div class="art-settings"></div><div class="art-info"><div class="art-info-panel"><div class="art-info-item"><div class="art-info-title">Player version:</div><div class="art-info-content">5.2.1</div></div><div class="art-info-item"><div class="art-info-title">Video url:</div><div class="art-info-content" data-video="src"></div></div><div class="art-info-item"><div class="art-info-title">Video volume:</div><div class="art-info-content" data-video="volume"></div></div><div class="art-info-item"><div class="art-info-title">Video time:</div><div class="art-info-content" data-video="currentTime"></div></div><div class="art-info-item"><div class="art-info-title">Video duration:</div><div class="art-info-content" data-video="duration"></div></div><div class="art-info-item"><div class="art-info-title">Video resolution:</div><div class="art-info-content"><span data-video="videoWidth"></span>x<span data-video="videoHeight"></span></div></div></div><div class="art-info-close">[x]</div></div><div class="art-contextmenus"></div></div>'}query(i){return(0,e.query)(i,this.$container)}init(){let{option:i}=this.art;if(i.useSSR||(this.$container.innerHTML=n.html),this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video"),this.$track=this.query("track"),this.$poster=this.query(".art-poster"),this.$subtitle=this.query(".art-subtitle"),this.$danmuku=this.query(".art-danmuku"),this.$bottom=this.query(".art-bottom"),this.$progress=this.query(".art-progress"),this.$controls=this.query(".art-controls"),this.$controlsLeft=this.query(".art-controls-left"),this.$controlsCenter=this.query(".art-controls-center"),this.$controlsRight=this.query(".art-controls-right"),this.$layer=this.query(".art-layers"),this.$loading=this.query(".art-loading"),this.$notice=this.query(".art-notice"),this.$noticeInner=this.query(".art-notice-inner"),this.$mask=this.query(".art-mask"),this.$state=this.query(".art-state"),this.$setting=this.query(".art-settings"),this.$info=this.query(".art-info"),this.$infoPanel=this.query(".art-info-panel"),this.$infoClose=this.query(".art-info-close"),this.$contextmenu=this.query(".art-contextmenus"),i.proxy){let l=i.proxy.call(this.art,this.art);(0,e.errorHandle)(l instanceof HTMLVideoElement||l instanceof HTMLCanvasElement,"Function 'option.proxy' needs to return 'HTMLVideoElement' or 'HTMLCanvasElement'"),(0,e.replaceElement)(l,this.$video),l.className="art-video",this.$video=l}i.backdrop&&(0,e.addClass)(this.$player,"art-backdrop"),e.isMobile&&(0,e.addClass)(this.$player,"art-mobile")}destroy(i){i?this.$container.innerHTML="":(0,e.addClass)(this.$player,"art-destroy")}}r.default=n},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3jKkj":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("../utils"),c=t("./zh-cn"),i=e.interopDefault(c);r.default=class{constructor(l){this.art=l,this.languages={"zh-cn":i.default},this.language={},this.update(l.option.i18n)}init(){let l=this.art.option.lang.toLowerCase();this.language=this.languages[l]||{}}get(l){return this.language[l]||l}update(l){this.languages=(0,n.mergeDeep)(this.languages,l),this.init()}}},{"../utils":"71aH7","./zh-cn":"5Y91w","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5Y91w":[function(t,u,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);let e={"Video Info":"统计信息",Close:"关闭","Video Load Failed":"加载失败",Volume:"音量",Play:"播放",Pause:"暂停",Rate:"速度",Mute:"静音","Video Flip":"画面翻转",Horizontal:"水平",Vertical:"垂直",Reconnect:"重新连接","Show Setting":"显示设置","Hide Setting":"隐藏设置",Screenshot:"截图","Play Speed":"播放速度","Aspect Ratio":"画面比例",Default:"默认",Normal:"正常",Open:"打开","Switch Video":"切换","Switch Subtitle":"切换字幕",Fullscreen:"全屏","Exit Fullscreen":"退出全屏","Web Fullscreen":"网页全屏","Exit Web Fullscreen":"退出网页全屏","Mini Player":"迷你播放器","PIP Mode":"开启画中画","Exit PIP Mode":"退出画中画","PIP Not Supported":"不支持画中画","Fullscreen Not Supported":"不支持全屏","Subtitle Offset":"字幕偏移","Last Seen":"上次看到","Jump Play":"跳转播放",AirPlay:"隔空播放","AirPlay Not Available":"隔空播放不可用"};r.default=e,typeof window<"u"&&(window["artplayer-i18n-zh-cn"]=e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],a90nx:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./urlMix"),c=e.interopDefault(n),i=t("./attrMix"),l=e.interopDefault(i),p=t("./playMix"),h=e.interopDefault(p),b=t("./pauseMix"),E=e.interopDefault(b),y=t("./toggleMix"),R=e.interopDefault(y),F=t("./seekMix"),te=e.interopDefault(F),de=t("./volumeMix"),ee=e.interopDefault(de),ve=t("./currentTimeMix"),Ae=e.interopDefault(ve),M=t("./durationMix"),S=e.interopDefault(M),q=t("./switchMix"),se=e.interopDefault(q),P=t("./playbackRateMix"),ae=e.interopDefault(P),we=t("./aspectRatioMix"),$=e.interopDefault(we),ze=t("./screenshotMix"),Ce=e.interopDefault(ze),Te=t("./fullscreenMix"),Ye=e.interopDefault(Te),Ue=t("./fullscreenWebMix"),De=e.interopDefault(Ue),We=t("./pipMix"),lt=e.interopDefault(We),At=t("./loadedMix"),jt=e.interopDefault(At),Bt=t("./playedMix"),Ie=e.interopDefault(Bt),Ne=t("./playingMix"),Qe=e.interopDefault(Ne),B=t("./autoSizeMix"),Y=e.interopDefault(B),I=t("./rectMix"),L=e.interopDefault(I),fe=t("./flipMix"),X=e.interopDefault(fe),xe=t("./miniMix"),Ve=e.interopDefault(xe),Le=t("./posterMix"),Me=e.interopDefault(Le),Pe=t("./autoHeightMix"),qe=e.interopDefault(Pe),rt=t("./cssVarMix"),Ze=e.interopDefault(rt),ct=t("./themeMix"),Vt=e.interopDefault(ct),Nt=t("./typeMix"),Ut=e.interopDefault(Nt),wt=t("./stateMix"),yn=e.interopDefault(wt),Nn=t("./subtitleOffsetMix"),Pn=e.interopDefault(Nn),na=t("./airplayMix"),la=e.interopDefault(na),Wn=t("./qualityMix"),xt=e.interopDefault(Wn),Ct=t("./thumbnailsMix"),ht=e.interopDefault(Ct),it=t("./optionInit"),Pt=e.interopDefault(it),Dt=t("./eventInit"),Lt=e.interopDefault(Dt);r.default=class{constructor(Et){(0,c.default)(Et),(0,l.default)(Et),(0,h.default)(Et),(0,E.default)(Et),(0,R.default)(Et),(0,te.default)(Et),(0,ee.default)(Et),(0,Ae.default)(Et),(0,S.default)(Et),(0,se.default)(Et),(0,ae.default)(Et),(0,$.default)(Et),(0,Ce.default)(Et),(0,Ye.default)(Et),(0,De.default)(Et),(0,lt.default)(Et),(0,jt.default)(Et),(0,Ie.default)(Et),(0,Qe.default)(Et),(0,Y.default)(Et),(0,L.default)(Et),(0,X.default)(Et),(0,Ve.default)(Et),(0,Me.default)(Et),(0,qe.default)(Et),(0,Ze.default)(Et),(0,Vt.default)(Et),(0,Ut.default)(Et),(0,yn.default)(Et),(0,Pn.default)(Et),(0,la.default)(Et),(0,xt.default)(Et),(0,ht.default)(Et),(0,Lt.default)(Et),(0,Pt.default)(Et)}}},{"./urlMix":"kQoac","./attrMix":"deCma","./playMix":"fOJuP","./pauseMix":"fzHAy","./toggleMix":"cBHxQ","./seekMix":"koAPr","./volumeMix":"6eyuR","./currentTimeMix":"faaWv","./durationMix":"5y91K","./switchMix":"iceD8","./playbackRateMix":"keKwh","./aspectRatioMix":"jihET","./screenshotMix":"36kPY","./fullscreenMix":"2GYOJ","./fullscreenWebMix":"5aYAP","./pipMix":"7EnIB","./loadedMix":"3N9mP","./playedMix":"et96R","./playingMix":"9DzzM","./autoSizeMix":"i1LDY","./rectMix":"IqARI","./flipMix":"7E7Vs","./miniMix":"gpugx","./posterMix":"1SuFS","./autoHeightMix":"8x4te","./cssVarMix":"1CaTA","./themeMix":"2FqhO","./typeMix":"1fQQs","./stateMix":"iBOQW","./subtitleOffsetMix":"6vlBV","./airplayMix":"eftqT","./qualityMix":"5SdyX","./thumbnailsMix":"4HcqV","./optionInit":"fCWZK","./eventInit":"f8Lv3","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kQoac:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{option:l,template:{$video:p}}=i;(0,n.def)(i,"url",{get:()=>p.src,async set(h){if(h){let b=i.url,E=l.type||(0,n.getExt)(h),y=l.customType[E];E&&y?(await(0,n.sleep)(),i.loading.show=!0,y.call(i,p,h,i)):(URL.revokeObjectURL(b),p.src=h),b!==i.url&&(i.option.url=h,i.isReady&&b&&i.once("video:canplay",()=>{i.emit("restart",h)}))}else await(0,n.sleep)(),i.loading.show=!0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],deCma:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{template:{$video:l}}=i;(0,n.def)(i,"attr",{value(p,h){if(h===void 0)return l[p];l[p]=h}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fOJuP:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{i18n:l,notice:p,option:h,constructor:{instances:b},template:{$video:E}}=i;(0,n.def)(i,"play",{value:async function(){let y=await E.play();if(p.show=l.get("Play"),i.emit("play"),h.mutex)for(let R=0;R<b.length;R++){let F=b[R];F!==i&&F.pause()}return y}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fzHAy:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{template:{$video:l},i18n:p,notice:h}=i;(0,n.def)(i,"pause",{value(){let b=l.pause();return h.show=p.get("Pause"),i.emit("pause"),b}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cBHxQ:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){(0,n.def)(i,"toggle",{value:()=>i.playing?i.pause():i.play()})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],koAPr:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{notice:l}=i;(0,n.def)(i,"seek",{set(p){i.currentTime=p,i.emit("seek",i.currentTime),i.duration&&(l.show=`${(0,n.secondToTime)(i.currentTime)} / ${(0,n.secondToTime)(i.duration)}`)}}),(0,n.def)(i,"forward",{set(p){i.seek=i.currentTime+p}}),(0,n.def)(i,"backward",{set(p){i.seek=i.currentTime-p}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6eyuR":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{template:{$video:l},i18n:p,notice:h,storage:b}=i;(0,n.def)(i,"volume",{get:()=>l.volume||0,set:E=>{l.volume=(0,n.clamp)(E,0,1),h.show=`${p.get("Volume")}: ${parseInt(100*l.volume,10)}`,l.volume!==0&&b.set("volume",l.volume)}}),(0,n.def)(i,"muted",{get:()=>l.muted,set:E=>{l.muted=E,i.emit("muted",E)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],faaWv:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{$video:l}=i.template;(0,n.def)(i,"currentTime",{get:()=>l.currentTime||0,set:p=>{Number.isNaN(p=parseFloat(p))||(l.currentTime=(0,n.clamp)(p,0,i.duration))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5y91K":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){(0,n.def)(i,"duration",{get:()=>{let{duration:l}=i.template.$video;return l===1/0?0:l||0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iceD8:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){function l(p,h){return new Promise((b,E)=>{if(p===i.url)return;let{playing:y,aspectRatio:R,playbackRate:F}=i;i.pause(),i.url=p,i.notice.show="",i.once("video:error",E),i.once("video:loadedmetadata",()=>{i.currentTime=h}),i.once("video:canplay",async()=>{i.playbackRate=F,i.aspectRatio=R,y&&await i.play(),i.notice.show="",b()})})}(0,n.def)(i,"switchQuality",{value:p=>l(p,i.currentTime)}),(0,n.def)(i,"switchUrl",{value:p=>l(p,0)}),(0,n.def)(i,"switch",{set:i.switchUrl})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],keKwh:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{template:{$video:l},i18n:p,notice:h}=i;(0,n.def)(i,"playbackRate",{get:()=>l.playbackRate,set(b){b?b!==l.playbackRate&&(l.playbackRate=b,h.show=`${p.get("Rate")}: ${b===1?p.get("Normal"):`${b}x`}`):i.playbackRate=1}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jihET:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{i18n:l,notice:p,template:{$video:h,$player:b}}=i;(0,n.def)(i,"aspectRatio",{get:()=>b.dataset.aspectRatio||"default",set(E){if(E||(E="default"),E==="default")(0,n.setStyle)(h,"width",null),(0,n.setStyle)(h,"height",null),(0,n.setStyle)(h,"margin",null),delete b.dataset.aspectRatio;else{let y=E.split(":").map(Number),{clientWidth:R,clientHeight:F}=b,te=y[0]/y[1];R/F>te?((0,n.setStyle)(h,"width",`${te*F}px`),(0,n.setStyle)(h,"height","100%"),(0,n.setStyle)(h,"margin","0 auto")):((0,n.setStyle)(h,"width","100%"),(0,n.setStyle)(h,"height",`${R/te}px`),(0,n.setStyle)(h,"margin","auto 0")),b.dataset.aspectRatio=E}p.show=`${l.get("Aspect Ratio")}: ${E==="default"?l.get("Default"):E}`,i.emit("aspectRatio",E)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"36kPY":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{notice:l,template:{$video:p}}=i,h=(0,n.createElement)("canvas");(0,n.def)(i,"getDataURL",{value:()=>new Promise((b,E)=>{try{h.width=p.videoWidth,h.height=p.videoHeight,h.getContext("2d").drawImage(p,0,0),b(h.toDataURL("image/png"))}catch(y){l.show=y,E(y)}})}),(0,n.def)(i,"getBlobUrl",{value:()=>new Promise((b,E)=>{try{h.width=p.videoWidth,h.height=p.videoHeight,h.getContext("2d").drawImage(p,0,0),h.toBlob(y=>{b(URL.createObjectURL(y))})}catch(y){l.show=y,E(y)}})}),(0,n.def)(i,"screenshot",{value:async b=>{let E=await i.getDataURL(),y=b||`artplayer_${(0,n.secondToTime)(p.currentTime)}`;return(0,n.download)(E,`${y}.png`),i.emit("screenshot",E),E}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2GYOJ":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>l);var n=t("../libs/screenfull"),c=e.interopDefault(n),i=t("../utils");function l(p){let{i18n:h,notice:b,template:{$video:E,$player:y}}=p,R=te=>{c.default.on("change",()=>{te.emit("fullscreen",c.default.isFullscreen)}),c.default.on("error",de=>{te.emit("fullscreenError",de)}),(0,i.def)(te,"fullscreen",{get:()=>c.default.isFullscreen,async set(de){de?(te.state="fullscreen",await c.default.request(y),(0,i.addClass)(y,"art-fullscreen")):(await c.default.exit(),(0,i.removeClass)(y,"art-fullscreen")),te.emit("resize")}})},F=te=>{te.proxy(document,"webkitfullscreenchange",()=>{te.emit("fullscreen",te.fullscreen),te.emit("resize")}),(0,i.def)(te,"fullscreen",{get:()=>document.fullscreenElement===E,set(de){de?(te.state="fullscreen",E.webkitEnterFullscreen()):E.webkitExitFullscreen()}})};p.once("video:loadedmetadata",()=>{c.default.isEnabled?R(p):E.webkitSupportsFullscreen?F(p):(0,i.def)(p,"fullscreen",{get:()=>!1,set(){b.show=h.get("Fullscreen Not Supported")}}),(0,i.def)(p,"fullscreen",(0,i.get)(p,"fullscreen"))})}},{"../libs/screenfull":"8v40z","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8v40z":[function(t,u,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);let e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=(()=>{if(typeof document>"u")return!1;let l=e[0],p={};for(let h of e)if(h[1]in document){for(let[b,E]of h.entries())p[l[b]]=E;return p}return!1})(),c={change:n.fullscreenchange,error:n.fullscreenerror},i={request:(l=document.documentElement,p)=>new Promise((h,b)=>{let E=()=>{i.off("change",E),h()};i.on("change",E);let y=l[n.requestFullscreen](p);y instanceof Promise&&y.then(E).catch(b)}),exit:()=>new Promise((l,p)=>{if(!i.isFullscreen){l();return}let h=()=>{i.off("change",h),l()};i.on("change",h);let b=document[n.exitFullscreen]();b instanceof Promise&&b.then(h).catch(p)}),toggle:(l,p)=>i.isFullscreen?i.exit():i.request(l,p),onchange(l){i.on("change",l)},onerror(l){i.on("error",l)},on(l,p){let h=c[l];h&&document.addEventListener(h,p,!1)},off(l,p){let h=c[l];h&&document.removeEventListener(h,p,!1)},raw:n};Object.defineProperties(i,{isFullscreen:{get:()=>!!document[n.fullscreenElement]},element:{enumerable:!0,get:()=>document[n.fullscreenElement]},isEnabled:{enumerable:!0,get:()=>!!document[n.fullscreenEnabled]}}),n||(i={isEnabled:!1}),r.default=i},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5aYAP":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{constructor:l,template:{$container:p,$player:h}}=i,b="";(0,n.def)(i,"fullscreenWeb",{get:()=>(0,n.hasClass)(h,"art-fullscreen-web"),set(E){E?(b=h.style.cssText,l.FULLSCREEN_WEB_IN_BODY&&(0,n.append)(document.body,h),i.state="fullscreenWeb",(0,n.setStyle)(h,"width","100%"),(0,n.setStyle)(h,"height","100%"),(0,n.addClass)(h,"art-fullscreen-web"),i.emit("fullscreenWeb",!0)):(l.FULLSCREEN_WEB_IN_BODY&&(0,n.append)(p,h),b&&(h.style.cssText=b,b=""),(0,n.removeClass)(h,"art-fullscreen-web"),i.emit("fullscreenWeb",!1)),i.emit("resize")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7EnIB":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{i18n:l,notice:p,template:{$video:h}}=i;document.pictureInPictureEnabled?function(b){let{template:{$video:E},proxy:y,notice:R}=b;E.disablePictureInPicture=!1,(0,n.def)(b,"pip",{get:()=>document.pictureInPictureElement,set(F){F?(b.state="pip",E.requestPictureInPicture().catch(te=>{throw R.show=te,te})):document.exitPictureInPicture().catch(te=>{throw R.show=te,te})}}),y(E,"enterpictureinpicture",()=>{b.emit("pip",!0)}),y(E,"leavepictureinpicture",()=>{b.emit("pip",!1)})}(i):h.webkitSupportsPresentationMode?function(b){let{$video:E}=b.template;E.webkitSetPresentationMode("inline"),(0,n.def)(b,"pip",{get:()=>E.webkitPresentationMode==="picture-in-picture",set(y){y?(b.state="pip",E.webkitSetPresentationMode("picture-in-picture"),b.emit("pip",!0)):(E.webkitSetPresentationMode("inline"),b.emit("pip",!1))}})}(i):(0,n.def)(i,"pip",{get:()=>!1,set(){p.show=l.get("PIP Not Supported")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3N9mP":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{$video:l}=i.template;(0,n.def)(i,"loaded",{get:()=>i.loadedTime/l.duration}),(0,n.def)(i,"loadedTime",{get:()=>l.buffered.length?l.buffered.end(l.buffered.length-1):0})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],et96R:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){(0,n.def)(i,"played",{get:()=>i.currentTime/i.duration})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9DzzM":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{$video:l}=i.template;(0,n.def)(i,"playing",{get:()=>typeof l.playing=="boolean"?l.playing:l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],i1LDY:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{$container:l,$player:p,$video:h}=i.template;(0,n.def)(i,"autoSize",{value(){let{videoWidth:b,videoHeight:E}=h,{width:y,height:R}=(0,n.getRect)(l),F=b/E;y/R>F?((0,n.setStyle)(p,"width",`${R*F/y*100}%`),(0,n.setStyle)(p,"height","100%")):((0,n.setStyle)(p,"width","100%"),(0,n.setStyle)(p,"height",`${y/F/R*100}%`)),i.emit("autoSize",{width:i.width,height:i.height})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],IqARI:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){(0,n.def)(i,"rect",{get:()=>(0,n.getRect)(i.template.$player)});let l=["bottom","height","left","right","top","width"];for(let p=0;p<l.length;p++){let h=l[p];(0,n.def)(i,h,{get:()=>i.rect[h]})}(0,n.def)(i,"x",{get:()=>i.left+window.pageXOffset}),(0,n.def)(i,"y",{get:()=>i.top+window.pageYOffset})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7E7Vs":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{template:{$player:l},i18n:p,notice:h}=i;(0,n.def)(i,"flip",{get:()=>l.dataset.flip||"normal",set(b){b||(b="normal"),b==="normal"?delete l.dataset.flip:l.dataset.flip=b,h.show=`${p.get("Video Flip")}: ${p.get((0,n.capitalize)(b))}`,i.emit("flip",b)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gpugx:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{icons:l,proxy:p,storage:h,template:{$player:b,$video:E}}=i,y=!1,R=0,F=0;function te(){let{$mini:ve}=i.template;ve&&((0,n.removeClass)(b,"art-mini"),(0,n.setStyle)(ve,"display","none"),b.prepend(E),i.emit("mini",!1))}function de(ve,Ae){i.playing?((0,n.setStyle)(ve,"display","none"),(0,n.setStyle)(Ae,"display","flex")):((0,n.setStyle)(ve,"display","flex"),(0,n.setStyle)(Ae,"display","none"))}function ee(){let{$mini:ve}=i.template,Ae=(0,n.getRect)(ve),M=window.innerHeight-Ae.height-50,S=window.innerWidth-Ae.width-50;h.set("top",M),h.set("left",S),(0,n.setStyle)(ve,"top",`${M}px`),(0,n.setStyle)(ve,"left",`${S}px`)}(0,n.def)(i,"mini",{get:()=>(0,n.hasClass)(b,"art-mini"),set(ve){if(ve){i.state="mini",(0,n.addClass)(b,"art-mini");let Ae=function(){let{$mini:q}=i.template;if(q)return(0,n.append)(q,E),(0,n.setStyle)(q,"display","flex");{let se=(0,n.createElement)("div");(0,n.addClass)(se,"art-mini-popup"),(0,n.append)(document.body,se),i.template.$mini=se,(0,n.append)(se,E);let P=(0,n.append)(se,'<div class="art-mini-close"></div>');(0,n.append)(P,l.close),p(P,"click",te);let ae=(0,n.append)(se,'<div class="art-mini-state"></div>'),we=(0,n.append)(ae,l.play),$=(0,n.append)(ae,l.pause);return p(we,"click",()=>i.play()),p($,"click",()=>i.pause()),de(we,$),i.on("video:playing",()=>de(we,$)),i.on("video:pause",()=>de(we,$)),i.on("video:timeupdate",()=>de(we,$)),p(se,"mousedown",ze=>{y=ze.button===0,R=ze.pageX,F=ze.pageY}),i.on("document:mousemove",ze=>{if(y){(0,n.addClass)(se,"art-mini-droging");let Ce=ze.pageX-R,Te=ze.pageY-F;(0,n.setStyle)(se,"transform",`translate(${Ce}px, ${Te}px)`)}}),i.on("document:mouseup",()=>{if(y){y=!1,(0,n.removeClass)(se,"art-mini-droging");let ze=(0,n.getRect)(se);h.set("left",ze.left),h.set("top",ze.top),(0,n.setStyle)(se,"left",`${ze.left}px`),(0,n.setStyle)(se,"top",`${ze.top}px`),(0,n.setStyle)(se,"transform",null)}}),se}}(),M=h.get("top"),S=h.get("left");M&&S?((0,n.setStyle)(Ae,"top",`${M}px`),(0,n.setStyle)(Ae,"left",`${S}px`),(0,n.isInViewport)(Ae)||ee()):ee(),i.emit("mini",!0)}else te()}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1SuFS":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{template:{$poster:l}}=i;(0,n.def)(i,"poster",{get:()=>{try{return l.style.backgroundImage.match(/"(.*)"/)[1]}catch{return""}},set(p){(0,n.setStyle)(l,"backgroundImage",`url(${p})`)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8x4te":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{template:{$container:l,$video:p}}=i;(0,n.def)(i,"autoHeight",{value(){let{clientWidth:h}=l,{videoHeight:b,videoWidth:E}=p,y=h/E*b;(0,n.setStyle)(l,"height",y+"px"),i.emit("autoHeight",y)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1CaTA":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{$player:l}=i.template;(0,n.def)(i,"cssVar",{value:(p,h)=>h?l.style.setProperty(p,h):getComputedStyle(l).getPropertyValue(p)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2FqhO":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){(0,n.def)(i,"theme",{get:()=>i.cssVar("--art-theme"),set(l){i.cssVar("--art-theme",l)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1fQQs":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){(0,n.def)(i,"type",{get:()=>i.option.type,set(l){i.option.type=l}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iBOQW:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let l=["mini","pip","fullscreen","fullscreenWeb"];(0,n.def)(i,"state",{get:()=>l.find(p=>i[p])||"standard",set(p){for(let h=0;h<l.length;h++){let b=l[h];b!==p&&i[b]&&(i[b]=!1)}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6vlBV":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{notice:l,i18n:p,template:h}=i;(0,n.def)(i,"subtitleOffset",{get:()=>{var b;return((b=h.$track)==null?void 0:b.offset)||0},set(b){let{cues:E}=i.subtitle;if(!h.$track||E.length===0)return;let y=(0,n.clamp)(b,-10,10);h.$track.offset=y;for(let R=0;R<E.length;R++){let F=E[R];F.originalStartTime=F.originalStartTime??F.startTime,F.originalEndTime=F.originalEndTime??F.endTime,F.startTime=(0,n.clamp)(F.originalStartTime+y,0,i.duration),F.endTime=(0,n.clamp)(F.originalEndTime+y,0,i.duration)}i.subtitle.update(),l.show=`${p.get("Subtitle Offset")}: ${b}s`,i.emit("subtitleOffset",b)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eftqT:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{i18n:l,notice:p,proxy:h,template:{$video:b}}=i,E=!0;window.WebKitPlaybackTargetAvailabilityEvent&&b.webkitShowPlaybackTargetPicker?h(b,"webkitplaybacktargetavailabilitychanged",y=>{switch(y.availability){case"available":E=!0;break;case"not-available":E=!1}}):E=!1,(0,n.def)(i,"airplay",{value(){E?(b.webkitShowPlaybackTargetPicker(),i.emit("airplay")):p.show=l.get("AirPlay Not Available")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5SdyX":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){(0,n.def)(i,"quality",{set(l){let{controls:p,notice:h,i18n:b}=i,E=l.find(y=>y.default)||l[0];p.update({name:"quality",position:"right",index:10,style:{marginRight:"10px"},html:(E==null?void 0:E.html)||"",selector:l,onSelect:async y=>(await i.switchQuality(y.url),h.show=`${b.get("Switch Video")}: ${y.html}`,y.html)})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4HcqV":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{events:l,option:p,template:{$progress:h,$video:b}}=i,E=null,y=null,R=!1,F=!1,te=!1;l.hover(h,()=>{te=!0},()=>{te=!1}),i.on("setBar",async(de,ee,ve)=>{var se;let Ae=(se=i.controls)==null?void 0:se.thumbnails,{url:M,scale:S}=p.thumbnails;if(!Ae||!M)return;let q=de==="played"&&ve&&n.isMobile;if(de==="hover"||q){if(R||(R=!0,y=await(0,n.loadImg)(M,S),F=!0),!F||!te)return;let P=h.clientWidth*ee;(0,n.setStyle)(Ae,"display","flex"),P>0&&P<h.clientWidth?function(ae){var At;let we=(At=i.controls)==null?void 0:At.thumbnails;if(!we)return;let{number:$,column:ze,width:Ce,height:Te,scale:Ye}=p.thumbnails,Ue=Ce*Ye||y.naturalWidth/ze,De=Te*Ye||Ue/(b.videoWidth/b.videoHeight),We=Math.floor(ae/(h.clientWidth/$)),lt=Math.ceil(We/ze)-1;(0,n.setStyle)(we,"backgroundImage",`url(${y.src})`),(0,n.setStyle)(we,"height",`${De}px`),(0,n.setStyle)(we,"width",`${Ue}px`),(0,n.setStyle)(we,"backgroundPosition",`-${(We%ze||ze-1)*Ue}px -${lt*De}px`),ae<=Ue/2?(0,n.setStyle)(we,"left",0):ae>h.clientWidth-Ue/2?(0,n.setStyle)(we,"left",`${h.clientWidth-Ue}px`):(0,n.setStyle)(we,"left",`${ae-Ue/2}px`)}(P):n.isMobile||(0,n.setStyle)(Ae,"display","none"),q&&(clearTimeout(E),E=setTimeout(()=>{(0,n.setStyle)(Ae,"display","none")},500))}}),(0,n.def)(i,"thumbnails",{get:()=>i.option.thumbnails,set(de){de.url&&!i.option.isLive&&(i.option.thumbnails=de,clearTimeout(E),E=null,y=null,R=!1,F=!1)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fCWZK:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{option:l,storage:p,template:{$video:h,$poster:b}}=i;for(let y in l.moreVideoAttr)i.attr(y,l.moreVideoAttr[y]);l.muted&&(i.muted=l.muted),l.volume&&(h.volume=(0,n.clamp)(l.volume,0,1));let E=p.get("volume");for(let y in typeof E=="number"&&(h.volume=(0,n.clamp)(E,0,1)),l.poster&&(0,n.setStyle)(b,"backgroundImage",`url(${l.poster})`),l.autoplay&&(h.autoplay=l.autoplay),l.playsInline&&(h.playsInline=!0,h["webkit-playsinline"]=!0),l.theme&&(l.cssVar["--art-theme"]=l.theme),l.cssVar)i.cssVar(y,l.cssVar[y]);i.url=l.url}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],f8Lv3:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>l);var n=t("../config"),c=e.interopDefault(n),i=t("../utils");function l(p){let{i18n:h,notice:b,option:E,constructor:y,proxy:R,template:{$player:F,$video:te,$poster:de}}=p,ee=0;for(let ve=0;ve<c.default.events.length;ve++)R(te,c.default.events[ve],Ae=>{p.emit(`video:${Ae.type}`,Ae)});p.on("video:canplay",()=>{ee=0,p.loading.show=!1}),p.once("video:canplay",()=>{p.loading.show=!1,p.controls.show=!0,p.mask.show=!0,p.isReady=!0,p.emit("ready")}),p.on("video:ended",()=>{E.loop?(p.seek=0,p.play(),p.controls.show=!1,p.mask.show=!1):(p.controls.show=!0,p.mask.show=!0)}),p.on("video:error",async ve=>{ee<y.RECONNECT_TIME_MAX?(await(0,i.sleep)(y.RECONNECT_SLEEP_TIME),ee+=1,p.url=E.url,b.show=`${h.get("Reconnect")}: ${ee}`,p.emit("error",ve,ee)):(p.mask.show=!0,p.loading.show=!1,p.controls.show=!0,(0,i.addClass)(F,"art-error"),await(0,i.sleep)(y.RECONNECT_SLEEP_TIME),b.show=h.get("Video Load Failed"))}),p.on("video:loadedmetadata",()=>{p.emit("resize"),i.isMobile&&(p.loading.show=!1,p.controls.show=!0,p.mask.show=!0)}),p.on("video:loadstart",()=>{p.loading.show=!0,p.mask.show=!1,p.controls.show=!0}),p.on("video:pause",()=>{p.controls.show=!0,p.mask.show=!0}),p.on("video:play",()=>{p.mask.show=!1,(0,i.setStyle)(de,"display","none")}),p.on("video:playing",()=>{p.mask.show=!1}),p.on("video:progress",()=>{p.playing&&(p.loading.show=!1)}),p.on("video:seeked",()=>{p.loading.show=!1,p.mask.show=!0}),p.on("video:seeking",()=>{p.loading.show=!0,p.mask.show=!1}),p.on("video:timeupdate",()=>{p.mask.show=!1}),p.on("video:waiting",()=>{p.loading.show=!0,p.mask.show=!1})}},{"../config":"lyjeQ","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8Z0Uf":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("../utils/component"),c=e.interopDefault(n),i=t("./fullscreen"),l=e.interopDefault(i),p=t("./fullscreenWeb"),h=e.interopDefault(p),b=t("./pip"),E=e.interopDefault(b),y=t("./playAndPause"),R=e.interopDefault(y),F=t("./progress"),te=e.interopDefault(F),de=t("./time"),ee=e.interopDefault(de),ve=t("./volume"),Ae=e.interopDefault(ve),M=t("./setting"),S=e.interopDefault(M),q=t("./screenshot"),se=e.interopDefault(q),P=t("./airplay"),ae=e.interopDefault(P),we=t("../utils");class $ extends c.default{constructor(Ce){super(Ce),this.isHover=!1,this.name="control",this.timer=Date.now();let{constructor:Te}=Ce,{$player:Ye,$bottom:Ue}=this.art.template;Ce.on("mousemove",()=>{we.isMobile||(this.show=!0)}),Ce.on("click",()=>{we.isMobile?this.toggle():this.show=!0}),Ce.on("document:mousemove",De=>{this.isHover=(0,we.includeFromEvent)(De,Ue)}),Ce.on("video:timeupdate",()=>{!Ce.setting.show&&!this.isHover&&!Ce.isInput&&Ce.playing&&this.show&&Date.now()-this.timer>=Te.CONTROL_HIDE_TIME&&(this.show=!1)}),Ce.on("control",De=>{De?((0,we.removeClass)(Ye,"art-hide-cursor"),(0,we.addClass)(Ye,"art-hover"),this.timer=Date.now()):((0,we.addClass)(Ye,"art-hide-cursor"),(0,we.removeClass)(Ye,"art-hover"))}),this.init()}init(){let{option:Ce}=this.art;Ce.isLive||this.add((0,te.default)({name:"progress",position:"top",index:10})),this.add({name:"thumbnails",position:"top",index:20}),this.add((0,R.default)({name:"playAndPause",position:"left",index:10})),this.add((0,Ae.default)({name:"volume",position:"left",index:20})),Ce.isLive||this.add((0,ee.default)({name:"time",position:"left",index:30})),Ce.quality.length&&(0,we.sleep)().then(()=>{this.art.quality=Ce.quality}),Ce.screenshot&&!we.isMobile&&this.add((0,se.default)({name:"screenshot",position:"right",index:20})),Ce.setting&&this.add((0,S.default)({name:"setting",position:"right",index:30})),Ce.pip&&this.add((0,E.default)({name:"pip",position:"right",index:40})),Ce.airplay&&window.WebKitPlaybackTargetAvailabilityEvent&&this.add((0,ae.default)({name:"airplay",position:"right",index:50})),Ce.fullscreenWeb&&this.add((0,h.default)({name:"fullscreenWeb",position:"right",index:60})),Ce.fullscreen&&this.add((0,l.default)({name:"fullscreen",position:"right",index:70}));for(let Te=0;Te<Ce.controls.length;Te++)this.add(Ce.controls[Te])}add(Ce){let Te=typeof Ce=="function"?Ce(this.art):Ce,{$progress:Ye,$controlsLeft:Ue,$controlsRight:De}=this.art.template;switch(Te.position){case"top":this.$parent=Ye;break;case"left":this.$parent=Ue;break;case"right":this.$parent=De;break;default:(0,we.errorHandle)(!1,"Control option.position must one of 'top', 'left', 'right'")}super.add(Te)}check(Ce){Ce.$control_value.innerHTML=Ce.html;for(let Te=0;Te<Ce.$control_option.length;Te++){let Ye=Ce.$control_option[Te];Ye.default=Ye===Ce,Ye.default&&(0,we.inverseClass)(Ye.$control_item,"art-current")}}selector(Ce,Te,Ye){let{proxy:Ue}=this.art.events;(0,we.addClass)(Te,"art-control-selector");let De=(0,we.createElement)("div");(0,we.addClass)(De,"art-selector-value"),(0,we.append)(De,Ce.html),Te.innerText="",(0,we.append)(Te,De);let We=(0,we.createElement)("div");(0,we.addClass)(We,"art-selector-list"),(0,we.append)(Te,We);for(let At=0;At<Ce.selector.length;At++){let jt=Ce.selector[At],Bt=(0,we.createElement)("div");(0,we.addClass)(Bt,"art-selector-item"),jt.default&&(0,we.addClass)(Bt,"art-current"),Bt.dataset.index=At,Bt.dataset.value=jt.value,Bt.innerHTML=jt.html,(0,we.append)(We,Bt),(0,we.def)(jt,"$control_option",{get:()=>Ce.selector}),(0,we.def)(jt,"$control_item",{get:()=>Bt}),(0,we.def)(jt,"$control_value",{get:()=>De})}let lt=Ue(We,"click",async At=>{let jt=At.composedPath()||[],Bt=Ce.selector.find(Ie=>Ie.$control_item===jt.find(Ne=>Ie.$control_item===Ne));this.check(Bt),Ce.onSelect&&(De.innerHTML=await Ce.onSelect.call(this.art,Bt,Bt.$control_item,At))});Ye.push(lt)}}r.default=$},{"../utils/component":"18nVI","./fullscreen":"c61Lj","./fullscreenWeb":"03jeB","./pip":"u8l8e","./playAndPause":"ebXtb","./progress":"bgoVP","./time":"ikc2j","./volume":"b8NFx","./setting":"03o9l","./screenshot":"4KCF5","./airplay":"4IS2d","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"18nVI":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./dom"),c=t("./error"),i=t("option-validator"),l=e.interopDefault(i),p=t("../scheme");r.default=class{constructor(h){this.id=0,this.art=h,this.cache=new Map,this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.update=this.update.bind(this)}get show(){return(0,n.hasClass)(this.art.template.$player,`art-${this.name}-show`)}set show(h){let{$player:b}=this.art.template,E=`art-${this.name}-show`;h?(0,n.addClass)(b,E):(0,n.removeClass)(b,E),this.art.emit(this.name,h)}toggle(){this.show=!this.show}add(h){let b=typeof h=="function"?h(this.art):h;if(b.html=b.html||"",(0,l.default)(b,p.ComponentOption),!this.$parent||!this.name||b.disable)return;let E=b.name||`${this.name}${this.id}`,y=this.cache.get(E);(0,c.errorHandle)(!y,`Can't add an existing [${E}] to the [${this.name}]`),this.id+=1;let R=(0,n.createElement)("div");(0,n.addClass)(R,`art-${this.name}`),(0,n.addClass)(R,`art-${this.name}-${E}`);let F=Array.from(this.$parent.children);R.dataset.index=b.index||this.id;let te=F.find(ee=>Number(ee.dataset.index)>=Number(R.dataset.index));te?te.insertAdjacentElement("beforebegin",R):(0,n.append)(this.$parent,R),b.html&&(0,n.append)(R,b.html),b.style&&(0,n.setStyles)(R,b.style),b.tooltip&&(0,n.tooltip)(R,b.tooltip);let de=[];if(b.click){let ee=this.art.events.proxy(R,"click",ve=>{ve.preventDefault(),b.click.call(this.art,this,ve)});de.push(ee)}return b.selector&&["left","right"].includes(b.position)&&this.selector(b,R,de),this[E]=R,this.cache.set(E,{$ref:R,events:de,option:b}),b.mounted&&b.mounted.call(this.art,R),R}remove(h){let b=this.cache.get(h);(0,c.errorHandle)(b,`Can't find [${h}] from the [${this.name}]`),b.option.beforeUnmount&&b.option.beforeUnmount.call(this.art,b.$ref);for(let E=0;E<b.events.length;E++)this.art.events.remove(b.events[E]);this.cache.delete(h),delete this[h],(0,n.remove)(b.$ref)}update(h){let b=this.cache.get(h.name);return b&&(h=Object.assign(b.option,h),this.remove(h.name)),this.add(h)}}},{"./dom":"bSNiV","./error":"hwmZz","option-validator":"bAWi2","../scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],c61Lj:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>({...i,tooltip:l.i18n.get("Fullscreen"),mounted:p=>{let{proxy:h,icons:b,i18n:E}=l,y=(0,n.append)(p,b.fullscreenOn),R=(0,n.append)(p,b.fullscreenOff);(0,n.setStyle)(R,"display","none"),h(p,"click",()=>{l.fullscreen=!l.fullscreen}),l.on("fullscreen",F=>{F?((0,n.tooltip)(p,E.get("Exit Fullscreen")),(0,n.setStyle)(y,"display","none"),(0,n.setStyle)(R,"display","inline-flex")):((0,n.tooltip)(p,E.get("Fullscreen")),(0,n.setStyle)(y,"display","inline-flex"),(0,n.setStyle)(R,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03jeB":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>({...i,tooltip:l.i18n.get("Web Fullscreen"),mounted:p=>{let{proxy:h,icons:b,i18n:E}=l,y=(0,n.append)(p,b.fullscreenWebOn),R=(0,n.append)(p,b.fullscreenWebOff);(0,n.setStyle)(R,"display","none"),h(p,"click",()=>{l.fullscreenWeb=!l.fullscreenWeb}),l.on("fullscreenWeb",F=>{F?((0,n.tooltip)(p,E.get("Exit Web Fullscreen")),(0,n.setStyle)(y,"display","none"),(0,n.setStyle)(R,"display","inline-flex")):((0,n.tooltip)(p,E.get("Web Fullscreen")),(0,n.setStyle)(y,"display","inline-flex"),(0,n.setStyle)(R,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],u8l8e:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>({...i,tooltip:l.i18n.get("PIP Mode"),mounted:p=>{let{proxy:h,icons:b,i18n:E}=l;(0,n.append)(p,b.pip),h(p,"click",()=>{l.pip=!l.pip}),l.on("pip",y=>{(0,n.tooltip)(p,E.get(y?"Exit PIP Mode":"PIP Mode"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ebXtb:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>({...i,mounted:p=>{let{proxy:h,icons:b,i18n:E}=l,y=(0,n.append)(p,b.play),R=(0,n.append)(p,b.pause);function F(){(0,n.setStyle)(y,"display","flex"),(0,n.setStyle)(R,"display","none")}function te(){(0,n.setStyle)(y,"display","none"),(0,n.setStyle)(R,"display","flex")}(0,n.tooltip)(y,E.get("Play")),(0,n.tooltip)(R,E.get("Pause")),h(y,"click",()=>{l.play()}),h(R,"click",()=>{l.pause()}),l.playing?te():F(),l.on("video:playing",()=>{te()}),l.on("video:pause",()=>{F()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bgoVP:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"getPosFromEvent",()=>c),e.export(r,"setCurrentTime",()=>i),e.export(r,"default",()=>l);var n=t("../utils");function c(p,h){let{$progress:b}=p.template,{left:E}=(0,n.getRect)(b),y=n.isMobile?h.touches[0].clientX:h.clientX,R=(0,n.clamp)(y-E,0,b.clientWidth),F=R/b.clientWidth*p.duration,te=(0,n.secondToTime)(F),de=(0,n.clamp)(R/b.clientWidth,0,1);return{second:F,time:te,width:R,percentage:de}}function i(p,h){if(p.isRotate){let b=h.touches[0].clientY/p.height,E=b*p.duration;p.emit("setBar","played",b,h),p.seek=E}else{let{second:b,percentage:E}=c(p,h);p.emit("setBar","played",E,h),p.seek=b}}function l(p){return h=>{let{icons:b,option:E,proxy:y}=h;return{...p,html:'<div class="art-control-progress-inner"><div class="art-progress-hover"></div><div class="art-progress-loaded"></div><div class="art-progress-played"></div><div class="art-progress-highlight"></div><div class="art-progress-indicator"></div><div class="art-progress-tip"></div></div>',mounted:R=>{let F=null,te=!1,de=(0,n.query)(".art-progress-hover",R),ee=(0,n.query)(".art-progress-loaded",R),ve=(0,n.query)(".art-progress-played",R),Ae=(0,n.query)(".art-progress-highlight",R),M=(0,n.query)(".art-progress-indicator",R),S=(0,n.query)(".art-progress-tip",R);function q(se,P){let{width:ae,time:we}=P||c(h,se);S.innerText=we;let $=S.clientWidth;ae<=$/2?(0,n.setStyle)(S,"left",0):ae>R.clientWidth-$/2?(0,n.setStyle)(S,"left",`${R.clientWidth-$}px`):(0,n.setStyle)(S,"left",`${ae-$/2}px`)}b.indicator?(0,n.append)(M,b.indicator):(0,n.setStyle)(M,"backgroundColor","var(--art-theme)"),h.on("setBar",function(se,P,ae){let we=se==="played"&&ae&&n.isMobile;se==="loaded"&&(0,n.setStyle)(ee,"width",`${100*P}%`),se==="hover"&&(0,n.setStyle)(de,"width",`${100*P}%`),se==="played"&&((0,n.setStyle)(ve,"width",`${100*P}%`),(0,n.setStyle)(M,"left",`${100*P}%`)),we&&((0,n.setStyle)(S,"display","flex"),q(ae,{width:R.clientWidth*P,time:(0,n.secondToTime)(P*h.duration)}),clearTimeout(F),F=setTimeout(()=>{(0,n.setStyle)(S,"display","none")},500))}),h.on("video:loadedmetadata",function(){Ae.innerText="";for(let se=0;se<E.highlight.length;se++){let P=E.highlight[se],ae=(0,n.clamp)(P.time,0,h.duration)/h.duration*100,we=`<span data-text="${P.text}" data-time="${P.time}" style="left: ${ae}%"></span>`;(0,n.append)(Ae,we)}}),h.on("video:progress",()=>{h.emit("setBar","loaded",h.loaded)}),h.constructor.USE_RAF?h.on("raf",()=>{h.emit("setBar","played",h.played)}):h.on("video:timeupdate",()=>{h.emit("setBar","played",h.played)}),h.on("video:ended",()=>{h.emit("setBar","played",1)}),h.emit("setBar","loaded",h.loaded||0),n.isMobile||(y(R,"click",se=>{se.target!==M&&i(h,se)}),y(R,"mousemove",se=>{let{percentage:P}=c(h,se);h.emit("setBar","hover",P,se),(0,n.setStyle)(S,"display","flex"),(0,n.includeFromEvent)(se,Ae)?function(ae){let{width:we}=c(h,ae),{text:$}=ae.target.dataset;S.innerText=$;let ze=S.clientWidth;we<=ze/2?(0,n.setStyle)(S,"left",0):we>R.clientWidth-ze/2?(0,n.setStyle)(S,"left",`${R.clientWidth-ze}px`):(0,n.setStyle)(S,"left",`${we-ze/2}px`)}(se):q(se)}),y(R,"mouseleave",se=>{(0,n.setStyle)(S,"display","none"),h.emit("setBar","hover",0,se)}),y(R,"mousedown",se=>{te=se.button===0}),h.on("document:mousemove",se=>{if(te){let{second:P,percentage:ae}=c(h,se);h.emit("setBar","played",ae,se),h.seek=P}}),h.on("document:mouseup",()=>{te&&(te=!1)}))}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ikc2j:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>({...i,style:n.isMobile?{fontSize:"12px",padding:"0 5px"}:{cursor:"auto",padding:"0 10px"},mounted:p=>{function h(){let E=`${(0,n.secondToTime)(l.currentTime)} / ${(0,n.secondToTime)(l.duration)}`;E!==p.innerText&&(p.innerText=E)}h();let b=["video:loadedmetadata","video:timeupdate","video:progress"];for(let E=0;E<b.length;E++)l.on(b[E],h)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],b8NFx:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>({...i,mounted:p=>{let{proxy:h,icons:b}=l,E=(0,n.append)(p,b.volume),y=(0,n.append)(p,b.volumeClose),R=(0,n.append)(p,'<div class="art-volume-panel"></div>'),F=(0,n.append)(R,'<div class="art-volume-inner"></div>'),te=(0,n.append)(F,'<div class="art-volume-val"></div>'),de=(0,n.append)(F,'<div class="art-volume-slider"></div>'),ee=(0,n.append)(de,'<div class="art-volume-handle"></div>'),ve=(0,n.append)(ee,'<div class="art-volume-loaded"></div>'),Ae=(0,n.append)(de,'<div class="art-volume-indicator"></div>');function M(q){let{top:se,height:P}=(0,n.getRect)(de);return 1-(q.clientY-se)/P}function S(){if(l.muted||l.volume===0)(0,n.setStyle)(E,"display","none"),(0,n.setStyle)(y,"display","flex"),(0,n.setStyle)(Ae,"top","100%"),(0,n.setStyle)(ve,"top","100%"),te.innerText=0;else{let q=100*l.volume;(0,n.setStyle)(E,"display","flex"),(0,n.setStyle)(y,"display","none"),(0,n.setStyle)(Ae,"top",`${100-q}%`),(0,n.setStyle)(ve,"top",`${100-q}%`),te.innerText=Math.floor(q)}}if(S(),l.on("video:volumechange",S),h(E,"click",()=>{l.muted=!0}),h(y,"click",()=>{l.muted=!1}),n.isMobile)(0,n.setStyle)(R,"display","none");else{let q=!1;h(de,"mousedown",se=>{q=se.button===0,l.volume=M(se)}),l.on("document:mousemove",se=>{q&&(l.muted=!1,l.volume=M(se))}),l.on("document:mouseup",()=>{q&&(q=!1)})}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03o9l":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>({...i,tooltip:l.i18n.get("Show Setting"),mounted:p=>{let{proxy:h,icons:b,i18n:E}=l;(0,n.append)(p,b.setting),h(p,"click",()=>{l.setting.toggle(),l.setting.resize()}),l.on("setting",y=>{(0,n.tooltip)(p,E.get(y?"Hide Setting":"Show Setting"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4KCF5":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>({...i,tooltip:l.i18n.get("Screenshot"),mounted:p=>{let{proxy:h,icons:b}=l;(0,n.append)(p,b.screenshot),h(p,"click",()=>{l.screenshot()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4IS2d":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>({...i,tooltip:l.i18n.get("AirPlay"),mounted:p=>{let{proxy:h,icons:b}=l;(0,n.append)(p,b.airplay),h(p,"click",()=>l.airplay())}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2KYsr":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("../utils"),c=t("../utils/component"),i=e.interopDefault(c),l=t("./playbackRate"),p=e.interopDefault(l),h=t("./aspectRatio"),b=e.interopDefault(h),E=t("./flip"),y=e.interopDefault(E),R=t("./info"),F=e.interopDefault(R),te=t("./version"),de=e.interopDefault(te),ee=t("./close"),ve=e.interopDefault(ee);class Ae extends i.default{constructor(S){super(S),this.name="contextmenu",this.$parent=S.template.$contextmenu,n.isMobile||this.init()}init(){let{option:S,proxy:q,template:{$player:se,$contextmenu:P}}=this.art;S.playbackRate&&this.add((0,p.default)({name:"playbackRate",index:10})),S.aspectRatio&&this.add((0,b.default)({name:"aspectRatio",index:20})),S.flip&&this.add((0,y.default)({name:"flip",index:30})),this.add((0,F.default)({name:"info",index:40})),this.add((0,de.default)({name:"version",index:50})),this.add((0,ve.default)({name:"close",index:60}));for(let ae=0;ae<S.contextmenu.length;ae++)this.add(S.contextmenu[ae]);q(se,"contextmenu",ae=>{if(!this.art.constructor.CONTEXTMENU)return;ae.preventDefault(),this.show=!0;let we=ae.clientX,$=ae.clientY,{height:ze,width:Ce,left:Te,top:Ye}=(0,n.getRect)(se),{height:Ue,width:De}=(0,n.getRect)(P),We=we-Te,lt=$-Ye;we+De>Te+Ce&&(We=Ce-De),$+Ue>Ye+ze&&(lt=ze-Ue),(0,n.setStyles)(P,{top:`${lt}px`,left:`${We}px`})}),q(se,"click",ae=>{(0,n.includeFromEvent)(ae,P)||(this.show=!1)}),this.art.on("blur",()=>{this.show=!1})}}r.default=Ae},{"../utils":"71aH7","../utils/component":"18nVI","./playbackRate":"69eLi","./aspectRatio":"lUefg","./flip":"kysiM","./info":"gqIgJ","./version":"kRU7C","./close":"jQ8Pm","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"69eLi":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>{let{i18n:p,constructor:{PLAYBACK_RATE:h}}=l,b=h.map(E=>`<span data-value="${E}">${E===1?p.get("Normal"):E.toFixed(1)}</span>`).join("");return{...i,html:`${p.get("Play Speed")}: ${b}`,click:(E,y)=>{let{value:R}=y.target.dataset;R&&(l.playbackRate=Number(R),E.show=!1)},mounted:E=>{let y=(0,n.query)('[data-value="1"]',E);y&&(0,n.inverseClass)(y,"art-current"),l.on("video:ratechange",()=>{let R=(0,n.queryAll)("span",E).find(F=>Number(F.dataset.value)===l.playbackRate);R&&(0,n.inverseClass)(R,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lUefg:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>{let{i18n:p,constructor:{ASPECT_RATIO:h}}=l,b=h.map(E=>`<span data-value="${E}">${E==="default"?p.get("Default"):E}</span>`).join("");return{...i,html:`${p.get("Aspect Ratio")}: ${b}`,click:(E,y)=>{let{value:R}=y.target.dataset;R&&(l.aspectRatio=R,E.show=!1)},mounted:E=>{let y=(0,n.query)('[data-value="default"]',E);y&&(0,n.inverseClass)(y,"art-current"),l.on("aspectRatio",R=>{let F=(0,n.queryAll)("span",E).find(te=>te.dataset.value===R);F&&(0,n.inverseClass)(F,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kysiM:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return l=>{let{i18n:p,constructor:{FLIP:h}}=l,b=h.map(E=>`<span data-value="${E}">${p.get((0,n.capitalize)(E))}</span>`).join("");return{...i,html:`${p.get("Video Flip")}: ${b}`,click:(E,y)=>{let{value:R}=y.target.dataset;R&&(l.flip=R.toLowerCase(),E.show=!1)},mounted:E=>{let y=(0,n.query)('[data-value="normal"]',E);y&&(0,n.inverseClass)(y,"art-current"),l.on("flip",R=>{let F=(0,n.queryAll)("span",E).find(te=>te.dataset.value===R);F&&(0,n.inverseClass)(F,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gqIgJ:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c){return i=>({...c,html:i.i18n.get("Video Info"),click:l=>{i.info.show=!0,l.show=!1}})}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kRU7C:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c){return{...c,html:'<a href="https://artplayer.org" target="_blank">ArtPlayer 5.2.1</a>'}}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jQ8Pm:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c){return i=>({...c,html:i.i18n.get("Close"),click:l=>{l.show=!1}})}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"02ajl":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./utils"),c=t("./utils/component"),i=e.interopDefault(c);class l extends i.default{constructor(h){super(h),this.name="info",n.isMobile||this.init()}init(){let{proxy:h,constructor:b,template:{$infoPanel:E,$infoClose:y,$video:R}}=this.art;h(y,"click",()=>{this.show=!1});let F=null,te=(0,n.queryAll)("[data-video]",E)||[];this.art.on("destroy",()=>clearTimeout(F)),function de(){for(let ee=0;ee<te.length;ee++){let ve=te[ee],Ae=R[ve.dataset.video],M=typeof Ae=="number"?Ae.toFixed(2):Ae;ve.innerText!==M&&(ve.innerText=M)}F=setTimeout(de,b.INFO_LOOP_TIME)}()}}r.default=l},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eSWto:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./utils"),c=t("./utils/component"),i=e.interopDefault(c),l=t("option-validator"),p=e.interopDefault(l),h=t("./scheme"),b=e.interopDefault(h);class E extends i.default{constructor(R){super(R),this.name="subtitle",this.option=null,this.destroyEvent=()=>null,this.init(R.option.subtitle);let F=!1;R.on("video:timeupdate",()=>{if(!this.url)return;let te=this.art.template.$video.webkitDisplayingFullscreen;typeof te=="boolean"&&te!==F&&(F=te,this.createTrack(te?"subtitles":"metadata",this.url))})}get url(){return this.art.template.$track.src}set url(R){this.switch(R)}get textTrack(){var R,F;return(F=(R=this.art.template.$video)==null?void 0:R.textTracks)==null?void 0:F[0]}get activeCues(){return this.textTrack?Array.from(this.textTrack.activeCues):[]}get cues(){return this.textTrack?Array.from(this.textTrack.cues):[]}style(R,F){let{$subtitle:te}=this.art.template;return typeof R=="object"?(0,n.setStyles)(te,R):(0,n.setStyle)(te,R,F)}update(){let{option:{subtitle:R},template:{$subtitle:F}}=this.art;F.innerHTML="",this.activeCues.length&&(this.art.emit("subtitleBeforeUpdate",this.activeCues),F.innerHTML=this.activeCues.map((te,de)=>te.text.split(/\r?\n/).filter(ee=>ee.trim()).map(ee=>`<div class="art-subtitle-line" data-group="${de}">${R.escape?(0,n.escape)(ee):ee}</div>`).join("")).join(""),this.art.emit("subtitleAfterUpdate",this.activeCues))}async switch(R,F={}){let{i18n:te,notice:de,option:ee}=this.art,ve={...ee.subtitle,...F,url:R},Ae=await this.init(ve);return F.name&&(de.show=`${te.get("Switch Subtitle")}: ${F.name}`),Ae}createTrack(R,F){let{template:te,proxy:de,option:ee}=this.art,{$video:ve,$track:Ae}=te,M=(0,n.createElement)("track");M.default=!0,M.kind=R,M.src=F,M.label=ee.subtitle.name||"Artplayer",M.track.mode="hidden",M.onload=()=>{this.art.emit("subtitleLoad",this.cues,this.option)},this.art.events.remove(this.destroyEvent),Ae.onload=null,(0,n.remove)(Ae),(0,n.append)(ve,M),te.$track=M,this.destroyEvent=de(this.textTrack,"cuechange",()=>this.update())}async init(R){let{notice:F,template:{$subtitle:te}}=this.art;return this.textTrack?((0,p.default)(R,b.default.subtitle),R.url?(this.option=R,this.style(R.style),fetch(R.url).then(de=>de.arrayBuffer()).then(de=>{let ee=new TextDecoder(R.encoding).decode(de);switch(R.type||(0,n.getExt)(R.url)){case"srt":{let ve=(0,n.srtToVtt)(ee),Ae=R.onVttLoad(ve);return(0,n.vttToBlob)(Ae)}case"ass":{let ve=(0,n.assToVtt)(ee),Ae=R.onVttLoad(ve);return(0,n.vttToBlob)(Ae)}case"vtt":{let ve=R.onVttLoad(ee);return(0,n.vttToBlob)(ve)}default:return R.url}}).then(de=>(te.innerHTML="",this.url===de||(URL.revokeObjectURL(this.url),this.createTrack("metadata",de)),de)).catch(de=>{throw te.innerHTML="",F.show=de,de})):void 0):null}}r.default=E},{"./utils":"71aH7","./utils/component":"18nVI","option-validator":"bAWi2","./scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jo4S1:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./clickInit"),c=e.interopDefault(n),i=t("./hoverInit"),l=e.interopDefault(i),p=t("./moveInit"),h=e.interopDefault(p),b=t("./resizeInit"),E=e.interopDefault(b),y=t("./gestureInit"),R=e.interopDefault(y),F=t("./viewInit"),te=e.interopDefault(F),de=t("./documentInit"),ee=e.interopDefault(de),ve=t("./updateInit"),Ae=e.interopDefault(ve),M=t("./restoreInit"),S=e.interopDefault(M);r.default=class{constructor(q){this.destroyEvents=[],this.proxy=this.proxy.bind(this),this.hover=this.hover.bind(this),(0,c.default)(q,this),(0,l.default)(q,this),(0,h.default)(q,this),(0,E.default)(q,this),(0,R.default)(q,this),(0,te.default)(q,this),(0,ee.default)(q,this),(0,Ae.default)(q,this),(0,S.default)(q,this)}proxy(q,se,P,ae={}){if(Array.isArray(se))return se.map($=>this.proxy(q,$,P,ae));q.addEventListener(se,P,ae);let we=()=>q.removeEventListener(se,P,ae);return this.destroyEvents.push(we),we}hover(q,se,P){se&&this.proxy(q,"mouseenter",se),P&&this.proxy(q,"mouseleave",P)}remove(q){let se=this.destroyEvents.indexOf(q);se>-1&&(q(),this.destroyEvents.splice(se,1))}destroy(){for(let q=0;q<this.destroyEvents.length;q++)this.destroyEvents[q]()}}},{"./clickInit":"6UrCm","./hoverInit":"4jWHi","./moveInit":"eqaUm","./resizeInit":"eDXPO","./gestureInit":"95GtS","./viewInit":"InUBx","./documentInit":"hoLfM","./updateInit":"cl8m3","./restoreInit":"bK8As","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6UrCm":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i,l){let{constructor:p,template:{$player:h,$video:b}}=i;l.proxy(document,["click","contextmenu"],y=>{(0,n.includeFromEvent)(y,h)?(i.isInput=y.target.tagName==="INPUT",i.isFocus=!0,i.emit("focus",y)):(i.isInput=!1,i.isFocus=!1,i.emit("blur",y))});let E=[];l.proxy(b,"click",y=>{let R=Date.now();E.push(R);let{MOBILE_CLICK_PLAY:F,DBCLICK_TIME:te,MOBILE_DBCLICK_PLAY:de,DBCLICK_FULLSCREEN:ee}=p,ve=E.filter(Ae=>R-Ae<=te);switch(ve.length){case 1:i.emit("click",y),n.isMobile?!i.isLock&&F&&i.toggle():i.toggle(),E=ve;break;case 2:i.emit("dblclick",y),n.isMobile?!i.isLock&&de&&i.toggle():ee&&(i.fullscreen=!i.fullscreen),E=[];break;default:E=[]}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4jWHi":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i,l){let{$player:p}=i.template;l.hover(p,h=>{(0,n.addClass)(p,"art-hover"),i.emit("hover",!0,h)},h=>{(0,n.removeClass)(p,"art-hover"),i.emit("hover",!1,h)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eqaUm:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c,i){let{$player:l}=c.template;i.proxy(l,"mousemove",p=>{c.emit("mousemove",p)})}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eDXPO:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i,l){let{option:p,constructor:h}=i;i.on("resize",()=>{let{aspectRatio:E,notice:y}=i;i.state==="standard"&&p.autoSize&&i.autoSize(),i.aspectRatio=E,y.show=""});let b=(0,n.debounce)(()=>i.emit("resize"),h.RESIZE_TIME);l.proxy(window,["orientationchange","resize"],()=>b()),screen&&screen.orientation&&screen.orientation.onchange&&l.proxy(screen.orientation,"change",()=>b())}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"95GtS":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>i);var n=t("../utils"),c=t("../control/progress");function i(l,p){if(n.isMobile&&!l.option.isLive){let{$video:h,$progress:b}=l.template,E=null,y=!1,R=0,F=0,te=0,de=ve=>{if(ve.touches.length===1&&!l.isLock){E===b&&(0,c.setCurrentTime)(l,ve),y=!0;let{pageX:Ae,pageY:M}=ve.touches[0];R=Ae,F=M,te=l.currentTime}},ee=ve=>{if(ve.touches.length===1&&y&&l.duration){let{pageX:Ae,pageY:M}=ve.touches[0],S=function(P,ae,we,$){var ze=ae-$,Ce=we-P,Te=0;if(2>Math.abs(Ce)&&2>Math.abs(ze))return Te;var Ye=180*Math.atan2(ze,Ce)/Math.PI;return Ye>=-45&&Ye<45?Te=4:Ye>=45&&Ye<135?Te=1:Ye>=-135&&Ye<-45?Te=2:(Ye>=135&&Ye<=180||Ye>=-180&&Ye<-135)&&(Te=3),Te}(R,F,Ae,M),q=[3,4].includes(S),se=[1,2].includes(S);if(q&&!l.isRotate||se&&l.isRotate){let P=(0,n.clamp)((Ae-R)/l.width,-1,1),ae=(0,n.clamp)((M-F)/l.height,-1,1),we=l.isRotate?ae:P,$=E===h?l.constructor.TOUCH_MOVE_RATIO:1,ze=(0,n.clamp)(te+l.duration*we*$,0,l.duration);l.seek=ze,l.emit("setBar","played",(0,n.clamp)(ze/l.duration,0,1),ve),l.notice.show=`${(0,n.secondToTime)(ze)} / ${(0,n.secondToTime)(l.duration)}`}}};p.proxy(b,"touchstart",ve=>{E=b,de(ve)}),p.proxy(h,"touchstart",ve=>{E=h,de(ve)}),p.proxy(h,"touchmove",ee),p.proxy(b,"touchmove",ee),p.proxy(document,"touchend",()=>{y&&(R=0,F=0,te=0,y=!1,E=null)})}}},{"../utils":"71aH7","../control/progress":"bgoVP","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],InUBx:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i,l){let{option:p,constructor:h,template:{$container:b}}=i,E=(0,n.throttle)(()=>{i.emit("view",(0,n.isInViewport)(b,h.SCROLL_GAP))},h.SCROLL_TIME);l.proxy(window,"scroll",()=>E()),i.on("view",y=>{p.autoMini&&(i.mini=!y)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hoLfM:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c,i){i.proxy(document,"mousemove",l=>{c.emit("document:mousemove",l)}),i.proxy(document,"mouseup",l=>{c.emit("document:mouseup",l)})}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cl8m3:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c){if(c.constructor.USE_RAF){let i=null;(function l(){c.playing&&c.emit("raf"),c.isDestroy||(i=requestAnimationFrame(l))})(),c.on("destroy",()=>{cancelAnimationFrame(i)})}}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bK8As:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c,i){}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6NoFy":[function(t,u,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var e=t("./utils");r.default=class{constructor(n){this.art=n,this.keys={},n.option.hotkey&&!e.isMobile&&this.init()}init(){let{proxy:n,constructor:c}=this.art;this.add("Escape",()=>{this.art.fullscreenWeb&&(this.art.fullscreenWeb=!1)}),this.add("Space",()=>{this.art.toggle()}),this.add("ArrowLeft",()=>{this.art.backward=c.SEEK_STEP}),this.add("ArrowUp",()=>{this.art.volume+=c.VOLUME_STEP}),this.add("ArrowRight",()=>{this.art.forward=c.SEEK_STEP}),this.add("ArrowDown",()=>{this.art.volume-=c.VOLUME_STEP}),n(document,"keydown",i=>{if(this.art.isFocus){let l=document.activeElement.tagName.toUpperCase(),p=document.activeElement.getAttribute("contenteditable");if(l!=="INPUT"&&l!=="TEXTAREA"&&p!==""&&p!=="true"&&!i.altKey&&!i.ctrlKey&&!i.metaKey&&!i.shiftKey){let h=this.keys[i.code];if(h){i.preventDefault();for(let b=0;b<h.length;b++)h[b].call(this.art,i);this.art.emit("hotkey",i)}}}this.art.emit("keydown",i)})}add(n,c){return this.keys[n]?this.keys[n].push(c):this.keys[n]=[c],this}remove(n,c){if(this.keys[n]){let i=this.keys[n].indexOf(c);i!==-1&&this.keys[n].splice(i,1)}return this}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6G6hZ":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./utils/component"),c=e.interopDefault(n);class i extends c.default{constructor(p){super(p);let{option:h,template:{$layer:b}}=p;this.name="layer",this.$parent=b;for(let E=0;E<h.layers.length;E++)this.add(h.layers[E])}}r.default=i},{"./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3dsEe":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./utils"),c=t("./utils/component"),i=e.interopDefault(c);class l extends i.default{constructor(h){super(h),this.name="loading",(0,n.append)(h.template.$loading,h.icons.loading)}}r.default=l},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],dWGTw:[function(t,u,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var e=t("./utils");r.default=class{constructor(n){this.art=n,this.timer=null}set show(n){let{constructor:c,template:{$player:i,$noticeInner:l}}=this.art;n?(l.innerText=n instanceof Error?n.message.trim():n,(0,e.addClass)(i,"art-notice-show"),clearTimeout(this.timer),this.timer=setTimeout(()=>{l.innerText="",(0,e.removeClass)(i,"art-notice-show")},c.NOTICE_TIME)):(0,e.removeClass)(i,"art-notice-show")}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5POkG":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./utils"),c=t("./utils/component"),i=e.interopDefault(c);class l extends i.default{constructor(h){super(h),this.name="mask";let{template:b,icons:E,events:y}=h,R=(0,n.append)(b.$state,E.state),F=(0,n.append)(b.$state,E.error);(0,n.setStyle)(F,"display","none"),h.on("destroy",()=>{(0,n.setStyle)(R,"display","none"),(0,n.setStyle)(F,"display",null)}),y.proxy(b.$state,"click",()=>h.play())}}r.default=l},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6OeNg":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("../utils"),c=t("bundle-text:./loading.svg"),i=e.interopDefault(c),l=t("bundle-text:./state.svg"),p=e.interopDefault(l),h=t("bundle-text:./check.svg"),b=e.interopDefault(h),E=t("bundle-text:./play.svg"),y=e.interopDefault(E),R=t("bundle-text:./pause.svg"),F=e.interopDefault(R),te=t("bundle-text:./volume.svg"),de=e.interopDefault(te),ee=t("bundle-text:./volume-close.svg"),ve=e.interopDefault(ee),Ae=t("bundle-text:./screenshot.svg"),M=e.interopDefault(Ae),S=t("bundle-text:./setting.svg"),q=e.interopDefault(S),se=t("bundle-text:./arrow-left.svg"),P=e.interopDefault(se),ae=t("bundle-text:./arrow-right.svg"),we=e.interopDefault(ae),$=t("bundle-text:./playback-rate.svg"),ze=e.interopDefault($),Ce=t("bundle-text:./aspect-ratio.svg"),Te=e.interopDefault(Ce),Ye=t("bundle-text:./config.svg"),Ue=e.interopDefault(Ye),De=t("bundle-text:./pip.svg"),We=e.interopDefault(De),lt=t("bundle-text:./lock.svg"),At=e.interopDefault(lt),jt=t("bundle-text:./unlock.svg"),Bt=e.interopDefault(jt),Ie=t("bundle-text:./fullscreen-off.svg"),Ne=e.interopDefault(Ie),Qe=t("bundle-text:./fullscreen-on.svg"),B=e.interopDefault(Qe),Y=t("bundle-text:./fullscreen-web-off.svg"),I=e.interopDefault(Y),L=t("bundle-text:./fullscreen-web-on.svg"),fe=e.interopDefault(L),X=t("bundle-text:./switch-on.svg"),xe=e.interopDefault(X),Ve=t("bundle-text:./switch-off.svg"),Le=e.interopDefault(Ve),Me=t("bundle-text:./flip.svg"),Pe=e.interopDefault(Me),qe=t("bundle-text:./error.svg"),rt=e.interopDefault(qe),Ze=t("bundle-text:./close.svg"),ct=e.interopDefault(Ze),Vt=t("bundle-text:./airplay.svg"),Nt=e.interopDefault(Vt);r.default=class{constructor(Ut){let wt={loading:i.default,state:p.default,play:y.default,pause:F.default,check:b.default,volume:de.default,volumeClose:ve.default,screenshot:M.default,setting:q.default,pip:We.default,arrowLeft:P.default,arrowRight:we.default,playbackRate:ze.default,aspectRatio:Te.default,config:Ue.default,lock:At.default,flip:Pe.default,unlock:Bt.default,fullscreenOff:Ne.default,fullscreenOn:B.default,fullscreenWebOff:I.default,fullscreenWebOn:fe.default,switchOn:xe.default,switchOff:Le.default,error:rt.default,close:ct.default,airplay:Nt.default,...Ut.option.icons};for(let yn in wt)(0,n.def)(this,yn,{get:()=>(0,n.getIcon)(yn,wt[yn])})}}},{"../utils":"71aH7","bundle-text:./loading.svg":"7tDub","bundle-text:./state.svg":"1ElZc","bundle-text:./check.svg":"lmgoP","bundle-text:./play.svg":"lVWoQ","bundle-text:./pause.svg":"5Mnax","bundle-text:./volume.svg":"w3eIa","bundle-text:./volume-close.svg":"rHjo1","bundle-text:./screenshot.svg":"2KcqM","bundle-text:./setting.svg":"8rQMV","bundle-text:./arrow-left.svg":"kqGBE","bundle-text:./arrow-right.svg":"aFjpC","bundle-text:./playback-rate.svg":"lx7ZM","bundle-text:./aspect-ratio.svg":"2sEjf","bundle-text:./config.svg":"fQTgE","bundle-text:./pip.svg":"2CaxO","bundle-text:./lock.svg":"aCGnW","bundle-text:./unlock.svg":"bTrAV","bundle-text:./fullscreen-off.svg":"bA3p0","bundle-text:./fullscreen-on.svg":"fTuY8","bundle-text:./fullscreen-web-off.svg":"tvKf4","bundle-text:./fullscreen-web-on.svg":"1F1oB","bundle-text:./switch-on.svg":"7qNHs","bundle-text:./switch-off.svg":"28aV8","bundle-text:./flip.svg":"1uXI6","bundle-text:./error.svg":"9f4dh","bundle-text:./close.svg":"4nTtS","bundle-text:./airplay.svg":"cDPXC","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7tDub":[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-default"><path fill="none" class="bk" d="M0 0h100v100H0z"/><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-1s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(30 105.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(60 75.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(90 65 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.75s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(120 58.66 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(150 54.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(180 50 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-150 45.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-120 41.34 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-90 35 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.25s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-60 24.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-30 -5.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"/></rect></svg>'},{}],"1ElZc":[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24"><path fill="#fff" d="M9.5 9.325v5.35q0 .575.525.875t1.025-.05l4.15-2.65q.475-.3.475-.85t-.475-.85L11.05 8.5q-.5-.35-1.025-.05t-.525.875ZM12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22Z"/></svg>'},{}],lmgoP:[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"/></svg>'},{}],lVWoQ:[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M17.982 9.275 8.06 3.27A2.013 2.013 0 0 0 5 4.994v12.011a2.017 2.017 0 0 0 3.06 1.725l9.922-6.005a2.017 2.017 0 0 0 0-3.45z"/></svg>'},{}],"5Mnax":[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M7 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2zm8 0a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2z"/></svg>'},{}],w3eIa:[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M10.188 4.65 6 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39V5.04a.498.498 0 0 0-.812-.39zm4.258-.872a1 1 0 0 0-.862 1.804 6.002 6.002 0 0 1-.007 10.838 1 1 0 0 0 .86 1.806A8.001 8.001 0 0 0 19 11a8.001 8.001 0 0 0-4.554-7.222z"/><path d="M15 11a3.998 3.998 0 0 0-2-3.465v6.93A3.998 3.998 0 0 0 15 11z"/></svg>'},{}],rHjo1:[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M15 11a3.998 3.998 0 0 0-2-3.465v2.636l1.865 1.865A4.02 4.02 0 0 0 15 11z"/><path d="M13.583 5.583A5.998 5.998 0 0 1 17 11a6 6 0 0 1-.585 2.587l1.477 1.477a8.001 8.001 0 0 0-3.446-11.286 1 1 0 0 0-.863 1.805zm5.195 13.195-2.121-2.121-1.414-1.414-1.415-1.415L13 13l-2-2-3.889-3.889-3.889-3.889a.999.999 0 1 0-1.414 1.414L5.172 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39v-3.131l2.587 2.587-.01.005a1 1 0 0 0 .86 1.806c.215-.102.424-.214.627-.333l2.3 2.3a1.001 1.001 0 0 0 1.414-1.416zM11 5.04a.5.5 0 0 0-.813-.39L8.682 5.854 11 8.172V5.04z"/></svg>'},{}],"2KcqM":[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 50 50"><path d="M19.402 6a5 5 0 0 0-4.902 4.012L14.098 12H9a5 5 0 0 0-5 5v21a5 5 0 0 0 5 5h32a5 5 0 0 0 5-5V17a5 5 0 0 0-5-5h-5.098l-.402-1.988A5 5 0 0 0 30.598 6ZM25 17c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10Zm0 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8Z"/></svg>'},{}],"8rQMV":[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><circle cx="11" cy="11" r="2"/><path d="M19.164 8.861 17.6 8.6a6.978 6.978 0 0 0-1.186-2.099l.574-1.533a1 1 0 0 0-.436-1.217l-1.997-1.153a1.001 1.001 0 0 0-1.272.23l-1.008 1.225a7.04 7.04 0 0 0-2.55.001L8.716 2.829a1 1 0 0 0-1.272-.23L5.447 3.751a1 1 0 0 0-.436 1.217l.574 1.533A6.997 6.997 0 0 0 4.4 8.6l-1.564.261A.999.999 0 0 0 2 9.847v2.306c0 .489.353.906.836.986l1.613.269a7 7 0 0 0 1.228 2.075l-.558 1.487a1 1 0 0 0 .436 1.217l1.997 1.153c.423.244.961.147 1.272-.23l1.04-1.263a7.089 7.089 0 0 0 2.272 0l1.04 1.263a1 1 0 0 0 1.272.23l1.997-1.153a1 1 0 0 0 .436-1.217l-.557-1.487c.521-.61.94-1.31 1.228-2.075l1.613-.269a.999.999 0 0 0 .835-.986V9.847a.999.999 0 0 0-.836-.986zM11 15a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/></svg>'},{}],kqGBE:[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m19.41 20.09-4.58-4.59 4.58-4.59L18 9.5l-6 6 6 6z" fill="#fff"/></svg>'},{}],aFjpC:[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m12.59 20.34 4.58-4.59-4.58-4.59L14 9.75l6 6-6 6z" fill="#fff"/></svg>'},{}],lx7ZM:[function(t,u,r){u.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M10 8v8l6-4-6-4zM6.3 5l-.6-.8C7.2 3 9 2.2 11 2l.1 1c-1.8.2-3.4.9-4.8 2zM5 6.3l-.8-.6C3 7.2 2.2 9 2 11l1 .1c.2-1.8.9-3.4 2-4.8zm0 11.4c-1.1-1.4-1.8-3.1-2-4.8L2 13c.2 2 1 3.8 2.2 5.4l.8-.7zm6.1 3.3c-1.8-.2-3.4-.9-4.8-2l-.6.8C7.2 21 9 21.8 11 22l.1-1zM22 12c0-5.2-3.9-9.4-9-10l-.1 1c4.6.5 8.1 4.3 8.1 9s-3.5 8.5-8.1 9l.1 1c5.2-.5 9-4.8 9-10z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2sEjf":[function(t,u,r){u.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 88 88" style="width:100%;height:100%;transform:translate(0,0)"><defs><clipPath id="a"><path d="M0 0h88v88H0z"/></clipPath></defs><g style="display:block" clip-path="url('#a')"><path fill="#FFF" d="m12.438-12.702-2.82 2.82c-.79.79-.79 2.05 0 2.83l7.07 7.07-7.07 7.07c-.79.79-.79 2.05 0 2.83l2.82 2.83c.79.78 2.05.78 2.83 0l11.32-11.31c.78-.78.78-2.05 0-2.83l-11.32-11.31c-.78-.79-2.04-.79-2.83 0zm-24.88 0c-.74-.74-1.92-.78-2.7-.12l-.13.12-11.31 11.31a2 2 0 0 0-.12 2.7l.12.13 11.31 11.31a2 2 0 0 0 2.7.12l.13-.12 2.83-2.83c.74-.74.78-1.91.11-2.7l-.11-.13-7.07-7.07 7.07-7.07c.74-.74.78-1.91.11-2.7l-.11-.13-2.83-2.82zM28-28c4.42 0 8 3.58 8 8v40c0 4.42-3.58 8-8 8h-56c-4.42 0-8-3.58-8-8v-40c0-4.42 3.58-8 8-8h56z" style="--darkreader-inline-fill:#a8a6a4" transform="translate(44 44)"/></g></svg>`},{}],fQTgE:[function(t,u,r){u.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M15 17h6v1h-6v-1zm-4 0H3v1h8v2h1v-5h-1v2zm3-9h1V3h-1v2H3v1h11v2zm4-3v1h3V5h-3zM6 14h1V9H6v2H3v1h3v2zm4-2h11v-1H10v1z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2CaxO":[function(t,u,r){u.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" height="32" width="32"><path d="M25 17h-8v6h8v-6Zm4 8V10.98C29 9.88 28.1 9 27 9H9c-1.1 0-2 .88-2 1.98V25c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2Zm-2 .02H9V10.97h18v14.05Z"/></svg>'},{}],aCGnW:[function(t,u,r){u.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M298.667 426.667v-85.334a213.333 213.333 0 1 1 426.666 0v85.334H768A85.333 85.333 0 0 1 853.333 512v256A85.333 85.333 0 0 1 768 853.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667zM512 213.333a128 128 0 0 0-128 128v85.334h256v-85.334a128 128 0 0 0-128-128z" fill="#fff"/></svg>'},{}],bTrAV:[function(t,u,r){u.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="m666.752 194.517-49.365 74.112A128 128 0 0 0 384 341.333l.043 85.334h384A85.333 85.333 0 0 1 853.376 512v256a85.333 85.333 0 0 1-85.333 85.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667v-85.334a213.333 213.333 0 0 1 368.085-146.816z" fill="#fff"/></svg>'},{}],bA3p0:[function(t,u,r){u.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M768 298.667h170.667V384h-256V128H768v170.667zM341.333 384h-256v-85.333H256V128h85.333v256zM768 725.333V896h-85.333V640h256v85.333H768zM341.333 640v256H256V725.333H85.333V640h256z"/></svg>'},{}],fTuY8:[function(t,u,r){u.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M625.778 256H768v142.222h113.778v-256h-256V256zM256 398.222V256h142.222V142.222h-256v256H256zm512 227.556V768H625.778v113.778h256v-256H768zM398.222 768H256V625.778H142.222v256h256V768z"/></svg>'},{}],tvKf4:[function(t,u,r){u.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zM896 512a64 64 0 0 1 7.488 127.552L896 640H768v128a64 64 0 0 1-56.512 63.552L704 832a64 64 0 0 1-63.552-56.512L640 768V582.592c0-34.496 25.024-66.112 61.632-70.208l8-.384H896zm-640 0a64 64 0 0 1-7.488-127.552L256 384h128V256a64 64 0 0 1 56.512-63.552L448 192a64 64 0 0 1 63.552 56.512L512 256v185.408c0 34.432-25.024 66.112-61.632 70.144l-8 .448H256z"/></svg>'},{}],"1F1oB":[function(t,u,r){u.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zm-576 64a64 64 0 0 1 7.488 127.552L448 320H320v128a64 64 0 0 1-56.512 63.552L256 512a64 64 0 0 1-63.552-56.512L192 448V262.592c0-34.432 25.024-66.112 61.632-70.144l8-.448H448zm256 640a64 64 0 0 1-7.488-127.552L704 704h128V576a64 64 0 0 1 56.512-63.552L896 512a64 64 0 0 1 63.552 56.512L960 576v185.408c0 34.496-25.024 66.112-61.632 70.208l-8 .384H704z"/></svg>'},{}],"7qNHs":[function(t,u,r){u.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1664 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#648FFC" d="M1152 0H512a512 512 0 0 0 0 1024h640a512 512 0 0 0 0-1024zm0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z"/></svg>'},{}],"28aV8":[function(t,u,r){u.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1740 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M511.898 1024h670.515c282.419-.41 511.18-229.478 511.18-511.898 0-282.419-228.761-511.488-511.18-511.897H511.898C229.478.615.717 229.683.717 512.102c0 282.42 228.761 511.488 511.18 511.898zm-.564-975.36A464.589 464.589 0 1 1 48.026 513.024 463.872 463.872 0 0 1 511.334 48.435v.205z"/></svg>'},{}],"1uXI6":[function(t,u,r){u.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M554.667 810.667V896h-85.334v-85.333h85.334zm-384-632.662a42.667 42.667 0 0 1 34.986 18.219l203.904 291.328a42.667 42.667 0 0 1 0 48.896L205.611 827.776A42.667 42.667 0 0 1 128 803.328V220.672a42.667 42.667 0 0 1 42.667-42.667zm682.666 0a42.667 42.667 0 0 1 42.368 37.718l.299 4.949v582.656a42.667 42.667 0 0 1-74.24 28.63l-3.413-4.182-203.904-291.328a42.667 42.667 0 0 1-3.03-43.861l3.03-5.035 203.946-291.328a42.667 42.667 0 0 1 34.944-18.219zM554.667 640v85.333h-85.334V640h85.334zm-358.4-320.896V716.8L335.957 512 196.31 319.104zm358.4 150.23v85.333h-85.334v-85.334h85.334zm0-170.667V384h-85.334v-85.333h85.334zm0-170.667v85.333h-85.334V128h85.334z" fill="#fff"/></svg>'},{}],"9f4dh":[function(t,u,r){u.exports='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="50" height="50"><path d="M593.818 168.55 949.82 763.76c26.153 43.746 10.732 99.738-34.447 125.052-14.397 8.069-30.72 12.308-47.37 12.308H155.976c-52.224 0-94.536-40.96-94.536-91.505 0-16.097 4.383-31.928 12.718-45.875l356.004-595.19c26.173-43.724 84.009-58.654 129.208-33.341a93.082 93.082 0 0 1 34.448 33.341zM512 819.2a61.44 61.44 0 1 0 0-122.88 61.44 61.44 0 0 0 0 122.88zm0-512a72.315 72.315 0 0 0-71.762 81.306l25.723 205.721a46.408 46.408 0 0 0 92.078 0l25.723-205.742A72.315 72.315 0 0 0 512 307.2z"/></svg>'},{}],"4nTtS":[function(t,u,r){u.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="m571.733 512 268.8-268.8c17.067-17.067 17.067-42.667 0-59.733-17.066-17.067-42.666-17.067-59.733 0L512 452.267l-268.8-268.8c-17.067-17.067-42.667-17.067-59.733 0-17.067 17.066-17.067 42.666 0 59.733l268.8 268.8-268.8 268.8c-17.067 17.067-17.067 42.667 0 59.733 8.533 8.534 19.2 12.8 29.866 12.8s21.334-4.266 29.867-12.8l268.8-268.8 268.8 268.8c8.533 8.534 19.2 12.8 29.867 12.8s21.333-4.266 29.866-12.8c17.067-17.066 17.067-42.666 0-59.733L571.733 512z"/></svg>'},{}],cDPXC:[function(t,u,r){u.exports='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="M16 1H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h3v-2H3V3h12v8h-2v2h3a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1Z"/><path d="M4 17h10l-5-6z"/></g></svg>'},{}],"3eYNH":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("./flip"),c=e.interopDefault(n),i=t("./aspectRatio"),l=e.interopDefault(i),p=t("./playbackRate"),h=e.interopDefault(p),b=t("./subtitleOffset"),E=e.interopDefault(b),y=t("../utils/component"),R=e.interopDefault(y),F=t("../utils");class te extends R.default{constructor(ee){super(ee);let{option:ve,controls:Ae,template:{$setting:M}}=ee;this.name="setting",this.$parent=M,this.id=0,this.active=null,this.cache=new Map,this.option=[...this.builtin,...ve.settings],ve.setting&&(this.format(),this.render(),ee.on("blur",()=>{this.show&&(this.show=!1,this.render())}),ee.on("focus",S=>{let q=(0,F.includeFromEvent)(S,Ae.setting),se=(0,F.includeFromEvent)(S,this.$parent);!this.show||q||se||(this.show=!1,this.render())}),ee.on("resize",()=>this.resize()))}get builtin(){let ee=[],{option:ve}=this.art;return ve.playbackRate&&ee.push((0,h.default)(this.art)),ve.aspectRatio&&ee.push((0,l.default)(this.art)),ve.flip&&ee.push((0,c.default)(this.art)),ve.subtitleOffset&&ee.push((0,E.default)(this.art)),ee}traverse(ee,ve=this.option){var Ae;for(let M=0;M<ve.length;M++){let S=ve[M];ee(S),(Ae=S.selector)!=null&&Ae.length&&this.traverse.call(this,ee,S.selector)}}check(ee){ee.$parent.tooltip=ee.html,this.traverse(ve=>{ve.default=ve===ee,ve.default&&ve.$item&&(0,F.inverseClass)(ve.$item,"art-current")},ee.$option),this.render(ee.$parents)}format(ee=this.option,ve,Ae,M=[]){for(let S=0;S<ee.length;S++){let q=ee[S];if(q!=null&&q.name?((0,F.errorHandle)(!M.includes(q.name),`The [${q.name}] is already exist in [setting]`),M.push(q.name)):q.name=`setting-${this.id++}`,!q.$formatted){(0,F.def)(q,"$parent",{get:()=>ve}),(0,F.def)(q,"$parents",{get:()=>Ae}),(0,F.def)(q,"$option",{get:()=>ee});let se=[];(0,F.def)(q,"$events",{get:()=>se}),(0,F.def)(q,"$formatted",{get:()=>!0})}this.format(q.selector||[],q,ee,M)}this.option=ee}find(ee=""){let ve=null;return this.traverse(Ae=>{Ae.name===ee&&(ve=Ae)}),ve}resize(){var q,se;let{controls:ee,constructor:{SETTING_WIDTH:ve,SETTING_ITEM_HEIGHT:Ae},template:{$player:M,$setting:S}}=this.art;if(ee.setting&&this.show){let P=((se=(q=this.active[0])==null?void 0:q.$parent)==null?void 0:se.width)||ve,{left:ae,width:we}=(0,F.getRect)(ee.setting),{left:$,width:ze}=(0,F.getRect)(M),Ce=ae-$+we/2-P/2,Te=this.active===this.option?this.active.length*Ae:(this.active.length+1)*Ae;(0,F.setStyle)(S,"height",`${Te}px`),(0,F.setStyle)(S,"width",`${P}px`),Ce+P>ze?((0,F.setStyle)(S,"left",null),(0,F.setStyle)(S,"right",null)):((0,F.setStyle)(S,"left",`${Ce}px`),(0,F.setStyle)(S,"right","auto"))}}inactivate(ee){for(let ve=0;ve<ee.$events.length;ve++)this.art.events.remove(ee.$events[ve]);ee.$events.length=0}remove(ee){let ve=this.find(ee);(0,F.errorHandle)(ve,`Can't find [${ee}] in the [setting]`);let Ae=ve.$option.indexOf(ve);ve.$option.splice(Ae,1),this.inactivate(ve),ve.$item&&(0,F.remove)(ve.$item),this.render()}update(ee){let ve=this.find(ee.name);return ve?(this.inactivate(ve),Object.assign(ve,ee),this.format(),this.creatItem(ve,!0),this.render(),ve):this.add(ee)}add(ee,ve=this.option){return ve.push(ee),this.format(),this.creatItem(ee),this.render(),ee}creatHeader(ee){if(!this.cache.has(ee.$option))return;let ve=this.cache.get(ee.$option),{proxy:Ae,icons:{arrowLeft:M},constructor:{SETTING_ITEM_HEIGHT:S}}=this.art,q=(0,F.createElement)("div");(0,F.setStyle)(q,"height",`${S}px`),(0,F.addClass)(q,"art-setting-item"),(0,F.addClass)(q,"art-setting-item-back");let se=(0,F.append)(q,'<div class="art-setting-item-left"></div>'),P=(0,F.createElement)("div");(0,F.addClass)(P,"art-setting-item-left-icon"),(0,F.append)(P,M),(0,F.append)(se,P),(0,F.append)(se,ee.$parent.html);let ae=Ae(q,"click",()=>this.render(ee.$parents));ee.$parent.$events.push(ae),(0,F.append)(ve,q)}creatItem(ee,ve=!1){var Ye,Ue;if(!this.cache.has(ee.$option))return;let Ae=this.cache.get(ee.$option),M=ee.$item,S="selector";(0,F.has)(ee,"switch")&&(S="switch"),(0,F.has)(ee,"range")&&(S="range");let{icons:q,proxy:se,constructor:P}=this.art,ae=(0,F.createElement)("div");(0,F.addClass)(ae,"art-setting-item"),(0,F.setStyle)(ae,"height",`${P.SETTING_ITEM_HEIGHT}px`),ae.dataset.name=ee.name||"",ae.dataset.value=ee.value||"";let we=(0,F.append)(ae,'<div class="art-setting-item-left"></div>'),$=(0,F.append)(ae,'<div class="art-setting-item-right"></div>'),ze=(0,F.createElement)("div");switch((0,F.addClass)(ze,"art-setting-item-left-icon"),S){case"switch":case"range":(0,F.append)(ze,ee.icon||q.config);break;case"selector":(Ye=ee.selector)!=null&&Ye.length?(0,F.append)(ze,ee.icon||q.config):(0,F.append)(ze,q.check)}(0,F.append)(we,ze),(0,F.def)(ee,"$icon",{configurable:!0,get:()=>ze}),(0,F.def)(ee,"icon",{configurable:!0,get:()=>ze.innerHTML,set(De){ze.innerHTML="",(0,F.append)(ze,De)}});let Ce=(0,F.createElement)("div");(0,F.addClass)(Ce,"art-setting-item-left-text"),(0,F.append)(Ce,ee.html||""),(0,F.append)(we,Ce),(0,F.def)(ee,"$html",{configurable:!0,get:()=>Ce}),(0,F.def)(ee,"html",{configurable:!0,get:()=>Ce.innerHTML,set(De){Ce.innerHTML="",(0,F.append)(Ce,De)}});let Te=(0,F.createElement)("div");switch((0,F.addClass)(Te,"art-setting-item-right-tooltip"),(0,F.append)(Te,ee.tooltip||""),(0,F.append)($,Te),(0,F.def)(ee,"$tooltip",{configurable:!0,get:()=>Te}),(0,F.def)(ee,"tooltip",{configurable:!0,get:()=>Te.innerHTML,set(De){Te.innerHTML="",(0,F.append)(Te,De)}}),S){case"switch":{let De=(0,F.createElement)("div");(0,F.addClass)(De,"art-setting-item-right-icon");let We=(0,F.append)(De,q.switchOn),lt=(0,F.append)(De,q.switchOff);(0,F.setStyle)(ee.switch?lt:We,"display","none"),(0,F.append)($,De),(0,F.def)(ee,"$switch",{configurable:!0,get:()=>De});let At=ee.switch;(0,F.def)(ee,"switch",{configurable:!0,get:()=>At,set(jt){At=jt,jt?((0,F.setStyle)(lt,"display","none"),(0,F.setStyle)(We,"display",null)):((0,F.setStyle)(lt,"display",null),(0,F.setStyle)(We,"display","none"))}});break}case"range":{let De=(0,F.createElement)("div");(0,F.addClass)(De,"art-setting-item-right-icon");let We=(0,F.append)(De,'<input type="range">');We.value=ee.range[0],We.min=ee.range[1],We.max=ee.range[2],We.step=ee.range[3],(0,F.addClass)(We,"art-setting-range"),(0,F.append)($,De),(0,F.def)(ee,"$range",{configurable:!0,get:()=>We});let lt=[...ee.range];(0,F.def)(ee,"range",{configurable:!0,get:()=>lt,set(At){lt=[...At],We.value=At[0],We.min=At[1],We.max=At[2],We.step=At[3]}})}break;case"selector":if((Ue=ee.selector)!=null&&Ue.length){let De=(0,F.createElement)("div");(0,F.addClass)(De,"art-setting-item-right-icon"),(0,F.append)(De,q.arrowRight),(0,F.append)($,De)}}switch(S){case"switch":if(ee.onSwitch){let De=se(ae,"click",async We=>{ee.switch=await ee.onSwitch.call(this.art,ee,ae,We)});ee.$events.push(De)}break;case"range":if(ee.$range){if(ee.onRange){let De=se(ee.$range,"change",async We=>{ee.range[0]=ee.$range.valueAsNumber,ee.tooltip=await ee.onRange.call(this.art,ee,ae,We)});ee.$events.push(De)}if(ee.onChange){let De=se(ee.$range,"input",async We=>{ee.range[0]=ee.$range.valueAsNumber,ee.tooltip=await ee.onChange.call(this.art,ee,ae,We)});ee.$events.push(De)}}break;case"selector":{let De=se(ae,"click",async We=>{var lt;(lt=ee.selector)!=null&&lt.length?this.render(ee.selector):(this.check(ee),ee.$parent.onSelect&&(ee.$parent.tooltip=await ee.$parent.onSelect.call(this.art,ee,ae,We)))});ee.$events.push(De),ee.default&&(0,F.addClass)(ae,"art-current")}}(0,F.def)(ee,"$item",{configurable:!0,get:()=>ae}),ve?(0,F.replaceElement)(ae,M):(0,F.append)(Ae,ae),ee.mounted&&setTimeout(()=>ee.mounted.call(this.art,ee.$item,ee),0)}render(ee=this.option){var ve;if(this.active=ee,this.cache.has(ee)){let Ae=this.cache.get(ee);(0,F.inverseClass)(Ae,"art-current")}else{let Ae=(0,F.createElement)("div");this.cache.set(ee,Ae),(0,F.addClass)(Ae,"art-setting-panel"),(0,F.append)(this.$parent,Ae),(0,F.inverseClass)(Ae,"art-current"),(ve=ee[0])!=null&&ve.$parent&&this.creatHeader(ee[0]);for(let M=0;M<ee.length;M++)this.creatItem(ee[M])}this.resize()}}r.default=te},{"./flip":"kONUB","./aspectRatio":"84NBV","./playbackRate":"aetWt","./subtitleOffset":"fIBkO","../utils/component":"18nVI","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kONUB:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{i18n:l,icons:p,constructor:{SETTING_ITEM_WIDTH:h,FLIP:b}}=i;function E(R){return l.get((0,n.capitalize)(R))}function y(){let R=i.setting.find(`flip-${i.flip}`);i.setting.check(R)}return{width:h,name:"flip",html:l.get("Video Flip"),tooltip:E(i.flip),icon:p.flip,selector:b.map(R=>({value:R,name:`flip-${R}`,default:R===i.flip,html:E(R)})),onSelect:R=>(i.flip=R.value,R.html),mounted:()=>{y(),i.on("flip",()=>y())}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"84NBV":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c){let{i18n:i,icons:l,constructor:{SETTING_ITEM_WIDTH:p,ASPECT_RATIO:h}}=c;function b(y){return y==="default"?i.get("Default"):y}function E(){let y=c.setting.find(`aspect-ratio-${c.aspectRatio}`);c.setting.check(y)}return{width:p,name:"aspect-ratio",html:i.get("Aspect Ratio"),icon:l.aspectRatio,tooltip:b(c.aspectRatio),selector:h.map(y=>({value:y,name:`aspect-ratio-${y}`,default:y===c.aspectRatio,html:b(y)})),onSelect:y=>(c.aspectRatio=y.value,y.html),mounted:()=>{E(),c.on("aspectRatio",()=>E())}}}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],aetWt:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c){let{i18n:i,icons:l,constructor:{SETTING_ITEM_WIDTH:p,PLAYBACK_RATE:h}}=c;function b(y){return y===1?i.get("Normal"):y.toFixed(1)}function E(){let y=c.setting.find(`playback-rate-${c.playbackRate}`);c.setting.check(y)}return{width:p,name:"playback-rate",html:i.get("Play Speed"),tooltip:b(c.playbackRate),icon:l.playbackRate,selector:h.map(y=>({value:y,name:`playback-rate-${y}`,default:y===c.playbackRate,html:b(y)})),onSelect:y=>(c.playbackRate=y.value,y.html),mounted:()=>{E(),c.on("video:ratechange",()=>E())}}}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fIBkO:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");function n(c){let{i18n:i,icons:l,constructor:p}=c;return{width:p.SETTING_ITEM_WIDTH,name:"subtitle-offset",html:i.get("Subtitle Offset"),icon:l.subtitle,tooltip:"0s",range:[0,-10,10,.1],onChange:h=>(c.subtitleOffset=h.range[0],h.range[0]+"s"),mounted:(h,b)=>{c.on("subtitleOffset",E=>{b.$range.value=E,b.tooltip=E+"s"})}}}e.defineInteropFlag(r),e.export(r,"default",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2aaJe":[function(t,u,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=class{constructor(){this.name="artplayer_settings",this.settings={}}get(e){try{let n=JSON.parse(window.localStorage.getItem(this.name))||{};return e?n[e]:n}catch{return e?this.settings[e]:this.settings}}set(e,n){try{let c=Object.assign({},this.get(),{[e]:n});window.localStorage.setItem(this.name,JSON.stringify(c))}catch{this.settings[e]=n}}del(e){try{let n=this.get();delete n[e],window.localStorage.setItem(this.name,JSON.stringify(n))}catch{delete this.settings[e]}}clear(){try{window.localStorage.removeItem(this.name)}catch{this.settings={}}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8MTUM":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r);var n=t("../utils"),c=t("./miniProgressBar"),i=e.interopDefault(c),l=t("./autoOrientation"),p=e.interopDefault(l),h=t("./autoPlayback"),b=e.interopDefault(h),E=t("./fastForward"),y=e.interopDefault(E),R=t("./lock"),F=e.interopDefault(R);r.default=class{constructor(te){this.art=te,this.id=0;let{option:de}=te;de.miniProgressBar&&!de.isLive&&this.add(i.default),de.lock&&n.isMobile&&this.add(F.default),de.autoPlayback&&!de.isLive&&this.add(b.default),de.autoOrientation&&n.isMobile&&this.add(p.default),de.fastForward&&n.isMobile&&!de.isLive&&this.add(y.default);for(let ee=0;ee<de.plugins.length;ee++)this.add(de.plugins[ee])}add(te){this.id+=1;let de=te.call(this.art,this.art);return de instanceof Promise?de.then(ee=>this.next(te,ee)):this.next(te,de)}next(te,de){let ee=de&&de.name||te.name||`plugin${this.id}`;return(0,n.errorHandle)(!(0,n.has)(this,ee),`Cannot add a plugin that already has the same name: ${ee}`),(0,n.def)(this,ee,{value:de}),this}}},{"../utils":"71aH7","./miniProgressBar":"87pSL","./autoOrientation":"ePEg5","./autoPlayback":"cVO99","./fastForward":"hFDwt","./lock":"1hsTH","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"87pSL":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){return i.on("control",l=>{l?(0,n.removeClass)(i.template.$player,"art-mini-progress-bar"):(0,n.addClass)(i.template.$player,"art-mini-progress-bar")}),{name:"mini-progress-bar"}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ePEg5:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{constructor:l,template:{$player:p,$video:h}}=i;return i.on("fullscreenWeb",b=>{if(b){let{videoWidth:E,videoHeight:y}=h,{clientWidth:R,clientHeight:F}=document.documentElement;(E>y&&R<F||E<y&&R>F)&&setTimeout(()=>{(0,n.setStyle)(p,"width",`${F}px`),(0,n.setStyle)(p,"height",`${R}px`),(0,n.setStyle)(p,"transform-origin","0 0"),(0,n.setStyle)(p,"transform",`rotate(90deg) translate(0, -${R}px)`),(0,n.addClass)(p,"art-auto-orientation"),i.isRotate=!0,i.emit("resize")},l.AUTO_ORIENTATION_TIME)}else(0,n.hasClass)(p,"art-auto-orientation")&&((0,n.removeClass)(p,"art-auto-orientation"),i.isRotate=!1,i.emit("resize"))}),i.on("fullscreen",async b=>{var y;if(!((y=screen==null?void 0:screen.orientation)!=null&&y.lock))return;let E=screen.orientation.type;if(b){let{videoWidth:R,videoHeight:F}=h,{clientWidth:te,clientHeight:de}=document.documentElement;if(R>F&&te<de||R<F&&te>de){let ee=E.startsWith("portrait")?"landscape":"portrait";await screen.orientation.lock(ee),(0,n.addClass)(p,"art-auto-orientation-fullscreen")}}else(0,n.hasClass)(p,"art-auto-orientation-fullscreen")&&(await screen.orientation.lock(E),(0,n.removeClass)(p,"art-auto-orientation-fullscreen"))}),{name:"autoOrientation",get state(){return(0,n.hasClass)(p,"art-auto-orientation")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cVO99:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{i18n:l,icons:p,storage:h,constructor:b,proxy:E,template:{$poster:y}}=i,R=i.layers.add({name:"auto-playback",html:'<div class="art-auto-playback-close"></div><div class="art-auto-playback-last"></div><div class="art-auto-playback-jump"></div>'}),F=(0,n.query)(".art-auto-playback-last",R),te=(0,n.query)(".art-auto-playback-jump",R),de=(0,n.query)(".art-auto-playback-close",R);(0,n.append)(de,p.close);let ee=null;function ve(){let Ae=(h.get("times")||{})[i.option.id||i.option.url];clearTimeout(ee),(0,n.setStyle)(R,"display","none"),Ae&&Ae>=b.AUTO_PLAYBACK_MIN&&((0,n.setStyle)(R,"display","flex"),F.innerText=`${l.get("Last Seen")} ${(0,n.secondToTime)(Ae)}`,te.innerText=l.get("Jump Play"),E(de,"click",()=>{(0,n.setStyle)(R,"display","none")}),E(te,"click",()=>{i.seek=Ae,i.play(),(0,n.setStyle)(y,"display","none"),(0,n.setStyle)(R,"display","none")}),i.once("video:timeupdate",()=>{ee=setTimeout(()=>{(0,n.setStyle)(R,"display","none")},b.AUTO_PLAYBACK_TIMEOUT)}))}return i.on("video:timeupdate",()=>{if(i.playing){let Ae=h.get("times")||{},M=Object.keys(Ae);M.length>b.AUTO_PLAYBACK_MAX&&delete Ae[M[0]],Ae[i.option.id||i.option.url]=i.currentTime,h.set("times",Ae)}}),i.on("ready",ve),i.on("restart",ve),{name:"auto-playback",get times(){return h.get("times")||{}},clear:()=>h.del("times"),delete(Ae){let M=h.get("times")||{};return delete M[Ae],h.set("times",M),M}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hFDwt:[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{constructor:l,proxy:p,template:{$player:h,$video:b}}=i,E=null,y=!1,R=1,F=()=>{clearTimeout(E),y&&(y=!1,i.playbackRate=R,(0,n.removeClass)(h,"art-fast-forward"))};return p(b,"touchstart",te=>{te.touches.length===1&&i.playing&&!i.isLock&&(E=setTimeout(()=>{y=!0,R=i.playbackRate,i.playbackRate=l.FAST_FORWARD_VALUE,(0,n.addClass)(h,"art-fast-forward")},l.FAST_FORWARD_TIME))}),p(document,"touchmove",F),p(document,"touchend",F),{name:"fastForward",get state(){return(0,n.hasClass)(h,"art-fast-forward")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1hsTH":[function(t,u,r){var e=t("@parcel/transformer-js/src/esmodule-helpers.js");e.defineInteropFlag(r),e.export(r,"default",()=>c);var n=t("../utils");function c(i){let{layers:l,icons:p,template:{$player:h}}=i;function b(){return(0,n.hasClass)(h,"art-lock")}function E(){(0,n.addClass)(h,"art-lock"),i.isLock=!0,i.emit("lock",!0)}function y(){(0,n.removeClass)(h,"art-lock"),i.isLock=!1,i.emit("lock",!1)}return l.add({name:"lock",mounted(R){let F=(0,n.append)(R,p.lock),te=(0,n.append)(R,p.unlock);(0,n.setStyle)(F,"display","none"),i.on("lock",de=>{de?((0,n.setStyle)(F,"display","inline-flex"),(0,n.setStyle)(te,"display","none")):((0,n.setStyle)(F,"display","none"),(0,n.setStyle)(te,"display","inline-flex"))})},click(){b()?y():E()}}),{name:"lock",get state(){return b()},set state(R){R?E():y()}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}]},["5lTcX"],"5lTcX","parcelRequire4dc0")})(Oi,Oi.exports);var Ig=Oi.exports;const Ag=uc(Ig);/*! For license information please see dash.all.min.js.LICENSE.txt */var Rg={7267:function(_,f){f.byteLength=function(l){var p=c(l),h=p[0],b=p[1];return 3*(h+b)/4-b},f.toByteArray=function(l){var p,h,b=c(l),E=b[0],y=b[1],R=new r(function(de,ee,ve){return 3*(ee+ve)/4-ve}(0,E,y)),F=0,te=y>0?E-4:E;for(h=0;h<te;h+=4)p=u[l.charCodeAt(h)]<<18|u[l.charCodeAt(h+1)]<<12|u[l.charCodeAt(h+2)]<<6|u[l.charCodeAt(h+3)],R[F++]=p>>16&255,R[F++]=p>>8&255,R[F++]=255&p;return y===2&&(p=u[l.charCodeAt(h)]<<2|u[l.charCodeAt(h+1)]>>4,R[F++]=255&p),y===1&&(p=u[l.charCodeAt(h)]<<10|u[l.charCodeAt(h+1)]<<4|u[l.charCodeAt(h+2)]>>2,R[F++]=p>>8&255,R[F++]=255&p),R},f.fromByteArray=function(l){for(var p,h=l.length,b=h%3,E=[],y=16383,R=0,F=h-b;R<F;R+=y)E.push(i(l,R,R+y>F?F:R+y));return b===1?(p=l[h-1],E.push(t[p>>2]+t[p<<4&63]+"==")):b===2&&(p=(l[h-2]<<8)+l[h-1],E.push(t[p>>10]+t[p>>4&63]+t[p<<2&63]+"=")),E.join("")};for(var t=[],u=[],r=typeof Uint8Array<"u"?Uint8Array:Array,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0;n<64;++n)t[n]=e[n],u[e.charCodeAt(n)]=n;function c(l){var p=l.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=l.indexOf("=");return h===-1&&(h=p),[h,h===p?0:4-h%4]}function i(l,p,h){for(var b,E,y=[],R=p;R<h;R+=3)b=(l[R]<<16&16711680)+(l[R+1]<<8&65280)+(255&l[R+2]),y.push(t[(E=b)>>18&63]+t[E>>12&63]+t[E>>6&63]+t[63&E]);return y.join("")}u[45]=62,u[95]=63},44:function(_,f,t){var u=t(7267),r=t(7986),e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;f.Buffer=i,f.SlowBuffer=function(B){return+B!=B&&(B=0),i.alloc(+B)},f.INSPECT_MAX_BYTES=50;var n=2147483647;function c(B){if(B>n)throw new RangeError('The value "'+B+'" is invalid for option "size"');var Y=new Uint8Array(B);return Object.setPrototypeOf(Y,i.prototype),Y}function i(B,Y,I){if(typeof B=="number"){if(typeof Y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(B)}return l(B,Y,I)}function l(B,Y,I){if(typeof B=="string")return function(X,xe){if(typeof xe=="string"&&xe!==""||(xe="utf8"),!i.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);var Ve=0|R(X,xe),Le=c(Ve),Me=Le.write(X,xe);return Me!==Ve&&(Le=Le.slice(0,Me)),Le}(B,Y);if(ArrayBuffer.isView(B))return function(X){if(Ie(X,Uint8Array)){var xe=new Uint8Array(X);return E(xe.buffer,xe.byteOffset,xe.byteLength)}return b(X)}(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Ie(B,ArrayBuffer)||B&&Ie(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ie(B,SharedArrayBuffer)||B&&Ie(B.buffer,SharedArrayBuffer)))return E(B,Y,I);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var L=B.valueOf&&B.valueOf();if(L!=null&&L!==B)return i.from(L,Y,I);var fe=function(X){if(i.isBuffer(X)){var xe=0|y(X.length),Ve=c(xe);return Ve.length===0||X.copy(Ve,0,0,xe),Ve}return X.length!==void 0?typeof X.length!="number"||Ne(X.length)?c(0):b(X):X.type==="Buffer"&&Array.isArray(X.data)?b(X.data):void 0}(B);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return i.from(B[Symbol.toPrimitive]("string"),Y,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function p(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function h(B){return p(B),c(B<0?0:0|y(B))}function b(B){for(var Y=B.length<0?0:0|y(B.length),I=c(Y),L=0;L<Y;L+=1)I[L]=255&B[L];return I}function E(B,Y,I){if(Y<0||B.byteLength<Y)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<Y+(I||0))throw new RangeError('"length" is outside of buffer bounds');var L;return L=Y===void 0&&I===void 0?new Uint8Array(B):I===void 0?new Uint8Array(B,Y):new Uint8Array(B,Y,I),Object.setPrototypeOf(L,i.prototype),L}function y(B){if(B>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|B}function R(B,Y){if(i.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Ie(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var I=B.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&I===0)return 0;for(var fe=!1;;)switch(Y){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return At(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*I;case"hex":return I>>>1;case"base64":return jt(B).length;default:if(fe)return L?-1:At(B).length;Y=(""+Y).toLowerCase(),fe=!0}}function F(B,Y,I){var L=!1;if((Y===void 0||Y<0)&&(Y=0),Y>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0)<=(Y>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return ze(this,Y,I);case"utf8":case"utf-8":return P(this,Y,I);case"ascii":return we(this,Y,I);case"latin1":case"binary":return $(this,Y,I);case"base64":return se(this,Y,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,Y,I);default:if(L)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),L=!0}}function te(B,Y,I){var L=B[Y];B[Y]=B[I],B[I]=L}function de(B,Y,I,L,fe){if(B.length===0)return-1;if(typeof I=="string"?(L=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),Ne(I=+I)&&(I=fe?0:B.length-1),I<0&&(I=B.length+I),I>=B.length){if(fe)return-1;I=B.length-1}else if(I<0){if(!fe)return-1;I=0}if(typeof Y=="string"&&(Y=i.from(Y,L)),i.isBuffer(Y))return Y.length===0?-1:ee(B,Y,I,L,fe);if(typeof Y=="number")return Y&=255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(B,Y,I):Uint8Array.prototype.lastIndexOf.call(B,Y,I):ee(B,[Y],I,L,fe);throw new TypeError("val must be string, number or Buffer")}function ee(B,Y,I,L,fe){var X,xe=1,Ve=B.length,Le=Y.length;if(L!==void 0&&((L=String(L).toLowerCase())==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(B.length<2||Y.length<2)return-1;xe=2,Ve/=2,Le/=2,I/=2}function Me(Ze,ct){return xe===1?Ze[ct]:Ze.readUInt16BE(ct*xe)}if(fe){var Pe=-1;for(X=I;X<Ve;X++)if(Me(B,X)===Me(Y,Pe===-1?0:X-Pe)){if(Pe===-1&&(Pe=X),X-Pe+1===Le)return Pe*xe}else Pe!==-1&&(X-=X-Pe),Pe=-1}else for(I+Le>Ve&&(I=Ve-Le),X=I;X>=0;X--){for(var qe=!0,rt=0;rt<Le;rt++)if(Me(B,X+rt)!==Me(Y,rt)){qe=!1;break}if(qe)return X}return-1}function ve(B,Y,I,L){I=Number(I)||0;var fe=B.length-I;L?(L=Number(L))>fe&&(L=fe):L=fe;var X=Y.length;L>X/2&&(L=X/2);for(var xe=0;xe<L;++xe){var Ve=parseInt(Y.substr(2*xe,2),16);if(Ne(Ve))return xe;B[I+xe]=Ve}return xe}function Ae(B,Y,I,L){return Bt(At(Y,B.length-I),B,I,L)}function M(B,Y,I,L){return Bt(function(fe){for(var X=[],xe=0;xe<fe.length;++xe)X.push(255&fe.charCodeAt(xe));return X}(Y),B,I,L)}function S(B,Y,I,L){return Bt(jt(Y),B,I,L)}function q(B,Y,I,L){return Bt(function(fe,X){for(var xe,Ve,Le,Me=[],Pe=0;Pe<fe.length&&!((X-=2)<0);++Pe)Ve=(xe=fe.charCodeAt(Pe))>>8,Le=xe%256,Me.push(Le),Me.push(Ve);return Me}(Y,B.length-I),B,I,L)}function se(B,Y,I){return Y===0&&I===B.length?u.fromByteArray(B):u.fromByteArray(B.slice(Y,I))}function P(B,Y,I){I=Math.min(B.length,I);for(var L=[],fe=Y;fe<I;){var X,xe,Ve,Le,Me=B[fe],Pe=null,qe=Me>239?4:Me>223?3:Me>191?2:1;if(fe+qe<=I)switch(qe){case 1:Me<128&&(Pe=Me);break;case 2:(192&(X=B[fe+1]))==128&&(Le=(31&Me)<<6|63&X)>127&&(Pe=Le);break;case 3:X=B[fe+1],xe=B[fe+2],(192&X)==128&&(192&xe)==128&&(Le=(15&Me)<<12|(63&X)<<6|63&xe)>2047&&(Le<55296||Le>57343)&&(Pe=Le);break;case 4:X=B[fe+1],xe=B[fe+2],Ve=B[fe+3],(192&X)==128&&(192&xe)==128&&(192&Ve)==128&&(Le=(15&Me)<<18|(63&X)<<12|(63&xe)<<6|63&Ve)>65535&&Le<1114112&&(Pe=Le)}Pe===null?(Pe=65533,qe=1):Pe>65535&&(Pe-=65536,L.push(Pe>>>10&1023|55296),Pe=56320|1023&Pe),L.push(Pe),fe+=qe}return function(rt){var Ze=rt.length;if(Ze<=ae)return String.fromCharCode.apply(String,rt);for(var ct="",Vt=0;Vt<Ze;)ct+=String.fromCharCode.apply(String,rt.slice(Vt,Vt+=ae));return ct}(L)}f.kMaxLength=n,i.TYPED_ARRAY_SUPPORT=function(){try{var B=new Uint8Array(1),Y={foo:function(){return 42}};return Object.setPrototypeOf(Y,Uint8Array.prototype),Object.setPrototypeOf(B,Y),B.foo()===42}catch{return!1}}(),i.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(B,Y,I){return l(B,Y,I)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(B,Y,I){return function(L,fe,X){return p(L),L<=0?c(L):fe!==void 0?typeof X=="string"?c(L).fill(fe,X):c(L).fill(fe):c(L)}(B,Y,I)},i.allocUnsafe=function(B){return h(B)},i.allocUnsafeSlow=function(B){return h(B)},i.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==i.prototype},i.compare=function(B,Y){if(Ie(B,Uint8Array)&&(B=i.from(B,B.offset,B.byteLength)),Ie(Y,Uint8Array)&&(Y=i.from(Y,Y.offset,Y.byteLength)),!i.isBuffer(B)||!i.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===Y)return 0;for(var I=B.length,L=Y.length,fe=0,X=Math.min(I,L);fe<X;++fe)if(B[fe]!==Y[fe]){I=B[fe],L=Y[fe];break}return I<L?-1:L<I?1:0},i.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(B,Y){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return i.alloc(0);var I;if(Y===void 0)for(Y=0,I=0;I<B.length;++I)Y+=B[I].length;var L=i.allocUnsafe(Y),fe=0;for(I=0;I<B.length;++I){var X=B[I];if(Ie(X,Uint8Array))fe+X.length>L.length?i.from(X).copy(L,fe):Uint8Array.prototype.set.call(L,X,fe);else{if(!i.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(L,fe)}fe+=X.length}return L},i.byteLength=R,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var B=this.length;if(B%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Y=0;Y<B;Y+=2)te(this,Y,Y+1);return this},i.prototype.swap32=function(){var B=this.length;if(B%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Y=0;Y<B;Y+=4)te(this,Y,Y+3),te(this,Y+1,Y+2);return this},i.prototype.swap64=function(){var B=this.length;if(B%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Y=0;Y<B;Y+=8)te(this,Y,Y+7),te(this,Y+1,Y+6),te(this,Y+2,Y+5),te(this,Y+3,Y+4);return this},i.prototype.toString=function(){var B=this.length;return B===0?"":arguments.length===0?P(this,0,B):F.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(B){if(!i.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B||i.compare(this,B)===0},i.prototype.inspect=function(){var B="",Y=f.INSPECT_MAX_BYTES;return B=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(B+=" ... "),"<Buffer "+B+">"},e&&(i.prototype[e]=i.prototype.inspect),i.prototype.compare=function(B,Y,I,L,fe){if(Ie(B,Uint8Array)&&(B=i.from(B,B.offset,B.byteLength)),!i.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(Y===void 0&&(Y=0),I===void 0&&(I=B?B.length:0),L===void 0&&(L=0),fe===void 0&&(fe=this.length),Y<0||I>B.length||L<0||fe>this.length)throw new RangeError("out of range index");if(L>=fe&&Y>=I)return 0;if(L>=fe)return-1;if(Y>=I)return 1;if(this===B)return 0;for(var X=(fe>>>=0)-(L>>>=0),xe=(I>>>=0)-(Y>>>=0),Ve=Math.min(X,xe),Le=this.slice(L,fe),Me=B.slice(Y,I),Pe=0;Pe<Ve;++Pe)if(Le[Pe]!==Me[Pe]){X=Le[Pe],xe=Me[Pe];break}return X<xe?-1:xe<X?1:0},i.prototype.includes=function(B,Y,I){return this.indexOf(B,Y,I)!==-1},i.prototype.indexOf=function(B,Y,I){return de(this,B,Y,I,!0)},i.prototype.lastIndexOf=function(B,Y,I){return de(this,B,Y,I,!1)},i.prototype.write=function(B,Y,I,L){if(Y===void 0)L="utf8",I=this.length,Y=0;else if(I===void 0&&typeof Y=="string")L=Y,I=this.length,Y=0;else{if(!isFinite(Y))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Y>>>=0,isFinite(I)?(I>>>=0,L===void 0&&(L="utf8")):(L=I,I=void 0)}var fe=this.length-Y;if((I===void 0||I>fe)&&(I=fe),B.length>0&&(I<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");for(var X=!1;;)switch(L){case"hex":return ve(this,B,Y,I);case"utf8":case"utf-8":return Ae(this,B,Y,I);case"ascii":case"latin1":case"binary":return M(this,B,Y,I);case"base64":return S(this,B,Y,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,B,Y,I);default:if(X)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),X=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ae=4096;function we(B,Y,I){var L="";I=Math.min(B.length,I);for(var fe=Y;fe<I;++fe)L+=String.fromCharCode(127&B[fe]);return L}function $(B,Y,I){var L="";I=Math.min(B.length,I);for(var fe=Y;fe<I;++fe)L+=String.fromCharCode(B[fe]);return L}function ze(B,Y,I){var L=B.length;(!Y||Y<0)&&(Y=0),(!I||I<0||I>L)&&(I=L);for(var fe="",X=Y;X<I;++X)fe+=Qe[B[X]];return fe}function Ce(B,Y,I){for(var L=B.slice(Y,I),fe="",X=0;X<L.length-1;X+=2)fe+=String.fromCharCode(L[X]+256*L[X+1]);return fe}function Te(B,Y,I){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+Y>I)throw new RangeError("Trying to access beyond buffer length")}function Ye(B,Y,I,L,fe,X){if(!i.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(Y>fe||Y<X)throw new RangeError('"value" argument is out of bounds');if(I+L>B.length)throw new RangeError("Index out of range")}function Ue(B,Y,I,L,fe,X){if(I+L>B.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function De(B,Y,I,L,fe){return Y=+Y,I>>>=0,fe||Ue(B,0,I,4),r.write(B,Y,I,L,23,4),I+4}function We(B,Y,I,L,fe){return Y=+Y,I>>>=0,fe||Ue(B,0,I,8),r.write(B,Y,I,L,52,8),I+8}i.prototype.slice=function(B,Y){var I=this.length;(B=~~B)<0?(B+=I)<0&&(B=0):B>I&&(B=I),(Y=Y===void 0?I:~~Y)<0?(Y+=I)<0&&(Y=0):Y>I&&(Y=I),Y<B&&(Y=B);var L=this.subarray(B,Y);return Object.setPrototypeOf(L,i.prototype),L},i.prototype.readUintLE=i.prototype.readUIntLE=function(B,Y,I){B>>>=0,Y>>>=0,I||Te(B,Y,this.length);for(var L=this[B],fe=1,X=0;++X<Y&&(fe*=256);)L+=this[B+X]*fe;return L},i.prototype.readUintBE=i.prototype.readUIntBE=function(B,Y,I){B>>>=0,Y>>>=0,I||Te(B,Y,this.length);for(var L=this[B+--Y],fe=1;Y>0&&(fe*=256);)L+=this[B+--Y]*fe;return L},i.prototype.readUint8=i.prototype.readUInt8=function(B,Y){return B>>>=0,Y||Te(B,1,this.length),this[B]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(B,Y){return B>>>=0,Y||Te(B,2,this.length),this[B]|this[B+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(B,Y){return B>>>=0,Y||Te(B,2,this.length),this[B]<<8|this[B+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(B,Y){return B>>>=0,Y||Te(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+16777216*this[B+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(B,Y){return B>>>=0,Y||Te(B,4,this.length),16777216*this[B]+(this[B+1]<<16|this[B+2]<<8|this[B+3])},i.prototype.readIntLE=function(B,Y,I){B>>>=0,Y>>>=0,I||Te(B,Y,this.length);for(var L=this[B],fe=1,X=0;++X<Y&&(fe*=256);)L+=this[B+X]*fe;return L>=(fe*=128)&&(L-=Math.pow(2,8*Y)),L},i.prototype.readIntBE=function(B,Y,I){B>>>=0,Y>>>=0,I||Te(B,Y,this.length);for(var L=Y,fe=1,X=this[B+--L];L>0&&(fe*=256);)X+=this[B+--L]*fe;return X>=(fe*=128)&&(X-=Math.pow(2,8*Y)),X},i.prototype.readInt8=function(B,Y){return B>>>=0,Y||Te(B,1,this.length),128&this[B]?-1*(255-this[B]+1):this[B]},i.prototype.readInt16LE=function(B,Y){B>>>=0,Y||Te(B,2,this.length);var I=this[B]|this[B+1]<<8;return 32768&I?4294901760|I:I},i.prototype.readInt16BE=function(B,Y){B>>>=0,Y||Te(B,2,this.length);var I=this[B+1]|this[B]<<8;return 32768&I?4294901760|I:I},i.prototype.readInt32LE=function(B,Y){return B>>>=0,Y||Te(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},i.prototype.readInt32BE=function(B,Y){return B>>>=0,Y||Te(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},i.prototype.readFloatLE=function(B,Y){return B>>>=0,Y||Te(B,4,this.length),r.read(this,B,!0,23,4)},i.prototype.readFloatBE=function(B,Y){return B>>>=0,Y||Te(B,4,this.length),r.read(this,B,!1,23,4)},i.prototype.readDoubleLE=function(B,Y){return B>>>=0,Y||Te(B,8,this.length),r.read(this,B,!0,52,8)},i.prototype.readDoubleBE=function(B,Y){return B>>>=0,Y||Te(B,8,this.length),r.read(this,B,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(B,Y,I,L){B=+B,Y>>>=0,I>>>=0,L||Ye(this,B,Y,I,Math.pow(2,8*I)-1,0);var fe=1,X=0;for(this[Y]=255&B;++X<I&&(fe*=256);)this[Y+X]=B/fe&255;return Y+I},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(B,Y,I,L){B=+B,Y>>>=0,I>>>=0,L||Ye(this,B,Y,I,Math.pow(2,8*I)-1,0);var fe=I-1,X=1;for(this[Y+fe]=255&B;--fe>=0&&(X*=256);)this[Y+fe]=B/X&255;return Y+I},i.prototype.writeUint8=i.prototype.writeUInt8=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,1,255,0),this[Y]=255&B,Y+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,2,65535,0),this[Y]=255&B,this[Y+1]=B>>>8,Y+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,2,65535,0),this[Y]=B>>>8,this[Y+1]=255&B,Y+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,4,4294967295,0),this[Y+3]=B>>>24,this[Y+2]=B>>>16,this[Y+1]=B>>>8,this[Y]=255&B,Y+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,4,4294967295,0),this[Y]=B>>>24,this[Y+1]=B>>>16,this[Y+2]=B>>>8,this[Y+3]=255&B,Y+4},i.prototype.writeIntLE=function(B,Y,I,L){if(B=+B,Y>>>=0,!L){var fe=Math.pow(2,8*I-1);Ye(this,B,Y,I,fe-1,-fe)}var X=0,xe=1,Ve=0;for(this[Y]=255&B;++X<I&&(xe*=256);)B<0&&Ve===0&&this[Y+X-1]!==0&&(Ve=1),this[Y+X]=(B/xe|0)-Ve&255;return Y+I},i.prototype.writeIntBE=function(B,Y,I,L){if(B=+B,Y>>>=0,!L){var fe=Math.pow(2,8*I-1);Ye(this,B,Y,I,fe-1,-fe)}var X=I-1,xe=1,Ve=0;for(this[Y+X]=255&B;--X>=0&&(xe*=256);)B<0&&Ve===0&&this[Y+X+1]!==0&&(Ve=1),this[Y+X]=(B/xe|0)-Ve&255;return Y+I},i.prototype.writeInt8=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,1,127,-128),B<0&&(B=255+B+1),this[Y]=255&B,Y+1},i.prototype.writeInt16LE=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,2,32767,-32768),this[Y]=255&B,this[Y+1]=B>>>8,Y+2},i.prototype.writeInt16BE=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,2,32767,-32768),this[Y]=B>>>8,this[Y+1]=255&B,Y+2},i.prototype.writeInt32LE=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,4,2147483647,-2147483648),this[Y]=255&B,this[Y+1]=B>>>8,this[Y+2]=B>>>16,this[Y+3]=B>>>24,Y+4},i.prototype.writeInt32BE=function(B,Y,I){return B=+B,Y>>>=0,I||Ye(this,B,Y,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[Y]=B>>>24,this[Y+1]=B>>>16,this[Y+2]=B>>>8,this[Y+3]=255&B,Y+4},i.prototype.writeFloatLE=function(B,Y,I){return De(this,B,Y,!0,I)},i.prototype.writeFloatBE=function(B,Y,I){return De(this,B,Y,!1,I)},i.prototype.writeDoubleLE=function(B,Y,I){return We(this,B,Y,!0,I)},i.prototype.writeDoubleBE=function(B,Y,I){return We(this,B,Y,!1,I)},i.prototype.copy=function(B,Y,I,L){if(!i.isBuffer(B))throw new TypeError("argument should be a Buffer");if(I||(I=0),L||L===0||(L=this.length),Y>=B.length&&(Y=B.length),Y||(Y=0),L>0&&L<I&&(L=I),L===I||B.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),B.length-Y<L-I&&(L=B.length-Y+I);var fe=L-I;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,I,L):Uint8Array.prototype.set.call(B,this.subarray(I,L),Y),fe},i.prototype.fill=function(B,Y,I,L){if(typeof B=="string"){if(typeof Y=="string"?(L=Y,Y=0,I=this.length):typeof I=="string"&&(L=I,I=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!i.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(B.length===1){var fe=B.charCodeAt(0);(L==="utf8"&&fe<128||L==="latin1")&&(B=fe)}}else typeof B=="number"?B&=255:typeof B=="boolean"&&(B=Number(B));if(Y<0||this.length<Y||this.length<I)throw new RangeError("Out of range index");if(I<=Y)return this;var X;if(Y>>>=0,I=I===void 0?this.length:I>>>0,B||(B=0),typeof B=="number")for(X=Y;X<I;++X)this[X]=B;else{var xe=i.isBuffer(B)?B:i.from(B,L),Ve=xe.length;if(Ve===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(X=0;X<I-Y;++X)this[X+Y]=xe[X%Ve]}return this};var lt=/[^+/0-9A-Za-z-_]/g;function At(B,Y){var I;Y=Y||1/0;for(var L=B.length,fe=null,X=[],xe=0;xe<L;++xe){if((I=B.charCodeAt(xe))>55295&&I<57344){if(!fe){if(I>56319){(Y-=3)>-1&&X.push(239,191,189);continue}if(xe+1===L){(Y-=3)>-1&&X.push(239,191,189);continue}fe=I;continue}if(I<56320){(Y-=3)>-1&&X.push(239,191,189),fe=I;continue}I=65536+(fe-55296<<10|I-56320)}else fe&&(Y-=3)>-1&&X.push(239,191,189);if(fe=null,I<128){if((Y-=1)<0)break;X.push(I)}else if(I<2048){if((Y-=2)<0)break;X.push(I>>6|192,63&I|128)}else if(I<65536){if((Y-=3)<0)break;X.push(I>>12|224,I>>6&63|128,63&I|128)}else{if(!(I<1114112))throw new Error("Invalid code point");if((Y-=4)<0)break;X.push(I>>18|240,I>>12&63|128,I>>6&63|128,63&I|128)}}return X}function jt(B){return u.toByteArray(function(Y){if((Y=(Y=Y.split("=")[0]).trim().replace(lt,"")).length<2)return"";for(;Y.length%4!=0;)Y+="=";return Y}(B))}function Bt(B,Y,I,L){for(var fe=0;fe<L&&!(fe+I>=Y.length||fe>=B.length);++fe)Y[fe+I]=B[fe];return fe}function Ie(B,Y){return B instanceof Y||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===Y.name}function Ne(B){return B!=B}var Qe=function(){for(var B="0123456789abcdef",Y=new Array(256),I=0;I<16;++I)for(var L=16*I,fe=0;fe<16;++fe)Y[L+fe]=B[I]+B[fe];return Y}()},6877:function(_,f){var t={parseBuffer:function(e){return new u(e).parse()},addBoxProcessor:function(e,n){typeof e=="string"&&typeof n=="function"&&(r.prototype._boxProcessors[e]=n)},createFile:function(){return new u},createBox:function(e,n,c){var i=r.create(e);return n&&n.append(i,c),i},createFullBox:function(e,n,c){var i=t.createBox(e,n,c);return i.version=0,i.flags=0,i},Utils:{}};t.Utils.dataViewToString=function(e,n){var c=n||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(c).decode(e);var i=[],l=0;if(c==="utf-8")for(;l<e.byteLength;){var p=e.getUint8(l++);p<128||(p<224?(p=(31&p)<<6,p|=63&e.getUint8(l++)):p<240?(p=(15&p)<<12,p|=(63&e.getUint8(l++))<<6,p|=63&e.getUint8(l++)):(p=(7&p)<<18,p|=(63&e.getUint8(l++))<<12,p|=(63&e.getUint8(l++))<<6,p|=63&e.getUint8(l++))),i.push(String.fromCharCode(p))}else for(;l<e.byteLength;)i.push(String.fromCharCode(e.getUint8(l++)));return i.join("")},t.Utils.utf8ToByteArray=function(e){var n,c;if(typeof TextEncoder<"u")n=new TextEncoder().encode(e);else for(n=[],c=0;c<e.length;++c){var i=e.charCodeAt(c);i<128?n.push(i):i<2048?(n.push(192|i>>6),n.push(128|63&i)):i<65536?(n.push(224|i>>12),n.push(128|63&i>>6),n.push(128|63&i)):(n.push(240|i>>18),n.push(128|63&i>>12),n.push(128|63&i>>6),n.push(128|63&i))}return n},t.Utils.appendBox=function(e,n,c){if(n._offset=e._cursor.offset,n._root=e._root?e._root:e,n._raw=e._raw,n._parent=e,c!==-1)if(c!=null){var i,l=-1;if(typeof c=="number")l=c;else{if(typeof c=="string")i=c;else{if(typeof c!="object"||!c.type)return void e.boxes.push(n);i=c.type}for(var p=0;p<e.boxes.length;p++)if(i===e.boxes[p].type){l=p+1;break}}e.boxes.splice(l,0,n)}else e.boxes.push(n)},f.parseBuffer=t.parseBuffer,f.addBoxProcessor=t.addBoxProcessor,f.createFile=t.createFile,f.createBox=t.createBox,f.createFullBox=t.createFullBox,f.Utils=t.Utils,t.Cursor=function(e){this.offset=e===void 0?0:e};var u=function(e){this._cursor=new t.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};u.prototype.fetch=function(e){var n=this.fetchAll(e,!0);return n.length?n[0]:null},u.prototype.fetchAll=function(e,n){var c=[];return u._sweep.call(this,e,c,n),c},u.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=r.parse(this);if(e.type===void 0)break;this.boxes.push(e)}return this},u._sweep=function(e,n,c){for(var i in this.type&&this.type==e&&n.push(this),this.boxes){if(n.length&&c)return;u._sweep.call(this.boxes[i],e,n,c)}},u.prototype.write=function(){var e,n=0;for(e=0;e<this.boxes.length;e++)n+=this.boxes[e].getLength(!1);var c=new Uint8Array(n);for(this._rawo=new DataView(c.buffer),this.bytes=c,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return c.buffer},u.prototype.append=function(e,n){t.Utils.appendBox(this,e,n)};var r=function(){this._cursor=new t.Cursor};r.parse=function(e){var n=new r;return n._offset=e._cursor.offset,n._root=e._root?e._root:e,n._raw=e._raw,n._parent=e,n._parseBox(),e._cursor.offset=n._raw.byteOffset+n._raw.byteLength,n},r.create=function(e){var n=new r;return n.type=e,n.boxes=[],n},r.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca","meta","grpl","prsl"],r.prototype._boxProcessors={},r.prototype._procField=function(e,n,c){this._parsing?this[e]=this._readField(n,c):this._writeField(n,c,this[e])},r.prototype._procFieldArray=function(e,n,c,i){var l;if(this._parsing)for(this[e]=[],l=0;l<n;l++)this[e][l]=this._readField(c,i);else for(l=0;l<this[e].length;l++)this._writeField(c,i,this[e][l])},r.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},r.prototype._procEntries=function(e,n,c){var i;if(this._parsing)for(this[e]=[],i=0;i<n;i++)this[e].push({}),c.call(this,this[e][i]);else for(i=0;i<n;i++)c.call(this,this[e][i])},r.prototype._procSubEntries=function(e,n,c,i){var l;if(this._parsing)for(e[n]=[],l=0;l<c;l++)e[n].push({}),i.call(this,e[n][l]);else for(l=0;l<c;l++)i.call(this,e[n][l])},r.prototype._procEntryField=function(e,n,c,i){this._parsing?e[n]=this._readField(c,i):this._writeField(c,i,e[n])},r.prototype._procSubBoxes=function(e,n){var c;if(this._parsing)for(this[e]=[],c=0;c<n;c++)this[e].push(r.parse(this));else for(c=0;c<n;c++)this._rawo?this[e][c].write():this.size+=this[e][c].getLength()},r.prototype._readField=function(e,n){switch(e){case"uint":return this._readUint(n);case"int":return this._readInt(n);case"template":return this._readTemplate(n);case"string":return n===-1?this._readTerminatedString():this._readString(n);case"data":return this._readData(n);case"utf8":return this._readUTF8String();case"utf8string":return this._readUTF8TerminatedString();default:return-1}},r.prototype._readInt=function(e){var n=null,c=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:n=this._raw.getInt8(c);break;case 16:n=this._raw.getInt16(c);break;case 32:n=this._raw.getInt32(c);break;case 64:var i=this._raw.getInt32(c),l=this._raw.getInt32(c+4);n=i*Math.pow(2,32)+l}return this._cursor.offset+=e>>3,n},r.prototype._readUint=function(e){var n,c,i=null,l=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:i=this._raw.getUint8(l);break;case 16:i=this._raw.getUint16(l);break;case 24:i=((n=this._raw.getUint16(l))<<8)+(c=this._raw.getUint8(l+2));break;case 32:i=this._raw.getUint32(l);break;case 64:n=this._raw.getUint32(l),c=this._raw.getUint32(l+4),i=n*Math.pow(2,32)+c}return this._cursor.offset+=e>>3,i},r.prototype._readString=function(e){for(var n="",c=0;c<e;c++){var i=this._readUint(8);n+=String.fromCharCode(i)}return n},r.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},r.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var n=this._readUint(8);if(n===0)break;e+=String.fromCharCode(n)}return e},r.prototype._readData=function(e){var n=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(n>0){var c=new Uint8Array(this._raw.buffer,this._cursor.offset,n);return this._cursor.offset+=n,c}return null},r.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),n=null;return e>0&&(n=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),n&&t.Utils.dataViewToString(n)},r.prototype._readUTF8TerminatedString=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),n=null;if(e>0){var c;for(n=new DataView(this._raw.buffer,this._cursor.offset,e),c=0;c<e&&n.getUint8(c)!==0;c++);n=new DataView(this._raw.buffer,this._cursor.offset,c),this._cursor.offset+=Math.min(c+1,e)}return n&&t.Utils.dataViewToString(n)},r.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},r.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},r.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(r.parse(this))},r.prototype.append=function(e,n){t.Utils.appendBox(this,e,n)},r.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},r.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},r.prototype._writeInt=function(e,n){if(this._rawo){var c=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(c,n);break;case 16:this._rawo.setInt16(c,n);break;case 32:this._rawo.setInt32(c,n);break;case 64:var i=Math.floor(n/Math.pow(2,32)),l=n-i*Math.pow(2,32);this._rawo.setUint32(c,i),this._rawo.setUint32(c+4,l)}this._cursor.offset+=e>>3}else this.size+=e>>3},r.prototype._writeUint=function(e,n){if(this._rawo){var c,i,l=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(l,n);break;case 16:this._rawo.setUint16(l,n);break;case 24:c=(16776960&n)>>8,i=255&n,this._rawo.setUint16(l,c),this._rawo.setUint8(l+2,i);break;case 32:this._rawo.setUint32(l,n);break;case 64:i=n-(c=Math.floor(n/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(l,c),this._rawo.setUint32(l+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},r.prototype._writeString=function(e,n){for(var c=0;c<e;c++)this._writeUint(8,n.charCodeAt(c))},r.prototype._writeTerminatedString=function(e){if(e.length!==0){for(var n=0;n<e.length;n++)this._writeUint(8,e.charCodeAt(n));this._writeUint(8,0)}},r.prototype._writeTemplate=function(e,n){var c=Math.floor(n),i=(n-c)*Math.pow(2,e/2);this._writeUint(e/2,c),this._writeUint(e/2,i)},r.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var n=this._cursor.offset-this._rawo.byteOffset,c=0;c<e.length;c++)this._rawo.setInt8(n+c,e[c]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},r.prototype._writeUTF8String=function(e){var n=t.Utils.utf8ToByteArray(e);if(this._rawo)for(var c=new DataView(this._rawo.buffer,this._cursor.offset,n.length),i=0;i<n.length;i++)c.setUint8(i,n[i]);else this.size+=n.length},r.prototype._writeField=function(e,n,c){switch(e){case"uint":this._writeUint(n,c);break;case"int":this._writeInt(n,c);break;case"template":this._writeTemplate(n,c);break;case"string":n==-1?this._writeTerminatedString(c):this._writeString(n,c);break;case"data":this._writeData(c);break;case"utf8":this._writeUTF8String(c)}},r.prototype._boxProcessors.ardi=function(){this._procFullBox(),this._procField("audio_rendering_indication","uint",8)},r.prototype._boxProcessors.avc1=r.prototype._boxProcessors.avc2=r.prototype._boxProcessors.avc3=r.prototype._boxProcessors.avc4=r.prototype._boxProcessors.hvc1=r.prototype._boxProcessors.hev1=r.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},r.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_offset",this.version===1?"int":"uint",32)})},r.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},r.prototype._boxProcessors.elng=function(){this._procFullBox(),this._procField("extended_language","utf8string")},r.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"segment_duration","uint",this.version===1?64:32),this._procEntryField(e,"media_time","int",this.version===1?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)})},r.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},r.prototype._boxProcessors.free=r.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},r.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},r.prototype._boxProcessors.ftyp=r.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},r.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},r.prototype._boxProcessors.imda=function(){this._procField("imda_identifier","uint",32),this._procField("data","data",-1)},r.prototype._boxProcessors.kind=function(){this._procFullBox(),this._procField("schemeURI","utf8string"),this._procField("value","utf8string")},r.prototype._boxProcessors.labl=function(){this._procFullBox(),this.is_group_label=!!(1&this.flags),this._procField("label_id","uint",16),this._procField("language","utf8string"),this._procField("label","utf8string")},r.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},r.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},r.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},r.prototype._boxProcessors.meta=function(){this._procFullBox()},r.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},r.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},r.prototype._boxProcessors.mp4a=r.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},r.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},r.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},r.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},r.prototype._boxProcessors.prsl=function(){this._procFullBox(),this._procField("group_id","uint",32),this._procField("num_entities_in_group","uint",32),this._procEntries("entities",this.num_entities_in_group,function(e){this._procEntryField(e,"entity_id","uint",32)}),4096&this.flags&&this._procField("preselection_tag","utf8string"),8192&this.flags&&this._procField("selection_priority","uint",8),16384&this.flags&&this._procField("interleaving_tag","utf8string")},r.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},r.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},r.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},r.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)})},r.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},r.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,function(n){this._procEntryField(n,"level","uint",8),this._procEntryField(n,"range_size","uint",24)})})},r.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},r.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},r.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_delta","uint",32)})},r.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,function(n){this._procEntryField(n,"subsample_size","uint",this.version===1?32:16),this._procEntryField(n,"subsample_priority","uint",8),this._procEntryField(n,"discardable","uint",8),this._procEntryField(n,"codec_specific_parameters","uint",32)})})},r.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},r.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},r.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},r.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(e){this._procEntryField(e,"time","uint",this.version===1?64:32),this._procEntryField(e,"moof_offset","uint",this.version===1?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},r.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},r.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},r.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},r.prototype._boxProcessors["url "]=r.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},r.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},r.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},r.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},r.prototype._boxProcessors.vtte=function(){}},9826:function(_){var f,t=typeof Reflect=="object"?Reflect:null,u=t&&typeof t.apply=="function"?t.apply:function(F,te,de){return Function.prototype.apply.call(F,te,de)};f=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(F){return Object.getOwnPropertyNames(F).concat(Object.getOwnPropertySymbols(F))}:function(F){return Object.getOwnPropertyNames(F)};var r=Number.isNaN||function(F){return F!=F};function e(){e.init.call(this)}_.exports=e,_.exports.once=function(F,te){return new Promise(function(de,ee){function ve(M){F.removeListener(te,Ae),ee(M)}function Ae(){typeof F.removeListener=="function"&&F.removeListener("error",ve),de([].slice.call(arguments))}R(F,te,Ae,{once:!0}),te!=="error"&&function(M,S){typeof M.on=="function"&&R(M,"error",S,{once:!0})}(F,ve)})},e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var n=10;function c(F){if(typeof F!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof F)}function i(F){return F._maxListeners===void 0?e.defaultMaxListeners:F._maxListeners}function l(F,te,de,ee){var ve,Ae,M,S;if(c(de),(Ae=F._events)===void 0?(Ae=F._events=Object.create(null),F._eventsCount=0):(Ae.newListener!==void 0&&(F.emit("newListener",te,de.listener?de.listener:de),Ae=F._events),M=Ae[te]),M===void 0)M=Ae[te]=de,++F._eventsCount;else if(typeof M=="function"?M=Ae[te]=ee?[de,M]:[M,de]:ee?M.unshift(de):M.push(de),(ve=i(F))>0&&M.length>ve&&!M.warned){M.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(te)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=F,q.type=te,q.count=M.length,S=q,console&&console.warn&&console.warn(S)}return F}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(F,te,de){var ee={fired:!1,wrapFn:void 0,target:F,type:te,listener:de},ve=p.bind(ee);return ve.listener=de,ee.wrapFn=ve,ve}function b(F,te,de){var ee=F._events;if(ee===void 0)return[];var ve=ee[te];return ve===void 0?[]:typeof ve=="function"?de?[ve.listener||ve]:[ve]:de?function(Ae){for(var M=new Array(Ae.length),S=0;S<M.length;++S)M[S]=Ae[S].listener||Ae[S];return M}(ve):y(ve,ve.length)}function E(F){var te=this._events;if(te!==void 0){var de=te[F];if(typeof de=="function")return 1;if(de!==void 0)return de.length}return 0}function y(F,te){for(var de=new Array(te),ee=0;ee<te;++ee)de[ee]=F[ee];return de}function R(F,te,de,ee){if(typeof F.on=="function")ee.once?F.once(te,de):F.on(te,de);else{if(typeof F.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof F);F.addEventListener(te,function ve(Ae){ee.once&&F.removeEventListener(te,ve),de(Ae)})}}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(F){if(typeof F!="number"||F<0||r(F))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+F+".");n=F}}),e.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(F){if(typeof F!="number"||F<0||r(F))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+F+".");return this._maxListeners=F,this},e.prototype.getMaxListeners=function(){return i(this)},e.prototype.emit=function(F){for(var te=[],de=1;de<arguments.length;de++)te.push(arguments[de]);var ee=F==="error",ve=this._events;if(ve!==void 0)ee=ee&&ve.error===void 0;else if(!ee)return!1;if(ee){var Ae;if(te.length>0&&(Ae=te[0]),Ae instanceof Error)throw Ae;var M=new Error("Unhandled error."+(Ae?" ("+Ae.message+")":""));throw M.context=Ae,M}var S=ve[F];if(S===void 0)return!1;if(typeof S=="function")u(S,this,te);else{var q=S.length,se=y(S,q);for(de=0;de<q;++de)u(se[de],this,te)}return!0},e.prototype.addListener=function(F,te){return l(this,F,te,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(F,te){return l(this,F,te,!0)},e.prototype.once=function(F,te){return c(te),this.on(F,h(this,F,te)),this},e.prototype.prependOnceListener=function(F,te){return c(te),this.prependListener(F,h(this,F,te)),this},e.prototype.removeListener=function(F,te){var de,ee,ve,Ae,M;if(c(te),(ee=this._events)===void 0)return this;if((de=ee[F])===void 0)return this;if(de===te||de.listener===te)--this._eventsCount==0?this._events=Object.create(null):(delete ee[F],ee.removeListener&&this.emit("removeListener",F,de.listener||te));else if(typeof de!="function"){for(ve=-1,Ae=de.length-1;Ae>=0;Ae--)if(de[Ae]===te||de[Ae].listener===te){M=de[Ae].listener,ve=Ae;break}if(ve<0)return this;ve===0?de.shift():function(S,q){for(;q+1<S.length;q++)S[q]=S[q+1];S.pop()}(de,ve),de.length===1&&(ee[F]=de[0]),ee.removeListener!==void 0&&this.emit("removeListener",F,M||te)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(F){var te,de,ee;if((de=this._events)===void 0)return this;if(de.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):de[F]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete de[F]),this;if(arguments.length===0){var ve,Ae=Object.keys(de);for(ee=0;ee<Ae.length;++ee)(ve=Ae[ee])!=="removeListener"&&this.removeAllListeners(ve);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(te=de[F])=="function")this.removeListener(F,te);else if(te!==void 0)for(ee=te.length-1;ee>=0;ee--)this.removeListener(F,te[ee]);return this},e.prototype.listeners=function(F){return b(this,F,!0)},e.prototype.rawListeners=function(F){return b(this,F,!1)},e.listenerCount=function(F,te){return typeof F.listenerCount=="function"?F.listenerCount(te):E.call(F,te)},e.prototype.listenerCount=E,e.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]}},7316:function(_){_.exports=function f(t,u){if(t===u)return!0;if(t&&u&&typeof t=="object"&&typeof u=="object"){if(t.constructor!==u.constructor)return!1;var r,e,n;if(Array.isArray(t)){if((r=t.length)!=u.length)return!1;for(e=r;e--!=0;)if(!f(t[e],u[e]))return!1;return!0}if(t.constructor===RegExp)return t.source===u.source&&t.flags===u.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===u.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===u.toString();if((r=(n=Object.keys(t)).length)!==Object.keys(u).length)return!1;for(e=r;e--!=0;)if(!Object.prototype.hasOwnProperty.call(u,n[e]))return!1;for(e=r;e--!=0;){var c=n[e];if(!f(t[c],u[c]))return!1}return!0}return t!=t&&u!=u}},7986:function(_,f){f.read=function(t,u,r,e,n){var c,i,l=8*n-e-1,p=(1<<l)-1,h=p>>1,b=-7,E=r?n-1:0,y=r?-1:1,R=t[u+E];for(E+=y,c=R&(1<<-b)-1,R>>=-b,b+=l;b>0;c=256*c+t[u+E],E+=y,b-=8);for(i=c&(1<<-b)-1,c>>=-b,b+=e;b>0;i=256*i+t[u+E],E+=y,b-=8);if(c===0)c=1-h;else{if(c===p)return i?NaN:1/0*(R?-1:1);i+=Math.pow(2,e),c-=h}return(R?-1:1)*i*Math.pow(2,c-e)},f.write=function(t,u,r,e,n,c){var i,l,p,h=8*c-n-1,b=(1<<h)-1,E=b>>1,y=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=e?0:c-1,F=e?1:-1,te=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(l=isNaN(u)?1:0,i=b):(i=Math.floor(Math.log(u)/Math.LN2),u*(p=Math.pow(2,-i))<1&&(i--,p*=2),(u+=i+E>=1?y/p:y*Math.pow(2,1-E))*p>=2&&(i++,p/=2),i+E>=b?(l=0,i=b):i+E>=1?(l=(u*p-1)*Math.pow(2,n),i+=E):(l=u*Math.pow(2,E-1)*Math.pow(2,n),i=0));n>=8;t[r+R]=255&l,R+=F,l/=256,n-=8);for(i=i<<n|l,h+=n;h>0;t[r+R]=255&i,R+=F,i/=256,h-=8);t[r+R-F]|=128*te}},5474:function(_,f,t){(function(u){u.parser=function(I,L){return new n(I,L)},u.SAXParser=n,u.SAXStream=i,u.createStream=function(I,L){return new i(I,L)},u.MAX_BUFFER_LENGTH=65536;var r,e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function n(I,L){if(!(this instanceof n))return new n(I,L);var fe=this;(function(X){for(var xe=0,Ve=e.length;xe<Ve;xe++)X[e[xe]]=""})(fe),fe.q=fe.c="",fe.bufferCheckPosition=u.MAX_BUFFER_LENGTH,fe.opt=L||{},fe.opt.lowercase=fe.opt.lowercase||fe.opt.lowercasetags,fe.looseCase=fe.opt.lowercase?"toLowerCase":"toUpperCase",fe.tags=[],fe.closed=fe.closedRoot=fe.sawRoot=!1,fe.tag=fe.error=null,fe.strict=!!I,fe.noscript=!(!I&&!fe.opt.noscript),fe.state=$.BEGIN,fe.strictEntities=fe.opt.strictEntities,fe.ENTITIES=fe.strictEntities?Object.create(u.XML_ENTITIES):Object.create(u.ENTITIES),fe.attribList=[],fe.opt.xmlns&&(fe.ns=Object.create(de)),fe.trackPosition=fe.opt.position!==!1,fe.trackPosition&&(fe.position=fe.line=fe.column=0),Ce(fe,"onready")}u.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(I){function L(){}return L.prototype=I,new L}),Object.keys||(Object.keys=function(I){var L=[];for(var fe in I)I.hasOwnProperty(fe)&&L.push(fe);return L}),n.prototype={end:function(){We(this)},write:function(I){var L=this;if(this.error)throw this.error;if(L.closed)return De(L,"Cannot write after close. Assign an onready handler.");if(I===null)return We(L);typeof I=="object"&&(I=I.toString());for(var fe=0,X="";X=Y(I,fe++),L.c=X,X;)switch(L.trackPosition&&(L.position++,X===`
`?(L.line++,L.column=0):L.column++),L.state){case $.BEGIN:if(L.state=$.BEGIN_WHITESPACE,X==="\uFEFF")continue;B(L,X);continue;case $.BEGIN_WHITESPACE:B(L,X);continue;case $.TEXT:if(L.sawRoot&&!L.closedRoot){for(var xe=fe-1;X&&X!=="<"&&X!=="&";)(X=Y(I,fe++))&&L.trackPosition&&(L.position++,X===`
`?(L.line++,L.column=0):L.column++);L.textNode+=I.substring(xe,fe-1)}X!=="<"||L.sawRoot&&L.closedRoot&&!L.strict?(!se(l,X)||L.sawRoot&&!L.closedRoot||lt(L,"Text data outside of root node."),X==="&"?L.state=$.TEXT_ENTITY:L.textNode+=X):(L.state=$.OPEN_WAKA,L.startTagPosition=L.position);continue;case $.SCRIPT:X==="<"?L.state=$.SCRIPT_ENDING:L.script+=X;continue;case $.SCRIPT_ENDING:X==="/"?L.state=$.CLOSE_TAG:(L.script+="<"+X,L.state=$.SCRIPT);continue;case $.OPEN_WAKA:if(X==="!")L.state=$.SGML_DECL,L.sgmlDecl="";else if(!q(l,X))if(q(ee,X))L.state=$.OPEN_TAG,L.tagName=X;else if(X==="/")L.state=$.CLOSE_TAG,L.tagName="";else if(X==="?")L.state=$.PROC_INST,L.procInstName=L.procInstBody="";else{if(lt(L,"Unencoded <"),L.startTagPosition+1<L.position){var Ve=L.position-L.startTagPosition;X=new Array(Ve).join(" ")+X}L.textNode+="<"+X,L.state=$.TEXT}continue;case $.SGML_DECL:(L.sgmlDecl+X).toUpperCase()===y?(Te(L,"onopencdata"),L.state=$.CDATA,L.sgmlDecl="",L.cdata=""):L.sgmlDecl+X==="--"?(L.state=$.COMMENT,L.comment="",L.sgmlDecl=""):(L.sgmlDecl+X).toUpperCase()===R?(L.state=$.DOCTYPE,(L.doctype||L.sawRoot)&&lt(L,"Inappropriately located doctype declaration"),L.doctype="",L.sgmlDecl=""):X===">"?(Te(L,"onsgmldeclaration",L.sgmlDecl),L.sgmlDecl="",L.state=$.TEXT):(q(b,X)&&(L.state=$.SGML_DECL_QUOTED),L.sgmlDecl+=X);continue;case $.SGML_DECL_QUOTED:X===L.q&&(L.state=$.SGML_DECL,L.q=""),L.sgmlDecl+=X;continue;case $.DOCTYPE:X===">"?(L.state=$.TEXT,Te(L,"ondoctype",L.doctype),L.doctype=!0):(L.doctype+=X,X==="["?L.state=$.DOCTYPE_DTD:q(b,X)&&(L.state=$.DOCTYPE_QUOTED,L.q=X));continue;case $.DOCTYPE_QUOTED:L.doctype+=X,X===L.q&&(L.q="",L.state=$.DOCTYPE);continue;case $.DOCTYPE_DTD:L.doctype+=X,X==="]"?L.state=$.DOCTYPE:q(b,X)&&(L.state=$.DOCTYPE_DTD_QUOTED,L.q=X);continue;case $.DOCTYPE_DTD_QUOTED:L.doctype+=X,X===L.q&&(L.state=$.DOCTYPE_DTD,L.q="");continue;case $.COMMENT:X==="-"?L.state=$.COMMENT_ENDING:L.comment+=X;continue;case $.COMMENT_ENDING:X==="-"?(L.state=$.COMMENT_ENDED,L.comment=Ue(L.opt,L.comment),L.comment&&Te(L,"oncomment",L.comment),L.comment=""):(L.comment+="-"+X,L.state=$.COMMENT);continue;case $.COMMENT_ENDED:X!==">"?(lt(L,"Malformed comment"),L.comment+="--"+X,L.state=$.COMMENT):L.state=$.TEXT;continue;case $.CDATA:X==="]"?L.state=$.CDATA_ENDING:L.cdata+=X;continue;case $.CDATA_ENDING:X==="]"?L.state=$.CDATA_ENDING_2:(L.cdata+="]"+X,L.state=$.CDATA);continue;case $.CDATA_ENDING_2:X===">"?(L.cdata&&Te(L,"oncdata",L.cdata),Te(L,"onclosecdata"),L.cdata="",L.state=$.TEXT):X==="]"?L.cdata+="]":(L.cdata+="]]"+X,L.state=$.CDATA);continue;case $.PROC_INST:X==="?"?L.state=$.PROC_INST_ENDING:q(l,X)?L.state=$.PROC_INST_BODY:L.procInstName+=X;continue;case $.PROC_INST_BODY:if(!L.procInstBody&&q(l,X))continue;X==="?"?L.state=$.PROC_INST_ENDING:L.procInstBody+=X;continue;case $.PROC_INST_ENDING:X===">"?(Te(L,"onprocessinginstruction",{name:L.procInstName,body:L.procInstBody}),L.procInstName=L.procInstBody="",L.state=$.TEXT):(L.procInstBody+="?"+X,L.state=$.PROC_INST_BODY);continue;case $.OPEN_TAG:q(ve,X)?L.tagName+=X:(At(L),X===">"?Ie(L):X==="/"?L.state=$.OPEN_TAG_SLASH:(se(l,X)&&lt(L,"Invalid character in tag name"),L.state=$.ATTRIB));continue;case $.OPEN_TAG_SLASH:X===">"?(Ie(L,!0),Ne(L)):(lt(L,"Forward-slash in opening tag not followed by >"),L.state=$.ATTRIB);continue;case $.ATTRIB:if(q(l,X))continue;X===">"?Ie(L):X==="/"?L.state=$.OPEN_TAG_SLASH:q(ee,X)?(L.attribName=X,L.attribValue="",L.state=$.ATTRIB_NAME):lt(L,"Invalid attribute name");continue;case $.ATTRIB_NAME:X==="="?L.state=$.ATTRIB_VALUE:X===">"?(lt(L,"Attribute without value"),L.attribValue=L.attribName,Bt(L),Ie(L)):q(l,X)?L.state=$.ATTRIB_NAME_SAW_WHITE:q(ve,X)?L.attribName+=X:lt(L,"Invalid attribute name");continue;case $.ATTRIB_NAME_SAW_WHITE:if(X==="=")L.state=$.ATTRIB_VALUE;else{if(q(l,X))continue;lt(L,"Attribute without value"),L.tag.attributes[L.attribName]="",L.attribValue="",Te(L,"onattribute",{name:L.attribName,value:""}),L.attribName="",X===">"?Ie(L):q(ee,X)?(L.attribName=X,L.state=$.ATTRIB_NAME):(lt(L,"Invalid attribute name"),L.state=$.ATTRIB)}continue;case $.ATTRIB_VALUE:if(q(l,X))continue;q(b,X)?(L.q=X,L.state=$.ATTRIB_VALUE_QUOTED):(lt(L,"Unquoted attribute value"),L.state=$.ATTRIB_VALUE_UNQUOTED,L.attribValue=X);continue;case $.ATTRIB_VALUE_QUOTED:if(X!==L.q){X==="&"?L.state=$.ATTRIB_VALUE_ENTITY_Q:L.attribValue+=X;continue}Bt(L),L.q="",L.state=$.ATTRIB_VALUE_CLOSED;continue;case $.ATTRIB_VALUE_CLOSED:q(l,X)?L.state=$.ATTRIB:X===">"?Ie(L):X==="/"?L.state=$.OPEN_TAG_SLASH:q(ee,X)?(lt(L,"No whitespace between attributes"),L.attribName=X,L.attribValue="",L.state=$.ATTRIB_NAME):lt(L,"Invalid attribute name");continue;case $.ATTRIB_VALUE_UNQUOTED:if(se(E,X)){X==="&"?L.state=$.ATTRIB_VALUE_ENTITY_U:L.attribValue+=X;continue}Bt(L),X===">"?Ie(L):L.state=$.ATTRIB;continue;case $.CLOSE_TAG:if(L.tagName)X===">"?Ne(L):q(ve,X)?L.tagName+=X:L.script?(L.script+="</"+L.tagName,L.tagName="",L.state=$.SCRIPT):(se(l,X)&&lt(L,"Invalid tagname in closing tag"),L.state=$.CLOSE_TAG_SAW_WHITE);else{if(q(l,X))continue;se(ee,X)?L.script?(L.script+="</"+X,L.state=$.SCRIPT):lt(L,"Invalid tagname in closing tag."):L.tagName=X}continue;case $.CLOSE_TAG_SAW_WHITE:if(q(l,X))continue;X===">"?Ne(L):lt(L,"Invalid characters in closing tag");continue;case $.TEXT_ENTITY:case $.ATTRIB_VALUE_ENTITY_Q:case $.ATTRIB_VALUE_ENTITY_U:var Le,Me;switch(L.state){case $.TEXT_ENTITY:Le=$.TEXT,Me="textNode";break;case $.ATTRIB_VALUE_ENTITY_Q:Le=$.ATTRIB_VALUE_QUOTED,Me="attribValue";break;case $.ATTRIB_VALUE_ENTITY_U:Le=$.ATTRIB_VALUE_UNQUOTED,Me="attribValue"}X===";"?(L[Me]+=Qe(L),L.entity="",L.state=Le):q(L.entity.length?M:Ae,X)?L.entity+=X:(lt(L,"Invalid character in entity name"),L[Me]+="&"+L.entity+X,L.entity="",L.state=Le);continue;default:throw new Error(L,"Unknown state: "+L.state)}return L.position>=L.bufferCheckPosition&&function(Pe){for(var qe=Math.max(u.MAX_BUFFER_LENGTH,10),rt=0,Ze=0,ct=e.length;Ze<ct;Ze++){var Vt=Pe[e[Ze]].length;if(Vt>qe)switch(e[Ze]){case"textNode":Ye(Pe);break;case"cdata":Te(Pe,"oncdata",Pe.cdata),Pe.cdata="";break;case"script":Te(Pe,"onscript",Pe.script),Pe.script="";break;default:De(Pe,"Max buffer length exceeded: "+e[Ze])}rt=Math.max(rt,Vt)}var Nt=u.MAX_BUFFER_LENGTH-rt;Pe.bufferCheckPosition=Nt+Pe.position}(L),L},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var I;Ye(I=this),I.cdata!==""&&(Te(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(Te(I,"onscript",I.script),I.script="")}};try{r=t(3515).Stream}catch{r=function(){}}var c=u.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function i(I,L){if(!(this instanceof i))return new i(I,L);r.apply(this),this._parser=new n(I,L),this.writable=!0,this.readable=!0;var fe=this;this._parser.onend=function(){fe.emit("end")},this._parser.onerror=function(X){fe.emit("error",X),fe._parser.error=null},this._decoder=null,c.forEach(function(X){Object.defineProperty(fe,"on"+X,{get:function(){return fe._parser["on"+X]},set:function(xe){if(!xe)return fe.removeAllListeners(X),fe._parser["on"+X]=xe,xe;fe.on(X,xe)},enumerable:!0,configurable:!1})})}i.prototype=Object.create(r.prototype,{constructor:{value:i}}),i.prototype.write=function(I){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(I)){if(!this._decoder){var L=t(748).StringDecoder;this._decoder=new L("utf8")}I=this._decoder.write(I)}return this._parser.write(I.toString()),this.emit("data",I),!0},i.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},i.prototype.on=function(I,L){var fe=this;return fe._parser["on"+I]||c.indexOf(I)===-1||(fe._parser["on"+I]=function(){var X=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);X.splice(0,0,I),fe.emit.apply(fe,X)}),r.prototype.on.call(fe,I,L)};var l=`\r
	 `,p="0124356789",h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",b=`'"`,E=l+">",y="[CDATA[",R="DOCTYPE",F="http://www.w3.org/XML/1998/namespace",te="http://www.w3.org/2000/xmlns/",de={xml:F,xmlns:te};l=S(l),p=S(p),h=S(h);var ee=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ve=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Ae=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,M=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function S(I){return I.split("").reduce(function(L,fe){return L[fe]=!0,L},{})}function q(I,L){return function(fe){return Object.prototype.toString.call(fe)==="[object RegExp]"}(I)?!!L.match(I):I[L]}function se(I,L){return!q(I,L)}b=S(b),E=S(E);var P,ae,we,$=0;for(var ze in u.STATE={BEGIN:$++,BEGIN_WHITESPACE:$++,TEXT:$++,TEXT_ENTITY:$++,OPEN_WAKA:$++,SGML_DECL:$++,SGML_DECL_QUOTED:$++,DOCTYPE:$++,DOCTYPE_QUOTED:$++,DOCTYPE_DTD:$++,DOCTYPE_DTD_QUOTED:$++,COMMENT_STARTING:$++,COMMENT:$++,COMMENT_ENDING:$++,COMMENT_ENDED:$++,CDATA:$++,CDATA_ENDING:$++,CDATA_ENDING_2:$++,PROC_INST:$++,PROC_INST_BODY:$++,PROC_INST_ENDING:$++,OPEN_TAG:$++,OPEN_TAG_SLASH:$++,ATTRIB:$++,ATTRIB_NAME:$++,ATTRIB_NAME_SAW_WHITE:$++,ATTRIB_VALUE:$++,ATTRIB_VALUE_QUOTED:$++,ATTRIB_VALUE_CLOSED:$++,ATTRIB_VALUE_UNQUOTED:$++,ATTRIB_VALUE_ENTITY_Q:$++,ATTRIB_VALUE_ENTITY_U:$++,CLOSE_TAG:$++,CLOSE_TAG_SAW_WHITE:$++,SCRIPT:$++,SCRIPT_ENDING:$++},u.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},u.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(u.ENTITIES).forEach(function(I){var L=u.ENTITIES[I],fe=typeof L=="number"?String.fromCharCode(L):L;u.ENTITIES[I]=fe}),u.STATE)u.STATE[u.STATE[ze]]=ze;function Ce(I,L,fe){I[L]&&I[L](fe)}function Te(I,L,fe){I.textNode&&Ye(I),Ce(I,L,fe)}function Ye(I){I.textNode=Ue(I.opt,I.textNode),I.textNode&&Ce(I,"ontext",I.textNode),I.textNode=""}function Ue(I,L){return I.trim&&(L=L.trim()),I.normalize&&(L=L.replace(/\s+/g," ")),L}function De(I,L){return Ye(I),I.trackPosition&&(L+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),L=new Error(L),I.error=L,Ce(I,"onerror",L),I}function We(I){return I.sawRoot&&!I.closedRoot&&lt(I,"Unclosed root tag"),I.state!==$.BEGIN&&I.state!==$.BEGIN_WHITESPACE&&I.state!==$.TEXT&&De(I,"Unexpected end"),Ye(I),I.c="",I.closed=!0,Ce(I,"onend"),n.call(I,I.strict,I.opt),I}function lt(I,L){if(typeof I!="object"||!(I instanceof n))throw new Error("bad call to strictFail");I.strict&&De(I,L)}function At(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var L=I.tags[I.tags.length-1]||I,fe=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(fe.ns=L.ns),I.attribList.length=0,Te(I,"onopentagstart",fe)}function jt(I,L){var fe=I.indexOf(":")<0?["",I]:I.split(":"),X=fe[0],xe=fe[1];return L&&I==="xmlns"&&(X="xmlns",xe=""),{prefix:X,local:xe}}function Bt(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName))I.attribName=I.attribValue="";else{if(I.opt.xmlns){var L=jt(I.attribName,!0),fe=L.prefix,X=L.local;if(fe==="xmlns")if(X==="xml"&&I.attribValue!==F)lt(I,"xml: prefix must be bound to "+F+`
Actual: `+I.attribValue);else if(X==="xmlns"&&I.attribValue!==te)lt(I,"xmlns: prefix must be bound to "+te+`
Actual: `+I.attribValue);else{var xe=I.tag,Ve=I.tags[I.tags.length-1]||I;xe.ns===Ve.ns&&(xe.ns=Object.create(Ve.ns)),xe.ns[X]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,Te(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}}function Ie(I,L){if(I.opt.xmlns){var fe=I.tag,X=jt(I.tagName);fe.prefix=X.prefix,fe.local=X.local,fe.uri=fe.ns[X.prefix]||"",fe.prefix&&!fe.uri&&(lt(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),fe.uri=X.prefix);var xe=I.tags[I.tags.length-1]||I;fe.ns&&xe.ns!==fe.ns&&Object.keys(fe.ns).forEach(function(Ut){Te(I,"onopennamespace",{prefix:Ut,uri:fe.ns[Ut]})});for(var Ve=0,Le=I.attribList.length;Ve<Le;Ve++){var Me=I.attribList[Ve],Pe=Me[0],qe=Me[1],rt=jt(Pe,!0),Ze=rt.prefix,ct=rt.local,Vt=Ze===""?"":fe.ns[Ze]||"",Nt={name:Pe,value:qe,prefix:Ze,local:ct,uri:Vt};Ze&&Ze!=="xmlns"&&!Vt&&(lt(I,"Unbound namespace prefix: "+JSON.stringify(Ze)),Nt.uri=Ze),I.tag.attributes[Pe]=Nt,Te(I,"onattribute",Nt)}I.attribList.length=0}I.tag.isSelfClosing=!!L,I.sawRoot=!0,I.tags.push(I.tag),Te(I,"onopentag",I.tag),L||(I.noscript||I.tagName.toLowerCase()!=="script"?I.state=$.TEXT:I.state=$.SCRIPT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function Ne(I){if(!I.tagName)return lt(I,"Weird empty close tag."),I.textNode+="</>",void(I.state=$.TEXT);if(I.script){if(I.tagName!=="script")return I.script+="</"+I.tagName+">",I.tagName="",void(I.state=$.SCRIPT);Te(I,"onscript",I.script),I.script=""}var L=I.tags.length,fe=I.tagName;I.strict||(fe=fe[I.looseCase]());for(var X=fe;L--&&I.tags[L].name!==X;)lt(I,"Unexpected close tag");if(L<0)return lt(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",void(I.state=$.TEXT);I.tagName=fe;for(var xe=I.tags.length;xe-- >L;){var Ve=I.tag=I.tags.pop();I.tagName=I.tag.name,Te(I,"onclosetag",I.tagName);var Le={};for(var Me in Ve.ns)Le[Me]=Ve.ns[Me];var Pe=I.tags[I.tags.length-1]||I;I.opt.xmlns&&Ve.ns!==Pe.ns&&Object.keys(Ve.ns).forEach(function(qe){var rt=Ve.ns[qe];Te(I,"onclosenamespace",{prefix:qe,uri:rt})})}L===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=$.TEXT}function Qe(I){var L,fe=I.entity,X=fe.toLowerCase(),xe="";return I.ENTITIES[fe]?I.ENTITIES[fe]:I.ENTITIES[X]?I.ENTITIES[X]:((fe=X).charAt(0)==="#"&&(fe.charAt(1)==="x"?(fe=fe.slice(2),xe=(L=parseInt(fe,16)).toString(16)):(fe=fe.slice(1),xe=(L=parseInt(fe,10)).toString(10))),fe=fe.replace(/^0+/,""),xe.toLowerCase()!==fe?(lt(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(L))}function B(I,L){L==="<"?(I.state=$.OPEN_WAKA,I.startTagPosition=I.position):se(l,L)&&(lt(I,"Non-whitespace before first tag."),I.textNode=L,I.state=$.TEXT)}function Y(I,L){var fe="";return L<I.length&&(fe=I.charAt(L)),fe}$=u.STATE,String.fromCodePoint||(P=String.fromCharCode,ae=Math.floor,we=function(){var I,L,fe=[],X=-1,xe=arguments.length;if(!xe)return"";for(var Ve="";++X<xe;){var Le=Number(arguments[X]);if(!isFinite(Le)||Le<0||Le>1114111||ae(Le)!==Le)throw RangeError("Invalid code point: "+Le);Le<=65535?fe.push(Le):(I=55296+((Le-=65536)>>10),L=Le%1024+56320,fe.push(I,L)),(X+1===xe||fe.length>16384)&&(Ve+=P.apply(null,fe),fe.length=0)}return Ve},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:we,configurable:!0,writable:!0}):String.fromCodePoint=we)})(f)},6739:function(_,f,t){(function(u,r,e,n,c){function i(Y){if("contents"in Y)for(var I=("styleAttrs"in Y)?Y.styleAttrs[n.byName.ruby.qname]:null,L=Y.kind==="span"&&(I==="container"||I==="textContainer"||I==="baseContainer"),fe=Y.contents.length-1;fe>=0;fe--)!L||"styleAttrs"in Y.contents[fe]&&n.byName.ruby.qname in Y.contents[fe].styleAttrs?i(Y.contents[fe]):delete Y.contents[fe]}function l(Y,I,L,fe){var X=fe&&fe.timeContainer==="seq",xe=0;fe&&(xe=X&&L?L.end:fe.begin),I.begin=I.explicit_begin?I.explicit_begin+xe:xe;var Ve=I.begin,Le=null;if("sets"in I)for(var Me=0;Me<I.sets.length;Me++)l(Y,I.sets[Me],Le,I),Ve=I.timeContainer==="seq"?I.sets[Me].end:Math.max(Ve,I.sets[Me].end),Le=I.sets[Me];if("contents"in I){if("contents"in I)for(var Pe=0;Pe<I.contents.length;Pe++)l(Y,I.contents[Pe],Le,I),Ve=I.timeContainer==="seq"?I.contents[Pe].end:Math.max(Ve,I.contents[Pe].end),Le=I.contents[Pe]}else Ve=X?I.begin:Number.POSITIVE_INFINITY;I.explicit_end!==null&&I.explicit_dur!==null?I.end=Math.min(I.begin+I.explicit_dur,xe+I.explicit_end):I.explicit_end===null&&I.explicit_dur!==null?I.end=I.begin+I.explicit_dur:I.explicit_end!==null&&I.explicit_dur===null?I.end=xe+I.explicit_end:I.end=Ve,delete I.explicit_begin,delete I.explicit_dur,delete I.explicit_end,Y._registerEvent(I)}function p(Y){this.node=Y}function h(){this.events=[],this.head=new b,this.body=null}function b(){this.styling=new E,this.layout=new F}function E(){this.styles={},this.initials={}}function y(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function R(){this.styleAttrs=null}function F(){this.regions={}}function te(Y,I){de.call(this,"image"),this.src=Y,this.type=I}function de(Y){this.kind=Y}function ee(Y){this.id=Y}function ve(Y){this.regionID=Y}function Ae(Y){this.styleAttrs=Y}function M(Y){this.sets=Y}function S(Y){this.contents=Y}function q(Y,I,L){this.explicit_begin=Y,this.explicit_end=I,this.explicit_dur=L}function se(){de.call(this,"body")}function P(){de.call(this,"div")}function ae(){de.call(this,"p")}function we(){de.call(this,"span")}function $(){de.call(this,"span")}function ze(){de.call(this,"br")}function Ce(){}function Te(){}function Ye(Y){return Y&&"xml:id"in Y.attributes&&Y.attributes["xml:id"].value||null}function Ue(Y){return Y&&"style"in Y.attributes?Y.attributes.style.value.split(" "):[]}function De(Y,I){var L={};if(Y!==null)for(var fe in Y.attributes){var X=Y.attributes[fe].uri+" "+Y.attributes[fe].local,xe=n.byQName[X];if(xe!==void 0){var Ve=xe.parse(Y.attributes[fe].value);Ve!==null?(L[X]=Ve,xe===n.byName.zIndex&&Ie(I,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Ne(I,"Cannot parse styling attribute "+X+" --> "+Y.attributes[fe].value)}}return L}function We(Y,I,L){for(var fe in Y.attributes)if(Y.attributes[fe].uri===I&&Y.attributes[fe].local===L)return Y.attributes[fe].value;return null}function lt(Y,I,L){var fe,X=null;return(fe=/^(\d+(?:\.\d+)?)f$/.exec(L))!==null?I!==null&&(X=parseFloat(fe[1])/I):(fe=/^(\d+(?:\.\d+)?)t$/.exec(L))!==null?Y!==null&&(X=parseFloat(fe[1])/Y):(fe=/^(\d+(?:\.\d+)?)ms$/.exec(L))!==null?X=parseFloat(fe[1])/1e3:(fe=/^(\d+(?:\.\d+)?)s$/.exec(L))!==null?X=parseFloat(fe[1]):(fe=/^(\d+(?:\.\d+)?)h$/.exec(L))!==null?X=3600*parseFloat(fe[1]):(fe=/^(\d+(?:\.\d+)?)m$/.exec(L))!==null?X=60*parseFloat(fe[1]):(fe=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(L))!==null?X=3600*parseInt(fe[1])+60*parseInt(fe[2])+parseFloat(fe[3]):(fe=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(L))!==null&&I!==null&&(X=3600*parseInt(fe[1])+60*parseInt(fe[2])+parseInt(fe[3])+(fe[4]===null?0:parseInt(fe[4])/I)),X}function At(Y,I,L){for(;I.styleRefs.length>0;){var fe=I.styleRefs.pop();fe in Y.styles?(At(Y,Y.styles[fe],L),Bt(Y.styles[fe].styleAttrs,I.styleAttrs)):Ne(L,"Non-existant style id referenced")}}function jt(Y,I,L,fe){for(var X=I.length-1;X>=0;X--){var xe=I[X];xe in Y.styles?Bt(Y.styles[xe].styleAttrs,L):Ne(fe,"Non-existant style id referenced")}}function Bt(Y,I){for(var L in Y)Y.hasOwnProperty(L)&&(L in I||(I[L]=Y[L]))}function Ie(Y,I){if(Y&&Y.warn&&Y.warn(I))throw I}function Ne(Y,I){if(Y&&Y.error&&Y.error(I))throw I}function Qe(Y,I){throw Y&&Y.fatal&&Y.fatal(I),I}function B(Y,I){for(var L,fe=0,X=Y.length-1;fe<=X;){var xe=Y[L=Math.floor((fe+X)/2)];if(xe<I)fe=L+1;else{if(!(xe>I))return{found:!0,index:L};X=L-1}}return{found:!1,index:fe}}u.fromXML=function(Y,I,L){var fe=r.parser(!0,{xmlns:!0}),X=[],xe=[],Ve=[],Le=0,Me=null;fe.onclosetag=function(ct){if(X[0]instanceof Ce)Me.head!==null&&Me.head.styling!==null&&jt(Me.head.styling,X[0].styleRefs,X[0].styleAttrs,I),delete X[0].styleRefs;else if(X[0]instanceof E)for(var Vt in X[0].styles)X[0].styles.hasOwnProperty(Vt)&&At(X[0],X[0].styles[Vt],I);else if(X[0]instanceof ae||X[0]instanceof we){if(X[0].contents.length>1){var Nt,Ut=[X[0].contents[0]];for(Nt=1;Nt<X[0].contents.length;Nt++)X[0].contents[Nt]instanceof $&&Ut[Ut.length-1]instanceof $?Ut[Ut.length-1].text+=X[0].contents[Nt].text:Ut.push(X[0].contents[Nt]);X[0].contents=Ut}X[0]instanceof we&&X[0].contents.length===1&&X[0].contents[0]instanceof $&&(X[0].text=X[0].contents[0].text,delete X[0].contents)}else X[0]instanceof p&&(X[0].node.uri===e.ns_tt&&X[0].node.local==="metadata"?Le--:Le>0&&L&&"onCloseTag"in L&&L.onCloseTag());Ve.shift(),xe.shift(),X.shift()},fe.ontext=function(ct){if(X[0]!==void 0)if(X[0]instanceof we||X[0]instanceof ae){if(X[0]instanceof we){var Vt=X[0].styleAttrs[n.byName.ruby.qname];if(Vt==="container"||Vt==="textContainer"||Vt==="baseContainer")return}var Nt=new $;Nt.initFromText(Me,X[0],ct,xe[0],Ve[0],I),X[0].contents.push(Nt)}else X[0]instanceof p&&Le>0&&L&&"onText"in L&&L.onText(ct)},fe.onopentag=function(ct){var Vt=ct.attributes["xml:space"];Vt?Ve.unshift(Vt.value):Ve.length===0?Ve.unshift("default"):Ve.unshift(Ve[0]);var Nt=ct.attributes["xml:lang"];if(Nt?xe.unshift(Nt.value):xe.length===0?xe.unshift(""):xe.unshift(xe[0]),ct.uri===e.ns_tt)if(ct.local==="tt")Me!==null&&Qe(I,"Two <tt> elements at ("+this.line+","+this.column+")"),(Me=new h).initFromNode(ct,xe[0],I),X.unshift(Me);else if(ct.local==="head")X[0]instanceof h||Qe(I,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),X.unshift(Me.head);else if(ct.local==="styling")X[0]instanceof b||Qe(I,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),X.unshift(Me.head.styling);else if(ct.local==="style"){var Ut;X[0]instanceof E?((Ut=new y).initFromNode(ct,I),Ut.id?Me.head.styling.styles[Ut.id]=Ut:Ne(I,"<style> element missing @id attribute"),X.unshift(Ut)):X[0]instanceof Ce?((Ut=new y).initFromNode(ct,I),Bt(Ut.styleAttrs,X[0].styleAttrs),X.unshift(Ut)):Qe(I,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(ct.local==="initial"){var wt;if(X[0]instanceof E){for(var yn in(wt=new R).initFromNode(ct,I),wt.styleAttrs)wt.styleAttrs.hasOwnProperty(yn)&&(Me.head.styling.initials[yn]=wt.styleAttrs[yn]);X.unshift(wt)}else Qe(I,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(ct.local==="layout")X[0]instanceof b||Qe(I,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),X.unshift(Me.head.layout);else if(ct.local==="region"){X[0]instanceof F||Qe(I,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Nn=new Ce;Nn.initFromNode(Me,ct,xe[0],I),!Nn.id||Nn.id in Me.head.layout.regions?Ne(I,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Me.head.layout.regions[Nn.id]=Nn,X.unshift(Nn)}else if(ct.local==="body"){X[0]instanceof h||Qe(I,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),Me.body!==null&&Qe(I,"Second <body> element at "+this.line+","+this.column+")");var Pn=new se;Pn.initFromNode(Me,ct,xe[0],I),Me.body=Pn,X.unshift(Pn)}else if(ct.local==="div"){X[0]instanceof P||X[0]instanceof se||Qe(I,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var na=new P;na.initFromNode(Me,X[0],ct,xe[0],I);var la=na.styleAttrs[n.byName.backgroundImage.qname];la&&(na.contents.push(new te(la)),delete na.styleAttrs[n.byName.backgroundImage.qname]),X[0].contents.push(na),X.unshift(na)}else if(ct.local==="image"){X[0]instanceof P||Qe(I,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Wn=new te;Wn.initFromNode(Me,X[0],ct,xe[0],I),X[0].contents.push(Wn),X.unshift(Wn)}else if(ct.local==="p"){X[0]instanceof P||Qe(I,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var xt=new ae;xt.initFromNode(Me,X[0],ct,xe[0],I),X[0].contents.push(xt),X.unshift(xt)}else if(ct.local==="span"){X[0]instanceof we||X[0]instanceof ae||Qe(I,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Ct=new we;Ct.initFromNode(Me,X[0],ct,xe[0],Ve[0],I),X[0].contents.push(Ct),X.unshift(Ct)}else if(ct.local==="br"){X[0]instanceof we||X[0]instanceof ae||Qe(I,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var ht=new ze;ht.initFromNode(Me,X[0],ct,xe[0],I),X[0].contents.push(ht),X.unshift(ht)}else if(ct.local==="set"){X[0]instanceof we||X[0]instanceof ae||X[0]instanceof P||X[0]instanceof se||X[0]instanceof Ce||X[0]instanceof ze||Qe(I,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var it=new Te;it.initFromNode(Me,X[0],ct,I),X[0].sets.push(it),X.unshift(it)}else X.unshift(new p(ct));else X.unshift(new p(ct));if(X[0]instanceof p){if(ct.uri===e.ns_tt&&ct.local==="metadata")Le++;else if(Le>0&&L&&"onOpenTag"in L){var Pt=[];for(var Dt in ct.attributes)Pt[ct.attributes[Dt].uri+" "+ct.attributes[Dt].local]={uri:ct.attributes[Dt].uri,local:ct.attributes[Dt].local,value:ct.attributes[Dt].value};L.onOpenTag(ct.uri,ct.local,Pt)}}},fe.write(Y).close(),delete Me.head.styling.styles;var Pe=!1;for(var qe in Me.head.layout.regions)if(Me.head.layout.regions.hasOwnProperty(qe)){Pe=!0;break}if(!Pe){var rt=Ce.prototype.createDefaultRegion(Me.lang);Me.head.layout.regions[rt.id]=rt}for(var Ze in Me.head.layout.regions)Me.head.layout.regions.hasOwnProperty(Ze)&&l(Me,Me.head.layout.regions[Ze],null,null);return Me.body&&l(Me,Me.body,null,null),Me.body&&i(Me.body),Me},h.prototype.initFromNode=function(Y,I,L){var fe=function(Le,Me){var Pe=We(Le,e.ns_ttp,"cellResolution"),qe=15,rt=32;if(Pe!==null){var Ze=/(\d+) (\d+)/.exec(Pe);Ze!==null?(rt=parseInt(Ze[1]),qe=parseInt(Ze[2])):Ie(Me,"Malformed cellResolution value (using initial value instead)")}return{w:rt,h:qe}}(Y,L);this.cellLength={h:new c.ComputedLength(0,1/fe.h),w:new c.ComputedLength(1/fe.w,0)};var X=function(Le,Me){var Pe,qe=We(Le,e.ns_ttp,"frameRate"),rt=30;qe!==null&&((Pe=/(\d+)/.exec(qe))!==null?rt=parseInt(Pe[1]):Ie(Me,"Malformed frame rate attribute (using initial value instead)"));var Ze=We(Le,e.ns_ttp,"frameRateMultiplier"),ct=1;Ze!==null&&((Pe=/(\d+) (\d+)/.exec(Ze))!==null?ct=parseInt(Pe[1])/parseInt(Pe[2]):Ie(Me,"Malformed frame rate multiplier attribute (using initial value instead)"));var Vt=ct*rt,Nt=1,Ut=We(Le,e.ns_ttp,"tickRate");return Ut===null?qe!==null&&(Nt=Vt):(Pe=/(\d+)/.exec(Ut))!==null?Nt=parseInt(Pe[1]):Ie(Me,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Vt,tickRate:Nt}}(Y,L);this.effectiveFrameRate=X.effectiveFrameRate,this.tickRate=X.tickRate,this.aspectRatio=function(Le,Me){var Pe=We(Le,e.ns_ittp,"aspectRatio");Pe===null&&(Pe=We(Le,e.ns_ttp,"displayAspectRatio"));var qe=null;if(Pe!==null){var rt=/(\d+)\s+(\d+)/.exec(Pe);if(rt!==null){var Ze=parseInt(rt[1]),ct=parseInt(rt[2]);Ze!==0&&ct!==0?qe=Ze/ct:Ne(Me,"Illegal aspectRatio values (ignoring)")}else Ne(Me,"Malformed aspectRatio attribute (ignoring)")}return qe}(Y,L);var xe=We(Y,e.ns_ttp,"timeBase");xe!==null&&xe!=="media"&&Qe(L,"Unsupported time base");var Ve=function(Le,Me){var Pe=We(Le,e.ns_tts,"extent");if(Pe===null)return null;var qe=Pe.split(" ");if(qe.length!==2)return Ie(Me,"Malformed extent (ignoring)"),null;var rt=c.parseLength(qe[0]),Ze=c.parseLength(qe[1]);return Ze&&rt?{h:Ze,w:rt}:(Ie(Me,"Malformed extent values (ignoring)"),null)}(Y,L);Ve===null?this.pxLength={h:null,w:null}:(Ve.h.unit==="px"&&Ve.w.unit==="px"||Qe(L,"Extent on TT must be in px or absent"),this.pxLength={h:new c.ComputedLength(0,1/Ve.h.value),w:new c.ComputedLength(1/Ve.w.value,0)}),this.dimensions={h:new c.ComputedLength(0,1),w:new c.ComputedLength(1,0)},this.lang=I},h.prototype._registerEvent=function(Y){if(!(Y.end<=Y.begin)){var I=B(this.events,Y.begin);if(I.found||this.events.splice(I.index,0,Y.begin),Y.end!==Number.POSITIVE_INFINITY){var L=B(this.events,Y.end);L.found||this.events.splice(L.index,0,Y.end)}}},h.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},h.prototype.getMediaTimeEvents=function(){return this.events},y.prototype.initFromNode=function(Y,I){this.id=Ye(Y),this.styleAttrs=De(Y,I),this.styleRefs=Ue(Y)},R.prototype.initFromNode=function(Y,I){for(var L in this.styleAttrs={},Y.attributes)if(Y.attributes[L].uri===e.ns_itts||Y.attributes[L].uri===e.ns_ebutts||Y.attributes[L].uri===e.ns_tts){var fe=Y.attributes[L].uri+" "+Y.attributes[L].local;this.styleAttrs[fe]=Y.attributes[L].value}},te.prototype.initFromNode=function(Y,I,L,fe,X){this.src="src"in L.attributes?L.attributes.src.value:null,this.src||Ne(X,"Invalid image@src attribute"),this.type="type"in L.attributes?L.attributes.type.value:null,this.type||Ne(X,"Invalid image@type attribute"),Ae.prototype.initFromNode.call(this,Y,I,L,X),q.prototype.initFromNode.call(this,Y,I,L,X),M.prototype.initFromNode.call(this,Y,I,L,X),ve.prototype.initFromNode.call(this,Y,I,L,X),this.lang=fe},ee.prototype.initFromNode=function(Y,I,L,fe){this.id=Ye(L)},ve.prototype.initFromNode=function(Y,I,L,fe){this.regionID=function(X){return X&&"region"in X.attributes?X.attributes.region.value:""}(L)},Ae.prototype.initFromNode=function(Y,I,L,fe){this.styleAttrs=De(L,fe),Y.head!==null&&Y.head.styling!==null&&jt(Y.head.styling,Ue(L),this.styleAttrs,fe)},M.prototype.initFromNode=function(Y,I,L,fe){this.sets=[]},S.prototype.initFromNode=function(Y,I,L,fe){this.contents=[]},q.prototype.initFromNode=function(Y,I,L,fe){var X=function(xe,Ve,Le,Me){var Pe=null;Le&&"begin"in Le.attributes&&(Pe=lt(xe.tickRate,xe.effectiveFrameRate,Le.attributes.begin.value))===null&&Ie(Me,"Malformed begin value "+Le.attributes.begin.value+" (using 0)");var qe=null;Le&&"dur"in Le.attributes&&(qe=lt(xe.tickRate,xe.effectiveFrameRate,Le.attributes.dur.value))===null&&Ie(Me,"Malformed dur value "+Le.attributes.dur.value+" (ignoring)");var rt=null;return Le&&"end"in Le.attributes&&(rt=lt(xe.tickRate,xe.effectiveFrameRate,Le.attributes.end.value))===null&&Ie(Me,"Malformed end value (ignoring)"),{explicit_begin:Pe,explicit_end:rt,explicit_dur:qe}}(Y,0,L,fe);this.explicit_begin=X.explicit_begin,this.explicit_end=X.explicit_end,this.explicit_dur=X.explicit_dur,this.timeContainer=function(xe,Ve){var Le=xe&&"timeContainer"in xe.attributes?xe.attributes.timeContainer.value:null;return Le&&Le!=="par"?Le==="seq"?"seq":(Ne(Ve,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(L,fe)},se.prototype.initFromNode=function(Y,I,L,fe){Ae.prototype.initFromNode.call(this,Y,null,I,fe),q.prototype.initFromNode.call(this,Y,null,I,fe),M.prototype.initFromNode.call(this,Y,null,I,fe),ve.prototype.initFromNode.call(this,Y,null,I,fe),S.prototype.initFromNode.call(this,Y,null,I,fe),this.lang=L},P.prototype.initFromNode=function(Y,I,L,fe,X){Ae.prototype.initFromNode.call(this,Y,I,L,X),q.prototype.initFromNode.call(this,Y,I,L,X),M.prototype.initFromNode.call(this,Y,I,L,X),ve.prototype.initFromNode.call(this,Y,I,L,X),S.prototype.initFromNode.call(this,Y,I,L,X),this.lang=fe},ae.prototype.initFromNode=function(Y,I,L,fe,X){Ae.prototype.initFromNode.call(this,Y,I,L,X),q.prototype.initFromNode.call(this,Y,I,L,X),M.prototype.initFromNode.call(this,Y,I,L,X),ve.prototype.initFromNode.call(this,Y,I,L,X),S.prototype.initFromNode.call(this,Y,I,L,X),this.lang=fe},we.prototype.initFromNode=function(Y,I,L,fe,X,xe){Ae.prototype.initFromNode.call(this,Y,I,L,xe),q.prototype.initFromNode.call(this,Y,I,L,xe),M.prototype.initFromNode.call(this,Y,I,L,xe),ve.prototype.initFromNode.call(this,Y,I,L,xe),S.prototype.initFromNode.call(this,Y,I,L,xe),this.space=X,this.lang=fe},$.prototype.initFromText=function(Y,I,L,fe,X,xe){q.prototype.initFromNode.call(this,Y,I,null,xe),this.text=L,this.space=X,this.lang=fe},ze.prototype.initFromNode=function(Y,I,L,fe,X){ve.prototype.initFromNode.call(this,Y,I,L,X),q.prototype.initFromNode.call(this,Y,I,L,X),this.lang=fe},Ce.prototype.createDefaultRegion=function(Y){var I=new Ce;return ee.call(I,""),Ae.call(I,{}),M.call(I,[]),q.call(I,0,Number.POSITIVE_INFINITY,null),this.lang=Y,I},Ce.prototype.initFromNode=function(Y,I,L,fe){ee.prototype.initFromNode.call(this,Y,null,I,fe),q.prototype.initFromNode.call(this,Y,null,I,fe),M.prototype.initFromNode.call(this,Y,null,I,fe),this.styleAttrs=De(I,fe),this.styleRefs=Ue(I),this.lang=L},Te.prototype.initFromNode=function(Y,I,L,fe){q.prototype.initFromNode.call(this,Y,I,L,fe);var X=De(L,fe);for(var xe in this.qname=null,this.value=null,X)if(X.hasOwnProperty(xe)){if(this.qname){Ne(fe,"More than one style specified on set");break}this.qname=xe,this.value=X[xe]}}})(f,typeof sax>"u"?t(5474):sax,typeof imscNames>"u"?t(977):imscNames,typeof imscStyles>"u"?t(1219):imscStyles,typeof imscUtils>"u"?t(6404):imscUtils)},1612:function(_,f,t){var u=/firefox/i.test(navigator.userAgent);(function(r,e,n){function c(S,q,se,P){var ae;if(se.kind==="region")(ae=document.createElement("div")).style.position="absolute";else if(se.kind==="body")ae=document.createElement("div");else if(se.kind==="div")ae=document.createElement("div");else if(se.kind==="image"){if(ae=document.createElement("img"),S.imgResolver!==null&&se.src!==null){var we=S.imgResolver(se.src,ae);we&&(ae.src=we),ae.height=S.regionH,ae.width=S.regionW}}else if(se.kind==="p")ae=document.createElement("p");else if(se.kind==="span")if(se.styleAttrs[n.byName.ruby.qname]==="container")ae=document.createElement("ruby"),S.ruby=!0;else if(se.styleAttrs[n.byName.ruby.qname]==="base")ae=document.createElement("span");else if(se.styleAttrs[n.byName.ruby.qname]==="text")ae=document.createElement("rt");else if(se.styleAttrs[n.byName.ruby.qname]==="baseContainer")ae=document.createElement("rbc");else if(se.styleAttrs[n.byName.ruby.qname]==="textContainer")ae=document.createElement("rtc");else{if(se.styleAttrs[n.byName.ruby.qname]==="delimiter")return;ae=document.createElement("span")}else se.kind==="br"&&(ae=document.createElement("br"));if(ae){if(se.lang&&(se.kind!=="region"&&se.lang===P.lang||(ae.lang=se.lang)),q.appendChild(ae),ae.style.margin="0",se.kind==="region"){var $=se.styleAttrs[n.byName.writingMode.qname];$==="lrtb"||$==="lr"?(S.ipd="lr",S.bpd="tb"):$==="rltb"||$==="rl"?(S.ipd="rl",S.bpd="tb"):$==="tblr"?(S.ipd="tb",S.bpd="lr"):$!=="tbrl"&&$!=="tb"||(S.ipd="tb",S.bpd="rl")}else if(se.kind==="p"&&S.bpd==="tb"){var ze=se.styleAttrs[n.byName.direction.qname];S.ipd=ze==="ltr"?"lr":"rl"}for(var Ce=0;Ce<R.length;Ce++){var Te=R[Ce],Ye=se.styleAttrs[Te.qname];Ye!==void 0&&Te.map!==null&&Te.map(S,ae,se,Ye)}var Ue=ae,De=se.styleAttrs[n.byName.linePadding.qname];if(De&&!De.isZero()){var We=De.toUsedLength(S.w,S.h);if(We>0){var lt=Math.ceil(We)+"px";S.bpd==="tb"?(Ue.style.paddingLeft=lt,Ue.style.paddingRight=lt):(Ue.style.paddingTop=lt,Ue.style.paddingBottom=lt),S.lp=De}}var At=se.styleAttrs[n.byName.multiRowAlign.qname];if(At&&At!=="auto"){var jt=document.createElement("span");jt.style.display="inline-block",jt.style.textAlign=At,ae.appendChild(jt),Ue=jt,S.mra=At}var Bt=se.styleAttrs[n.byName.rubyReserve.qname];if(Bt&&Bt[0]!=="none"&&(S.rubyReserve=Bt),se.styleAttrs[n.byName.fillLineGap.qname]&&(S.flg=!0),se.kind==="span"&&se.text){var Ie=se.styleAttrs[n.byName.textEmphasis.qname];if(Ie&&Ie.style!=="none"&&(S.textEmphasis=!0),n.byName.textCombine.qname in se.styleAttrs&&se.styleAttrs[n.byName.textCombine.qname]==="all")ae.textContent=se.text,ae._isd_element=se,Ie&&E(S,ae,0,Ie);else for(var Ne="",Qe=0;Qe<se.text.length;Qe++){Ne+=se.text.charAt(Qe);var B=se.text.charCodeAt(Qe);if(B<55296||B>56319||Qe===se.text.length-1){var Y=document.createElement("span");Y.textContent=Ne,Ie&&E(S,Y,0,Ie),ae.appendChild(Y),Ne="",Y._isd_element=se}}}if("contents"in se)for(var I=0;I<se.contents.length;I++)c(S,Ue,se.contents[I],se);var L=[];if(se.kind==="p"&&(b(S,Ue,L,null),S.rubyReserve&&(function(Le,Me){for(var Pe=0;Pe<Le.length;Pe++){var qe,rt,Ze=document.createElement("ruby"),ct=document.createElement("span");ct.textContent="​",Ze.appendChild(ct);var Vt,Nt=Me.rubyReserve[1].toUsedLength(Me.w,Me.h)+"px";Me.rubyReserve[0]==="both"||Me.rubyReserve[0]==="outside"&&Le.length==1?((qe=document.createElement("rtc")).style[ee]=de?"after":"under",qe.textContent="​",qe.style.fontSize=Nt,(rt=document.createElement("rtc")).style[ee]=de?"before":"over",rt.textContent="​",rt.style.fontSize=Nt,Ze.appendChild(qe),Ze.appendChild(rt)):((qe=document.createElement("rtc")).textContent="​",qe.style.fontSize=Nt,Vt=Me.rubyReserve[0]==="after"||Me.rubyReserve[0]==="outside"&&Pe>0?de?"after":Me.bpd==="tb"||Me.bpd==="rl"?"under":"over":de?"before":Me.bpd==="tb"||Me.bpd==="rl"?"over":"under",qe.style[ee]=Vt,Ze.appendChild(qe));for(var Ut=null,wt=0;wt<Le[Pe].rbc.length;wt++)if(Le[Pe].rbc[wt].localName==="ruby"){Ut=Le[Pe].rbc[wt];for(var yn=0;yn<Ut.style.length;yn++)Ze.style.setProperty(Ut.style.item(yn),Ut.style.getPropertyValue(Ut.style.item(yn)));break}(Ut=Ut||Le[Pe].elements[0].node).parentElement.insertBefore(Ze,Ut)}}(L,S),S.rubyReserve=null),(S.ruby||S.rubyReserve)&&(function(Le,Me){for(var Pe=0;Pe<Le.length;Pe++)for(var qe=0;qe<Le[Pe].rbc.length;qe++){var rt;Le[Pe].rbc[qe].style[ee]||(rt=de?Pe===0?"before":"after":Me.bpd==="tb"||Me.bpd==="rl"?Pe===0?"over":"under":Pe===0?"under":"over",Le[Pe].rbc[qe].style[ee]=rt)}}(L,S),S.ruby=null),S.textEmphasis&&(function(Le,Me){for(var Pe=0;Pe<Le.length;Pe++)for(var qe=0;qe<Le[Pe].te.length;qe++){var rt;Le[Pe].te[qe].style[Ae]&&Le[Pe].te[qe].style[Ae]!=="none"||(rt=Me.bpd==="tb"?Pe===0?"left over":"left under":Me.bpd==="rl"?Pe===0?"right under":"left under":Pe===0?"left under":"right under",Le[Pe].te[qe].style[Ae]=rt)}}(L,S),S.textEmphasis=null),S.mra&&(function(Le){for(var Me=0;Me<Le.length-1;Me++){var Pe=Le[Me].elements.length;if(Pe!==0&&Le[Me].br===!1){var qe=document.createElement("br"),rt=Le[Me].elements[Pe-1].node;rt.parentElement.insertBefore(qe,rt.nextSibling)}}}(L),S.mra=null),S.lp&&(function(Le,Me,Pe){if(Le!==null)for(var qe=0;qe<Le.length;qe++){var rt=Le[qe].elements.length,Ze=Math.ceil(Me)+"px",ct="-"+Math.ceil(Me)+"px";if(rt!==0){var Vt=Le[qe].elements[Le[qe].start_elem],Nt=Le[qe].elements[Le[qe].end_elem];if(Vt===Nt){var Ut=Vt.node.getBoundingClientRect();if(Ut.width==0||Ut.height==0)continue}Pe.ipd==="lr"?(Vt.node.style.marginLeft=ct,Vt.node.style.paddingLeft=Ze):Pe.ipd==="rl"?(Vt.node.style.paddingRight=Ze,Vt.node.style.marginRight=ct):Pe.ipd==="tb"&&(Vt.node.style.paddingTop=Ze,Vt.node.style.marginTop=ct),Pe.ipd==="lr"?(u||(Nt.node.style.marginRight=ct),Nt.node.style.paddingRight=Ze):Pe.ipd==="rl"?(Nt.node.style.paddingLeft=Ze,u||(Nt.node.style.marginLeft=ct)):Pe.ipd==="tb"&&(Nt.node.style.paddingBottom=Ze,Nt.node.style.marginBottom=ct)}}}(L,S.lp.toUsedLength(S.w,S.h),S),S.lp=null),function(Le,Me){for(var Pe=0;Pe<Le.length;Pe++)for(var qe=Le[Pe],rt=1;rt<qe.elements.length;){var Ze=qe.elements[rt-1],ct=qe.elements[rt];l(Ze.node,ct.node,Me)?qe.elements.splice(rt,1):rt++}for(var Vt,Nt,Ut=[],wt=0;wt<Le.length;wt++)for(var yn=0;yn<Le[wt].elements.length;yn++)(Nt=i(Vt=Le[wt].elements[yn].node,Ut,!1))&&(Vt.style.backgroundColor=Nt);for(var Nn=0;Nn<Ut.length;Nn++)Ut[Nn].style.backgroundColor=""}(L,S),S.flg)){var fe=h(Ue.getBoundingClientRect(),S);(function(Le,Me,Pe,qe){for(var rt=Math.sign(Pe-Me),Ze=0;Ze<=Le.length;Ze++){var ct,Vt,Nt,Ut;if(ct=Ze===0?Math.round(Me):Ze===Le.length?Math.round(Pe):Math.round((Le[Ze-1].after+Le[Ze].before)/2),Ze>0&&Le[Ze-1])for(Nt=0;Nt<Le[Ze-1].elements.length;Nt++)Vt=rt*(ct-(Ut=Le[Ze-1].elements[Nt]).after)+"px",qe.bpd==="lr"?Ut.node.style.paddingRight=Vt:qe.bpd==="rl"?Ut.node.style.paddingLeft=Vt:qe.bpd==="tb"&&(Ut.node.style.paddingBottom=Vt);if(Ze<Le.length)for(Nt=0;Nt<Le[Ze].elements.length;Nt++)Vt=rt*((Ut=Le[Ze].elements[Nt]).before-ct)+"px",qe.bpd==="lr"?Ut.node.style.paddingLeft=Vt:qe.bpd==="rl"?Ut.node.style.paddingRight=Vt:qe.bpd==="tb"&&(Ut.node.style.paddingTop=Vt)}})(L,fe.before,fe.after,S),S.flg=null}if(se.kind==="region"&&S.bpd==="tb"&&S.enableRollUp&&se.contents.length>0&&se.styleAttrs[n.byName.displayAlign.qname]==="after"){b(S,Ue,L,null);var X=new p(se.id===""?"_":se.id,L);if(S.currentISDState[X.id]=X,S.previousISDState&&X.id in S.previousISDState&&S.previousISDState[X.id].plist.length>0&&X.plist.length>1&&X.plist[X.plist.length-2].text===S.previousISDState[X.id].plist[S.previousISDState[X.id].plist.length-1].text){var xe=ae.firstElementChild,Ve=X.plist[X.plist.length-1].after-X.plist[X.plist.length-1].before;xe.style.bottom="-"+Ve+"px",xe.style.transition="transform 0.4s",xe.style.position="relative",xe.style.transform="translateY(-"+Ve+"px)"}}}else M(S.errorHandler,"Error processing ISD element kind: "+se.kind)}function i(S,q,se){return S.style.backgroundColor?(se&&!q.includes(S)&&q.push(S),S.style.backgroundColor):S.parentElement.nodeName==="SPAN"||S.parentElement.nodeName==="RUBY"||S.parentElement.nodeName==="RBC"||S.parentElement.nodeName==="RTC"||S.parentElement.nodeName==="RT"?i(S.parentElement,q,!0):void 0}function l(S,q,se){if(S.tagName==="SPAN"&&q.tagName==="SPAN"&&S._isd_element===q._isd_element){if(!S._isd_element)return M(se.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;S.textContent+=q.textContent;for(var P=0;P<q.style.length;P++){var ae=q.style[P];(ae.indexOf("border")>=0||ae.indexOf("padding")>=0||ae.indexOf("margin")>=0)&&(S.style[ae]=q.style[ae])}return q.parentElement.removeChild(q),!0}return!1}function p(S,q){this.id=S,this.plist=q}function h(S,q){var se={before:null,after:null,start:null,end:null};return q.bpd==="tb"?(se.before=S.top,se.after=S.bottom,q.ipd==="lr"?(se.start=S.left,se.end=S.right):(se.start=S.right,se.end=S.left)):q.bpd==="lr"?(se.before=S.left,se.after=S.right,se.start=S.top,se.end=S.bottom):q.bpd==="rl"&&(se.before=S.right,se.after=S.left,se.start=S.top,se.end=S.bottom),se}function b(S,q,se,P){if(q.localName!=="rt"&&q.localName!=="rtc"){var ae,we,$,ze,Ce=q.style.backgroundColor||P;if(q.childElementCount===0)if(q.localName==="span"||q.localName==="rb"){var Te=h(q.getBoundingClientRect(),S);if(se.length!==0&&(ae=Te.before,we=Te.after,$=se[se.length-1].before,we<(ze=se[se.length-1].after)&&ae>$||ze<=we&&$>=ae)){var Ye=Math.sign(Te.after-Te.before),Ue=Math.sign(Te.end-Te.start);Ye*(Te.before-se[se.length-1].before)<0&&(se[se.length-1].before=Te.before),Ye*(Te.after-se[se.length-1].after)>0&&(se[se.length-1].after=Te.after),Ue*(Te.start-se[se.length-1].start)<0&&(se[se.length-1].start=Te.start,se[se.length-1].start_elem=se[se.length-1].elements.length),Ue*(Te.end-se[se.length-1].end)>0&&(se[se.length-1].end=Te.end,se[se.length-1].end_elem=se[se.length-1].elements.length)}else se.push({before:Te.before,after:Te.after,start:Te.start,end:Te.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});se[se.length-1].text+=q.textContent,se[se.length-1].elements.push({node:q,bgcolor:Ce,before:Te.before,after:Te.after})}else q.localName==="br"&&se.length!==0&&(se[se.length-1].br=!0);else for(var De=q.firstChild;De;)De.nodeType===Node.ELEMENT_NODE&&(b(S,De,se,Ce),De.localName==="ruby"||De.localName==="rtc"?se.length>0&&se[se.length-1].rbc.push(De):De.localName==="span"&&De.style[ve]&&De.style[ve]!=="none"&&se.length>0&&se[se.length-1].te.push(De)),De=De.nextSibling}}function E(S,q,se,P){var ae;P.style!=="none"&&(P.style==="auto"?q.style[ve]="filled":q.style[ve]=P.style+" "+P.symbol,(P.position==="before"||P.position==="after")&&(ae=S.bpd==="tb"?P.position==="before"?"left over":"left under":S.bpd==="rl"?P.position==="before"?"right under":"left under":P.position==="before"?"left under":"right under",q.style[Ae]=ae))}function y(S,q){this.qname=S,this.map=q}r.render=function(S,q,se,P,ae,we,$,ze,Ce){var Te=P||q.clientHeight,Ye=ae||q.clientWidth;if(S.aspectRatio!==null){var Ue=Te*S.aspectRatio;Ue>Ye?Te=Math.round(Ye/S.aspectRatio):Ye=Ue}var De=document.createElement("div");De.style.position="relative",De.style.width=Ye+"px",De.style.height=Te+"px",De.style.margin="auto",De.style.top=0,De.style.bottom=0,De.style.left=0,De.style.right=0,De.style.zIndex=0;var We={h:Te,w:Ye,regionH:null,regionW:null,imgResolver:se,displayForcedOnlyMode:we||!1,isd:S,errorHandler:$,previousISDState:ze,enableRollUp:Ce||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(q.appendChild(De),"contents"in S)for(var lt=0;lt<S.contents.length;lt++)c(We,De,S.contents[lt],S);return We.currentISDState};for(var R=[new y("http://www.w3.org/ns/ttml#styling backgroundColor",function(S,q,se,P){P[3]!==0&&(q.style.backgroundColor="rgba("+P[0].toString()+","+P[1].toString()+","+P[2].toString()+","+(P[3]/255).toString()+")")}),new y("http://www.w3.org/ns/ttml#styling color",function(S,q,se,P){q.style.color="rgba("+P[0].toString()+","+P[1].toString()+","+P[2].toString()+","+(P[3]/255).toString()+")"}),new y("http://www.w3.org/ns/ttml#styling direction",function(S,q,se,P){q.style.direction=P}),new y("http://www.w3.org/ns/ttml#styling display",function(S,q,se,P){}),new y("http://www.w3.org/ns/ttml#styling displayAlign",function(S,q,se,P){q.style.display="flex",q.style.flexDirection="column",P==="before"?q.style.justifyContent="flex-start":P==="center"?q.style.justifyContent="center":P==="after"&&(q.style.justifyContent="flex-end")}),new y("http://www.w3.org/ns/ttml#styling extent",function(S,q,se,P){S.regionH=P.h.toUsedLength(S.w,S.h),S.regionW=P.w.toUsedLength(S.w,S.h);var ae=0,we=0,$=se.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];$&&(ae=$[0].toUsedLength(S.w,S.h)+$[2].toUsedLength(S.w,S.h),we=$[1].toUsedLength(S.w,S.h)+$[3].toUsedLength(S.w,S.h)),q.style.height=S.regionH-ae+"px",q.style.width=S.regionW-we+"px"}),new y("http://www.w3.org/ns/ttml#styling fontFamily",function(S,q,se,P){for(var ae=[],we=0;we<P.length;we++)P[we]=P[we].trim(),P[we]==="monospaceSerif"?(ae.push("Courier New"),ae.push('"Liberation Mono"'),ae.push("Courier"),ae.push("monospace")):P[we]==="proportionalSansSerif"?(ae.push("Arial"),ae.push("Helvetica"),ae.push('"Liberation Sans"'),ae.push("sans-serif")):P[we]==="monospace"?ae.push("monospace"):P[we]==="sansSerif"?ae.push("sans-serif"):P[we]==="serif"?ae.push("serif"):P[we]==="monospaceSansSerif"?(ae.push("Consolas"),ae.push("monospace")):P[we]==="proportionalSerif"?ae.push("serif"):ae.push(P[we]);if(ae.length>0){for(var $=[ae[0]],ze=1;ze<ae.length;ze++)$.indexOf(ae[ze])==-1&&$.push(ae[ze]);ae=$}q.style.fontFamily=ae.join(",")}),new y("http://www.w3.org/ns/ttml#styling shear",function(S,q,se,P){if(P!==0){var ae=-.9*P;S.bpd==="tb"?q.style.transform="skewX("+ae+"deg)":q.style.transform="skewY("+ae+"deg)"}}),new y("http://www.w3.org/ns/ttml#styling fontSize",function(S,q,se,P){q.style.fontSize=P.toUsedLength(S.w,S.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling fontStyle",function(S,q,se,P){q.style.fontStyle=P}),new y("http://www.w3.org/ns/ttml#styling fontWeight",function(S,q,se,P){q.style.fontWeight=P}),new y("http://www.w3.org/ns/ttml#styling lineHeight",function(S,q,se,P){q.style.lineHeight=P==="normal"?"normal":P.toUsedLength(S.w,S.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling opacity",function(S,q,se,P){q.style.opacity=P}),new y("http://www.w3.org/ns/ttml#styling origin",function(S,q,se,P){q.style.top=P.h.toUsedLength(S.w,S.h)+"px",q.style.left=P.w.toUsedLength(S.w,S.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling overflow",function(S,q,se,P){q.style.overflow=P}),new y("http://www.w3.org/ns/ttml#styling padding",function(S,q,se,P){var ae=[];ae[0]=P[0].toUsedLength(S.w,S.h)+"px",ae[1]=P[3].toUsedLength(S.w,S.h)+"px",ae[2]=P[2].toUsedLength(S.w,S.h)+"px",ae[3]=P[1].toUsedLength(S.w,S.h)+"px",q.style.padding=ae.join(" ")}),new y("http://www.w3.org/ns/ttml#styling position",function(S,q,se,P){q.style.top=P.h.toUsedLength(S.w,S.h)+"px",q.style.left=P.w.toUsedLength(S.w,S.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling rubyAlign",function(S,q,se,P){q.style.rubyAlign=P==="spaceAround"?"space-around":"center"}),new y("http://www.w3.org/ns/ttml#styling rubyPosition",function(S,q,se,P){var ae;P!=="before"&&P!=="after"||(ae=de?P:S.bpd==="tb"||S.bpd==="rl"?P==="before"?"over":"under":P==="before"?"under":"over",q.parentElement.style[ee]=ae)}),new y("http://www.w3.org/ns/ttml#styling showBackground",null),new y("http://www.w3.org/ns/ttml#styling textAlign",function(S,q,se,P){var ae;ae=P==="start"?S.ipd==="rl"?"right":"left":P==="end"?S.ipd==="rl"?"left":"right":P,q.style.textAlign=ae}),new y("http://www.w3.org/ns/ttml#styling textDecoration",function(S,q,se,P){q.style.textDecoration=P.join(" ").replace("lineThrough","line-through")}),new y("http://www.w3.org/ns/ttml#styling textOutline",function(S,q,se,P){}),new y("http://www.w3.org/ns/ttml#styling textShadow",function(S,q,se,P){var ae=se.styleAttrs[n.byName.textOutline.qname];if(P==="none"&&ae==="none")q.style.textShadow="";else{var we=[];if(ae!=="none"){var $="rgba("+ae.color[0].toString()+","+ae.color[1].toString()+","+ae.color[2].toString()+","+(ae.color[3]/255).toString()+")";we.push("1px 1px 1px "+$),we.push("-1px 1px 1px "+$),we.push("1px -1px 1px "+$),we.push("-1px -1px 1px "+$)}if(P!=="none")for(var ze=0;ze<P.length;ze++)we.push(P[ze].x_off.toUsedLength(S.w,S.h)+"px "+P[ze].y_off.toUsedLength(S.w,S.h)+"px "+P[ze].b_radius.toUsedLength(S.w,S.h)+"px rgba("+P[ze].color[0].toString()+","+P[ze].color[1].toString()+","+P[ze].color[2].toString()+","+(P[ze].color[3]/255).toString()+")");q.style.textShadow=we.join(",")}}),new y("http://www.w3.org/ns/ttml#styling textCombine",function(S,q,se,P){q.style.textCombineUpright=P}),new y("http://www.w3.org/ns/ttml#styling textEmphasis",function(S,q,se,P){}),new y("http://www.w3.org/ns/ttml#styling unicodeBidi",function(S,q,se,P){var ae;ae=P==="bidiOverride"?"bidi-override":P,q.style.unicodeBidi=ae}),new y("http://www.w3.org/ns/ttml#styling visibility",function(S,q,se,P){q.style.visibility=P}),new y("http://www.w3.org/ns/ttml#styling wrapOption",function(S,q,se,P){P==="wrap"?se.space==="preserve"?q.style.whiteSpace="pre-wrap":q.style.whiteSpace="normal":se.space==="preserve"?q.style.whiteSpace="pre":q.style.whiteSpace="noWrap"}),new y("http://www.w3.org/ns/ttml#styling writingMode",function(S,q,se,P){P==="lrtb"||P==="lr"||P==="rltb"||P==="rl"?q.style.writingMode="horizontal-tb":P==="tblr"?q.style.writingMode="vertical-lr":P!=="tbrl"&&P!=="tb"||(q.style.writingMode="vertical-rl")}),new y("http://www.w3.org/ns/ttml#styling zIndex",function(S,q,se,P){q.style.zIndex=P}),new y("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(S,q,se,P){S.displayForcedOnlyMode&&P===!1&&(q.style.visibility="hidden")})],F={},te=0;te<R.length;te++)F[R[te].qname]=R[te];var de="webkitRubyPosition"in window.getComputedStyle(document.documentElement),ee=de?"webkitRubyPosition":"rubyPosition",ve="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",Ae="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function M(S,q){if(S&&S.error&&S.error(q))throw q}})(f,typeof imscNames>"u"?t(977):imscNames,typeof imscStyles>"u"?t(1219):imscStyles,typeof imscUtils>"u"?t(6404):imscUtils)},8905:function(_,f,t){(function(u,r,e,n){u.generateISD=function(y,R,F){var te,de=new h(y),ee={},ve={},Ae=y.head.styling.initials[e.byName.showBackground.qname],M=y.head.styling.initials[e.byName.backgroundColor.qname];for(var S in y.head.layout.regions)if(y.head.layout.regions.hasOwnProperty(S)){var q=y.head.layout.regions[S],se=q.styleAttrs[e.byName.showBackground.qname]||Ae,P=q.styleAttrs[e.byName.backgroundColor.qname]||M;ve[q.id]=(se==="always"||se===void 0)&&P!==void 0&&!(R<q.begin||R>=q.end)}for(var ae in y.body&&y.body.regionID&&(ve[y.body.regionID]=!0),te=y.body!==null?function $(ze,Ce){if(Ce.contents){var Te={};for(var Ye in Ce)Ce.hasOwnProperty(Ye)&&(Te[Ye]=Ce[Ye]);return Te.contents=[],Ce.contents.filter(function(Ue){return!(ze<Ue.begin||ze>=Ue.end)}).forEach(function(Ue){var De=$(ze,Ue);De.regionID&&(ve[De.regionID]=!0),De!==null&&Te.contents.push(De)}),Te}return Ce}(R,y.body):null,ve[""]!==void 0&&(ve[""]=!0),ve)if(ve[ae]){var we=i(y,R,y.head.layout.regions[ae],te,null,"",y.head.layout.regions[ae],F,ee);we!==null&&de.contents.push(we.element)}return de};var c=[e.byName.color.qname,e.byName.textCombine.qname,e.byName.textDecoration.qname,e.byName.textEmphasis.qname,e.byName.textOutline.qname,e.byName.textShadow.qname];function i(y,R,F,te,de,ee,ve,Ae,M){if(R<ve.begin||R>=ve.end)return null;var S="regionID"in ve&&ve.regionID!==""?ve.regionID:ee;if(de!==null&&S!==F.id&&(!("contents"in ve)||"contents"in ve&&ve.contents.length===0||S!==""))return null;var q=new b(ve);if("sets"in ve)for(var se=0;se<ve.sets.length;se++)R<ve.sets[se].begin||R>=ve.sets[se].end||(q.styleAttrs[ve.sets[se].qname]=ve.sets[se].value);var P={};for(var ae in q.styleAttrs)if(q.styleAttrs.hasOwnProperty(ae)&&(P[ae]=!0,q.kind==="region"&&ae===e.byName.writingMode.qname&&!(e.byName.direction.qname in q.styleAttrs))){var we=q.styleAttrs[ae];we==="lrtb"||we==="lr"?q.styleAttrs[e.byName.direction.qname]="ltr":we!=="rltb"&&we!=="rl"||(q.styleAttrs[e.byName.direction.qname]="rtl")}if(de!==null)for(var $=0;$<e.all.length;$++){var ze=e.all[$];if(ze.qname===e.byName.textDecoration.qname){var Ce=de.styleAttrs[ze.qname],Te=q.styleAttrs[ze.qname],Ye=[];Te===void 0?Ye=Ce:Te.indexOf("none")===-1?((Te.indexOf("noUnderline")===-1&&Ce.indexOf("underline")!==-1||Te.indexOf("underline")!==-1)&&Ye.push("underline"),(Te.indexOf("noLineThrough")===-1&&Ce.indexOf("lineThrough")!==-1||Te.indexOf("lineThrough")!==-1)&&Ye.push("lineThrough"),(Te.indexOf("noOverline")===-1&&Ce.indexOf("overline")!==-1||Te.indexOf("overline")!==-1)&&Ye.push("overline")):Ye.push("none"),q.styleAttrs[ze.qname]=Ye}else if(ze.qname!==e.byName.fontSize.qname||ze.qname in q.styleAttrs||q.kind!=="span"||q.styleAttrs[e.byName.ruby.qname]!=="textContainer")if(ze.qname!==e.byName.fontSize.qname||ze.qname in q.styleAttrs||q.kind!=="span"||q.styleAttrs[e.byName.ruby.qname]!=="text")ze.inherit&&ze.qname in de.styleAttrs&&!(ze.qname in q.styleAttrs)&&(q.styleAttrs[ze.qname]=de.styleAttrs[ze.qname]);else{var Ue=de.styleAttrs[e.byName.fontSize.qname];de.styleAttrs[e.byName.ruby.qname]==="textContainer"?q.styleAttrs[ze.qname]=Ue:q.styleAttrs[ze.qname]=new n.ComputedLength(.5*Ue.rw,.5*Ue.rh)}else{var De=de.styleAttrs[e.byName.fontSize.qname];q.styleAttrs[ze.qname]=new n.ComputedLength(.5*De.rw,.5*De.rh)}}for(var We=0;We<e.all.length;We++){var lt=e.all[We];if(!(lt.qname in q.styleAttrs)&&!(lt.qname===e.byName.position.qname&&e.byName.origin.qname in q.styleAttrs||lt.qname===e.byName.origin.qname&&e.byName.position.qname in q.styleAttrs)){var At=y.head.styling.initials[lt.qname]||lt.initial;if(At!==null&&(q.kind==="region"||lt.inherit===!1&&At!==null)){var jt=lt.parse(At);jt!==null?(q.styleAttrs[lt.qname]=jt,P[lt.qname]=!0):E(Ae,"Invalid initial value for '"+lt.qname+"' on element '"+q.kind)}}}for(var Bt=0;Bt<e.all.length;Bt++){var Ie=e.all[Bt];if(Ie.qname in P&&Ie.compute!==null){var Ne=Ie.compute(y,de,q,q.styleAttrs[Ie.qname],M);Ne!==null?q.styleAttrs[Ie.qname]=Ne:(q.styleAttrs[Ie.qname]=Ie.compute(y,de,q,Ie.parse(Ie.initial),M),E(Ae,"Style '"+Ie.qname+"' on element '"+q.kind+"' cannot be computed"))}}if(q.styleAttrs[e.byName.display.qname]==="none")return null;var Qe=null;de===null?Qe=te===null?[]:[te]:"contents"in ve&&(Qe=ve.contents);for(var B=0;Qe!==null&&B<Qe.length;B++){var Y=i(y,R,F,te,q,S,Qe[B],Ae,M);Y!==null&&q.contents.push(Y.element)}for(var I in q.styleAttrs)if(q.styleAttrs.hasOwnProperty(I)){var L=!1;if(q.kind==="span"){var fe=q.styleAttrs[e.byName.ruby.qname];(L=(fe==="container"||fe==="textContainer"||fe==="baseContainer")&&c.indexOf(I)!==-1)||(L=fe!=="container"&&I===e.byName.rubyAlign.qname),L||(L=!(fe==="textContainer"||fe==="text")&&I===e.byName.rubyPosition.qname)}if(!L){var X=e.byQName[I];"applies"in X&&(L=X.applies.indexOf(q.kind)===-1)}L&&delete q.styleAttrs[I]}var xe=q.styleAttrs[e.byName.ruby.qname];if(q.kind==="p"||q.kind==="span"&&(xe==="textContainer"||xe==="text")){var Ve=[];l(q,Ve),function(Le){for(var Me,Pe=0;Pe<Le.length;)if((Me=Le[Pe]).kind!=="br"&&Me.space!=="preserve"){var qe=Me.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(qe)&&(Pe===0||(rt=Le[Pe-1]).kind==="br"||/[\r\n\t ]$/.test(rt.text))&&(qe=qe.substring(1)),Me.text=qe,qe.length===0?Le.splice(Pe,1):Pe++}else Pe++;var rt,Ze;for(Pe=0;Pe<Le.length;Pe++)(Me=Le[Pe]).kind!=="br"&&Me.space!=="preserve"?/[ ]$/.test(Me.text)&&(Pe===Le.length-1||(Ze=Le[Pe+1]).kind==="br"||Ze.space==="preserve"&&/^[\r\n]/.test(Ze.text))&&(Me.text=Me.text.slice(0,-1)):Pe++}(Ve),p(q)}return q.kind==="div"&&e.byName.backgroundImage.qname in q.styleAttrs||q.kind==="br"||q.kind==="image"||"contents"in q&&q.contents.length>0||q.kind==="span"&&q.text!==null||q.kind==="region"&&q.styleAttrs[e.byName.showBackground.qname]==="always"?{region_id:S,element:q}:null}function l(y,R){if("contents"in y)for(var F=0;F<y.contents.length;F++){var te=y.contents[F],de=te.styleAttrs[e.byName.ruby.qname];(te.kind!=="span"||de!=="textContainer"&&de!=="text")&&("contents"in te?l(te,R):(te.kind==="span"&&te.text.length!==0||te.kind==="br")&&R.push(te))}}function p(y){if(y.kind==="br")return!1;if("text"in y)return y.text.length===0;if("contents"in y){for(var R=y.contents.length;R--;)p(y.contents[R])&&y.contents.splice(R,1);return y.contents.length===0}}function h(y){this.contents=[],this.aspectRatio=y.aspectRatio,this.lang=y.lang}function b(y){for(var R in this.kind=y.kind||"region",this.lang=y.lang,y.id&&(this.id=y.id),this.styleAttrs={},y.styleAttrs)y.styleAttrs.hasOwnProperty(R)&&(this.styleAttrs[R]=y.styleAttrs[R]);"src"in y&&(this.src=y.src),"type"in y&&(this.type=y.type),"text"in y?this.text=y.text:(this.kind==="region"||"contents"in y)&&(this.contents=[]),"space"in y&&(this.space=y.space)}function E(y,R){if(y&&y.error&&y.error(R))throw R}})(f,typeof imscNames>"u"?t(977):imscNames,typeof imscStyles>"u"?t(1219):imscStyles,typeof imscUtils>"u"?t(6404):imscUtils)},7640:function(_,f,t){f.generateISD=t(8905).generateISD,f.fromXML=t(6739).fromXML,f.renderHTML=t(1612).render},977:function(_,f){(function(t){t.ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"})(f)},1219:function(_,f,t){(function(u,r,e){function n(l,p,h,b,E,y,R,F){this.name=p,this.ns=l,this.qname=l+" "+p,this.inherit=E,this.animatable=y,this.initial=h,this.applies=b,this.parse=R,this.compute=F}for(var c in u.all=[new n(r.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,e.parseColor,null),new n(r.ns_tts,"color","white",["span"],!0,!0,e.parseColor,null),new n(r.ns_tts,"direction","ltr",["p","span"],!0,!0,function(l){return l},null),new n(r.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(l){return l},null),new n(r.ns_tts,"displayAlign","before",["region"],!1,!0,function(l){return l},null),new n(r.ns_tts,"extent","auto",["tt","region"],!1,!0,function(l){if(l==="auto")return l;var p=l.split(" ");if(p.length!==2)return null;var h=e.parseLength(p[0]),b=e.parseLength(p[1]);return b&&h?{h:b,w:h}:null},function(l,p,h,b,E){var y,R;if(b==="auto")y=new e.ComputedLength(0,1);else if((y=e.toComputedLength(b.h.value,b.h.unit,null,l.dimensions.h,null,l.pxLength.h))===null)return null;if(b==="auto")R=new e.ComputedLength(1,0);else if((R=e.toComputedLength(b.w.value,b.w.unit,null,l.dimensions.w,null,l.pxLength.w))===null)return null;return{h:y,w:R}}),new n(r.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(l){for(var p=l.split(","),h=[],b=0;b<p.length;b++)p[b]=p[b].trim(),p[b].charAt(0)!=="'"&&p[b].charAt(0)!=='"'&&p[b]==="default"?h.push("monospaceSerif"):h.push(p[b]);return h},null),new n(r.ns_tts,"shear","0%",["p"],!0,!0,e.parseLength,function(l,p,h,b){return b.unit!=="%"?null:Math.abs(b.value)>100?100*Math.sign(b.value):b.value}),new n(r.ns_tts,"fontSize","1c",["span","p"],!0,!0,e.parseLength,function(l,p,h,b,E){return e.toComputedLength(b.value,b.unit,p!==null?p.styleAttrs[u.byName.fontSize.qname]:l.cellLength.h,p!==null?p.styleAttrs[u.byName.fontSize.qname]:l.cellLength.h,l.cellLength.h,l.pxLength.h)}),new n(r.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(l){return l},null),new n(r.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(l){return l},null),new n(r.ns_tts,"lineHeight","normal",["p"],!0,!0,function(l){return l==="normal"?l:e.parseLength(l)},function(l,p,h,b,E){var y;if(b==="normal")y=b;else if((y=e.toComputedLength(b.value,b.unit,h.styleAttrs[u.byName.fontSize.qname],h.styleAttrs[u.byName.fontSize.qname],l.cellLength.h,l.pxLength.h))===null)return null;return y}),new n(r.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new n(r.ns_tts,"origin","auto",["region"],!1,!0,function(l){if(l==="auto")return l;var p=l.split(" ");if(p.length!==2)return null;var h=e.parseLength(p[0]),b=e.parseLength(p[1]);return b&&h?{h:b,w:h}:null},function(l,p,h,b,E){var y,R;if(b==="auto")y=new e.ComputedLength(0,0);else if((y=e.toComputedLength(b.h.value,b.h.unit,null,l.dimensions.h,null,l.pxLength.h))===null)return null;if(b==="auto")R=new e.ComputedLength(0,0);else if((R=e.toComputedLength(b.w.value,b.w.unit,null,l.dimensions.w,null,l.pxLength.w))===null)return null;return{h:y,w:R}}),new n(r.ns_tts,"overflow","hidden",["region"],!1,!0,function(l){return l},null),new n(r.ns_tts,"padding","0px",["region"],!1,!0,function(l){var p=l.split(" ");if(p.length>4)return null;for(var h=[],b=0;b<p.length;b++){var E=e.parseLength(p[b]);if(!E)return null;h.push(E)}return h},function(l,p,h,b,E){var y;if(b.length===1)y=[b[0],b[0],b[0],b[0]];else if(b.length===2)y=[b[0],b[1],b[0],b[1]];else if(b.length===3)y=[b[0],b[1],b[2],b[1]];else{if(b.length!==4)return null;y=[b[0],b[1],b[2],b[3]]}var R=h.styleAttrs[u.byName.writingMode.qname];if(R==="lrtb"||R==="lr")y=[y[0],y[3],y[2],y[1]];else if(R==="rltb"||R==="rl")y=[y[0],y[1],y[2],y[3]];else if(R==="tblr")y=[y[3],y[0],y[1],y[2]];else{if(R!=="tbrl"&&R!=="tb")return null;y=[y[3],y[2],y[1],y[0]]}for(var F=[],te=0;te<y.length;te++)if(y[te].value===0)F[te]=new e.ComputedLength(0,0);else if(F[te]=e.toComputedLength(y[te].value,y[te].unit,h.styleAttrs[u.byName.fontSize.qname],te===0||te===2?h.styleAttrs[u.byName.extent.qname].h:h.styleAttrs[u.byName.extent.qname].w,te===0||te===2?l.cellLength.h:l.cellLength.w,te===0||te===2?l.pxLength.h:l.pxLength.w),F[te]===null)return null;return F}),new n(r.ns_tts,"position","top left",["region"],!1,!0,function(l){return e.parsePosition(l)},function(l,p,h,b){var E,y;return(E=e.toComputedLength(b.v.offset.value,b.v.offset.unit,null,new e.ComputedLength(-h.styleAttrs[u.byName.extent.qname].h.rw,l.dimensions.h.rh-h.styleAttrs[u.byName.extent.qname].h.rh),null,l.pxLength.h))===null?null:(b.v.edge==="bottom"&&(E=new e.ComputedLength(-E.rw-h.styleAttrs[u.byName.extent.qname].h.rw,l.dimensions.h.rh-E.rh-h.styleAttrs[u.byName.extent.qname].h.rh)),y=e.toComputedLength(b.h.offset.value,b.h.offset.unit,null,new e.ComputedLength(l.dimensions.w.rw-h.styleAttrs[u.byName.extent.qname].w.rw,-h.styleAttrs[u.byName.extent.qname].w.rh),null,l.pxLength.w),E===null?null:(b.h.edge==="right"&&(y=new e.ComputedLength(l.dimensions.w.rw-y.rw-h.styleAttrs[u.byName.extent.qname].w.rw,-y.rh-h.styleAttrs[u.byName.extent.qname].w.rh)),{h:E,w:y}))}),new n(r.ns_tts,"ruby","none",["span"],!1,!0,function(l){return l},null),new n(r.ns_tts,"rubyAlign","center",["span"],!0,!0,function(l){return l!=="center"&&l!=="spaceAround"?null:l},null),new n(r.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(l){return l},null),new n(r.ns_tts,"rubyReserve","none",["p"],!0,!0,function(l){var p=l.split(" "),h=[null,null];if(p.length===0||p.length>2||p[0]!=="none"&&p[0]!=="both"&&p[0]!=="after"&&p[0]!=="before"&&p[0]!=="outside")return null;if(h[0]=p[0],p.length===2&&p[0]!=="none"){var b=e.parseLength(p[1]);if(!b)return null;h[1]=b}return h},function(l,p,h,b,E){if(b[0]==="none")return b;var y;return(y=b[1]===null?new e.ComputedLength(.5*h.styleAttrs[u.byName.fontSize.qname].rw,.5*h.styleAttrs[u.byName.fontSize.qname].rh):e.toComputedLength(b[1].value,b[1].unit,h.styleAttrs[u.byName.fontSize.qname],h.styleAttrs[u.byName.fontSize.qname],l.cellLength.h,l.pxLength.h))===null?null:[b[0],y]}),new n(r.ns_tts,"showBackground","always",["region"],!1,!0,function(l){return l},null),new n(r.ns_tts,"textAlign","start",["p"],!0,!0,function(l){return l},function(l,p,h,b,E){return b==="left"?"start":b==="right"?"end":b}),new n(r.ns_tts,"textCombine","none",["span"],!0,!0,function(l){return l==="none"||l==="all"?l:null},null),new n(r.ns_tts,"textDecoration","none",["span"],!0,!0,function(l){return l.split(" ")},null),new n(r.ns_tts,"textEmphasis","none",["span"],!0,!0,function(l){for(var p=l.split(" "),h={style:null,symbol:null,color:null,position:null},b=0;b<p.length;b++)if(p[b]==="none"||p[b]==="auto")h.style=p[b];else if(p[b]==="filled"||p[b]==="open")h.style=p[b];else if(p[b]==="circle"||p[b]==="dot"||p[b]==="sesame")h.symbol=p[b];else if(p[b]==="current")h.color=p[b];else if(p[b]==="outside"||p[b]==="before"||p[b]==="after")h.position=p[b];else if(h.color=e.parseColor(p[b]),h.color===null)return null;return h.style==null&&h.symbol==null?h.style="auto":(h.symbol=h.symbol||"circle",h.style=h.style||"filled"),h.position=h.position||"outside",h.color=h.color||"current",h},null),new n(r.ns_tts,"textOutline","none",["span"],!0,!0,function(l){if(l==="none")return l;var p={},h=l.split(" ");if(h.length===0||h.length>2)return null;var b=e.parseColor(h[0]);if(p.color=b,b!==null&&h.shift(),h.length!==1)return null;var E=e.parseLength(h[0]);return E?(p.thickness=E,p):null},function(l,p,h,b,E){if(b==="none")return b;var y={};return b.color===null?y.color=h.styleAttrs[u.byName.color.qname]:y.color=b.color,y.thickness=e.toComputedLength(b.thickness.value,b.thickness.unit,h.styleAttrs[u.byName.fontSize.qname],h.styleAttrs[u.byName.fontSize.qname],l.cellLength.h,l.pxLength.h),y.thickness===null?null:y}),new n(r.ns_tts,"textShadow","none",["span"],!0,!0,e.parseTextShadow,function(l,p,h,b){if(b==="none")return b;for(var E=[],y=0;y<b.length;y++){var R={};if(R.x_off=e.toComputedLength(b[y][0].value,b[y][0].unit,null,h.styleAttrs[u.byName.fontSize.qname],null,l.pxLength.w),R.x_off===null||(R.y_off=e.toComputedLength(b[y][1].value,b[y][1].unit,null,h.styleAttrs[u.byName.fontSize.qname],null,l.pxLength.h),R.y_off===null))return null;if(b[y][2]===null)R.b_radius=0;else if(R.b_radius=e.toComputedLength(b[y][2].value,b[y][2].unit,null,h.styleAttrs[u.byName.fontSize.qname],null,l.pxLength.h),R.b_radius===null)return null;b[y][3]===null?R.color=h.styleAttrs[u.byName.color.qname]:R.color=b[y][3],E.push(R)}return E}),new n(r.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(l){return l},null),new n(r.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(l){return l},null),new n(r.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(l){return l},null),new n(r.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(l){return l},null),new n(r.ns_tts,"zIndex","auto",["region"],!1,!0,function(l){var p;return l==="auto"?p=l:(p=parseInt(l),isNaN(p)&&(p=null)),p},null),new n(r.ns_ebutts,"linePadding","0c",["p"],!0,!1,e.parseLength,function(l,p,h,b,E){return e.toComputedLength(b.value,b.unit,null,null,l.cellLength.w,null)}),new n(r.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(l){return l},null),new n(r.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(l){return l},null),new n(r.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(l){return l==="true"},null),new n(r.ns_itts,"fillLineGap","false",["p"],!0,!0,function(l){return l==="true"},null)],u.byQName={},u.all)u.byQName[u.all[c].qname]=u.all[c];for(var i in u.byName={},u.all)u.byName[u.all[i].name]=u.all[i]})(f,typeof imscNames>"u"?t(977):imscNames,typeof imscUtils>"u"?t(6404):imscUtils)},6404:function(_,f){(function(t){var u=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,r=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,e=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(i){var l,p=null,h=n[i.toLowerCase()];return h!==void 0?p=h:(l=u.exec(i))!==null?p=[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16),l[4]!==void 0?parseInt(l[4],16):255]:(l=r.exec(i))!==null?p=[parseInt(l[1]),parseInt(l[2]),parseInt(l[3]),255]:(l=e.exec(i))!==null&&(p=[parseInt(l[1]),parseInt(l[2]),parseInt(l[3]),parseInt(l[4])]),p};var c=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(i){var l,p=null;return(l=c.exec(i))!==null&&(p={value:parseFloat(l[1]),unit:l[2]}),p},t.parseTextShadow=function(i){for(var l=i.match(/([^\(,\)]|\([^\)]+\))+/g),p=[],h=0;h<l.length;h++){var b=l[h].split(" ");if(b.length===1&&b[0]==="none")return"none";if(b.length>1&&b.length<5){var E=[null,null,null,null],y=t.parseLength(b.shift());if(y===null||(E[0]=y,(y=t.parseLength(b.shift()))===null))return null;if(E[1]=y,b.length===0){p.push(E);continue}if((y=t.parseLength(b[0]))!==null&&(E[2]=y,b.shift()),b.length===0){p.push(E);continue}var R=t.parseColor(b[0]);if(R===null)return null;E[3]=R,p.push(E)}}return p},t.parsePosition=function(i){var l=i.split(" "),p=function(te){return te==="center"||te==="left"||te==="top"||te==="bottom"||te==="right"};if(l.length>4)return null;for(var h=0;h<l.length;h++)if(!p(l[h])){var b=t.parseLength(l[h]);if(b===null)return null;l[h]=b}for(var E={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},y=0;y<l.length;){var R=l[y++];if(p(R)){var F={value:0,unit:"%"};l.length!==2&&y<l.length&&!p(l[y])&&(F=l[y++]),R==="right"?(E.h.edge=R,E.h.offset=F):R==="bottom"?(E.v.edge=R,E.v.offset=F):R==="left"?E.h.offset=F:R==="top"&&(E.v.offset=F)}else{if(l.length!==1&&l.length!==2)return null;y===1?E.h.offset=R:E.v.offset=R}}return E},t.ComputedLength=function(i,l){this.rw=i,this.rh=l},t.ComputedLength.prototype.toUsedLength=function(i,l){return i*this.rw+l*this.rh},t.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},t.toComputedLength=function(i,l,p,h,b,E){return l==="%"&&h?new t.ComputedLength(h.rw*i/100,h.rh*i/100):l==="em"&&p?new t.ComputedLength(p.rw*i,p.rh*i):l==="c"&&b?new t.ComputedLength(i*b.rw,i*b.rh):l==="px"&&E?new t.ComputedLength(i*E.rw,i*E.rh):l==="rh"?new t.ComputedLength(0,i/100):l==="rw"?new t.ComputedLength(i/100,0):null}})(f)},7523:function(_){typeof Object.create=="function"?_.exports=function(f,t){t&&(f.super_=t,f.prototype=Object.create(t.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}))}:_.exports=function(f,t){if(t){f.super_=t;var u=function(){};u.prototype=t.prototype,f.prototype=new u,f.prototype.constructor=f}}},3282:function(_){function f(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function t(r,e){for(var n,c="",i=0,l=-1,p=0,h=0;h<=r.length;++h){if(h<r.length)n=r.charCodeAt(h);else{if(n===47)break;n=47}if(n===47){if(!(l===h-1||p===1))if(l!==h-1&&p===2){if(c.length<2||i!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var b=c.lastIndexOf("/");if(b!==c.length-1){b===-1?(c="",i=0):i=(c=c.slice(0,b)).length-1-c.lastIndexOf("/"),l=h,p=0;continue}}else if(c.length===2||c.length===1){c="",i=0,l=h,p=0;continue}}e&&(c.length>0?c+="/..":c="..",i=2)}else c.length>0?c+="/"+r.slice(l+1,h):c=r.slice(l+1,h),i=h-l-1;l=h,p=0}else n===46&&p!==-1?++p:p=-1}return c}var u={resolve:function(){for(var r,e="",n=!1,c=arguments.length-1;c>=-1&&!n;c--){var i;c>=0?i=arguments[c]:(r===void 0&&(r=process.cwd()),i=r),f(i),i.length!==0&&(e=i+"/"+e,n=i.charCodeAt(0)===47)}return e=t(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(r){if(f(r),r.length===0)return".";var e=r.charCodeAt(0)===47,n=r.charCodeAt(r.length-1)===47;return(r=t(r,!e)).length!==0||e||(r="."),r.length>0&&n&&(r+="/"),e?"/"+r:r},isAbsolute:function(r){return f(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,e=0;e<arguments.length;++e){var n=arguments[e];f(n),n.length>0&&(r===void 0?r=n:r+="/"+n)}return r===void 0?".":u.normalize(r)},relative:function(r,e){if(f(r),f(e),r===e||(r=u.resolve(r))===(e=u.resolve(e)))return"";for(var n=1;n<r.length&&r.charCodeAt(n)===47;++n);for(var c=r.length,i=c-n,l=1;l<e.length&&e.charCodeAt(l)===47;++l);for(var p=e.length-l,h=i<p?i:p,b=-1,E=0;E<=h;++E){if(E===h){if(p>h){if(e.charCodeAt(l+E)===47)return e.slice(l+E+1);if(E===0)return e.slice(l+E)}else i>h&&(r.charCodeAt(n+E)===47?b=E:E===0&&(b=0));break}var y=r.charCodeAt(n+E);if(y!==e.charCodeAt(l+E))break;y===47&&(b=E)}var R="";for(E=n+b+1;E<=c;++E)E!==c&&r.charCodeAt(E)!==47||(R.length===0?R+="..":R+="/..");return R.length>0?R+e.slice(l+b):(l+=b,e.charCodeAt(l)===47&&++l,e.slice(l))},_makeLong:function(r){return r},dirname:function(r){if(f(r),r.length===0)return".";for(var e=r.charCodeAt(0),n=e===47,c=-1,i=!0,l=r.length-1;l>=1;--l)if((e=r.charCodeAt(l))===47){if(!i){c=l;break}}else i=!1;return c===-1?n?"/":".":n&&c===1?"//":r.slice(0,c)},basename:function(r,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');f(r);var n,c=0,i=-1,l=!0;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";var p=e.length-1,h=-1;for(n=r.length-1;n>=0;--n){var b=r.charCodeAt(n);if(b===47){if(!l){c=n+1;break}}else h===-1&&(l=!1,h=n+1),p>=0&&(b===e.charCodeAt(p)?--p==-1&&(i=n):(p=-1,i=h))}return c===i?i=h:i===-1&&(i=r.length),r.slice(c,i)}for(n=r.length-1;n>=0;--n)if(r.charCodeAt(n)===47){if(!l){c=n+1;break}}else i===-1&&(l=!1,i=n+1);return i===-1?"":r.slice(c,i)},extname:function(r){f(r);for(var e=-1,n=0,c=-1,i=!0,l=0,p=r.length-1;p>=0;--p){var h=r.charCodeAt(p);if(h!==47)c===-1&&(i=!1,c=p+1),h===46?e===-1?e=p:l!==1&&(l=1):e!==-1&&(l=-1);else if(!i){n=p+1;break}}return e===-1||c===-1||l===0||l===1&&e===c-1&&e===n+1?"":r.slice(e,c)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return function(e,n){var c=n.dir||n.root,i=n.base||(n.name||"")+(n.ext||"");return c?c===n.root?c+i:c+"/"+i:i}(0,r)},parse:function(r){f(r);var e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;var n,c=r.charCodeAt(0),i=c===47;i?(e.root="/",n=1):n=0;for(var l=-1,p=0,h=-1,b=!0,E=r.length-1,y=0;E>=n;--E)if((c=r.charCodeAt(E))!==47)h===-1&&(b=!1,h=E+1),c===46?l===-1?l=E:y!==1&&(y=1):l!==-1&&(y=-1);else if(!b){p=E+1;break}return l===-1||h===-1||y===0||y===1&&l===h-1&&l===p+1?h!==-1&&(e.base=e.name=p===0&&i?r.slice(1,h):r.slice(p,h)):(p===0&&i?(e.name=r.slice(1,l),e.base=r.slice(1,h)):(e.name=r.slice(p,l),e.base=r.slice(p,h)),e.ext=r.slice(l,h)),p>0?e.dir=r.slice(0,p-1):i&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};u.posix=u,_.exports=u},3515:function(_,f,t){_.exports=r;var u=t(9826).EventEmitter;function r(){u.call(this)}t(7523)(r,u),r.Readable=t(2762),r.Writable=t(3726),r.Duplex=t(884),r.Transform=t(6756),r.PassThrough=t(1390),r.finished=t(2896),r.pipeline=t(8460),r.Stream=r,r.prototype.pipe=function(e,n){var c=this;function i(R){e.writable&&e.write(R)===!1&&c.pause&&c.pause()}function l(){c.readable&&c.resume&&c.resume()}c.on("data",i),e.on("drain",l),e._isStdio||n&&n.end===!1||(c.on("end",h),c.on("close",b));var p=!1;function h(){p||(p=!0,e.end())}function b(){p||(p=!0,typeof e.destroy=="function"&&e.destroy())}function E(R){if(y(),u.listenerCount(this,"error")===0)throw R}function y(){c.removeListener("data",i),e.removeListener("drain",l),c.removeListener("end",h),c.removeListener("close",b),c.removeListener("error",E),e.removeListener("error",E),c.removeListener("end",y),c.removeListener("close",y),e.removeListener("close",y)}return c.on("error",E),e.on("error",E),c.on("end",y),c.on("close",y),e.on("close",y),e.emit("pipe",c),e}},1602:function(_){var f={};function t(r,e,n){n||(n=Error);var c=function(i){var l,p;function h(b,E,y){return i.call(this,function(R,F,te){return typeof e=="string"?e:e(R,F,te)}(b,E,y))||this}return p=i,(l=h).prototype=Object.create(p.prototype),l.prototype.constructor=l,l.__proto__=p,h}(n);c.prototype.name=n.name,c.prototype.code=r,f[r]=c}function u(r,e){if(Array.isArray(r)){var n=r.length;return r=r.map(function(c){return String(c)}),n>2?"one of ".concat(e," ").concat(r.slice(0,n-1).join(", "),", or ")+r[n-1]:n===2?"one of ".concat(e," ").concat(r[0]," or ").concat(r[1]):"of ".concat(e," ").concat(r[0])}return"of ".concat(e," ").concat(String(r))}t("ERR_INVALID_OPT_VALUE",function(r,e){return'The value "'+e+'" is invalid for option "'+r+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(r,e,n){var c,i,l,p,h;if(typeof e=="string"&&(i="not ",e.substr(0,4)===i)?(c="must not be",e=e.replace(/^not /,"")):c="must be",function(E,y,R){return(R===void 0||R>E.length)&&(R=E.length),E.substring(R-9,R)===y}(r," argument"))l="The ".concat(r," ").concat(c," ").concat(u(e,"type"));else{var b=(typeof h!="number"&&(h=0),h+1>(p=r).length||p.indexOf(".",h)===-1?"argument":"property");l='The "'.concat(r,'" ').concat(b," ").concat(c," ").concat(u(e,"type"))}return l+". Received type ".concat(typeof n)},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),_.exports.codes=f},884:function(_,f,t){var u=Object.keys||function(b){var E=[];for(var y in b)E.push(y);return E};_.exports=l;var r=t(2762),e=t(3726);t(7523)(l,r);for(var n=u(e.prototype),c=0;c<n.length;c++){var i=n[c];l.prototype[i]||(l.prototype[i]=e.prototype[i])}function l(b){if(!(this instanceof l))return new l(b);r.call(this,b),e.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}function p(){this._writableState.ended||process.nextTick(h,this)}function h(b){b.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})},1390:function(_,f,t){_.exports=r;var u=t(6756);function r(e){if(!(this instanceof r))return new r(e);u.call(this,e)}t(7523)(r,u),r.prototype._transform=function(e,n,c){c(null,e)}},2762:function(_,f,t){var u;_.exports=q,q.ReadableState=S,t(9826).EventEmitter;var r,e=function(Ie,Ne){return Ie.listeners(Ne).length},n=t(2611),c=t(44).Buffer,i=(t.g!==void 0?t.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},l=t(7199);r=l&&l.debuglog?l.debuglog("stream"):function(){};var p,h,b,E=t(3791),y=t(2410),R=t(1749).getHighWaterMark,F=t(1602).codes,te=F.ERR_INVALID_ARG_TYPE,de=F.ERR_STREAM_PUSH_AFTER_EOF,ee=F.ERR_METHOD_NOT_IMPLEMENTED,ve=F.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t(7523)(q,n);var Ae=y.errorOrDestroy,M=["error","close","destroy","pause","resume"];function S(Ie,Ne,Qe){u=u||t(884),Ie=Ie||{},typeof Qe!="boolean"&&(Qe=Ne instanceof u),this.objectMode=!!Ie.objectMode,Qe&&(this.objectMode=this.objectMode||!!Ie.readableObjectMode),this.highWaterMark=R(this,Ie,"readableHighWaterMark",Qe),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Ie.emitClose!==!1,this.autoDestroy=!!Ie.autoDestroy,this.destroyed=!1,this.defaultEncoding=Ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ie.encoding&&(p||(p=t(748).StringDecoder),this.decoder=new p(Ie.encoding),this.encoding=Ie.encoding)}function q(Ie){if(u=u||t(884),!(this instanceof q))return new q(Ie);var Ne=this instanceof u;this._readableState=new S(Ie,this,Ne),this.readable=!0,Ie&&(typeof Ie.read=="function"&&(this._read=Ie.read),typeof Ie.destroy=="function"&&(this._destroy=Ie.destroy)),n.call(this)}function se(Ie,Ne,Qe,B,Y){r("readableAddChunk",Ne);var I,L=Ie._readableState;if(Ne===null)L.reading=!1,function(fe,X){if(r("onEofChunk"),!X.ended){if(X.decoder){var xe=X.decoder.end();xe&&xe.length&&(X.buffer.push(xe),X.length+=X.objectMode?1:xe.length)}X.ended=!0,X.sync?$(fe):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,ze(fe)))}}(Ie,L);else if(Y||(I=function(fe,X){var xe,Ve;return Ve=X,c.isBuffer(Ve)||Ve instanceof i||typeof X=="string"||X===void 0||fe.objectMode||(xe=new te("chunk",["string","Buffer","Uint8Array"],X)),xe}(L,Ne)),I)Ae(Ie,I);else if(L.objectMode||Ne&&Ne.length>0)if(typeof Ne=="string"||L.objectMode||Object.getPrototypeOf(Ne)===c.prototype||(Ne=function(fe){return c.from(fe)}(Ne)),B)L.endEmitted?Ae(Ie,new ve):P(Ie,L,Ne,!0);else if(L.ended)Ae(Ie,new de);else{if(L.destroyed)return!1;L.reading=!1,L.decoder&&!Qe?(Ne=L.decoder.write(Ne),L.objectMode||Ne.length!==0?P(Ie,L,Ne,!1):Ce(Ie,L)):P(Ie,L,Ne,!1)}else B||(L.reading=!1,Ce(Ie,L));return!L.ended&&(L.length<L.highWaterMark||L.length===0)}function P(Ie,Ne,Qe,B){Ne.flowing&&Ne.length===0&&!Ne.sync?(Ne.awaitDrain=0,Ie.emit("data",Qe)):(Ne.length+=Ne.objectMode?1:Qe.length,B?Ne.buffer.unshift(Qe):Ne.buffer.push(Qe),Ne.needReadable&&$(Ie)),Ce(Ie,Ne)}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Ie){this._readableState&&(this._readableState.destroyed=Ie)}}),q.prototype.destroy=y.destroy,q.prototype._undestroy=y.undestroy,q.prototype._destroy=function(Ie,Ne){Ne(Ie)},q.prototype.push=function(Ie,Ne){var Qe,B=this._readableState;return B.objectMode?Qe=!0:typeof Ie=="string"&&((Ne=Ne||B.defaultEncoding)!==B.encoding&&(Ie=c.from(Ie,Ne),Ne=""),Qe=!0),se(this,Ie,Ne,!1,Qe)},q.prototype.unshift=function(Ie){return se(this,Ie,null,!0,!1)},q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(Ie){p||(p=t(748).StringDecoder);var Ne=new p(Ie);this._readableState.decoder=Ne,this._readableState.encoding=this._readableState.decoder.encoding;for(var Qe=this._readableState.buffer.head,B="";Qe!==null;)B+=Ne.write(Qe.data),Qe=Qe.next;return this._readableState.buffer.clear(),B!==""&&this._readableState.buffer.push(B),this._readableState.length=B.length,this};var ae=1073741824;function we(Ie,Ne){return Ie<=0||Ne.length===0&&Ne.ended?0:Ne.objectMode?1:Ie!=Ie?Ne.flowing&&Ne.length?Ne.buffer.head.data.length:Ne.length:(Ie>Ne.highWaterMark&&(Ne.highWaterMark=function(Qe){return Qe>=ae?Qe=ae:(Qe--,Qe|=Qe>>>1,Qe|=Qe>>>2,Qe|=Qe>>>4,Qe|=Qe>>>8,Qe|=Qe>>>16,Qe++),Qe}(Ie)),Ie<=Ne.length?Ie:Ne.ended?Ne.length:(Ne.needReadable=!0,0))}function $(Ie){var Ne=Ie._readableState;r("emitReadable",Ne.needReadable,Ne.emittedReadable),Ne.needReadable=!1,Ne.emittedReadable||(r("emitReadable",Ne.flowing),Ne.emittedReadable=!0,process.nextTick(ze,Ie))}function ze(Ie){var Ne=Ie._readableState;r("emitReadable_",Ne.destroyed,Ne.length,Ne.ended),Ne.destroyed||!Ne.length&&!Ne.ended||(Ie.emit("readable"),Ne.emittedReadable=!1),Ne.needReadable=!Ne.flowing&&!Ne.ended&&Ne.length<=Ne.highWaterMark,We(Ie)}function Ce(Ie,Ne){Ne.readingMore||(Ne.readingMore=!0,process.nextTick(Te,Ie,Ne))}function Te(Ie,Ne){for(;!Ne.reading&&!Ne.ended&&(Ne.length<Ne.highWaterMark||Ne.flowing&&Ne.length===0);){var Qe=Ne.length;if(r("maybeReadMore read 0"),Ie.read(0),Qe===Ne.length)break}Ne.readingMore=!1}function Ye(Ie){var Ne=Ie._readableState;Ne.readableListening=Ie.listenerCount("readable")>0,Ne.resumeScheduled&&!Ne.paused?Ne.flowing=!0:Ie.listenerCount("data")>0&&Ie.resume()}function Ue(Ie){r("readable nexttick read 0"),Ie.read(0)}function De(Ie,Ne){r("resume",Ne.reading),Ne.reading||Ie.read(0),Ne.resumeScheduled=!1,Ie.emit("resume"),We(Ie),Ne.flowing&&!Ne.reading&&Ie.read(0)}function We(Ie){var Ne=Ie._readableState;for(r("flow",Ne.flowing);Ne.flowing&&Ie.read()!==null;);}function lt(Ie,Ne){return Ne.length===0?null:(Ne.objectMode?Qe=Ne.buffer.shift():!Ie||Ie>=Ne.length?(Qe=Ne.decoder?Ne.buffer.join(""):Ne.buffer.length===1?Ne.buffer.first():Ne.buffer.concat(Ne.length),Ne.buffer.clear()):Qe=Ne.buffer.consume(Ie,Ne.decoder),Qe);var Qe}function At(Ie){var Ne=Ie._readableState;r("endReadable",Ne.endEmitted),Ne.endEmitted||(Ne.ended=!0,process.nextTick(jt,Ne,Ie))}function jt(Ie,Ne){if(r("endReadableNT",Ie.endEmitted,Ie.length),!Ie.endEmitted&&Ie.length===0&&(Ie.endEmitted=!0,Ne.readable=!1,Ne.emit("end"),Ie.autoDestroy)){var Qe=Ne._writableState;(!Qe||Qe.autoDestroy&&Qe.finished)&&Ne.destroy()}}function Bt(Ie,Ne){for(var Qe=0,B=Ie.length;Qe<B;Qe++)if(Ie[Qe]===Ne)return Qe;return-1}q.prototype.read=function(Ie){r("read",Ie),Ie=parseInt(Ie,10);var Ne=this._readableState,Qe=Ie;if(Ie!==0&&(Ne.emittedReadable=!1),Ie===0&&Ne.needReadable&&((Ne.highWaterMark!==0?Ne.length>=Ne.highWaterMark:Ne.length>0)||Ne.ended))return r("read: emitReadable",Ne.length,Ne.ended),Ne.length===0&&Ne.ended?At(this):$(this),null;if((Ie=we(Ie,Ne))===0&&Ne.ended)return Ne.length===0&&At(this),null;var B,Y=Ne.needReadable;return r("need readable",Y),(Ne.length===0||Ne.length-Ie<Ne.highWaterMark)&&r("length less than watermark",Y=!0),Ne.ended||Ne.reading?r("reading or ended",Y=!1):Y&&(r("do read"),Ne.reading=!0,Ne.sync=!0,Ne.length===0&&(Ne.needReadable=!0),this._read(Ne.highWaterMark),Ne.sync=!1,Ne.reading||(Ie=we(Qe,Ne))),(B=Ie>0?lt(Ie,Ne):null)===null?(Ne.needReadable=Ne.length<=Ne.highWaterMark,Ie=0):(Ne.length-=Ie,Ne.awaitDrain=0),Ne.length===0&&(Ne.ended||(Ne.needReadable=!0),Qe!==Ie&&Ne.ended&&At(this)),B!==null&&this.emit("data",B),B},q.prototype._read=function(Ie){Ae(this,new ee("_read()"))},q.prototype.pipe=function(Ie,Ne){var Qe=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=Ie;break;case 1:B.pipes=[B.pipes,Ie];break;default:B.pipes.push(Ie)}B.pipesCount+=1,r("pipe count=%d opts=%j",B.pipesCount,Ne);var Y=Ne&&Ne.end===!1||Ie===process.stdout||Ie===process.stderr?Me:I;function I(){r("onend"),Ie.end()}B.endEmitted?process.nextTick(Y):Qe.once("end",Y),Ie.on("unpipe",function Pe(qe,rt){r("onunpipe"),qe===Qe&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,r("cleanup"),Ie.removeListener("close",Ve),Ie.removeListener("finish",Le),Ie.removeListener("drain",L),Ie.removeListener("error",xe),Ie.removeListener("unpipe",Pe),Qe.removeListener("end",I),Qe.removeListener("end",Me),Qe.removeListener("data",X),fe=!0,!B.awaitDrain||Ie._writableState&&!Ie._writableState.needDrain||L())});var L=function(Pe){return function(){var qe=Pe._readableState;r("pipeOnDrain",qe.awaitDrain),qe.awaitDrain&&qe.awaitDrain--,qe.awaitDrain===0&&e(Pe,"data")&&(qe.flowing=!0,We(Pe))}}(Qe);Ie.on("drain",L);var fe=!1;function X(Pe){r("ondata");var qe=Ie.write(Pe);r("dest.write",qe),qe===!1&&((B.pipesCount===1&&B.pipes===Ie||B.pipesCount>1&&Bt(B.pipes,Ie)!==-1)&&!fe&&(r("false write response, pause",B.awaitDrain),B.awaitDrain++),Qe.pause())}function xe(Pe){r("onerror",Pe),Me(),Ie.removeListener("error",xe),e(Ie,"error")===0&&Ae(Ie,Pe)}function Ve(){Ie.removeListener("finish",Le),Me()}function Le(){r("onfinish"),Ie.removeListener("close",Ve),Me()}function Me(){r("unpipe"),Qe.unpipe(Ie)}return Qe.on("data",X),function(Pe,qe,rt){if(typeof Pe.prependListener=="function")return Pe.prependListener(qe,rt);Pe._events&&Pe._events[qe]?Array.isArray(Pe._events[qe])?Pe._events[qe].unshift(rt):Pe._events[qe]=[rt,Pe._events[qe]]:Pe.on(qe,rt)}(Ie,"error",xe),Ie.once("close",Ve),Ie.once("finish",Le),Ie.emit("pipe",Qe),B.flowing||(r("pipe resume"),Qe.resume()),Ie},q.prototype.unpipe=function(Ie){var Ne=this._readableState,Qe={hasUnpiped:!1};if(Ne.pipesCount===0)return this;if(Ne.pipesCount===1)return Ie&&Ie!==Ne.pipes||(Ie||(Ie=Ne.pipes),Ne.pipes=null,Ne.pipesCount=0,Ne.flowing=!1,Ie&&Ie.emit("unpipe",this,Qe)),this;if(!Ie){var B=Ne.pipes,Y=Ne.pipesCount;Ne.pipes=null,Ne.pipesCount=0,Ne.flowing=!1;for(var I=0;I<Y;I++)B[I].emit("unpipe",this,{hasUnpiped:!1});return this}var L=Bt(Ne.pipes,Ie);return L===-1||(Ne.pipes.splice(L,1),Ne.pipesCount-=1,Ne.pipesCount===1&&(Ne.pipes=Ne.pipes[0]),Ie.emit("unpipe",this,Qe)),this},q.prototype.on=function(Ie,Ne){var Qe=n.prototype.on.call(this,Ie,Ne),B=this._readableState;return Ie==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):Ie==="readable"&&(B.endEmitted||B.readableListening||(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,r("on readable",B.length,B.reading),B.length?$(this):B.reading||process.nextTick(Ue,this))),Qe},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(Ie,Ne){var Qe=n.prototype.removeListener.call(this,Ie,Ne);return Ie==="readable"&&process.nextTick(Ye,this),Qe},q.prototype.removeAllListeners=function(Ie){var Ne=n.prototype.removeAllListeners.apply(this,arguments);return Ie!=="readable"&&Ie!==void 0||process.nextTick(Ye,this),Ne},q.prototype.resume=function(){var Ie=this._readableState;return Ie.flowing||(r("resume"),Ie.flowing=!Ie.readableListening,function(Ne,Qe){Qe.resumeScheduled||(Qe.resumeScheduled=!0,process.nextTick(De,Ne,Qe))}(this,Ie)),Ie.paused=!1,this},q.prototype.pause=function(){return r("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(r("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},q.prototype.wrap=function(Ie){var Ne=this,Qe=this._readableState,B=!1;for(var Y in Ie.on("end",function(){if(r("wrapped end"),Qe.decoder&&!Qe.ended){var L=Qe.decoder.end();L&&L.length&&Ne.push(L)}Ne.push(null)}),Ie.on("data",function(L){r("wrapped data"),Qe.decoder&&(L=Qe.decoder.write(L)),Qe.objectMode&&L==null||(Qe.objectMode||L&&L.length)&&(Ne.push(L)||(B=!0,Ie.pause()))}),Ie)this[Y]===void 0&&typeof Ie[Y]=="function"&&(this[Y]=function(L){return function(){return Ie[L].apply(Ie,arguments)}}(Y));for(var I=0;I<M.length;I++)Ie.on(M[I],this.emit.bind(this,M[I]));return this._read=function(L){r("wrapped _read",L),B&&(B=!1,Ie.resume())},this},typeof Symbol=="function"&&(q.prototype[Symbol.asyncIterator]=function(){return h===void 0&&(h=t(5857)),h(this)}),Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ie){this._readableState&&(this._readableState.flowing=Ie)}}),q._fromList=lt,Object.defineProperty(q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(q.from=function(Ie,Ne){return b===void 0&&(b=t(3411)),b(q,Ie,Ne)})},6756:function(_,f,t){_.exports=p;var u=t(1602).codes,r=u.ERR_METHOD_NOT_IMPLEMENTED,e=u.ERR_MULTIPLE_CALLBACK,n=u.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=u.ERR_TRANSFORM_WITH_LENGTH_0,i=t(884);function l(E,y){var R=this._transformState;R.transforming=!1;var F=R.writecb;if(F===null)return this.emit("error",new e);R.writechunk=null,R.writecb=null,y!=null&&this.push(y),F(E);var te=this._readableState;te.reading=!1,(te.needReadable||te.length<te.highWaterMark)&&this._read(te.highWaterMark)}function p(E){if(!(this instanceof p))return new p(E);i.call(this,E),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,E&&(typeof E.transform=="function"&&(this._transform=E.transform),typeof E.flush=="function"&&(this._flush=E.flush)),this.on("prefinish",h)}function h(){var E=this;typeof this._flush!="function"||this._readableState.destroyed?b(this,null,null):this._flush(function(y,R){b(E,y,R)})}function b(E,y,R){if(y)return E.emit("error",y);if(R!=null&&E.push(R),E._writableState.length)throw new c;if(E._transformState.transforming)throw new n;return E.push(null)}t(7523)(p,i),p.prototype.push=function(E,y){return this._transformState.needTransform=!1,i.prototype.push.call(this,E,y)},p.prototype._transform=function(E,y,R){R(new r("_transform()"))},p.prototype._write=function(E,y,R){var F=this._transformState;if(F.writecb=R,F.writechunk=E,F.writeencoding=y,!F.transforming){var te=this._readableState;(F.needTransform||te.needReadable||te.length<te.highWaterMark)&&this._read(te.highWaterMark)}},p.prototype._read=function(E){var y=this._transformState;y.writechunk===null||y.transforming?y.needTransform=!0:(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform))},p.prototype._destroy=function(E,y){i.prototype._destroy.call(this,E,function(R){y(R)})}},3726:function(_,f,t){function u(Ce){var Te=this;this.next=null,this.entry=null,this.finish=function(){(function(Ye,Ue){var De=Ye.entry;for(Ye.entry=null;De;){var We=De.callback;Ue.pendingcb--,We(void 0),De=De.next}Ue.corkedRequestsFree.next=Ye})(Te,Ce)}}var r;_.exports=q,q.WritableState=S;var e,n={deprecate:t(9e3)},c=t(2611),i=t(44).Buffer,l=(t.g!==void 0?t.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=t(2410),h=t(1749).getHighWaterMark,b=t(1602).codes,E=b.ERR_INVALID_ARG_TYPE,y=b.ERR_METHOD_NOT_IMPLEMENTED,R=b.ERR_MULTIPLE_CALLBACK,F=b.ERR_STREAM_CANNOT_PIPE,te=b.ERR_STREAM_DESTROYED,de=b.ERR_STREAM_NULL_VALUES,ee=b.ERR_STREAM_WRITE_AFTER_END,ve=b.ERR_UNKNOWN_ENCODING,Ae=p.errorOrDestroy;function M(){}function S(Ce,Te,Ye){r=r||t(884),Ce=Ce||{},typeof Ye!="boolean"&&(Ye=Te instanceof r),this.objectMode=!!Ce.objectMode,Ye&&(this.objectMode=this.objectMode||!!Ce.writableObjectMode),this.highWaterMark=h(this,Ce,"writableHighWaterMark",Ye),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ue=Ce.decodeStrings===!1;this.decodeStrings=!Ue,this.defaultEncoding=Ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(De){(function(We,lt){var At=We._writableState,jt=At.sync,Bt=At.writecb;if(typeof Bt!="function")throw new R;if(function(Ne){Ne.writing=!1,Ne.writecb=null,Ne.length-=Ne.writelen,Ne.writelen=0}(At),lt)(function(Ne,Qe,B,Y,I){--Qe.pendingcb,B?(process.nextTick(I,Y),process.nextTick(ze,Ne,Qe),Ne._writableState.errorEmitted=!0,Ae(Ne,Y)):(I(Y),Ne._writableState.errorEmitted=!0,Ae(Ne,Y),ze(Ne,Qe))})(We,At,jt,lt,Bt);else{var Ie=we(At)||We.destroyed;Ie||At.corked||At.bufferProcessing||!At.bufferedRequest||ae(We,At),jt?process.nextTick(P,We,At,Ie,Bt):P(We,At,Ie,Bt)}})(Te,De)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ce.emitClose!==!1,this.autoDestroy=!!Ce.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function q(Ce){var Te=this instanceof(r=r||t(884));if(!Te&&!e.call(q,this))return new q(Ce);this._writableState=new S(Ce,this,Te),this.writable=!0,Ce&&(typeof Ce.write=="function"&&(this._write=Ce.write),typeof Ce.writev=="function"&&(this._writev=Ce.writev),typeof Ce.destroy=="function"&&(this._destroy=Ce.destroy),typeof Ce.final=="function"&&(this._final=Ce.final)),c.call(this)}function se(Ce,Te,Ye,Ue,De,We,lt){Te.writelen=Ue,Te.writecb=lt,Te.writing=!0,Te.sync=!0,Te.destroyed?Te.onwrite(new te("write")):Ye?Ce._writev(De,Te.onwrite):Ce._write(De,We,Te.onwrite),Te.sync=!1}function P(Ce,Te,Ye,Ue){Ye||function(De,We){We.length===0&&We.needDrain&&(We.needDrain=!1,De.emit("drain"))}(Ce,Te),Te.pendingcb--,Ue(),ze(Ce,Te)}function ae(Ce,Te){Te.bufferProcessing=!0;var Ye=Te.bufferedRequest;if(Ce._writev&&Ye&&Ye.next){var Ue=Te.bufferedRequestCount,De=new Array(Ue),We=Te.corkedRequestsFree;We.entry=Ye;for(var lt=0,At=!0;Ye;)De[lt]=Ye,Ye.isBuf||(At=!1),Ye=Ye.next,lt+=1;De.allBuffers=At,se(Ce,Te,!0,Te.length,De,"",We.finish),Te.pendingcb++,Te.lastBufferedRequest=null,We.next?(Te.corkedRequestsFree=We.next,We.next=null):Te.corkedRequestsFree=new u(Te),Te.bufferedRequestCount=0}else{for(;Ye;){var jt=Ye.chunk,Bt=Ye.encoding,Ie=Ye.callback;if(se(Ce,Te,!1,Te.objectMode?1:jt.length,jt,Bt,Ie),Ye=Ye.next,Te.bufferedRequestCount--,Te.writing)break}Ye===null&&(Te.lastBufferedRequest=null)}Te.bufferedRequest=Ye,Te.bufferProcessing=!1}function we(Ce){return Ce.ending&&Ce.length===0&&Ce.bufferedRequest===null&&!Ce.finished&&!Ce.writing}function $(Ce,Te){Ce._final(function(Ye){Te.pendingcb--,Ye&&Ae(Ce,Ye),Te.prefinished=!0,Ce.emit("prefinish"),ze(Ce,Te)})}function ze(Ce,Te){var Ye=we(Te);if(Ye&&(function(De,We){We.prefinished||We.finalCalled||(typeof De._final!="function"||We.destroyed?(We.prefinished=!0,De.emit("prefinish")):(We.pendingcb++,We.finalCalled=!0,process.nextTick($,De,We)))}(Ce,Te),Te.pendingcb===0&&(Te.finished=!0,Ce.emit("finish"),Te.autoDestroy))){var Ue=Ce._readableState;(!Ue||Ue.autoDestroy&&Ue.endEmitted)&&Ce.destroy()}return Ye}t(7523)(q,c),S.prototype.getBuffer=function(){for(var Ce=this.bufferedRequest,Te=[];Ce;)Te.push(Ce),Ce=Ce.next;return Te},function(){try{Object.defineProperty(S.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(e=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(Ce){return!!e.call(this,Ce)||this===q&&Ce&&Ce._writableState instanceof S}})):e=function(Ce){return Ce instanceof this},q.prototype.pipe=function(){Ae(this,new F)},q.prototype.write=function(Ce,Te,Ye){var Ue,De=this._writableState,We=!1,lt=!De.objectMode&&(Ue=Ce,i.isBuffer(Ue)||Ue instanceof l);return lt&&!i.isBuffer(Ce)&&(Ce=function(At){return i.from(At)}(Ce)),typeof Te=="function"&&(Ye=Te,Te=null),lt?Te="buffer":Te||(Te=De.defaultEncoding),typeof Ye!="function"&&(Ye=M),De.ending?function(At,jt){var Bt=new ee;Ae(At,Bt),process.nextTick(jt,Bt)}(this,Ye):(lt||function(At,jt,Bt,Ie){var Ne;return Bt===null?Ne=new de:typeof Bt=="string"||jt.objectMode||(Ne=new E("chunk",["string","Buffer"],Bt)),!Ne||(Ae(At,Ne),process.nextTick(Ie,Ne),!1)}(this,De,Ce,Ye))&&(De.pendingcb++,We=function(At,jt,Bt,Ie,Ne,Qe){if(!Bt){var B=function(fe,X,xe){return fe.objectMode||fe.decodeStrings===!1||typeof X!="string"||(X=i.from(X,xe)),X}(jt,Ie,Ne);Ie!==B&&(Bt=!0,Ne="buffer",Ie=B)}var Y=jt.objectMode?1:Ie.length;jt.length+=Y;var I=jt.length<jt.highWaterMark;if(I||(jt.needDrain=!0),jt.writing||jt.corked){var L=jt.lastBufferedRequest;jt.lastBufferedRequest={chunk:Ie,encoding:Ne,isBuf:Bt,callback:Qe,next:null},L?L.next=jt.lastBufferedRequest:jt.bufferedRequest=jt.lastBufferedRequest,jt.bufferedRequestCount+=1}else se(At,jt,!1,Y,Ie,Ne,Qe);return I}(this,De,lt,Ce,Te,Ye)),We},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var Ce=this._writableState;Ce.corked&&(Ce.corked--,Ce.writing||Ce.corked||Ce.bufferProcessing||!Ce.bufferedRequest||ae(this,Ce))},q.prototype.setDefaultEncoding=function(Ce){if(typeof Ce=="string"&&(Ce=Ce.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ce+"").toLowerCase())>-1))throw new ve(Ce);return this._writableState.defaultEncoding=Ce,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),q.prototype._write=function(Ce,Te,Ye){Ye(new y("_write()"))},q.prototype._writev=null,q.prototype.end=function(Ce,Te,Ye){var Ue=this._writableState;return typeof Ce=="function"?(Ye=Ce,Ce=null,Te=null):typeof Te=="function"&&(Ye=Te,Te=null),Ce!=null&&this.write(Ce,Te),Ue.corked&&(Ue.corked=1,this.uncork()),Ue.ending||function(De,We,lt){We.ending=!0,ze(De,We),lt&&(We.finished?process.nextTick(lt):De.once("finish",lt)),We.ended=!0,De.writable=!1}(this,Ue,Ye),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Ce){this._writableState&&(this._writableState.destroyed=Ce)}}),q.prototype.destroy=p.destroy,q.prototype._undestroy=p.undestroy,q.prototype._destroy=function(Ce,Te){Te(Ce)}},5857:function(_,f,t){var u;function r(de,ee,ve){return(ee=function(Ae){var M=function(S){if(typeof S!="object"||S===null)return S;var q=S[Symbol.toPrimitive];if(q!==void 0){var se=q.call(S,"string");if(typeof se!="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(Ae);return typeof M=="symbol"?M:String(M)}(ee))in de?Object.defineProperty(de,ee,{value:ve,enumerable:!0,configurable:!0,writable:!0}):de[ee]=ve,de}var e=t(2896),n=Symbol("lastResolve"),c=Symbol("lastReject"),i=Symbol("error"),l=Symbol("ended"),p=Symbol("lastPromise"),h=Symbol("handlePromise"),b=Symbol("stream");function E(de,ee){return{value:de,done:ee}}function y(de){var ee=de[n];if(ee!==null){var ve=de[b].read();ve!==null&&(de[p]=null,de[n]=null,de[c]=null,ee(E(ve,!1)))}}function R(de){process.nextTick(y,de)}var F=Object.getPrototypeOf(function(){}),te=Object.setPrototypeOf((r(u={get stream(){return this[b]},next:function(){var de=this,ee=this[i];if(ee!==null)return Promise.reject(ee);if(this[l])return Promise.resolve(E(void 0,!0));if(this[b].destroyed)return new Promise(function(S,q){process.nextTick(function(){de[i]?q(de[i]):S(E(void 0,!0))})});var ve,Ae=this[p];if(Ae)ve=new Promise(function(S,q){return function(se,P){S.then(function(){q[l]?se(E(void 0,!0)):q[h](se,P)},P)}}(Ae,this));else{var M=this[b].read();if(M!==null)return Promise.resolve(E(M,!1));ve=new Promise(this[h])}return this[p]=ve,ve}},Symbol.asyncIterator,function(){return this}),r(u,"return",function(){var de=this;return new Promise(function(ee,ve){de[b].destroy(null,function(Ae){Ae?ve(Ae):ee(E(void 0,!0))})})}),u),F);_.exports=function(de){var ee,ve=Object.create(te,(r(ee={},b,{value:de,writable:!0}),r(ee,n,{value:null,writable:!0}),r(ee,c,{value:null,writable:!0}),r(ee,i,{value:null,writable:!0}),r(ee,l,{value:de._readableState.endEmitted,writable:!0}),r(ee,h,{value:function(Ae,M){var S=ve[b].read();S?(ve[p]=null,ve[n]=null,ve[c]=null,Ae(E(S,!1))):(ve[n]=Ae,ve[c]=M)},writable:!0}),ee));return ve[p]=null,e(de,function(Ae){if(Ae&&Ae.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=ve[c];return M!==null&&(ve[p]=null,ve[n]=null,ve[c]=null,M(Ae)),void(ve[i]=Ae)}var S=ve[n];S!==null&&(ve[p]=null,ve[n]=null,ve[c]=null,S(E(void 0,!0))),ve[l]=!0}),de.on("readable",R.bind(null,ve)),ve}},3791:function(_,f,t){function u(h,b){var E=Object.keys(h);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(h);b&&(y=y.filter(function(R){return Object.getOwnPropertyDescriptor(h,R).enumerable})),E.push.apply(E,y)}return E}function r(h){for(var b=1;b<arguments.length;b++){var E=arguments[b]!=null?arguments[b]:{};b%2?u(Object(E),!0).forEach(function(y){e(h,y,E[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(E)):u(Object(E)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(E,y))})}return h}function e(h,b,E){return(b=c(b))in h?Object.defineProperty(h,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):h[b]=E,h}function n(h,b){for(var E=0;E<b.length;E++){var y=b[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,c(y.key),y)}}function c(h){var b=function(E){if(typeof E!="object"||E===null)return E;var y=E[Symbol.toPrimitive];if(y!==void 0){var R=y.call(E,"string");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(h);return typeof b=="symbol"?b:String(b)}var i=t(44).Buffer,l=t(3779).inspect,p=l&&l.custom||"inspect";_.exports=function(){function h(){(function(y,R){if(!(y instanceof R))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var b,E;return b=h,(E=[{key:"push",value:function(y){var R={data:y,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(y){var R={data:y,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var R=this.head,F=""+R.data;R=R.next;)F+=y+R.data;return F}},{key:"concat",value:function(y){if(this.length===0)return i.alloc(0);for(var R,F,te,de=i.allocUnsafe(y>>>0),ee=this.head,ve=0;ee;)R=ee.data,F=de,te=ve,i.prototype.copy.call(R,F,te),ve+=ee.data.length,ee=ee.next;return de}},{key:"consume",value:function(y,R){var F;return y<this.head.data.length?(F=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):F=y===this.head.data.length?this.shift():R?this._getString(y):this._getBuffer(y),F}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var R=this.head,F=1,te=R.data;for(y-=te.length;R=R.next;){var de=R.data,ee=y>de.length?de.length:y;if(ee===de.length?te+=de:te+=de.slice(0,y),(y-=ee)==0){ee===de.length?(++F,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=de.slice(ee));break}++F}return this.length-=F,te}},{key:"_getBuffer",value:function(y){var R=i.allocUnsafe(y),F=this.head,te=1;for(F.data.copy(R),y-=F.data.length;F=F.next;){var de=F.data,ee=y>de.length?de.length:y;if(de.copy(R,R.length-y,0,ee),(y-=ee)==0){ee===de.length?(++te,F.next?this.head=F.next:this.head=this.tail=null):(this.head=F,F.data=de.slice(ee));break}++te}return this.length-=te,R}},{key:p,value:function(y,R){return l(this,r(r({},R),{},{depth:0,customInspect:!1}))}}])&&n(b.prototype,E),Object.defineProperty(b,"prototype",{writable:!1}),h}()},2410:function(_){function f(r,e){u(r,e),t(r)}function t(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function u(r,e){r.emit("error",e)}_.exports={destroy:function(r,e){var n=this,c=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return c||i?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,r)):process.nextTick(u,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(l){!e&&l?n._writableState?n._writableState.errorEmitted?process.nextTick(t,n):(n._writableState.errorEmitted=!0,process.nextTick(f,n,l)):process.nextTick(f,n,l):e?(process.nextTick(t,n),e(l)):process.nextTick(t,n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,e){var n=r._readableState,c=r._writableState;n&&n.autoDestroy||c&&c.autoDestroy?r.destroy(e):r.emit("error",e)}}},2896:function(_,f,t){var u=t(1602).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}_.exports=function e(n,c,i){if(typeof c=="function")return e(n,null,c);c||(c={}),i=function(ee){var ve=!1;return function(){if(!ve){ve=!0;for(var Ae=arguments.length,M=new Array(Ae),S=0;S<Ae;S++)M[S]=arguments[S];ee.apply(this,M)}}}(i||r);var l=c.readable||c.readable!==!1&&n.readable,p=c.writable||c.writable!==!1&&n.writable,h=function(){n.writable||E()},b=n._writableState&&n._writableState.finished,E=function(){p=!1,b=!0,l||i.call(n)},y=n._readableState&&n._readableState.endEmitted,R=function(){l=!1,y=!0,p||i.call(n)},F=function(ee){i.call(n,ee)},te=function(){var ee;return l&&!y?(n._readableState&&n._readableState.ended||(ee=new u),i.call(n,ee)):p&&!b?(n._writableState&&n._writableState.ended||(ee=new u),i.call(n,ee)):void 0},de=function(){n.req.on("finish",E)};return function(ee){return ee.setHeader&&typeof ee.abort=="function"}(n)?(n.on("complete",E),n.on("abort",te),n.req?de():n.on("request",de)):p&&!n._writableState&&(n.on("end",h),n.on("close",h)),n.on("end",R),n.on("finish",E),c.error!==!1&&n.on("error",F),n.on("close",te),function(){n.removeListener("complete",E),n.removeListener("abort",te),n.removeListener("request",de),n.req&&n.req.removeListener("finish",E),n.removeListener("end",h),n.removeListener("close",h),n.removeListener("finish",E),n.removeListener("end",R),n.removeListener("error",F),n.removeListener("close",te)}}},3411:function(_){_.exports=function(){throw new Error("Readable.from is not available in the browser")}},8460:function(_,f,t){var u,r=t(1602).codes,e=r.ERR_MISSING_ARGS,n=r.ERR_STREAM_DESTROYED;function c(p){if(p)throw p}function i(p){p()}function l(p,h){return p.pipe(h)}_.exports=function(){for(var p=arguments.length,h=new Array(p),b=0;b<p;b++)h[b]=arguments[b];var E,y=function(F){return F.length?typeof F[F.length-1]!="function"?c:F.pop():c}(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new e("streams");var R=h.map(function(F,te){var de=te<h.length-1;return function(ee,ve,Ae,M){M=function(se){var P=!1;return function(){P||(P=!0,se.apply(void 0,arguments))}}(M);var S=!1;ee.on("close",function(){S=!0}),u===void 0&&(u=t(2896)),u(ee,{readable:ve,writable:Ae},function(se){if(se)return M(se);S=!0,M()});var q=!1;return function(se){if(!S&&!q)return q=!0,function(P){return P.setHeader&&typeof P.abort=="function"}(ee)?ee.abort():typeof ee.destroy=="function"?ee.destroy():void M(se||new n("pipe"))}}(F,de,te>0,function(ee){E||(E=ee),ee&&R.forEach(i),de||(R.forEach(i),y(E))})});return h.reduce(l)}},1749:function(_,f,t){var u=t(1602).codes.ERR_INVALID_OPT_VALUE;_.exports={getHighWaterMark:function(r,e,n,c){var i=function(l,p,h){return l.highWaterMark!=null?l.highWaterMark:p?l[h]:null}(e,c,n);if(i!=null){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new u(c?n:"highWaterMark",i);return Math.floor(i)}return r.objectMode?16:16384}}},2611:function(_,f,t){_.exports=t(9826).EventEmitter},748:function(_,f,t){var u=t(4598).Buffer,r=u.isEncoding||function(y){switch((y=""+y)&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function e(y){var R;switch(this.encoding=function(F){var te=function(de){if(!de)return"utf8";for(var ee;;)switch(de){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return de;default:if(ee)return;de=(""+de).toLowerCase(),ee=!0}}(F);if(typeof te!="string"&&(u.isEncoding===r||!r(F)))throw new Error("Unknown encoding: "+F);return te||F}(y),this.encoding){case"utf16le":this.text=i,this.end=l,R=4;break;case"utf8":this.fillLast=c,R=4;break;case"base64":this.text=p,this.end=h,R=3;break;default:return this.write=b,void(this.end=E)}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(R)}function n(y){return y<=127?0:y>>5==6?2:y>>4==14?3:y>>3==30?4:y>>6==2?-1:-2}function c(y){var R=this.lastTotal-this.lastNeed,F=function(te,de){if((192&de[0])!=128)return te.lastNeed=0,"�";if(te.lastNeed>1&&de.length>1){if((192&de[1])!=128)return te.lastNeed=1,"�";if(te.lastNeed>2&&de.length>2&&(192&de[2])!=128)return te.lastNeed=2,"�"}}(this,y);return F!==void 0?F:this.lastNeed<=y.length?(y.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(y.copy(this.lastChar,R,0,y.length),void(this.lastNeed-=y.length))}function i(y,R){if((y.length-R)%2==0){var F=y.toString("utf16le",R);if(F){var te=F.charCodeAt(F.length-1);if(te>=55296&&te<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",R,y.length-1)}function l(y){var R=y&&y.length?this.write(y):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,F)}return R}function p(y,R){var F=(y.length-R)%3;return F===0?y.toString("base64",R):(this.lastNeed=3-F,this.lastTotal=3,F===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",R,y.length-F))}function h(y){var R=y&&y.length?this.write(y):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function b(y){return y.toString(this.encoding)}function E(y){return y&&y.length?this.write(y):""}f.StringDecoder=e,e.prototype.write=function(y){if(y.length===0)return"";var R,F;if(this.lastNeed){if((R=this.fillLast(y))===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<y.length?R?R+this.text(y,F):this.text(y,F):R||""},e.prototype.end=function(y){var R=y&&y.length?this.write(y):"";return this.lastNeed?R+"�":R},e.prototype.text=function(y,R){var F=function(de,ee,ve){var Ae=ee.length-1;if(Ae<ve)return 0;var M=n(ee[Ae]);return M>=0?(M>0&&(de.lastNeed=M-1),M):--Ae<ve||M===-2?0:(M=n(ee[Ae]))>=0?(M>0&&(de.lastNeed=M-2),M):--Ae<ve||M===-2?0:(M=n(ee[Ae]))>=0?(M>0&&(M===2?M=0:de.lastNeed=M-3),M):0}(this,y,R);if(!this.lastNeed)return y.toString("utf8",R);this.lastTotal=F;var te=y.length-(F-this.lastNeed);return y.copy(this.lastChar,0,te),y.toString("utf8",R,te)},e.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length}},4598:function(_,f,t){var u=t(44),r=u.Buffer;function e(c,i){for(var l in c)i[l]=c[l]}function n(c,i,l){return r(c,i,l)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?_.exports=u:(e(u,f),f.Buffer=n),e(r,n),n.from=function(c,i,l){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,i,l)},n.alloc=function(c,i,l){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=r(c);return i!==void 0?typeof l=="string"?p.fill(i,l):p.fill(i):p.fill(0),p},n.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},n.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(c)}},8571:function(_,f,t){var u;(function(r,e){var n="function",c="undefined",i="object",l="string",p="major",h="model",b="name",E="type",y="vendor",R="version",F="architecture",te="console",de="mobile",ee="tablet",ve="smarttv",Ae="wearable",M="embedded",S="Amazon",q="Apple",se="ASUS",P="BlackBerry",ae="Browser",we="Chrome",$="Firefox",ze="Google",Ce="Huawei",Te="LG",Ye="Microsoft",Ue="Motorola",De="Opera",We="Samsung",lt="Sharp",At="Sony",jt="Xiaomi",Bt="Zebra",Ie="Facebook",Ne="Chromium OS",Qe="Mac OS",B=function(qe){for(var rt={},Ze=0;Ze<qe.length;Ze++)rt[qe[Ze].toUpperCase()]=qe[Ze];return rt},Y=function(qe,rt){return typeof qe===l&&I(rt).indexOf(I(qe))!==-1},I=function(qe){return qe.toLowerCase()},L=function(qe,rt){if(typeof qe===l)return qe=qe.replace(/^\s\s*/,""),typeof rt===c?qe:qe.substring(0,500)},fe=function(qe,rt){for(var Ze,ct,Vt,Nt,Ut,wt,yn=0;yn<rt.length&&!Ut;){var Nn=rt[yn],Pn=rt[yn+1];for(Ze=ct=0;Ze<Nn.length&&!Ut&&Nn[Ze];)if(Ut=Nn[Ze++].exec(qe))for(Vt=0;Vt<Pn.length;Vt++)wt=Ut[++ct],typeof(Nt=Pn[Vt])===i&&Nt.length>0?Nt.length===2?typeof Nt[1]==n?this[Nt[0]]=Nt[1].call(this,wt):this[Nt[0]]=Nt[1]:Nt.length===3?typeof Nt[1]!==n||Nt[1].exec&&Nt[1].test?this[Nt[0]]=wt?wt.replace(Nt[1],Nt[2]):e:this[Nt[0]]=wt?Nt[1].call(this,wt,Nt[2]):e:Nt.length===4&&(this[Nt[0]]=wt?Nt[3].call(this,wt.replace(Nt[1],Nt[2])):e):this[Nt]=wt||e;yn+=2}},X=function(qe,rt){for(var Ze in rt)if(typeof rt[Ze]===i&&rt[Ze].length>0){for(var ct=0;ct<rt[Ze].length;ct++)if(Y(rt[Ze][ct],qe))return Ze==="?"?e:Ze}else if(Y(rt[Ze],qe))return Ze==="?"?e:Ze;return qe},xe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ve={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[R,[b,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[R,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,R],[/opios[\/ ]+([\w\.]+)/i],[R,[b,De+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[R,[b,De+" GX"]],[/\bopr\/([\w\.]+)/i],[R,[b,De]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[R,[b,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,R],[/\bddg\/([\w\.]+)/i],[R,[b,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[R,[b,"UC"+ae]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[R,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[R,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[R,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[R,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[R,[b,"Smart Lenovo "+ae]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure "+ae],R],[/\bfocus\/([\w\.]+)/i],[R,[b,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[R,[b,De+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[R,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[R,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[R,[b,De+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[R,[b,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[R,[b,$]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360 "+ae]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1 "+ae],R],[/samsungbrowser\/([\w\.]+)/i],[R,[b,We+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],R],[/metasr[\/ ]?([\d\.]+)/i],[R,[b,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,"Sogou Mobile"],R],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[b,R],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,Ie],R],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,R],[/\bgsa\/([\w\.]+) .*safari\//i],[R,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[R,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[R,[b,we+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,we+" WebView"],R],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[R,[b,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,R],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[R,[b,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[R,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[R,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[b,R],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],R],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[R,[b,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[b,R],[/(cobalt)\/([\w\.]+)/i],[b,[R,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[F,"amd64"]],[/(ia32(?=;))/i],[[F,I]],[/((?:i[346]|x)86)[;\)]/i],[[F,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[F,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[F,"armhf"]],[/windows (ce|mobile); ppc;/i],[[F,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[F,/ower/,"",I]],[/(sun4\w)[;\)]/i],[[F,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[F,I]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[y,We],[E,ee]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[y,We],[E,de]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[y,q],[E,de]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[y,q],[E,ee]],[/(macintosh);/i],[h,[y,q]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[y,lt],[E,de]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[y,Ce],[E,ee]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[y,Ce],[E,de]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[y,jt],[E,de]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[y,jt],[E,ee]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[y,"OPPO"],[E,de]],[/\b(opd2\d{3}a?) bui/i],[h,[y,"OPPO"],[E,ee]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[y,"Vivo"],[E,de]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[y,"Realme"],[E,de]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[y,Ue],[E,de]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[y,Ue],[E,ee]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[y,Te],[E,ee]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[y,Te],[E,de]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[y,"Lenovo"],[E,ee]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[y,"Nokia"],[E,de]],[/(pixel c)\b/i],[h,[y,ze],[E,ee]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[y,ze],[E,de]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[y,At],[E,de]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[y,At],[E,ee]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[y,"OnePlus"],[E,de]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[y,S],[E,ee]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[y,S],[E,de]],[/(playbook);[-\w\),; ]+(rim)/i],[h,y,[E,ee]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[y,P],[E,de]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[y,se],[E,ee]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[y,se],[E,de]],[/(nexus 9)/i],[h,[y,"HTC"],[E,ee]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[h,/_/g," "],[E,de]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[y,"Acer"],[E,ee]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[y,"Meizu"],[E,de]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[y,"Ulefone"],[E,de]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,h,[E,de]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,h,[E,ee]],[/(surface duo)/i],[h,[y,Ye],[E,ee]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[y,"Fairphone"],[E,de]],[/(u304aa)/i],[h,[y,"AT&T"],[E,de]],[/\bsie-(\w*)/i],[h,[y,"Siemens"],[E,de]],[/\b(rct\w+) b/i],[h,[y,"RCA"],[E,ee]],[/\b(venue[\d ]{2,7}) b/i],[h,[y,"Dell"],[E,ee]],[/\b(q(?:mv|ta)\w+) b/i],[h,[y,"Verizon"],[E,ee]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[y,"Barnes & Noble"],[E,ee]],[/\b(tm\d{3}\w+) b/i],[h,[y,"NuVision"],[E,ee]],[/\b(k88) b/i],[h,[y,"ZTE"],[E,ee]],[/\b(nx\d{3}j) b/i],[h,[y,"ZTE"],[E,de]],[/\b(gen\d{3}) b.+49h/i],[h,[y,"Swiss"],[E,de]],[/\b(zur\d{3}) b/i],[h,[y,"Swiss"],[E,ee]],[/\b((zeki)?tb.*\b) b/i],[h,[y,"Zeki"],[E,ee]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],h,[E,ee]],[/\b(ns-?\w{0,9}) b/i],[h,[y,"Insignia"],[E,ee]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[y,"NextBook"],[E,ee]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],h,[E,de]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],h,[E,de]],[/\b(ph-1) /i],[h,[y,"Essential"],[E,de]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[y,"Envizen"],[E,ee]],[/\b(trio[-\w\. ]+) b/i],[h,[y,"MachSpeed"],[E,ee]],[/\btu_(1491) b/i],[h,[y,"Rotor"],[E,ee]],[/(shield[\w ]+) b/i],[h,[y,"Nvidia"],[E,ee]],[/(sprint) (\w+)/i],[y,h,[E,de]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[y,Ye],[E,de]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[y,Bt],[E,ee]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[y,Bt],[E,de]],[/smart-tv.+(samsung)/i],[y,[E,ve]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[y,We],[E,ve]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,Te],[E,ve]],[/(apple) ?tv/i],[y,[h,q+" TV"],[E,ve]],[/crkey/i],[[h,we+"cast"],[y,ze],[E,ve]],[/droid.+aft(\w+)( bui|\))/i],[h,[y,S],[E,ve]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[y,lt],[E,ve]],[/(bravia[\w ]+)( bui|\))/i],[h,[y,At],[E,ve]],[/(mitv-\w{5}) bui/i],[h,[y,jt],[E,ve]],[/Hbbtv.*(technisat) (.*);/i],[y,h,[E,ve]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,L],[h,L],[E,ve]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[E,ve]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,h,[E,te]],[/droid.+; (shield) bui/i],[h,[y,"Nvidia"],[E,te]],[/(playstation [345portablevi]+)/i],[h,[y,At],[E,te]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[y,Ye],[E,te]],[/((pebble))app/i],[y,h,[E,Ae]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[y,q],[E,Ae]],[/droid.+; (glass) \d/i],[h,[y,ze],[E,Ae]],[/droid.+; (wt63?0{2,3})\)/i],[h,[y,Bt],[E,Ae]],[/(quest( \d| pro)?)/i],[h,[y,Ie],[E,Ae]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[E,M]],[/(aeobc)\b/i],[h,[y,S],[E,M]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[E,de]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[E,ee]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[E,ee]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[E,de]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[R,[b,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[R,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,R],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[R,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,R],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[b,[R,X,xe]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[R,X,xe],[b,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[R,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,Qe],[R,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[R,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,R],[/\(bb(10);/i],[R,[b,P]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[R,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[R,[b,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[R,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[R,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[R,[b,we+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,Ne],R],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,R],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],R],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,R]]},Le=function(qe,rt){if(typeof qe===i&&(rt=qe,qe=e),!(this instanceof Le))return new Le(qe,rt).getResult();var Ze=typeof r!==c&&r.navigator?r.navigator:e,ct=qe||(Ze&&Ze.userAgent?Ze.userAgent:""),Vt=Ze&&Ze.userAgentData?Ze.userAgentData:e,Nt=rt?function(wt,yn){var Nn={};for(var Pn in wt)yn[Pn]&&yn[Pn].length%2==0?Nn[Pn]=yn[Pn].concat(wt[Pn]):Nn[Pn]=wt[Pn];return Nn}(Ve,rt):Ve,Ut=Ze&&Ze.userAgent==ct;return this.getBrowser=function(){var wt,yn={};return yn[b]=e,yn[R]=e,fe.call(yn,ct,Nt.browser),yn[p]=typeof(wt=yn[R])===l?wt.replace(/[^\d\.]/g,"").split(".")[0]:e,Ut&&Ze&&Ze.brave&&typeof Ze.brave.isBrave==n&&(yn[b]="Brave"),yn},this.getCPU=function(){var wt={};return wt[F]=e,fe.call(wt,ct,Nt.cpu),wt},this.getDevice=function(){var wt={};return wt[y]=e,wt[h]=e,wt[E]=e,fe.call(wt,ct,Nt.device),Ut&&!wt[E]&&Vt&&Vt.mobile&&(wt[E]=de),Ut&&wt[h]=="Macintosh"&&Ze&&typeof Ze.standalone!==c&&Ze.maxTouchPoints&&Ze.maxTouchPoints>2&&(wt[h]="iPad",wt[E]=ee),wt},this.getEngine=function(){var wt={};return wt[b]=e,wt[R]=e,fe.call(wt,ct,Nt.engine),wt},this.getOS=function(){var wt={};return wt[b]=e,wt[R]=e,fe.call(wt,ct,Nt.os),Ut&&!wt[b]&&Vt&&Vt.platform&&Vt.platform!="Unknown"&&(wt[b]=Vt.platform.replace(/chrome os/i,Ne).replace(/macos/i,Qe)),wt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ct},this.setUA=function(wt){return ct=typeof wt===l&&wt.length>500?L(wt,500):wt,this},this.setUA(ct),this};Le.VERSION="1.0.38",Le.BROWSER=B([b,R,p]),Le.CPU=B([F]),Le.DEVICE=B([h,y,E,te,de,ve,ee,Ae,M]),Le.ENGINE=Le.OS=B([b,R]),typeof f!==c?(_.exports&&(f=_.exports=Le),f.UAParser=Le):t.amdO?(u=(function(){return Le}).call(f,t,f,_))===e||(_.exports=u):typeof r!==c&&(r.UAParser=Le);var Me=typeof r!==c&&(r.jQuery||r.Zepto);if(Me&&!Me.ua){var Pe=new Le;Me.ua=Pe.getResult(),Me.ua.get=function(){return Pe.getUA()},Me.ua.set=function(qe){Pe.setUA(qe);var rt=Pe.getResult();for(var Ze in rt)Me.ua[Ze]=rt[Ze]}}})(typeof window=="object"?window:this)},9e3:function(_,f,t){function u(r){try{if(!t.g.localStorage)return!1}catch{return!1}var e=t.g.localStorage[r];return e!=null&&String(e).toLowerCase()==="true"}_.exports=function(r,e){if(u("noDeprecation"))return r;var n=!1;return function(){if(!n){if(u("throwDeprecation"))throw new Error(e);u("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return r.apply(this,arguments)}}},3779:function(){},7199:function(){},5393:function(_,f,t){t.r(f),t.d(f,{Debug:function(){return e.default},FactoryMaker:function(){return r.default},MediaPlayer:function(){return u.default}});var u=t(5849),r=t(138),e=t(649),n=t(8986),c=typeof window<"u"&&window||global,i=c.dashjs;i||(i=c.dashjs={}),i.MediaPlayer=u.default,i.FactoryMaker=r.default,i.Debug=e.default,i.Version=(0,n.getVersionString)(),f.default=i},649:function(_,f,t){t.r(f);var u=t(8850),r=t(3621),e=t(138);function n(i){i=i||{};const l=this.context,p=(0,u.default)(l).getInstance(),h=i.settings,b=[];let E,y,R,F;function te(q){return q&&q.bind?q.bind(window.console):window.console.log.bind(window.console)}function de(){for(var q=arguments.length,se=new Array(q),P=0;P<q;P++)se[P]=arguments[P];S(1,this,...se)}function ee(){for(var q=arguments.length,se=new Array(q),P=0;P<q;P++)se[P]=arguments[P];S(2,this,...se)}function ve(){for(var q=arguments.length,se=new Array(q),P=0;P<q;P++)se[P]=arguments[P];S(3,this,...se)}function Ae(){for(var q=arguments.length,se=new Array(q),P=0;P<q;P++)se[P]=arguments[P];S(4,this,...se)}function M(){for(var q=arguments.length,se=new Array(q),P=0;P<q;P++)se[P]=arguments[P];S(5,this,...se)}function S(q,se){let P="",ae=null;y&&(ae=new Date().getTime(),P+="["+(ae-F)+"]"),R&&se&&se.getClassName&&(P+="["+se.getClassName()+"]",se.getType&&(P+="["+se.getType()+"]")),P.length>0&&(P+=" ");for(var we=arguments.length,$=new Array(we>2?we-2:0),ze=2;ze<we;ze++)$[ze-2]=arguments[ze];Array.apply(null,$).forEach(function(Ce){P+=Ce+" "}),b[q]&&h&&h.get().debug.logLevel>=q&&b[q](P),h&&h.get().debug.dispatchEvent&&p.trigger(r.default.LOG,{message:P,level:q})}return E={getLogger:function(q){return{fatal:de.bind(q),error:ee.bind(q),warn:ve.bind(q),info:Ae.bind(q),debug:M.bind(q)}},setLogTimestampVisible:function(q){y=q},setCalleeNameVisible:function(q){R=q}},y=!0,R=!0,F=new Date().getTime(),typeof window<"u"&&window.console&&(b[1]=te(window.console.error),b[2]=te(window.console.error),b[3]=te(window.console.warn),b[4]=te(window.console.info),b[5]=te(window.console.debug)),E}n.__dashjs_factory_name="Debug";const c=e.default.getSingletonFactory(n);c.LOG_LEVEL_NONE=0,c.LOG_LEVEL_FATAL=1,c.LOG_LEVEL_ERROR=2,c.LOG_LEVEL_WARNING=3,c.LOG_LEVEL_INFO=4,c.LOG_LEVEL_DEBUG=5,e.default.updateSingletonFactory(n.__dashjs_factory_name,c),f.default=c},8850:function(_,f,t){t.r(f);var u=t(138),r=t(1191);function e(){let c={};function i(b,E,y){let R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},F=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(!b)throw new Error("event type cannot be null or undefined");if(!E||typeof E!="function")throw new Error("listener must be a function: "+E);let te=R.priority||0;if(p(b,E,y)>=0)return;c[b]=c[b]||[];const de={callback:E,scope:y,priority:te,executeOnlyOnce:F};y&&y.getStreamId&&(de.streamId=y.getStreamId()),y&&y.getType&&(de.mediaType=y.getType()),R&&R.mode&&(de.mode=R.mode),c[b].some((ee,ve)=>{if(ee&&te>ee.priority)return c[b].splice(ve,0,de),!0})||c[b].push(de)}function l(b,E,y){if(!b||!E||!c[b])return;const R=p(b,E,y);R<0||(c[b][R]=null)}function p(b,E,y){let R=-1;return c[b]&&c[b].some((F,te)=>{if(F&&F.callback===E&&(!y||y===F.scope))return R=te,!0}),R}return{on:function(b,E,y){i(b,E,y,arguments.length>3&&arguments[3]!==void 0?arguments[3]:{})},once:function(b,E,y){i(b,E,y,arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},!0)},off:l,trigger:function(b){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!b||!c[b])return;if(E=E||{},E.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");E.type=b,y.streamId&&(E.streamId=y.streamId),y.mediaType&&(E.mediaType=y.mediaType);const R=[];c[b].filter(F=>!(!F||y.streamId&&F.streamId&&F.streamId!==y.streamId||y.mediaType&&F.mediaType&&F.mediaType!==y.mediaType||y.mode&&F.mode&&F.mode!==y.mode||!F.mode&&y.mode&&y.mode===r.default.EVENT_MODE_ON_RECEIVE)).forEach(F=>{F&&F.callback.call(F.scope,E),F.executeOnlyOnce&&R.push(F)}),R.forEach(F=>{l(b,F.callback,F.scope)})},reset:function(){c={}}}}e.__dashjs_factory_name="EventBus";const n=u.default.getSingletonFactory(e);n.EVENT_PRIORITY_LOW=0,n.EVENT_PRIORITY_HIGH=5e3,u.default.updateSingletonFactory(e.__dashjs_factory_name,n),f.default=n},138:function(_,f,t){t.r(f);const u=function(){let r,e=[];const n={},c={};function i(b,E){for(const y in e){const R=e[y];if(R.context===b&&R.name===E)return R.instance}return null}function l(b,E){return E[b]}function p(b,E,y){b in y&&(y[b]=E)}function h(b,E,y){let R;const F=b.__dashjs_factory_name,te=E[F];if(te){let de=te.instance;if(!te.override)return de.apply({context:E,factory:r},y);R=b.apply({context:E},y),de=de.apply({context:E,factory:r,parent:R},y);for(const ee in de)R.hasOwnProperty(ee)&&(R[ee]=de[ee])}else R=b.apply({context:E},y);return R.getClassName=function(){return F},R}return r={extend:function(b,E,y,R){!R[b]&&E&&(R[b]={instance:E,override:y})},getSingletonInstance:i,setSingletonInstance:function(b,E,y){for(const R in e){const F=e[R];if(F.context===b&&F.name===E)return void(e[R].instance=y)}e.push({name:E,context:b,instance:y})},deleteSingletonInstances:function(b){e=e.filter(E=>E.context!==b)},getSingletonFactory:function(b){let E=l(b.__dashjs_factory_name,n);return E||(E=function(y){let R;return y===void 0&&(y={}),{getInstance:function(){return R||(R=i(y,b.__dashjs_factory_name)),R||(R=h(b,y,arguments),e.push({name:b.__dashjs_factory_name,context:y,instance:R})),R}}},n[b.__dashjs_factory_name]=E),E},getSingletonFactoryByName:function(b){return l(b,n)},updateSingletonFactory:function(b,E){p(b,E,n)},getClassFactory:function(b){let E=l(b.__dashjs_factory_name,c);return E||(E=function(y){return y===void 0&&(y={}),{create:function(){return h(b,y,arguments)}}},c[b.__dashjs_factory_name]=E),E},getClassFactoryByName:function(b){return l(b,c)},updateClassFactory:function(b,E){p(b,E,c)}},r}();f.default=u},8261:function(_,f,t){t.r(f);var u=t(138),r=t(7263),e=t(649),n=t(5212),c=t(7568),i=t(8850),l=t(3621);function p(){let b;const E=this.context,y=(0,i.default)(E).getInstance(),R={"streaming.delay.liveDelay":l.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":l.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":l.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":l.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":l.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,"streaming.abr.rules.throughputRule.active":l.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.bolaRule.active":l.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.insufficientBufferRule.active":l.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.switchHistoryRule.active":l.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.droppedFramesRule.active":l.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.abandonRequestsRule.active":l.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.l2ARule.active":l.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.loLPRule.active":l.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.maxBitrate.video":l.default.SETTING_UPDATED_MAX_BITRATE,"streaming.abr.maxBitrate.audio":l.default.SETTING_UPDATED_MAX_BITRATE,"streaming.abr.minBitrate.video":l.default.SETTING_UPDATED_MIN_BITRATE,"streaming.abr.minBitrate.audio":l.default.SETTING_UPDATED_MIN_BITRATE},F={debug:{logLevel:e.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,liveUpdateTimeThresholdInMilliseconds:0,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,supportedEssentialProperties:[{schemeIdUri:n.default.FONT_DOWNLOAD_DVB_SCHEME},{schemeIdUri:n.default.COLOUR_PRIMARIES_SCHEME_ID_URI,value:/1|5|6|7/},{schemeIdUri:n.default.URL_QUERY_INFO_SCHEME},{schemeIdUri:n.default.EXT_URL_QUERY_INFO_SCHEME},{schemeIdUri:n.default.MATRIX_COEFFICIENTS_SCHEME_ID_URI,value:/0|1|5|6/},{schemeIdUri:n.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI,value:/1|6|13|14|15/},...n.default.THUMBNAILS_SCHEME_ID_URIS.map(ee=>({schemeIdUri:ee}))],useMediaCapabilitiesApi:!0,filterVideoColorimetryEssentialProperties:!1,filterHDRMetadataFormatEssentialProperties:!1},events:{eventControllerRefreshDelay:100,deleteEventMessageDataAfterEventStarted:!0},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0,ignoreKeyStatuses:!1},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:null,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,bufferTimeDefault:18,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeType:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1,syntheticStallEvents:{enabled:!1,ignoreReadyState:!1}},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,dispatchForManualRendering:!1,extendSegmentedCues:!0,imsc:{displayForcedOnlyMode:!1,enableRollUp:!0},webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:n.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:10,audio:5},trackSwitchMode:{audio:n.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:n.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:n.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:{[c.HTTPRequest.MPD_TYPE]:500,[c.HTTPRequest.XLINK_EXPANSION_TYPE]:500,[c.HTTPRequest.MEDIA_SEGMENT_TYPE]:1e3,[c.HTTPRequest.INIT_SEGMENT_TYPE]:1e3,[c.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:1e3,[c.HTTPRequest.INDEX_SEGMENT_TYPE]:1e3,[c.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE]:1e3,[c.HTTPRequest.LICENSE]:1e3,[c.HTTPRequest.OTHER_TYPE]:1e3,lowLatencyReductionFactor:10},retryAttempts:{[c.HTTPRequest.MPD_TYPE]:3,[c.HTTPRequest.XLINK_EXPANSION_TYPE]:1,[c.HTTPRequest.MEDIA_SEGMENT_TYPE]:3,[c.HTTPRequest.INIT_SEGMENT_TYPE]:3,[c.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:3,[c.HTTPRequest.INDEX_SEGMENT_TYPE]:3,[c.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE]:3,[c.HTTPRequest.LICENSE]:3,[c.HTTPRequest.OTHER_TYPE]:3,lowLatencyMultiplyFactor:5},abr:{limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,enableSupplementalPropertyAdaptationSetSwitching:!0,rules:{throughputRule:{active:!0},bolaRule:{active:!0},insufficientBufferRule:{active:!0,parameters:{throughputSafetyFactor:.7,segmentIgnoreCount:2}},switchHistoryRule:{active:!0,parameters:{sampleSize:8,switchPercentageThreshold:.075}},droppedFramesRule:{active:!1,parameters:{minimumSampleSize:375,droppedFramesPercentageThreshold:.15}},abandonRequestsRule:{active:!0,parameters:{abandonDurationMultiplier:1.8,minSegmentDownloadTimeThresholdInMs:500,minThroughputSamplesThreshold:6}},l2ARule:{active:!1},loLPRule:{active:!1}},throughput:{averageCalculationMode:n.default.THROUGHPUT_CALCULATION_MODES.EWMA,lowLatencyDownloadTimeCalculationMode:n.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING,useResourceTimingApi:!0,useNetworkInformationApi:{xhr:!1,fetch:!1},useDeadTimeLatency:!0,bandwidthSafetyFactor:.9,sampleSettings:{live:3,vod:4,enableSampleSizeAdjustment:!0,decreaseScale:.7,increaseScale:1.3,maxMeasurementsToKeep:20,averageLatencySampleAmount:4},ewma:{throughputSlowHalfLifeSeconds:8,throughputFastHalfLifeSeconds:3,latencySlowHalfLifeCount:2,latencyFastHalfLifeCount:1,weightDownloadTimeMultiplicationFactor:.0015}},maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},initialBitrate:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{applyParametersFromMpd:!0,enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:n.default.CMCD_MODE_QUERY,enabledKeys:n.default.CMCD_AVAILABLE_KEYS,includeInRequests:["segment","mpd"],version:1},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}},defaultSchemeIdUri:{viewpoint:"",audioChannelConfiguration:"urn:mpeg:mpegB:cicp:ChannelConfiguration",role:"urn:mpeg:dash:role:2011",accessibility:"urn:mpeg:dash:role:2011"}},errors:{recoverAttempts:{mediaErrorDecode:5}}};let te=r.default.clone(F);function de(ee,ve,Ae){for(let M in ee)ee.hasOwnProperty(M)&&(ve.hasOwnProperty(M)?typeof ee[M]!="object"||ee[M]instanceof RegExp||ee[M]instanceof Array||ee[M]===null?(ve[M]=r.default.clone(ee[M]),R[Ae+M]&&y.trigger(R[Ae+M])):de(ee[M],ve[M],Ae.slice()+M+"."):console.error("Settings parameter "+Ae+M+" is not supported"))}return b={get:function(){return te},update:function(ee){typeof ee=="object"&&de(ee,te,"")},reset:function(){te=r.default.clone(F)}},b}p.__dashjs_factory_name="Settings";let h=u.default.getSingletonFactory(p);f.default=h},7263:function(_,f,t){t.r(f);var u=t(3282),r=t(8571),e=t(5212);class n{static mixin(i,l,p){let h,b={};if(i)for(let E in l)l.hasOwnProperty(E)&&(h=l[E],E in i&&(i[E]===h||E in b&&b[E]===h)||(typeof i[E]=="object"&&i[E]!==null?i[E]=n.mixin(i[E],h,p):i[E]=p(h)));return i}static clone(i){if(!i||typeof i!="object")return i;if(i instanceof RegExp)return new RegExp(i);let l;if(i instanceof Array){l=[];for(let p=0,h=i.length;p<h;++p)p in i&&l.push(n.clone(i[p]))}else l={};return n.mixin(l,i,n.clone)}static addAdditionalQueryParameterToUrl(i,l){try{if(!l||l.length===0)return i;let p=i;return l.forEach(h=>{let{key:b,value:E}=h;const y=p.includes("?")?"&":"?";p+=`${y}${encodeURIComponent(b)}=${encodeURIComponent(E)}`}),p}catch{return i}}static removeQueryParameterFromUrl(i,l){if(!i||!l)return i;const p=new URL(i),h=new URLSearchParams(p.search);return h&&h.size!==0?(h.delete(l),p.search=h.toString(),p.toString()):i}static parseHttpHeaders(i){let l={};if(!i)return l;let p=i.trim().split(`\r
`);for(let h=0,b=p.length;h<b;h++){let E=p[h],y=E.indexOf(": ");y>0&&(l[E.substring(0,y)]=E.substring(y+2))}return l}static parseQueryParams(i){const l=[],p=new URLSearchParams(i);for(const[h,b]of p.entries())l.push({key:decodeURIComponent(h),value:decodeURIComponent(b)});return l}static generateUuid(){let i=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const p=(i+16*Math.random())%16|0;return i=Math.floor(i/16),(l=="x"?p:3&p|8).toString(16)})}static generateHashCode(i){let l=0;if(i.length===0)return l;for(let p=0;p<i.length;p++)l=(l<<5)-l+i.charCodeAt(p),l|=0;return l}static getRelativeUrl(i,l){try{const p=new URL(i),h=new URL(l);if(p.protocol=h.protocol,p.origin!==h.origin)return l;let b=u.relative(p.pathname.substr(0,p.pathname.lastIndexOf("/")),h.pathname.substr(0,h.pathname.lastIndexOf("/")));const E=b.length===0?1:0;return b+=h.pathname.substr(h.pathname.lastIndexOf("/")+E,h.pathname.length-1),h.pathname.length<b.length?h.pathname:b}catch{return l}}static getHostFromUrl(i){try{return new URL(i).host}catch{return null}}static parseUserAgent(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{const l=i===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,r.UAParser)(l)}catch{return{}}}static stringHasProtocol(i){return/(http(s?)):\/\//i.test(i)}static bufferSourceToDataView(i){return n.toDataView(i,DataView)}static bufferSourceToInt8(i){return n.toDataView(i,Uint8Array)}static bufferSourceToHex(i){const l=n.bufferSourceToInt8(i);let p="";for(let h of l)h=h.toString(16),h.length===1&&(h="0"+h),p+=h;return p}static toDataView(i,l){const p=n.getArrayBuffer(i);let h=1;"BYTES_PER_ELEMENT"in DataView&&(h=DataView.BYTES_PER_ELEMENT);const b=((i.byteOffset||0)+i.byteLength)/h,E=(i.byteOffset||0)/h,y=Math.floor(Math.max(0,Math.min(E,b)));return new l(p,y,Math.floor(Math.min(y+Math.max(1/0,0),b))-y)}static getArrayBuffer(i){return i instanceof ArrayBuffer?i:i.buffer}static getCodecFamily(i){const{base:l,profile:p}=n._getCodecParts(i);switch(l){case"mp4a":switch(p){case"69":case"6b":case"40.34":return e.default.CODEC_FAMILIES.MP3;case"66":case"67":case"68":case"40.2":case"40.02":case"40.5":case"40.05":case"40.29":case"40.42":return e.default.CODEC_FAMILIES.AAC;case"a5":return e.default.CODEC_FAMILIES.AC3;case"e6":return e.default.CODEC_FAMILIES.EC3;case"b2":return e.default.CODEC_FAMILIES.DTSX;case"a9":return e.default.CODEC_FAMILIES.DTSC}break;case"avc1":case"avc3":return e.default.CODEC_FAMILIES.AVC;case"hvc1":case"hvc3":return e.default.CODEC_FAMILIES.HEVC;default:return l}return l}static _getCodecParts(i){const[l,...p]=i.split(".");return{base:l,profile:p.join(".")}}}f.default=n},8986:function(_,f,t){t.r(f),t.d(f,{getVersionString:function(){return r}});const u="5.0.0";function r(){return u}},8748:function(_,f,t){t.r(f),f.default=class{extend(u,r){if(!u)return;let e=!!r&&r.override,n=!!r&&r.publicOnly;for(const c in u)!u.hasOwnProperty(c)||this[c]&&!e||n&&u[c].indexOf("public_")===-1||(this[c]=u[c])}}},5734:function(_,f,t){t.r(f);var u=t(7252);class r extends u.default{constructor(){super(),this.ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CMSD_STATIC_HEADER="cmsdStaticHeader",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.INBAND_EVENTS="inbandEvents",this.INITIAL_STREAM_SWITCH="initialStreamSwitch",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_FRAGMENT_NEEDED="initFragmentNeeded",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",this.MEDIAINFO_UPDATED="mediaInfoUpdated",this.QUOTA_EXCEEDED="quotaExceeded",this.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",this.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",this.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",this.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",this.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",this.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",this.SOURCE_BUFFER_ERROR="sourceBufferError",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady",this.SEEK_TARGET="seekTarget",this.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",this.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",this.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",this.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",this.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",this.SETTING_UPDATED_ABR_ACTIVE_RULES="settingUpdatedAbrActiveRules",this.SETTING_UPDATED_MAX_BITRATE="settingUpdatedMaxBitrate",this.SETTING_UPDATED_MIN_BITRATE="settingUpdatedMinBitrate"}}f.default=r},3621:function(_,f,t){t.r(f);var u=t(5734);class r extends u.default{}let e=new r;f.default=e},7252:function(_,f,t){t.r(f),f.default=class{extend(u,r){if(!u)return;let e=!!r&&r.override,n=!!r&&r.publicOnly;for(const c in u)!u.hasOwnProperty(c)||this[c]&&!e||n&&u[c].indexOf("public_")===-1||(this[c]=u[c])}}},8854:function(_,f,t){t.r(f),f.default={ACCESSIBILITY:"Accessibility",ADAPTATION_SET:"AdaptationSet",ADAPTATION_SETS:"adaptationSets",ADAPTATION_SET_SWITCHING_SCHEME_ID_URI:"urn:mpeg:dash:adaptation-set-switching:2016",ADD:"add",ASSET_IDENTIFIER:"AssetIdentifier",AUDIO_CHANNEL_CONFIGURATION:"AudioChannelConfiguration",AUDIO_SAMPLING_RATE:"audioSamplingRate",AVAILABILITY_END_TIME:"availabilityEndTime",AVAILABILITY_START_TIME:"availabilityStartTime",AVAILABILITY_TIME_COMPLETE:"availabilityTimeComplete",AVAILABILITY_TIME_OFFSET:"availabilityTimeOffset",BANDWITH:"bandwidth",BASE_URL:"BaseURL",BITSTREAM_SWITCHING:"BitstreamSwitching",BITSTREAM_SWITCHING_MINUS:"bitstreamSwitching",BYTE_RANGE:"byteRange",CAPTION:"caption",CENC_DEFAULT_KID:"cenc:default_KID",CLIENT_DATA_REPORTING:"ClientDataReporting",CLIENT_REQUIREMENT:"clientRequirement",CMCD_PARAMETERS:"CMCDParameters",CODECS:"codecs",CODEC_PRIVATE_DATA:"codecPrivateData",CODING_DEPENDENCY:"codingDependency",CONTENT_COMPONENT:"ContentComponent",CONTENT_PROTECTION:"ContentProtection",CONTENT_STEERING:"ContentSteering",CONTENT_STEERING_RESPONSE:{VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},CONTENT_TYPE:"contentType",DEFAULT_SERVICE_LOCATION:"defaultServiceLocation",DEPENDENCY_ID:"dependencyId",DURATION:"duration",DVB_PRIORITY:"dvb:priority",DVB_WEIGHT:"dvb:weight",DVB_URL:"dvb:url",DVB_MIMETYPE:"dvb:mimeType",DVB_FONTFAMILY:"dvb:fontFamily",DYNAMIC:"dynamic",ESSENTIAL_PROPERTY:"EssentialProperty",EVENT:"Event",EVENT_STREAM:"EventStream",FORCED_SUBTITLE:"forced-subtitle",FRAMERATE:"frameRate",FRAME_PACKING:"FramePacking",GROUP_LABEL:"GroupLabel",HEIGHT:"height",ID:"id",INBAND:"inband",INBAND_EVENT_STREAM:"InbandEventStream",INDEX:"index",INDEX_RANGE:"indexRange",INITIALIZATION:"Initialization",INITIALIZATION_MINUS:"initialization",LA_URL:"Laurl",LA_URL_LOWER_CASE:"laurl",LABEL:"Label",LANG:"lang",LOCATION:"Location",MAIN:"main",MAXIMUM_SAP_PERIOD:"maximumSAPPeriod",MAX_PLAYOUT_RATE:"maxPlayoutRate",MAX_SEGMENT_DURATION:"maxSegmentDuration",MAX_SUBSEGMENT_DURATION:"maxSubsegmentDuration",MEDIA:"media",MEDIA_PRESENTATION_DURATION:"mediaPresentationDuration",MEDIA_RANGE:"mediaRange",MEDIA_STREAM_STRUCTURE_ID:"mediaStreamStructureId",METRICS:"Metrics",METRICS_MINUS:"metrics",MIME_TYPE:"mimeType",MINIMUM_UPDATE_PERIOD:"minimumUpdatePeriod",MIN_BUFFER_TIME:"minBufferTime",MP4_PROTECTION_SCHEME:"urn:mpeg:dash:mp4protection:2011",MPD:"MPD",MPD_TYPE:"mpd",MPD_PATCH_TYPE:"mpdpatch",ORIGINAL_MPD_ID:"mpdId",ORIGINAL_PUBLISH_TIME:"originalPublishTime",PATCH_LOCATION:"PatchLocation",PERIOD:"Period",PRESENTATION_TIME:"presentationTime",PRESENTATION_TIME_OFFSET:"presentationTimeOffset",PRO:"pro",PRODUCER_REFERENCE_TIME:"ProducerReferenceTime",PRODUCER_REFERENCE_TIME_TYPE:{ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},PROFILES:"profiles",PSSH:"pssh",PUBLISH_TIME:"publishTime",QUALITY_RANKING:"qualityRanking",QUERY_BEFORE_START:"queryBeforeStart",QUERY_PART:"$querypart$",RANGE:"range",RATING:"Rating",REF:"ref",REF_ID:"refId",REMOVE:"remove",REPLACE:"replace",REPORTING:"Reporting",REPRESENTATION:"Representation",REPRESENTATION_INDEX:"RepresentationIndex",ROBUSTNESS:"robustness",ROLE:"Role",S:"S",SAR:"sar",SCAN_TYPE:"scanType",SEGMENT_ALIGNMENT:"segmentAlignment",SEGMENT_BASE:"SegmentBase",SEGMENT_LIST:"SegmentList",SEGMENT_PROFILES:"segmentProfiles",SEGMENT_TEMPLATE:"SegmentTemplate",SEGMENT_TIMELINE:"SegmentTimeline",SEGMENT_TYPE:"segment",SEGMENT_URL:"SegmentURL",SERVICE_DESCRIPTION:"ServiceDescription",SERVICE_DESCRIPTION_LATENCY:"Latency",SERVICE_DESCRIPTION_OPERATING_BANDWIDTH:"OperatingBandwidth",SERVICE_DESCRIPTION_OPERATING_QUALITY:"OperatingQuality",SERVICE_DESCRIPTION_PLAYBACK_RATE:"PlaybackRate",SERVICE_DESCRIPTION_SCOPE:"Scope",SERVICE_LOCATION:"serviceLocation",SERVICE_LOCATIONS:"serviceLocations",SOURCE_URL:"sourceURL",START:"start",START_NUMBER:"startNumber",START_WITH_SAP:"startWithSAP",STATIC:"static",STEERING_TYPE:"steering",SUBSET:"Subset",SUBTITLE:"subtitle",SUB_REPRESENTATION:"SubRepresentation",SUB_SEGMENT_ALIGNMENT:"subsegmentAlignment",SUGGESTED_PRESENTATION_DELAY:"suggestedPresentationDelay",SUPPLEMENTAL_PROPERTY:"SupplementalProperty",SUPPLEMENTAL_CODECS:"scte214:supplementalCodecs",TIMESCALE:"timescale",TIMESHIFT_BUFFER_DEPTH:"timeShiftBufferDepth",TTL:"ttl",TYPE:"type",UTC_TIMING:"UTCTiming",VALUE:"value",VIEWPOINT:"Viewpoint",WALL_CLOCK_TIME:"wallClockTime",WIDTH:"width"}},5717:function(_,f,t){t.r(f),f.default=class{constructor(){this.schemeIdUri="",this.value=""}}},5849:function(_,f,t){t.r(f),t.d(f,{default:function(){return fg}});class u{constructor(){this.time=null,this.verboseLevel=0}log(o,g){if(this.verboseLevel>=o){const m=typeof g=="function"?g():g;console.log(`${this.time} [${o}] ${m}`)}}}class r{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(o){const g=["foreground","underline","italics","background","flash"];for(let m=0;m<g.length;m++){const v=g[m];Object.prototype.hasOwnProperty.call(o,v)&&(this[v]=o[v])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(o){return this.foreground===o.foreground&&this.underline===o.underline&&this.italics===o.italics&&this.background===o.background&&this.flash===o.flash}copy(o){this.foreground=o.foreground,this.underline=o.underline,this.italics=o.italics,this.background=o.background,this.flash=o.flash}}class e{constructor(){this.uchar=" ",this.penState=new r}reset(){this.uchar=" ",this.penState.reset()}setChar(o,g){this.uchar=o,this.penState.copy(g)}setPenState(o){this.penState.copy(o)}equals(o){return this.uchar===o.uchar&&this.penState.equals(o.penState)}copy(o){this.uchar=o.uchar,this.penState.copy(o.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}const n=100,c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},i=function(d){return String.fromCharCode(c[d]||d)};class l{constructor(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new u;this.chars=[],this.cueStartTime=null,this.pos=0,this.currPenState=new r;for(let g=0;g<n;g++)this.chars.push(new e);this.logger=o}equals(o){for(let g=0;g<n;g++)if(!this.chars[g].equals(o.chars[g]))return!1;return!0}copy(o){for(let g=0;g<n;g++)this.chars[g].copy(o.chars[g])}isEmpty(){let o=!0;for(let g=0;g<n;g++)if(!this.chars[g].isEmpty()){o=!1;break}return o}setCursor(o){this.pos!==o&&(this.pos=o),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>n&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=n)}moveCursor(o){const g=this.pos+o;if(o>1)for(let m=this.pos+1;m<g+1;m++)this.chars[m].setPenState(this.currPenState);this.setCursor(g)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(o){o>=144&&this.backSpace();const g=i(o);this.pos>=n?this.logger.log(0,()=>"Cannot insert "+o.toString(16)+" ("+g+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(g,this.currPenState),this.moveCursor(1))}clearFromPos(o){let g;for(g=o;g<n;g++)this.chars[g].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const o=[];let g=!0;for(let m=0;m<n;m++){const v=this.chars[m].uchar;v!==" "&&(g=!1),o.push(v)}return g?"":o.join("")}setPenStyles(o){this.currPenState.setStyles(o),this.chars[this.pos].setPenState(this.currPenState)}}const p=15;class h{constructor(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new u;this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null;for(let g=0;g<p;g++)this.rows.push(new l(o));this.logger=o}reset(){for(let o=0;o<p;o++)this.rows[o].clear();this.currRow=14}equals(o){let g=!0;for(let m=0;m<p;m++)if(!this.rows[m].equals(o.rows[m])){g=!1;break}return g}copy(o){for(let g=0;g<p;g++)this.rows[g].copy(o.rows[g])}isEmpty(){let o=!0;for(let g=0;g<p;g++)if(!this.rows[g].isEmpty()){o=!1;break}return o}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(o){this.rows[this.currRow].insertChar(o)}setPen(o){this.rows[this.currRow].setPenStyles(o)}moveCursor(o){this.rows[this.currRow].moveCursor(o)}setCursor(o){this.logger.log(2,"setCursor: "+o),this.rows[this.currRow].setCursor(o)}setPAC(o){this.logger.log(2,()=>"pacData = "+JSON.stringify(o));let g=o.row-1;if(this.nrRollUpRows&&g<this.nrRollUpRows-1&&(g=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==g){for(let N=0;N<p;N++)this.rows[N].clear();const w=this.currRow+1-this.nrRollUpRows,C=this.lastOutputScreen;if(C){const N=C.rows[w].cueStartTime,T=this.logger.time;if(N!==null&&T!==null&&N<T)for(let j=0;j<this.nrRollUpRows;j++)this.rows[g-this.nrRollUpRows+j+1].copy(C.rows[w+j])}}this.currRow=g;const m=this.rows[this.currRow];if(o.indent!==null){const w=o.indent,C=Math.max(w-1,0);m.setCursor(o.indent),o.color=m.chars[C].penState.foreground}const v={foreground:o.color,underline:o.underline,italics:o.italics,background:"black",flash:!1};this.setPen(v)}setBkgData(o){this.logger.log(2,()=>"bkgData = "+JSON.stringify(o)),this.backSpace(),this.setPen(o),this.insertChar(32)}setRollUpRows(o){this.nrRollUpRows=o}rollUp(){if(this.nrRollUpRows===null)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const o=this.currRow+1-this.nrRollUpRows,g=this.rows.splice(o,1)[0];g.clear(),this.rows.splice(this.currRow,0,g),this.logger.log(2,"Rolling up")}getDisplayText(o){o=o||!1;const g=[];let m="",v=-1;for(let w=0;w<p;w++){const C=this.rows[w].getTextString();C&&(v=w+1,o?g.push("Row "+v+": '"+C+"'"):g.push(C.trim()))}return g.length>0&&(m=o?"["+g.join(" | ")+"]":g.join(`
`)),m}getTextAndFormat(){return this.rows}}class b{constructor(o,g){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new u;this.chNr=o,this.outputFilter=g,this.mode=null,this.displayedMemory=new h(m),this.nonDisplayedMemory=new h(m),this.lastOutputScreen=new h(m),this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=m,this.logger.log(2,"new Cea608Channel("+this.chNr+")")}reset(){var o,g;this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),(g=(o=this.outputFilter)===null||o===void 0?void 0:o.reset)===null||g===void 0||g.call(o),this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}setPAC(o){this.writeScreen.setPAC(o)}setBkgData(o){this.writeScreen.setBkgData(o)}setMode(o){o!==this.mode&&(this.mode=o,this.logger.log(2,()=>"MODE="+o),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.setRollUpRows(null),this.nonDisplayedMemory.setRollUpRows(null)),this.mode=o)}insertChars(o){for(let m=0;m<o.length;m++)this.writeScreen.insertChar(o[m]);const g=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>g+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(o){this.logger.log(2,"RU("+o+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(o)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const o=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=o,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(o){this.logger.log(2,"TO("+o+") - Tab Offset"),this.writeScreen.moveCursor(o)}ccMIDROW(o){const g={flash:!1};if(g.underline=o%2==1,g.italics=o>=46,g.italics)g.foreground="white";else{const m=Math.floor(o/2)-16,v=["white","green","blue","cyan","red","yellow","magenta"];g.foreground=v[m]}this.logger.log(2,"MIDROW: "+JSON.stringify(g)),this.writeScreen.setPen(g)}outputDataUpdate(){let o=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const g=this.logger.time;g!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,g,this.lastOutputScreen),o&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:g):this.cueStartTime=g,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(o){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,o,this.displayedMemory),this.cueStartTime=o))}}const E=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];function y(d,o,g){return g.a===d&&g.b===o}const R=function(d){const o=[];for(let g=0;g<d.length;g++)o.push(d[g].toString(16));return o},F={17:2,18:4,21:6,22:8,23:10,19:13,20:15},te={25:2,26:4,29:6,30:8,31:10,27:13,28:15},de={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ee={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14};function ve(d,o,g){g.a=d,g.b=o}class Ae{constructor(o,g,m){this.currentChannel=0,this.cmdHistory={a:null,b:null},this.lastTime=null;const v=this.logger=new u;this.channels=[null,new b(o,g,v),new b(o+1,m,v)]}addData(o,g){this.lastTime=o,this.logger.time=o;for(let m=0;m<g.length;m+=2){const v=127&g[m],w=127&g[m+1];let C=!1,N=null;if(this.lastTime!==null&&(o=this.lastTime+.5*m*1001/3e4,this.logger.time=o),v===0&&w===0)continue;this.logger.log(3,()=>"["+R([g[m],g[m+1]])+"] -> ("+R([v,w])+")");const T=this.cmdHistory;if(v>=16&&v<=31){if(y(v,w,T)){ve(null,null,T),this.logger.log(3,()=>"Repeated command ("+R([v,w])+") is dropped");continue}ve(v,w,this.cmdHistory),C=this.parseCmd(v,w),C||(C=this.parseMidrow(v,w)),C||(C=this.parsePAC(v,w)),C||(C=this.parseBackgroundAttributes(v,w))}else ve(null,null,T);if(!C&&(N=this.parseChars(v,w),N.length)){const j=this.currentChannel;j&&j>0?this.channels[j].insertChars(N):this.logger.log(2,"No channel found yet. TEXT-MODE?")}C||N||this.logger.log(2,()=>"Couldn't parse cleaned data "+R([v,w])+" orig: "+R([g[m],g[m+1]]))}}parseCmd(o,g){if(!((o===20||o===28||o===21||o===29)&&g>=32&&g<=47||(o===23||o===31)&&g>=33&&g<=35))return!1;const m=o===20||o===21||o===23?1:2,v=this.channels[m];return o===20||o===21||o===28||o===29?g===32?v.ccRCL():g===33?v.ccBS():g===34?v.ccAOF():g===35?v.ccAON():g===36?v.ccDER():g===37?v.ccRU(2):g===38?v.ccRU(3):g===39?v.ccRU(4):g===40?v.ccFON():g===41?v.ccRDC():g===42?v.ccTR():g===43?v.ccRTD():g===44?v.ccEDM():g===45?v.ccCR():g===46?v.ccENM():g===47&&v.ccEOC():v.ccTO(g-32),this.currentChannel=m,!0}parseMidrow(o,g){let m=0;if((o===17||o===25)&&g>=32&&g<=47){if(m=o===17?1:2,m!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const v=this.channels[m];return!!v&&(v.ccMIDROW(g),this.logger.log(3,()=>"MIDROW ("+R([o,g])+")"),!0)}return!1}parsePAC(o,g){let m;if(!((o>=17&&o<=23||o>=25&&o<=31)&&g>=64&&g<=127||(o===16||o===24)&&g>=64&&g<=95))return!1;const v=o<=23?1:2;m=g>=64&&g<=95?v===1?de[o]:ee[o]:v===1?F[o]:te[o];const w=this.channels[v];return!!w&&(w.setPAC(this.interpretPAC(m,g)),this.currentChannel=v,!0)}interpretPAC(o,g){let m;const v={color:null,italics:!1,indent:null,underline:!1,row:o};return m=g>95?g-96:g-64,v.underline=!(1&~m),m<=13?v.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(m/2)]:m<=15?(v.italics=!0,v.color="white"):v.indent=4*Math.floor((m-16)/2),v}parseChars(o,g){let m,v=[],w=null;if(o>=25?(m=2,w=o-8):(m=1,w=o),w>=17&&w<=19){let C;C=w===17?g+80:w===18?g+112:g+144,this.logger.log(2,()=>"Special char '"+i(C)+"' in channel "+m),v=[C]}else o>=32&&o<=127&&(v=g===0?[o]:[o,g]);return v&&this.logger.log(3,()=>"Char codes =  "+R(v).join(",")),v}parseBackgroundAttributes(o,g){if(!((o===16||o===24)&&g>=32&&g<=47||(o===23||o===31)&&g>=45&&g<=47))return!1;let m;const v={};o===16||o===24?(m=Math.floor((g-32)/2),v.background=E[m],g%2==1&&(v.background=v.background+"_semi")):g===45?v.background="transparent":(v.foreground="black",g===47&&(v.underline=!0));const w=o<=23?1:2;return this.channels[w].setBkgData(v),!0}reset(){for(let o=0;o<Object.keys(this.channels).length;o++){const g=this.channels[o];g&&g.reset()}ve(null,null,this.cmdHistory)}cueSplitAtTime(o){for(let g=0;g<this.channels.length;g++){const m=this.channels[g];m&&m.cueSplitAtTime(o)}}}var M=t(5212),S=t(8854),q={TCP_CONNECTION:"TcpList",HTTP_REQUEST:"HttpList",TRACK_SWITCH:"RepSwitchList",BUFFER_LEVEL:"BufferLevel",BUFFER_LOADED:"bufferLoaded",ABANDON_LOAD:"abandonload",ALLOW_LOAD:"allowload",BUFFER_EMPTY:"bufferStalled",BUFFER_STATE:"BufferState",DVR_INFO:"DVRInfo",DROPPED_FRAMES:"DroppedFrames",SCHEDULING_INFO:"SchedulingInfo",REQUESTS_QUEUE:"RequestsQueue",MANIFEST_UPDATE:"ManifestUpdate",MANIFEST_UPDATE_STREAM_INFO:"ManifestUpdatePeriodInfo",MANIFEST_UPDATE_TRACK_INFO:"ManifestUpdateRepresentationInfo",PLAY_LIST:"PlayList",DVB_ERRORS:"DVBErrors",HTTP_REQUEST_DVB_REPORTING_TYPE:"DVBReporting"},se=t(8850),P=t(3621),ae=t(138),we=t(649),$=t(1191);function ze(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v,w,C,N,T,j,z,k,A,x,K,W,J,Q,Z,ie,ye,V,D,U,H,le,pe;function ge(){me(),W=!1,k=0,A=0,Z=0,H=!1,ie=!0,ye=!1,le=!1,V=NaN,Q=NaN,T&&(o.off(P.default.DATA_UPDATE_COMPLETED,vt,g),o.off(P.default.MANIFEST_UPDATED,St,g),o.off(P.default.STREAMS_COMPOSED,Gt,g),o.off($.default.PLAYBACK_ENDED,_t,g),o.off($.default.STREAM_INITIALIZING,Ge,g),o.off($.default.REPRESENTATION_SWITCH,ft,g),o.off($.default.BUFFER_LEVEL_STATE_CHANGED,Kt,g),tt(),T.removeEventListener("canplay",yt),T.removeEventListener("canplaythrough",Ht),T.removeEventListener("play",sn),T.removeEventListener("waiting",kt),T.removeEventListener("playing",$t),T.removeEventListener("pause",en),T.removeEventListener("error",Ft),T.removeEventListener("seeking",pn),T.removeEventListener("seeked",rn),T.removeEventListener("timeupdate",on),T.removeEventListener("progress",Fe),T.removeEventListener("ratechange",nt),T.removeEventListener("loadedmetadata",et),T.removeEventListener("loadeddata",st),T.removeEventListener("stalled",Xt),T.removeEventListener("ended",He),T.removeEventListener("volumechange",gt)),z=null,T=null,x=null,K=null}function he(){return parseFloat((Se(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)-oe()).toFixed(5))}function Se(at){const _e=at||x;return _e.start+_e.duration}function O(){let at=arguments.length>0&&arguments[0]!==void 0&&arguments[0];x&&T&&T.getElement()?(at&&K&&ce(oe()),T.play()):W=!0}function me(){x&&T&&T.pause()}function re(at){let _e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ot=arguments.length>3&&arguments[3]!==void 0&&arguments[3];x&&T&&T.getElement()&&at!==(isNaN(V)?T.getTime():V)&&(D=Oe===!0,D||(V=at),m.info("Requesting seek to time: "+at+(D?" (internal)":"")),K&&ot&&ce(at),T.setCurrentTime(at,_e))}function be(){if(!x||!T||!K)return;const at=v&&v.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO,_e=C.getCurrentDVRInfo(at);return _e&&_e.range?_e.range.end:0}function ce(at){const _e=new Date(j.getClientReferenceTime()),Oe=N.getRegularPeriods()[0];k=j.calcPresentationTimeFromWallTime(_e,Oe)-at}function oe(){return x&&T?T.getTime():null}function ue(){return x&&T?T.isPaused():null}function G(){return x&&T?T.isSeeking():null}function ne(){return x&&T?T.isStalled():null}function Ee(){return x&&T?T.getPlaybackRate():null}function ke(){return x&&T?T.getEnded():null}function Re(){return K}function $e(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(ue()||!K||T.getReadyState()===0||G()||H)return;at||(at=v.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO);const _e=oe(),Oe=function(ot,je){const mt=C.getCurrentDVRInfo(je),zt=mt?mt.range:null;let Jt;return zt?(Jt=ot>zt.end?Math.max(zt.end-k,zt.start):ot>0&&ot+.25<zt.start&&Math.abs(ot-zt.start)<31536e4?ye?Math.max(zt.end-k,zt.start):zt.start:ot,Jt):NaN}(_e,at);!isNaN(Oe)&&Oe!==_e&&!G()&&(ne()||U||T.getReadyState()===1)&&(m.debug(`UpdateCurrentTime: Seek to actual time: ${Oe} from currentTime: ${_e}`),re(Oe,!1,!1))}function Be(){z===null&&(z=setInterval(()=>{(function(){if(o.trigger(P.default.WALLCLOCK_TIME_UPDATED,{isDynamic:K,time:new Date}),Re()){const at=Date.now();(isNaN(Q)||at>Q+pe.get().streaming.liveUpdateTimeThresholdInMilliseconds)&&(v.addDVRMetric(),ue()?function(){const _e=Date.now();(!J||_e>J+500)&&(J=_e,on())}():$e(),Q=at)}})()},pe.get().streaming.wallclockTimeUpdateInterval))}function tt(){clearInterval(z),z=null}function vt(at){const _e=at.currentRepresentation,Oe=_e?_e.mediaInfo.streamInfo:null;Oe!==null&&x.id===Oe.id&&(x=Oe)}function yt(){o.trigger(P.default.CAN_PLAY)}function Ht(){o.trigger(P.default.CAN_PLAY_THROUGH)}function Kt(at){at.streamId===v.getActiveStreamInfo().id&&(U=at.state===q.BUFFER_EMPTY,pe.get().streaming.buffer.setStallState&&T.setStallState(at.mediaType,at.state===q.BUFFER_EMPTY))}function sn(){m.info("Native video element event: play"),$e(),Be(),o.trigger(P.default.PLAYBACK_STARTED,{startTime:oe()})}function kt(){m.info("Native video element event: waiting"),o.trigger(P.default.PLAYBACK_WAITING,{playingTime:oe()})}function $t(){m.info("Native video element event: playing"),D=!1,o.trigger(P.default.PLAYBACK_PLAYING,{playingTime:oe()})}function en(){m.info("Native video element event: pause"),o.trigger(P.default.PLAYBACK_PAUSED,{ended:ke()})}function pn(){if(D)return;let at=oe();isNaN(V)||V===at||(at=V),V=NaN,m.info("Seeking to: "+at),Be(),o.trigger(P.default.PLAYBACK_SEEKING,{seekTime:at,streamId:x.id})}function rn(){m.info("Native video element event: seeked"),D=!1,o.trigger(P.default.PLAYBACK_SEEKED)}function on(){x&&o.trigger(P.default.PLAYBACK_TIME_UPDATED,{timeToEnd:he(),time:oe(),streamId:x.id})}function Fe(){o.trigger(P.default.PLAYBACK_PROGRESS,{streamId:x.id})}function nt(){const at=Ee();m.info("Native video element event: ratechange: ",at),o.trigger(P.default.PLAYBACK_RATE_CHANGED,{playbackRate:at})}function et(){m.info("Native video element event: loadedmetadata"),o.trigger(P.default.PLAYBACK_METADATA_LOADED),Be()}function st(){m.info("Native video element event: loadeddata"),o.trigger(P.default.PLAYBACK_LOADED_DATA)}function He(){m.info("Native video element event: ended"),me(),tt();const at=v?v.getActiveStreamInfo():null;at&&o.trigger(P.default.PLAYBACK_ENDED,{isLast:at.isLast})}function gt(){o.trigger(P.default.PLAYBACK_VOLUME_CHANGED)}function _t(at){if(z&&at.isLast){m.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");const _e=at.seekTime?at.seekTime:Se();T.setCurrentTime(_e),me(),tt()}}function Ft(at){const _e=at.target||at.srcElement;o.trigger(P.default.PLAYBACK_ERROR,{error:_e.error})}function qt(){K=!1}function Xt(at){o.trigger(P.default.PLAYBACK_STALLED,{e:at})}function Ge(at){var _e;(_e=at.mediaInfo)&&_e.supplementalProperties&&_e.supplementalProperties.find(Oe=>Oe.schemeIdUri===M.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME)&&(m.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),ye=!0)}function ft(at){const _e=v.getActiveStreamInfo();at&&_e&&at.currentRepresentation&&at.streamId&&at.streamId===_e.id&&at.mediaType&&(at.mediaType===M.default.VIDEO||at.mediaType===M.default.AUDIO)&&(ie=at.currentRepresentation.availabilityTimeComplete,ye=!ie,ye&&!le&&(le=!0))}function St(){H=!0}function Gt(){H=!1}return g={computeAndSetLiveDelay:function(at,_e){let Oe,ot,je;const mt=!isNaN(at)&&isFinite(at)?at:NaN;let zt=N.getSuggestedPresentationDelay();const Jt=w.getServiceDescriptionSettings();return Oe=isNaN(pe.get().streaming.delay.liveDelay)?pe.get().streaming.delay.liveDelayFragmentCount===null||isNaN(pe.get().streaming.delay.liveDelayFragmentCount)||isNaN(mt)?Jt&&!isNaN(Jt.liveDelay)&&Jt.liveDelay>0?Jt.liveDelay:pe.get().streaming.delay.useSuggestedPresentationDelay===!0&&zt!==null&&!isNaN(zt)&&zt>0?zt:isNaN(mt)?_e&&!isNaN(_e.minBufferTime)?4*_e.minBufferTime:4*x.manifestInfo.minBufferTime:4*mt:mt*pe.get().streaming.delay.liveDelayFragmentCount:pe.get().streaming.delay.liveDelay,je=N.getAvailabilityStartTime(),je!==null&&(Z=je),ot=_e&&_e.dvrWindowSize>0?Math.min(Oe,_e.dvrWindowSize):Oe,k=ot,A=ot,ot},getAvailabilityStartTime:function(){return Z},getBufferLevel:function(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_e=null;return v.getActiveStreamProcessors().forEach(Oe=>{if(!at||at.length===0||at.indexOf(Oe.getType())===-1){const ot=Oe.getBufferLevel();_e=_e===null?ot:Math.min(_e,ot)}}),_e},getCurrentLiveLatency:function(){if(!K||isNaN(Z))return NaN;let at=oe();if(isNaN(at)||at===0)return 0;const _e=new Date().getTime()+1e3*j.getClientTimeOffset();return Math.max(((_e-Z-1e3*at)/1e3).toFixed(3),0)},getEnded:ke,getInitialCatchupModeActivated:function(){return le},getIsDynamic:Re,getIsManifestUpdateInProgress:function(){return H},getLiveDelay:function(){return k},getLowLatencyModeEnabled:function(){return ye},getOriginalLiveDelay:function(){return A},getPlaybackRate:Ee,getPlaybackStalled:function(){return U},getPlayedRanges:function(){return x&&T?T.getPlayedRanges():null},getStreamController:function(){return v},getStreamEndTime:Se,getTime:oe,getTimeToStreamEnd:he,initialize:function(at,_e){x=at,_e!==!0&&(T.addEventListener("canplay",yt),T.addEventListener("canplaythrough",Ht),T.addEventListener("play",sn),T.addEventListener("waiting",kt),T.addEventListener("playing",$t),T.addEventListener("pause",en),T.addEventListener("error",Ft),T.addEventListener("seeking",pn),T.addEventListener("seeked",rn),T.addEventListener("timeupdate",on),T.addEventListener("progress",Fe),T.addEventListener("ratechange",nt),T.addEventListener("loadedmetadata",et),T.addEventListener("loadeddata",st),T.addEventListener("stalled",Xt),T.addEventListener("ended",He),T.addEventListener("volumechange",gt),K=x.manifestInfo.isDynamic,U=!1,D=!1,o.on(P.default.DATA_UPDATE_COMPLETED,vt,g),o.on(P.default.MANIFEST_UPDATED,St,g),o.on(P.default.STREAMS_COMPOSED,Gt,g),o.on($.default.PLAYBACK_ENDED,_t,g,{priority:se.default.EVENT_PRIORITY_HIGH}),o.on($.default.STREAM_INITIALIZING,Ge,g),o.on($.default.REPRESENTATION_SWITCH,ft,g),o.on($.default.BUFFER_LEVEL_STATE_CHANGED,Kt,g),o.on($.default.DYNAMIC_TO_STATIC,qt,g),W&&(W=!1,O()))},isPaused:ue,isProgressing:function(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:500;return new Promise(_e=>{let Oe=-1,ot=null;const je=zt=>{clearTimeout(ot),ot=null,o.off($.default.PLAYBACK_TIME_UPDATED,mt,g),_e(zt)},mt=zt=>{Oe<0?Oe=zt.time:zt.time>Oe+.1&&je(!0)};ot=setTimeout(()=>{je(!1)},at),o.on($.default.PLAYBACK_TIME_UPDATED,mt,g)})},isSeeking:G,isStalled:ne,pause:me,play:O,reset:ge,seek:re,seekToCurrentLive:function(){let at=arguments.length>0&&arguments[0]!==void 0&&arguments[0],_e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const ot=be();ot!==0&&re(ot-k,at,_e,Oe)},seekToOriginalLive:function(){let at=arguments.length>0&&arguments[0]!==void 0&&arguments[0],_e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const ot=be();ot!==0&&(k=A,re(ot-k,at,_e,Oe))},setConfig:function(at){at&&(at.streamController&&(v=at.streamController),at.serviceDescriptionController&&(w=at.serviceDescriptionController),at.dashMetrics&&(C=at.dashMetrics),at.adapter&&(N=at.adapter),at.videoModel&&(T=at.videoModel),at.timelineConverter&&(j=at.timelineConverter),at.settings&&(pe=at.settings))},updateCurrentTime:$e},m=(0,we.default)(d).getInstance().getLogger(g),ge(),g}ze.__dashjs_factory_name="PlaybackController";var Ce=ae.default.getSingletonFactory(ze),Te=t(7568);class Ye{constructor(o){this.action=Ye.ACTION_DOWNLOAD,this.availabilityEndTime=null,this.availabilityStartTime=null,this.bandwidth=NaN,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.duration=NaN,this.endDate=null,this.firstByteDate=null,this.index=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.quality=NaN,this.range=null,this.representation=null,this.responseType="arraybuffer",this.serviceLocation=null,this.startDate=null,this.startTime=NaN,this.timescale=NaN,this.type=null,this.url=o||null,this.wallStartTime=null}isInitializationRequest(){return this.type&&this.type===Te.HTTPRequest.INIT_SEGMENT_TYPE}setInfo(o){this.type=o&&o.init?Te.HTTPRequest.INIT_SEGMENT_TYPE:Te.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=o&&o.url?o.url:null,this.range=o&&o.range?o.range.start+"-"+o.range.end:null,this.mediaType=o&&o.mediaType?o.mediaType:null,this.representation=o&&o.representation?o.representation:null}}Ye.ACTION_DOWNLOAD="download",Ye.ACTION_COMPLETE="complete";var Ue=Ye;const De="loading",We="executed",lt="failed";function At(d){const o=(d=d||{}).eventBus,g=d.events,m=d.dashMetrics,v=d.fragmentLoader,w=d.debug,C=d.streamInfo,N=d.type;let T,j,z,k;function A(D){return!!D&&function(U){let H=!1;return U.some(le=>{if(pe=D,ge=le,!isNaN(pe.index)&&pe.startTime===ge.startTime&&pe.adaptationIndex===ge.adaptationIndex&&pe.type===ge.type||function(he,Se){return he.representation.id===Se.representation.id}(D,le)||function(he,Se){return he.action===Ue.ACTION_COMPLETE&&he.action===Se.action}(D,le))return H=!0,H;var pe,ge}),H}(z)}function x(D){return isNaN(D.duration)?.25:Math.min(D.duration/8,.5)}function K(D){z=z.filter(U=>{const H=x(U);return isNaN(U.startTime)||D!==void 0&&U.startTime>=D-H})}function W(D,U){U<=D+.5||(z=z.filter(H=>{const le=x(H);return isNaN(H.startTime)||H.startTime>=U-le||isNaN(H.duration)||H.startTime+H.duration<=D+le}))}function J(D,U,H){for(let le=D.length-1;le>=0;le--){const pe=D[le],ge=pe.startTime,he=ge+pe.duration;if(H=isNaN(H)?x(pe):H,!isNaN(ge)&&!isNaN(he)&&U+H>=ge&&U-H<he||isNaN(ge)&&isNaN(U))return pe}return null}function Q(D,U){m.addSchedulingInfo(D,U),m.addRequestsQueue(D.mediaType,k,z)}function Z(D){D.sender===v&&(k.splice(k.indexOf(D.request),1),D.response&&!D.error&&z.push(D.request),Q(D.request,D.error?lt:We),o.trigger(g.FRAGMENT_LOADING_COMPLETED,{request:D.request,response:D.response,error:D.error,sender:this},{streamId:C.id,mediaType:N}))}function ie(D){D.sender===v&&o.trigger(g.FRAGMENT_LOADING_PROGRESS,{request:D.request,response:D.response,error:D.error,sender:this},{streamId:C.id,mediaType:N})}function ye(D){D.sender===v&&o.trigger(g.FRAGMENT_LOADING_ABANDONED,{request:D.request},{streamId:C.id,mediaType:N})}function V(){z=[],k=[],v&&v.resetInitialSettings()}return T={abortRequests:function(){j.debug("abort requests"),v.abort(),k=[]},executeRequest:function(D){D.action===Ue.ACTION_DOWNLOAD?(Q(D,De),k.push(D),function(U){o.trigger(g.FRAGMENT_LOADING_STARTED,{request:U},{streamId:C.id,mediaType:N}),v.load(U)}(D)):j.warn("Unknown request action.")},getRequests:function(D){const U=D?D.state instanceof Array?D.state:[D.state]:[];let H=[];return U.forEach(le=>{const pe=function(ge){let he;switch(ge){case De:he=k;break;case We:he=z;break;default:he=[]}return he}(le);H=H.concat(function(ge,he){return he.hasOwnProperty("time")?[J(ge,he.time,he.threshold)]:ge.filter(Se=>{for(const O in he)if(O!=="state"&&he.hasOwnProperty(O)&&Se[O]!=he[O])return!1;return!0})}(pe,D))}),H},getStreamId:function(){return C.id},getType:function(){return N},isFragmentLoaded:A,isFragmentLoadedOrPending:function(D){let U,H=!1,le=0;if(H=A(D),!H)for(le=0;le<k.length;le++)U=k[le],D.url===U.url&&D.startTime===U.startTime&&(H=!0);return H},removeExecutedRequestsAfterTime:function(D){z=z.filter(U=>isNaN(U.startTime)||D!==void 0&&U.startTime<D)},removeExecutedRequestsBeforeTime:K,reset:function(){o.off(g.LOADING_COMPLETED,Z,this),o.off(g.LOADING_DATA_PROGRESS,ie,this),o.off(g.LOADING_ABANDONED,ye,this),v&&v.reset(),V()},resetInitialSettings:V,syncExecutedRequestsWithBufferedRange:function(D,U){if(!D||D.length===0)return void K();let H=0;for(let le=0,pe=D.length;le<pe;le++)W(H,D.start(le)),H=D.end(le);U>0&&W(H,U)}},j=w.getLogger(T),V(),o.on(g.LOADING_COMPLETED,Z,T),o.on(g.LOADING_DATA_PROGRESS,ie,T),o.on(g.LOADING_ABANDONED,ye,T),T}At.__dashjs_factory_name="FragmentModel";const jt=ae.default.getClassFactory(At);jt.FRAGMENT_MODEL_LOADING=De,jt.FRAGMENT_MODEL_EXECUTED=We,jt.FRAGMENT_MODEL_CANCELED="canceled",jt.FRAGMENT_MODEL_FAILED=lt,ae.default.updateClassFactory(At.__dashjs_factory_name,jt);var Bt=jt,Ie=t(1944),Ne=t(8748);class Qe extends Ne.default{constructor(){super(),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.NO_SUPPORTED_KEY_IDS=36,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",this.NO_SUPPORTED_KEY_IDS_MESSAGE="All possible Adaptation Sets have an invalid key status"}}var B=new Qe,Y=t(8261);function I(d){const o=this.context,g=(0,Y.default)(o).getInstance(),m=d.textController,v=d.eventBus;let w,C,N,T,j,z,k=[],A=[],x=!1,K=d.mediaSource,W=null;function J(ge){return ge.mimeType+';codecs="'+ge.codecs+'"'}function Q(ge){return T=m.getTextSourceBuffer(ge),Promise.resolve()}function Z(){if(typeof T.addEventListener=="function")try{T.addEventListener("updateend",H,!1),T.addEventListener("error",le,!1),T.addEventListener("abort",le,!1)}catch{z=setInterval(H,50)}else z=setInterval(H,50)}function ie(){try{typeof T.removeEventListener=="function"&&(T.removeEventListener("updateend",H,!1),T.removeEventListener("error",le,!1),T.removeEventListener("abort",le,!1)),clearInterval(z)}catch(ge){N.error(ge)}}function ye(ge){return new Promise(he=>{T&&g.get().streaming.buffer.useAppendWindow?pe(()=>{try{if(!T)return void he();let Se=K.duration,O=0;ge&&!isNaN(ge.start)&&!isNaN(ge.duration)&&isFinite(ge.duration)&&(Se=ge.start+ge.duration),ge&&!isNaN(ge.start)&&(O=ge.start),T.appendWindowEnd===Se&&T.appendWindowStart===O||(T.appendWindowStart=0,T.appendWindowEnd=Se+.01,T.appendWindowStart=Math.max(O-.1,0),N.debug(`Updated append window for ${j.type}. Set start to ${T.appendWindowStart} and end to ${T.appendWindowEnd}`)),he()}catch{N.warn("Failed to set append window"),he()}}):he()})}function V(ge){return new Promise(he=>{T?pe(()=>{try{T.timestampOffset===ge||isNaN(ge)||(T.timestampOffset=ge,N.debug(`Set MSE timestamp offset to ${ge}`)),he()}catch{he()}}):he()})}function D(){if(!x&&A.length>0){x=!0;const ge=A[0];A.splice(0,1);const he=function(){x=!1,A.length>0&&D.call(this),ge&&ge.data&&ge.data.segmentType&&ge.data.segmentType!==Te.HTTPRequest.INIT_SEGMENT_TYPE&&delete ge.data.bytes,ge.promise.resolve({chunk:ge.data})};try{if(W=ge.request,ge.data.bytes.byteLength===0)he.call(this);else{try{N.debug(`Appending ${ge.data.segmentType} from period ${ge.data.streamId} to buffer. Request URL: ${ge.request.url}, Representation: ID: ${ge.data.representation.id}, bitrate: ${ge.data.representation.bitrateInKbit}`)}catch{}T.appendBuffer?T.appendBuffer(ge.data.bytes):T.append(ge.data.bytes,ge.data),pe(he.bind(this))}}catch(Se){N.fatal('SourceBuffer append failed "'+Se+'"'),A.length>0?D():x=!1,delete ge.data.bytes,ge.promise.reject({chunk:ge.data,error:new Ie.default(Se.code,Se.message)})}}}function U(){k.length>0&&!T.updating&&(k.shift()(),U())}function H(){T.updating||U()}function le(ge){const he=ge.target||{};(function(Se,O){let me=O;v.trigger(Se,me,{streamId:j.streamInfo.id,mediaType:C})})(P.default.SOURCE_BUFFER_ERROR,{error:he,lastRequestAppended:W})}function pe(ge){try{k.push(ge),T.updating||U()}catch(he){N.error(he)}}return w={abort:function(){return new Promise(ge=>{try{A=[],K.readyState==="open"?pe(()=>{try{T&&T.abort(),ge()}catch{ge()}}):(T&&T.setTextTrack&&K.readyState==="ended"&&T.abort(),ge())}catch{ge()}})},abortBeforeAppend:function(){return new Promise(ge=>{pe(()=>{const he=T.appendWindowStart,Se=T.appendWindowEnd;T&&(T.abort(),T.appendWindowStart=he,T.appendWindowEnd=Se),ge()})})},append:function(ge){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise((Se,O)=>{ge?(A.push({data:ge,promise:{resolve:Se,reject:O},request:he}),pe(D.bind(this))):O({chunk:ge,error:new Ie.default(B.APPEND_ERROR_CODE,B.APPEND_ERROR_MESSAGE)})})},changeType:function(ge){const he=J(ge);return new Promise(Se=>{pe(()=>{T.changeType&&(N.debug(`Changing SourceBuffer codec to ${he}`),T.changeType(he)),Se()})})},getAllBufferRanges:function(){try{return T.buffered}catch(ge){return N.error("getAllBufferRanges exception: "+ge.message),null}},getBuffer:function(){return T},getType:function(){return C},initializeForFirstUse:function(ge,he){j=ge;const Se=ge.streamInfo;C=j.type;const O=he?J(he):ge.codec;try{if(O.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Q(Se);T=K.addSourceBuffer(O),Z();const me=[];return me.push(ye(j.streamInfo)),he&&he.mseTimeOffset!==void 0&&me.push(V(he.mseTimeOffset)),Promise.all(me)}catch(me){return j.type==M.default.TEXT&&!j.isFragmented||O.indexOf('codecs="stpp')!==-1||O.indexOf('codecs="vtt')!==-1||O.indexOf("text/vtt")!==-1?Q(Se):Promise.reject(me)}},initializeForStreamSwitch:function(ge,he,Se){j=ge,C=j.type,function(O){T=O.getBuffer()}(Se),Z()},remove:function(ge){return new Promise((he,Se)=>{const O=ge.start,me=ge.end;O>=0&&me>O?pe(function(){try{T.remove(O,me),pe(function(){he({from:O,to:me,unintended:!1}),ge.resolve&&ge.resolve()})}catch(re){Se({from:O,to:me,unintended:!1,error:new Ie.default(B.REMOVE_ERROR_CODE,B.REMOVE_ERROR_MESSAGE)}),ge.reject&&ge.reject(re)}}):he()})},removeEventListeners:ie,reset:function(){if(T){try{k=[],ie(),x=!1,A=[],T.getClassName&&T.getClassName()==="TextSourceBuffer"||(N.debug("Removing sourcebuffer from media source"),K.removeSourceBuffer(T))}catch{}T=null}W=null},updateAppendWindow:ye,updateTimestampOffset:V},N=(0,we.default)(o).getInstance().getLogger(w),w}I.__dashjs_factory_name="SourceBufferSink";var L=ae.default.getClassFactory(I);function fe(d){const o=this.context;let g,m,v,w=[],C=d;function N(T,j){return w=w.filter(z=>!((isNaN(j)||z.start<j)&&(isNaN(T)||z.end>T))),Promise.resolve()}return g={getAllBufferRanges:function(){let T=[];for(let z=0;z<w.length;z++){let k=w[z];T.length===0||k.start>T[T.length-1].end?T.push({start:k.start,end:k.end}):T[T.length-1].end=k.end}const j={start:function(z){return T[z].start},end:function(z){return T[z].end}};return Object.defineProperty(j,"length",{get:function(){return T.length}}),j},append:function(T){return T.segmentType!=="InitializationSegment"?(w.push(T),w.sort(function(j,z){return j.start-z.start}),v=null):v=T,m.debug("PreBufferSink appended chunk s: "+T.start+"; e: "+T.end),C&&C({chunk:T}),Promise.resolve()},remove:N,abort:function(){return Promise.resolve()},discharge:function(T,j){const z=function(k,A){return w.filter(x=>(isNaN(A)||x.start<A)&&(isNaN(k)||x.end>k))}(T,j);return v&&(z.push(v),v=null),N(T,j),z},reset:function(){w=[],v=null,C=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(T){T()},getBuffer:function(){return this}},m=(0,we.default)(o).getInstance().getLogger(g),g}fe.__dashjs_factory_name="PreBufferSink";var X=ae.default.getClassFactory(fe);function xe(){let d={};return{save:function(o){const g=o.streamId,m=o.representation.id;d[g]=d[g]||{},d[g][m]=o},extract:function(o,g){return d&&d[o]&&d[o][g]?d[o][g]:null},reset:function(){d={}}}}xe.__dashjs_factory_name="InitCache";var Ve=ae.default.getSingletonFactory(xe);const Le=.01,Me="BufferController";function Pe(d){const o=(d=d||{}).capabilities,g=this.context,m=(0,se.default)(g).getInstance(),v=d.fragmentModel,w=d.playbackController,C=d.representationController,N=d.settings,T=d.streamInfo,j=d.textController,z=d.type;let k,A,x,K,W,J,Q,Z,ie,ye,V,D,U,H,le,pe,ge,he,Se,O,me;function re(Ge){let ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise((St,Gt)=>{J=Ge,ie&&ft&&typeof ie.discharge=="function"?(ye=ie,be(ft).then(()=>{St()}).catch(at=>{Gt(at)})):St()})}function be(Ge){let ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],St=arguments.length>2?arguments[2]:void 0;return new Promise((Gt,at)=>{he&&Ge?J?(V=!1,function(_e,Oe,ot){return new Promise(je=>{ie=L(g).create({mediaSource:J,textController:j,eventBus:m}),function(mt,zt,Jt){const dn=C.getCurrentRepresentation();return zt&&zt[z]&&(z===M.default.VIDEO||z===M.default.AUDIO)?function(ln,jn,Xn,Ta){ie.initializeForStreamSwitch(ln,jn,Xn[z]);const ea=[];return ea.push(ie.abortBeforeAppend()),ea.push(nt()),ea.push(ke(jn,Ta)),jn&&jn.mseTimeOffset!==void 0&&ea.push(Fe(jn)),Promise.allSettled(ea)}(mt,dn,zt,Jt):function(ln,jn){return ie.initializeForFirstUse(ln,jn)}(mt,dn)}(_e,Oe,ot).then(()=>Fe(C.getCurrentRepresentation())).then(()=>{je(ie)}).catch(mt=>{A.warn("Caught error on create SourceBuffer: "+mt),je(ie)})})}(Ge,ft,St).then(_e=>{Gt(_e)}).catch(_e=>{at(_e)})):(V=!0,function(){return new Promise((_e,Oe)=>{ie=X(g).create(ne.bind(this)),Fe(C.getCurrentRepresentation()).then(()=>{_e(ie)}).catch(()=>{Oe()})})}().then(_e=>{Gt(_e)}).catch(_e=>{at(_e)})):Gt(null)})}function ce(Ge){N.get().streaming.cacheInitSegments&&(A.info("Init fragment finished loading saving to",z+"'s init cache"),he.save(Ge.chunk)),A.debug("Append Init fragment",z," with representationId:",Ge.chunk.representation.id," and quality:",Ge.chunk.quality,", data size:",Ge.chunk.bytes.byteLength),ue(Ge.chunk)}function oe(Ge){ue(Ge.chunk,Ge.request)}function ue(Ge){let ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ie&&(ie.append(Ge,ft).then(St=>{ne(St)}).catch(St=>{ne(St)}),Ge.representation.mediaInfo.type===M.default.VIDEO&&qt(P.default.VIDEO_CHUNK_RECEIVED,{chunk:Ge}))}function G(Ge){if(Ge&&Ge.length>0)for(let ft=0,St=Ge.length;ft<St;ft++)A.debug("Buffered range: "+Ge.start(ft)+" - "+Ge.end(ft)+", currentTime = ",w.getTime())}function ne(Ge){if(Ge.error)return Ge.error.code===22&&function(){if(ge=!0,W=.8*gt(),A.warn("Quota exceeded, Critical Buffer: "+W),W>0){const Gt=Math.max(.2*W,1),at=W-Gt,_e=Math.min(N.get().streaming.buffer.bufferTimeAtTopQuality,.9*at),Oe=Math.min(N.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*at),ot={streaming:{buffer:{bufferToKeep:parseFloat(Gt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(_e.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Oe.toFixed(5))}}};N.update(ot)}}(),void(Ge.error.code!==22&&Ft()||(A.warn("Clearing playback buffer to overcome quota exceed situation"),qt(P.default.QUOTA_EXCEEDED,{criticalBufferLevel:W,quotaExceededTime:Ge.chunk.start}),pn(en())));if(!ie||(Ht(),ge=!1,H=Ge.chunk,!H||!H.endFragment))return;H&&!isNaN(H.index)&&(Q=Math.max(H.index,Q),Kt());const ft=ie.getAllBufferRanges();H.segmentType===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&(G(ft),Be(),function(){if(isNaN(me)||V)return;if(z!==M.default.AUDIO&&z!==M.default.VIDEO)return void(me=NaN);const Gt=w.getTime(),at=yt(Gt,0),_e=yt(me,0);if(at&&_e&&at.start===_e.start)return void(me=NaN);const Oe=C.getCurrentRepresentation().segmentDuration,ot=yt(me,Oe);ot&&(N.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Gt-me)>Oe?me<=ot.end&&w.seek(Math.max(me,ot.start),!1,!0):Gt<ot.start&&w.seek(ot.start,!1,!0))}());let St=!1;D&&(D.indexOf(H)>0&&(St=!0),D=null),H&&!St&&qt(P.default.BYTES_APPENDED_END_FRAGMENT,{startTime:H.start,index:H.index,bufferedRanges:ft,segmentType:H.segmentType,mediaType:z,representationId:H.representation.id})}function Ee(Ge,ft){const St=[];return St.push(Fe(Ge)),St.push(ie?ie.abort():Promise.resolve()),St.push(ke(Ge,ft)),Promise.allSettled(St)}function ke(Ge,ft){return Ge&&ft?Ge&&ft&&Ge.mimeType===ft.mimeType&&Ge.codecFamily===ft.codecFamily?(A.debug(`Switching to new codec ${Ge.codecs} without changeType as previous codec ${ft.codecs} is compatible.`),Promise.resolve()):N.get().streaming.buffer.useChangeType&&o.supportsChangeType()?(A.debug(`Using changeType() to switch from codec ${ft.codecs} to ${Ge.codecs}`),ie.changeType(Ge)):(A.debug("changeType() not available"),Promise.resolve()):(A.warn("BufferController._changeCodec() is missing the information about the Representations. Doing nothing"),Promise.resolve())}function Re(){return new Promise((Ge,ft)=>{let St=$e();if(!St||St.length===0)return Be(),void Ge();pn(St).then(()=>{Ge()}).catch(Gt=>{ft(Gt)})})}function $e(Ge){const ft=[],St=ie.getAllBufferRanges();if(!St||St.length===0)return ft;if(!Ge&&Ge!==0||isNaN(Ge))ft.push({start:St.start(0),end:St.end(St.length-1)+.5});else{const Gt=function(_e,Oe){const ot=N.get().streaming.buffer.bufferToKeep,je=Oe.start(0);if(_e-je>ot){let mt=Math.max(0,_e-ot);const zt=v.getRequests({state:Bt.FRAGMENT_MODEL_EXECUTED,time:_e,threshold:Le})[0];if(zt&&(mt=Math.min(zt.startTime,mt)),mt>0)return{start:je,end:mt}}return null}(Ge,St),at=function(_e,Oe){const ot=Oe.end(Oe.length-1)+.5,je=_t(_e),mt=T.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality;let zt=isNaN(je)?_e:Math.min(je,_e+mt);if(zt>=Oe.end(Oe.length-1))return null;const Jt=v.getRequests({state:Bt.FRAGMENT_MODEL_EXECUTED,time:_e,threshold:Le})[0];if(Jt&&(zt=Math.max(Jt.startTime+Jt.duration,zt)),N.get().streaming.buffer.avoidCurrentTimeRangePruning){for(let dn=0;dn<Oe.length;dn++)if(Oe.start(dn)<=_e&&_e<=Oe.end(dn)&&Oe.start(dn)<=zt&&zt<=Oe.end(dn)){let ln=zt;zt=dn+1<Oe.length?Oe.start(dn+1):Oe.end(dn)+1,A.debug("Buffered range ["+Oe.start(dn)+", "+Oe.end(dn)+"] overlaps with targetTime "+_e+" and range to be pruned ["+ln+", "+ot+"], using ["+zt+", "+ot+"] instead"+(zt<ot?"":" (no actual pruning)"));break}}return zt<Oe.end(Oe.length-1)?{start:zt,end:ot}:null}(Ge,St);Gt&&ft.push(Gt),at&&ft.push(at)}return ft}function Be(){(!O||z===M.default.TEXT&&j.isTextEnabled())&&Ht()}function tt(){sn()}function vt(){sn(),me=NaN}function yt(Ge,ft){if(!ie)return null;const St=ie.getAllBufferRanges();let Gt,at,_e=0,Oe=0,ot=null,je=null,mt=0;const zt=isNaN(ft)?.15:ft;if(St!=null){for(at=0,Gt=St.length;at<Gt;at++)if(_e=St.start(at),Oe=St.end(at),ot===null)mt=Math.abs(_e-Ge),(Ge>=_e&&Ge<Oe||mt<=zt)&&(ot=_e,je=Oe);else{if(mt=_e-je,!(mt<=zt))break;je=Oe}if(ot!==null)return{start:ot,end:je}}return null}function Ht(){if(w){let Ge=w.getTime()||0;V&&(Ge=isNaN(me)?0:me);const ft=N.get().streaming.gaps.jumpGaps&&!isNaN(N.get().streaming.gaps.smallGapLimit)?N.get().streaming.gaps.smallGapLimit:NaN;K=Math.max(function(St,Gt){let at,_e;return N.get().streaming.gaps.jumpGaps&&(Gt=N.get().streaming.gaps.smallGapLimit),at=yt(St,Gt),_e=at===null?0:at.end-St,_e}(Ge,ft),0),qt(P.default.BUFFER_LEVEL_UPDATED,{mediaType:z,bufferLevel:K}),sn()}}function Kt(){const Ge=Q>=Z-1,ft=w.getTimeToStreamEnd(T)-K<1e-5;!Ge&&!ft||x||(He(!0),A.debug(`checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ${T.id} and type ${z}`))}function sn(){z!==M.default.AUDIO&&z!==M.default.VIDEO||((!w.getLowLatencyModeEnabled()&&K<N.get().streaming.buffer.stallThreshold||K===0)&&!x?kt(q.BUFFER_EMPTY):(x||K>=N.get().streaming.buffer.stallThreshold||w.getLowLatencyModeEnabled()&&K>0)&&kt(q.BUFFER_LOADED))}function kt(Ge){U===Ge||Ge===q.BUFFER_EMPTY&&w.getTime()===0||z===M.default.TEXT&&!j.isTextEnabled()||(U=Ge,qt(P.default.BUFFER_LEVEL_STATE_CHANGED,{state:Ge}),qt(Ge===q.BUFFER_LOADED?P.default.BUFFER_LOADED:P.default.BUFFER_EMPTY),A.debug(Ge===q.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function $t(){ie&&z!==M.default.TEXT&&(x||pn(en()))}function en(){const Ge=[],ft=ie.getAllBufferRanges();if(!ft||ft.length===0)return Ge;const St=w.getTime();let Gt=Math.max(0,St-N.get().streaming.buffer.bufferToKeep);const at=v.getRequests({state:Bt.FRAGMENT_MODEL_EXECUTED,time:St,threshold:Le})[0];if(at)Gt=Math.min(at.startTime,Gt);else if(St===0&&w.getIsDynamic())return[];if(ft.start(0)<=Gt){const _e={start:0,end:Gt};for(let Oe=0;Oe<ft.length&&ft.end(Oe)<=Gt;Oe++)_e.end=ft.end(Oe);_e.start<_e.end&&Ge.push(_e)}return Ge}function pn(Ge){return new Promise((ft,St)=>{if(!Ge||!ie||Ge.length===0)return Ht(),void ft();const Gt=[];Ge.forEach(at=>{Gt.push(function(_e){return new Promise((Oe,ot)=>{_e.resolve=Oe,_e.reject=ot,Se.push(_e)})}(at))}),pe||rn(),Promise.all(Gt).then(()=>{ft()}).catch(at=>{St(at)})})}function rn(){try{if(Se.length===0||!ie)return A.debug("Nothing to prune, halt pruning"),Se=[],void(pe=!1);const Ge=ie.getBuffer();if(!Ge||!Ge.buffered||Ge.buffered.length===0)return A.debug("SourceBuffer is empty (or does not exist), halt pruning"),Se=[],void(pe=!1);const ft=Se.shift();A.debug(`${z}: Removing buffer from: ${ft.start} to ${ft.end}`),pe=!0,w.getTime()<ft.end&&He(!1),ie.remove(ft).then(St=>{on(St)}).catch(St=>{on(St)})}catch{pe=!1}}function on(Ge){A.debug("onRemoved buffer from:",Ge.from,"to",Ge.to),ie&&(G(ie.getAllBufferRanges()),Se.length===0&&(pe=!1,Ht()),Ge.unintended&&(A.warn("Detected unintended removal from:",Ge.from,"to",Ge.to,"setting streamprocessor time to",Ge.from),qt(P.default.SEEK_TARGET,{time:Ge.from})),pe?rn():(O?O=!1:Ht(),qt(P.default.BUFFER_CLEARED,{from:Ge.from,to:Ge.to,unintended:Ge.unintended,hasEnoughSpaceToAppend:Ft(),quotaExceeded:ge})))}function Fe(Ge){return new Promise(ft=>{Ge&&Ge.mseTimeOffset!==void 0&&ie&&ie.updateTimestampOffset?ie.updateTimestampOffset(Ge.mseTimeOffset).then(()=>{ft()}).catch(()=>{ft()}):ft()})}function nt(){return ie&&!x?ie.updateAppendWindow(T):Promise.resolve()}function et(){le++,le*(N.get().streaming.wallclockTimeUpdateInterval/1e3)>=N.get().streaming.buffer.bufferPruningInterval&&(le=0,$t())}function st(){sn()}function He(Ge){x=Ge,x?qt(P.default.BUFFERING_COMPLETED):Z=Number.POSITIVE_INFINITY}function gt(){try{const Ge=ie.getAllBufferRanges();let ft,St,Gt=0;if(!Ge)return Gt;for(St=0,ft=Ge.length;St<ft;St++)Gt+=Ge.end(St)-Ge.start(St);return Gt}catch{return 0}}function _t(Ge){try{let ft=Ge;const St=ie.getAllBufferRanges();if(!St||St.length===0)return NaN;let Gt=0;for(;ft===Ge&&Gt<St.length;){const at=St.start(Gt),_e=St.end(Gt);ft>=at&&ft<=_e&&(ft=_e),Gt+=1}return ft===Ge?NaN:ft}catch{return NaN}}function Ft(){const Ge=gt();return isNaN(Ge)||Ge<W}function qt(Ge,ft){let St=ft||{};m.trigger(Ge,St,{streamId:T.id,mediaType:z})}function Xt(Ge,ft){if(W=Number.POSITIVE_INFINITY,U=void 0,Z=Number.POSITIVE_INFINITY,Q=0,H=null,x=!1,pe=!1,ge=!1,K=0,le=0,Se=[],me=NaN,V=!1,ie){let St=ie;ie=null,Ge||(ft?St.removeEventListeners():St.abort().then(()=>{St.reset(ft),St=null}))}O=!1}return k={appendInitSegmentFromCache:function(Ge){const ft=he.extract(T.id,Ge);return!!ft&&(A.info("Append Init fragment",z," with representationId:",ft.representation.id," and quality:",ft.quality,", data size:",ft.bytes.byteLength),ue(ft),!0)},clearBuffers:pn,createBufferSink:be,dischargePreBuffer:function(){if(ie&&ye&&typeof ye.discharge=="function"){const Ge=ye.getAllBufferRanges();if(Ge.length>0){let Gt="Beginning "+z+"PreBuffer discharge, adding buffer for:";for(let at=0;at<Ge.length;at++)Gt+=" start: "+Ge.start(at)+", end: "+Ge.end(at)+";";A.debug(Gt)}else A.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");D=[];let ft=ye.discharge(),St=null;for(let Gt=0;Gt<ft.length;Gt++){const at=ft[Gt];if(at.segmentType!==Te.HTTPRequest.INIT_SEGMENT_TYPE){const _e=he.extract(at.streamId,at.representation.id);_e&&St!==_e&&(D.push(_e),ie.append(_e),St=_e)}D.push(at),ie.append(at)}ye.reset(),ye=null}},getAllRangesWithSafetyFactor:$e,getBuffer:function(){return ie},getBufferControllerType:function(){return Me},getBufferLevel:function(){return K},getContinuousBufferTimeForTargetTime:_t,getIsBufferingCompleted:function(){return x},getIsPruningInProgress:function(){return pe},getMediaSource:function(){return J},getRangeAt:yt,getStreamId:function(){return T.id},getType:function(){return z},hasBufferAtTime:function(Ge){try{const ft=ie.getAllBufferRanges();if(!ft||ft.length===0)return!1;let St=0;for(;St<ft.length;){const Gt=ft.start(St),at=ft.end(St);if(Ge>=Gt&&Ge<=at)return!0;St+=1}return!1}catch(ft){return A.error(ft),!1}},initialize:function(Ge){re(Ge),m.on(P.default.INIT_FRAGMENT_LOADED,ce,k),m.on(P.default.MEDIA_FRAGMENT_LOADED,oe,k),m.on(P.default.WALLCLOCK_TIME_UPDATED,et,k),m.on($.default.PLAYBACK_PLAYING,vt,k),m.on($.default.PLAYBACK_PROGRESS,Be,k),m.on($.default.PLAYBACK_TIME_UPDATED,Be,k),m.on($.default.PLAYBACK_RATE_CHANGED,st,k),m.on($.default.PLAYBACK_STALLED,tt,k)},prepareForAbandonQualitySwitch:function(Ge,ft){return Ee(Ge,ft)},prepareForDefaultQualitySwitch:function(Ge,ft){return Ee(Ge,ft)},prepareForFastQualitySwitch:function(Ge,ft){return Ee(Ge,ft)},prepareForForceReplacementQualitySwitch:function(Ge,ft){return new Promise(St=>{const Gt=[];Gt.push(ie.abort()),Gt.push(nt()),Gt.push(Re()),Gt.push(Fe(Ge)),Gt.push(ke(Ge,ft)),Promise.allSettled(Gt).then(()=>{He(!1),St()})})},prepareForNonReplacementTrackSwitch:function(Ge,ft){return new Promise(St=>{const Gt=[];Gt.push(nt()),Gt.push(ke(Ge,ft)),Promise.allSettled(Gt).then(()=>{St()})})},prepareForPlaybackSeek:function(){return x&&He(!1),ie.abort()},prepareForReplacementTrackSwitch:function(Ge,ft){return new Promise(St=>{const Gt=[];Gt.push(ie.abort()),Gt.push(nt()),Gt.push(ke(Ge,ft)),Gt.push(Re()),Gt.push(Fe(Ge)),Promise.allSettled(Gt).then(()=>{He(!1),St()})})},pruneAllSafely:Re,pruneBuffer:$t,reset:function(Ge,ft){m.off(P.default.INIT_FRAGMENT_LOADED,ce,this),m.off(P.default.MEDIA_FRAGMENT_LOADED,oe,this),m.off(P.default.WALLCLOCK_TIME_UPDATED,et,this),m.off($.default.PLAYBACK_PLAYING,vt,this),m.off($.default.PLAYBACK_PROGRESS,Be,this),m.off($.default.PLAYBACK_TIME_UPDATED,Be,this),m.off($.default.PLAYBACK_RATE_CHANGED,st,this),m.off($.default.PLAYBACK_STALLED,tt,this),Xt(Ge,ft)},segmentRequestingCompleted:function(Ge){isNaN(Ge)||(Z=Ge,Kt())},setIsBufferingCompleted:He,setMediaSource:re,setSeekTarget:function(Ge){me=Ge},updateAppendWindow:nt,updateBufferTimestampOffset:Fe},A=(0,we.default)(g).getInstance().getLogger(k),he=Ve(g).getInstance(),Xt(),k}Pe.__dashjs_factory_name=Me;var qe=ae.default.getClassFactory(Pe);const rt="NotFragmentedTextBufferController";function Ze(d){d=d||{};const o=this.context,g=(0,se.default)(o).getInstance(),m=d.textController,v=d.errHandler,w=d.streamInfo,C=d.type;let N,T,j,z,k,A;function x(J){z=J}function K(J){T!==J&&(T=J,T&&function(Q){let Z={};g.trigger(Q,Z,{streamId:w.id,mediaType:C})}(P.default.BUFFERING_COMPLETED))}function W(J){J.chunk.bytes&&!T&&(A.save(J.chunk),k.append(J.chunk),K(!0))}return N={initialize:function(J){x(J)},getStreamId:function(){return w.id},getType:function(){return C},getBufferControllerType:function(){return rt},createBufferSink:function(J){return new Promise((Q,Z)=>{try{k=L(o).create({mediaSource:z,textController:m,eventBus:g}),k.initializeForFirstUse(J),j||(k.getBuffer()&&typeof k.getBuffer().initialize=="function"&&k.getBuffer().initialize(),j=!0),Q(k)}catch(ie){v.error(new Ie.default(B.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,B.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+C)),Z(ie)}})},dischargePreBuffer:function(){},getBuffer:function(){return k},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:x,getMediaSource:function(){return z},appendInitSegmentFromCache:function(J){return A.extract(w.id,J)!==null},getIsBufferingCompleted:function(){return T},setIsBufferingCompleted:K,getIsPruningInProgress:function(){return!1},reset:function(J){g.off(P.default.INIT_FRAGMENT_LOADED,W,N),!J&&k&&(k.abort(),k.reset(),k=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return T=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},j=!1,z=null,T=!1,A=Ve(o).getInstance(),g.on(P.default.INIT_FRAGMENT_LOADED,W,N),N}Ze.__dashjs_factory_name=rt;var ct=ae.default.getClassFactory(Ze);function Vt(d){d=d||{};const o=this.context,g=(0,se.default)(o).getInstance(),m=d.dashMetrics,v=d.mediaPlayerModel,w=d.fragmentModel,C=d.abrController,N=d.playbackController,T=d.textController,j=d.type,z=d.bufferController,k=d.representationController,A=d.settings;let x,K,W,J,Q,Z,ie,ye,V,D,U,H;function le(){U=!0}function pe(){U=!1}function ge(G){if(z.getIsBufferingCompleted())return;he();const ne=isNaN(G)?0:G;Q=setTimeout(Se,ne)}function he(){Q&&(clearTimeout(Q),Q=null)}function Se(){try{if(function(){try{return j===M.default.TEXT&&!T.isTextEnabled()||N.isPaused()&&(!N.getStreamController().getInitialPlayback()||!N.getStreamController().getAutoPlay())&&!A.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void he();if(function(){try{return!!U&&k.getCurrentRepresentation()&&(ye==null||V||function(){const G=k.getCurrentRepresentation();if(!j||!G)return!0;let ne=G&&G.segmentDuration&&!isNaN(G.segmentDuration)?G.segmentDuration:0;const Ee=m.getCurrentBufferLevel(j),ke=O();return(ke<=ne||N.getLowLatencyModeEnabled()||j===M.default.AUDIO&&Z)&&(ne=0),Ee+ne<ke}())}catch{return!1}}()){let G=!1;H&&(G=C.checkPlaybackQuality(j,K.id)),G||function(){const ne=k.getCurrentRepresentation();D||ne.id!==ye||V?(V?(W.debug("Switch track for "+j+", representation id = "+ne.id),V=!1):W.debug("Quality has changed, get init request for representationid = "+ne.id),g.trigger(P.default.INIT_FRAGMENT_NEEDED,{representationId:ne.id,sender:x},{streamId:K.id,mediaType:j}),H=!1,D=!1):(W.debug(`Media segment needed for ${j} and stream id ${K.id}`),g.trigger(P.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:K.id,mediaType:j}),H=!0)}()}else ge(N.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}catch{ge(N.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}}function O(){let G=NaN;const ne=k.getCurrentRepresentation();return j&&ne&&(G=j===M.default.TEXT?function(){try{if(T.isTextEnabled()){const Ee=k.getCurrentRepresentation();if(isNaN(Ee.fragmentDuration)){const ke=m.getCurrentSchedulingInfo(q.SCHEDULING_INFO);return ke?ke.duration:0}return Ee.fragmentDuration}return 0}catch{return 0}}():j===M.default.AUDIO&&Z?function(){try{const Ee=m.getCurrentBufferLevel(M.default.VIDEO),ke=k.getCurrentRepresentation();return isNaN(ke.fragmentDuration)?Ee+1:Math.max(Ee+1,ke.fragmentDuration)}catch{return 0}}():function(){try{const Ee=k.getCurrentRepresentation(),ke=Ee.mediaInfo.streamInfo;return C.isPlayingAtTopQuality(Ee)?ke.manifestInfo.duration>=A.get().streaming.buffer.longFormContentDurationThreshold?A.get().streaming.buffer.bufferTimeAtTopQualityLongForm:A.get().streaming.buffer.bufferTimeAtTopQuality:v.getBufferTimeDefaultUnadjusted()}catch{return v.getBufferTimeDefaultUnadjusted()}}()),G}function me(){re(!0)}function re(G){if(N&&w){const ne=w.getRequests({state:Bt.FRAGMENT_MODEL_EXECUTED,time:N.getTime(),threshold:0})[0];ne&&N.getTime()>=ne.startTime&&((!ie.representation||ne.representation.mediaInfo.type===ie.representation.mediaInfo.type&&ne.representation.mediaInfo.index!==ie.representation.mediaInfo.index)&&G&&(W.debug(`Track change rendered for streamId ${K.id} and type ${j}`),g.trigger(P.default.TRACK_CHANGE_RENDERED,{mediaType:j,oldMediaInfo:ie&&ie.representation&&ie.representation.mediaInfo?ie.representation.mediaInfo:null,newMediaInfo:ne.representation.mediaInfo,streamId:K.id})),ie.representation&&ne.representation.id===ie.representation.id||!G||(W.debug(`Quality change rendered for streamId ${K.id} and type ${j}`),g.trigger(P.default.QUALITY_CHANGE_RENDERED,{mediaType:j,oldRepresentation:ie.representation?ie.representation:null,newRepresentation:ne.representation,streamId:K.id})),ie.representation=ne.representation)}}function be(){w.abortRequests(),he()}function ce(){A.get().streaming.scheduling.scheduleWhilePaused||ge()}function oe(G){m.updatePlayListTraceMetrics({playbackspeed:G.playbackRate.toString()})}function ue(){H=!0,J=0,ye=null,ie={representation:null},V=!1,D=!1,U=!0}return x={clearScheduleTimer:he,getBufferTarget:O,getPlaybackController:function(){return N},getStreamId:function(){return K.id},getSwitchTrack:function(){return V},getTimeToLoadDelay:function(){return J},getType:function(){return j},initialize:function(G){Z=G,g.on(P.default.URL_RESOLUTION_FAILED,be,x),g.on($.default.PLAYBACK_STARTED,ce,x),g.on($.default.PLAYBACK_RATE_CHANGED,oe,x),g.on($.default.PLAYBACK_TIME_UPDATED,me,x),g.on($.default.MANAGED_MEDIA_SOURCE_START_STREAMING,le,x),g.on($.default.MANAGED_MEDIA_SOURCE_END_STREAMING,pe,x)},reset:function(){g.off(P.default.URL_RESOLUTION_FAILED,be,x),g.off($.default.PLAYBACK_STARTED,ce,x),g.off($.default.PLAYBACK_RATE_CHANGED,oe,x),g.off($.default.PLAYBACK_TIME_UPDATED,me,x),g.off($.default.MANAGED_MEDIA_SOURCE_START_STREAMING,le,x),g.off($.default.MANAGED_MEDIA_SOURCE_END_STREAMING,pe,x),he(),re(!1),ue(),K=null},setCheckPlaybackQuality:function(G){H=G},setInitSegmentRequired:function(G){D=G},setLastInitializedRepresentationId:function(G){ye=G},setSwitchTrack:function(G){V=G},setTimeToLoadDelay:function(G){J=G},startScheduleTimer:ge},W=(0,we.default)(o).getInstance().getLogger(x),ue(),K=d.streamInfo,x}Vt.__dashjs_factory_name="ScheduleController";var Nt=ae.default.getClassFactory(Vt),Ut=class{constructor(){this.availabilityEndTime=NaN,this.availabilityStartTime=NaN,this.duration=NaN,this.index=null,this.indexRange=null,this.media=null,this.mediaRange=null,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.replacementNumber=NaN,this.replacementTime=null,this.representation=null,this.wallStartTime=NaN}};function wt(d,o){for(;d.length<o;)d="0"+d;return d}function yn(d){return d&&d.split("$$").join("$")}function Nn(d,o){if(!o||!d||d.indexOf("$RepresentationID$")===-1)return d;let g=o.toString();return d.split("$RepresentationID$").join(g)}function Pn(d,o,g){let m,v,w,C,N,T;const j=o.length;if(!d)return d;for(;;){if(m=d.indexOf("$"+o),m<0||(v=d.indexOf("$",m+j),v<0))return d;if(w=d.indexOf("%0",m+j),w>m&&w<v)switch(C=d.charAt(v-1),N=parseInt(d.substring(w+2,v-1),10),C){case"d":case"i":case"u":T=wt(g.toString(),N);break;case"x":T=wt(g.toString(16),N);break;case"X":T=wt(g.toString(16),N).toUpperCase();break;case"o":T=wt(g.toString(8),N);break;default:return d}else T=g;d=d.substring(0,m)+T+d.substring(v+1)}}function na(d,o,g,m,v,w,C,N){let T=new Ut;var j;return T.representation=d,T.duration=o,T.presentationStartTime=g,T.mediaStartTime=m,T.availabilityStartTime=v.calcAvailabilityStartTimeFromPresentationTime(w,d,C),T.availabilityEndTime=v.calcAvailabilityEndTimeFromPresentationTime(w+o,d,C),T.wallStartTime=v.calcWallTimeForSegment(T,C),T.replacementNumber=(j=N,T.representation.startNumber+j),T.index=N,T}function la(d,o,g,m){const v=o.adaptation.period;if(isFinite(v.duration)&&v.start+v.duration<=g.presentationStartTime)return!1;if(m){if(o.availabilityTimeOffset==="INF")return!0;const w=d.getClientReferenceTime();return g.availabilityStartTime.getTime()<=w&&(!isFinite(g.availabilityEndTime)||g.availabilityEndTime.getTime()>=w)}return!0}function Wn(d,o,g,m){let v,w,C;v=g.segmentDuration,isNaN(v)&&(v=g.adaptation.period.duration),w=parseFloat((g.adaptation.period.start+m*v).toFixed(5)),C=parseFloat((w+v).toFixed(5));const N=na(g,v,w,d.calcMediaTimeFromPresentationTime(w,g),d,C,o,m);return la(d,g,N,o)?N:null}function xt(d,o,g,m,v,w,C,N,T,j){const z=m/w,k=v/w;let A,x,K;return A=d.calcPresentationTimeFromMediaTime(z,g),x=A+k,K=na(g,k,A,z,d,x,o,T),la(d,g,K,o)?(K.replacementTime=j||m,C=Pn(C,"Number",K.replacementNumber),C=Pn(C,"Time",K.replacementTime),K.media=C,K.mediaRange=N,K):null}function Ct(d){const o=(d=d||{}).eventBus,g=d.events,m=d.abrController,v=d.dashMetrics,w=d.playbackController,C=d.timelineConverter,N=d.type,T=d.streamInfo,j=d.segmentsController,z=d.isDynamic;let k,A,x;function K(){return N}function W(){return x}function J(){x=null,A=[]}function Q(D){return new Promise((U,H)=>{const le=D.hasInitialization(),pe=D.hasSegments(),ge=[];ge.push(j.updateInitData(D,le)),ge.push(j.updateSegmentData(D,pe)),Promise.all(ge).then(he=>{var Se;he[0]&&!he[0].error&&(D=function(O,me){return me&&!me.error&&me.representation?me.representation:O}(D,he[0])),he[1]&&!he[1].error&&(D=function(O,me){if(!me||me.error)return;const re=me.segments,be=[];let ce,oe,ue,G,ne=0;for(ce=0,oe=re?re.length:0;ce<oe;ce++)ue=re[ce],G=xt(C,z,O,ue.startTime,ue.duration,ue.timescale,ue.media,ue.mediaRange,ne),G&&(be.push(G),G=null,ne++);return be.length>0&&(O.segments=be),O}(D,he[1])),D.fragmentDuration=D.segmentDuration?D.segmentDuration:D.segments&&D.segments.length>0?D.segments[0].duration:NaN,(Se=D).mediaFinishedInformation=j.getMediaFinishedInformation(Se),function(O){let me,re=v.getCurrentManifestUpdate(),be=!1;if(re){for(let ce=0;ce<re.representationInfo.length;ce++)if(me=re.representationInfo[ce],me.index===O.index&&me.mediaType===K()){be=!0;break}be||v.addManifestUpdateRepresentationInfo(O,K())}}(D),U()}).catch(he=>{H(he)})})}function Z(D){if(!A||A.length===0)return null;const U=A.filter(H=>H.id===D);return U.length>0?U[0]:null}function ie(D){o.trigger(g.DATA_UPDATE_COMPLETED,{currentRepresentation:x,error:D},{streamId:T.id,mediaType:N})}function ye(D){x&&x.id===D.id||function(U){(function(){if(!(m&&v&&w&&C))throw new Error(M.default.MISSING_CONFIG_ERROR)})();const H=new Date,le=1e3*w.getTime();U&&v.addRepresentationSwitch(U.adaptation.type,H,le,U.id),o.trigger($.default.REPRESENTATION_SWITCH,{mediaType:N,streamId:T.id,currentRepresentation:U},{streamId:T.id,mediaType:N})}(D),x=D}function V(D){if(D.newDuration){const U=W();U&&U.adaptation.period&&(U.adaptation.period.duration=D.newDuration)}}return k={getCurrentRepresentation:W,getRepresentationById:Z,getStreamId:function(){return T.id},getType:K,prepareQualityChange:function(D){const U=A.filter(H=>H.id===D.id);U.length>0&&ye(U[0])},reset:function(){o.off($.default.MANIFEST_VALIDITY_CHANGED,V,k),J()},updateData:function(D,U,H){return new Promise((le,pe)=>{if(A=D,ye(Z(H)),N!==M.default.VIDEO&&N!==M.default.AUDIO&&(N!==M.default.TEXT||!U))return ie(),void le();const ge=[];for(let he=0,Se=A.length;he<Se;he++){const O=A[he];ge.push(Q(O))}Promise.all(ge).then(()=>{(function(){m.setPlaybackQuality(N,T,x);const he=v.getCurrentDVRInfo(N);he&&v.updateManifestUpdateInfo({latency:he.range.end-w.getTime()}),ie()})(),le()}).catch(he=>{pe(he)})})}},J(),o.on($.default.MANIFEST_VALIDITY_CHANGED,V,k),k}Ct.__dashjs_factory_name="RepresentationController";var ht=ae.default.getClassFactory(Ct),it=t(656);function Pt(d){const o=(d=d||{}).eventBus,g=d.debug,m=d.urlUtils,v=d.type,w=d.streamInfo,C=d.segmentsController,N=d.timelineConverter,T=d.baseURLController;let j,z,k,A,x;function K(){return v}function W(){k=null}function J(V,D,U){const H=T.resolve(U.path);let le,pe,ge={};return H&&D!==H.url&&m.isRelative(D)?(le=H.url,pe=H.serviceLocation,ge=H.queryParams,D&&(le=m.resolve(D,le))):le=D,!m.isRelative(le)&&(V.url=le,V.serviceLocation=pe,V.queryParams=ge,!0)}function Q(V,D){if(D==null)return null;const U=new Ue,H=D.representation,le=H.bandwidth;let pe=D.media;return pe=Pn(pe,"Number",D.replacementNumber),pe=Pn(pe,"Time",D.replacementTime),pe=Pn(pe,"Bandwidth",le),pe=Nn(pe,H.id),pe=yn(pe),U.mediaType=K(),U.bandwidth=H.bandwidth,U.type=Te.HTTPRequest.MEDIA_SEGMENT_TYPE,U.range=D.mediaRange,U.startTime=D.presentationStartTime,U.mediaStartTime=D.mediaStartTime,U.duration=D.duration,U.timescale=H.timescale,U.availabilityStartTime=D.availabilityStartTime,U.availabilityEndTime=D.availabilityEndTime,U.availabilityTimeComplete=H.availabilityTimeComplete,U.wallStartTime=D.wallStartTime,U.index=D.index,U.adaptationIndex=H.adaptation.index,U.representation=H,J(U,pe,H)?U:void 0}function Z(V,D,U){let H=null;if(!D||!D.segmentInfoType)return H;const le=C.getSegmentByTime(D,U);return le&&(k=le,z.debug("Index for time "+U+" is "+le.index),H=Q(0,le)),H}function ie(V,D,U){let H=null;const le=C.getSegmentByIndex(D,U,k?k.mediaStartTime:-1);if(le)H=Q(0,le),k=le;else{if(A&&!x)return z.debug(K()+" No segment found at index: "+U+". Wait for next loop"),null;x=!0}return H}function ye(){z.debug("Dynamic stream complete"),x=!0}return j={getCurrentIndex:function(){return k?k.index:-1},getInitRequest:function(V,D){return D?function(U,H,le){const pe=new Ue,ge=H.adaptation.period,he=ge.start;if(pe.mediaType=le,pe.type=Te.HTTPRequest.INIT_SEGMENT_TYPE,pe.range=H.range,pe.availabilityStartTime=N.calcAvailabilityStartTimeFromPresentationTime(he,H,A),pe.availabilityEndTime=N.calcAvailabilityEndTimeFromPresentationTime(he+ge.duration,H,A),pe.representation=H,J(pe,H.initialization,H))return pe.url=Pn(pe.url,"Bandwidth",H.bandwidth),pe}(0,D,K()):null},getNextSegmentRequest:function(V,D){return D&&D.segmentInfoType?ie(0,D,k?k.index+1:0):null},getNextSegmentRequestIdempotent:function(V,D){let U=null,H=k?k.index+1:0;const le=C.getSegmentByIndex(D,H,k?k.mediaStartTime:-1);return le?(U=Q(0,le),U):null},getSegmentRequestForTime:Z,getStreamId:function(){return w.id},getStreamInfo:function(){return w},getType:K,getValidTimeAheadOfTargetTime:function(V,D,U,H){try{if(isNaN(V)||!D||!U)return NaN;if(V<0&&(V=0),isNaN(H)&&(H=.5),Z(0,U,V))return V;if(U.adaptation.period.start+U.adaptation.period.duration<V)return NaN;const le=isFinite(U.adaptation.period.duration)?U.adaptation.period.start+U.adaptation.period.duration:V+30;let pe=Math.min(V+H,le),ge=NaN,he=null;for(;pe<=le;){let Se=null;if(pe<=le&&(Se=Z(0,U,pe)),Se){ge=pe,he=Se;break}pe+=H}if(he){const Se=he.startTime+he.duration;return V>he.startTime&&Se-V>H?V:!isNaN(he.startTime)&&V<he.startTime&&ge>he.startTime?he.startTime+.001:Math.min(Se-H,ge)}return ge}catch{return NaN}},initialize:function(V){A=V,x=!1,C.initialize(V)},isLastSegmentRequested:function(V,D){return!V||!k?!1:x?!0:!isFinite(V.adaptation.period.duration)||k.presentationStartTime+k.duration>D?!1:V.mediaFinishedInformation&&!isNaN(V.mediaFinishedInformation.numberOfSegments)&&!isNaN(k.index)&&k.index>=V.mediaFinishedInformation.numberOfSegments-1&&(!A||V.segmentInfoType===S.default.SEGMENT_TEMPLATE||A&&V.segmentInfoType===S.default.SEGMENT_LIST&&V.adaptation.period.nextPeriodId)?!0:!!(A&&V.adaptation.period.nextPeriodId&&V.segmentInfoType===S.default.SEGMENT_TIMELINE&&V.mediaFinishedInformation&&!isNaN(V.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&k&&!isNaN(k.mediaStartTime)&&!isNaN(k.duration)&&k.mediaStartTime+k.duration>=V.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(V,D){return D&&D.segmentInfoType?ie(0,D,k?k.index:0):null},reset:function(){W(),o.off($.default.DYNAMIC_TO_STATIC,ye,j)}},z=g.getLogger(j),W(),o.on($.default.DYNAMIC_TO_STATIC,ye,j),j}Pt.__dashjs_factory_name="DashHandler";var Dt=ae.default.getClassFactory(Pt);function Lt(){let d;const o=/^[a-z][a-z0-9+\-_.]*:/i,g=/^https?:\/\//i,m=/^https:\/\//i,v=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,w=(x,K)=>{try{return new window.URL(x,K).toString()}catch{return x}},C=(x,K)=>{let W=N;if(!K||!z(x))return x;k(x)&&(W=T),A(x)&&(W=j);const J=W(K),Q=J.charAt(J.length-1)!=="/"&&x.charAt(0)!=="/"?"/":"";return[J,x].join(Q)};function N(x){const K=x.indexOf("/"),W=x.lastIndexOf("/");return K!==-1?W===K+1?x:(x.indexOf("?")!==-1&&(x=x.substring(0,x.indexOf("?"))),x.substring(0,W+1)):""}function T(x){const K=x.match(v);return K?K[1]:""}function j(x){const K=x.match(o);return K?K[0]:""}function z(x){return!o.test(x)}function k(x){return z(x)&&x.charAt(0)==="/"}function A(x){return x.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),d=w}catch{}finally{d=d||C}}(),{parseBaseUrl:N,parseOrigin:T,parseScheme:j,isRelative:z,isPathAbsolute:k,isSchemeRelative:A,isHTTPURL:function(x){return g.test(x)},isHTTPS:function(x){return m.test(x)},removeHostname:function(x){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(x)[2].substring(1)},resolve:function(x,K){return d(x,K)}}}Lt.__dashjs_factory_name="DefaultURLUtils";var Et=ae.default.getSingletonFactory(Lt);function bt(){let d,o,g=[];const m=this.context;function v(w,C,N){let T=function(j){let z;for(z=0;z<g.length;z++)if(g[z].regex.test(j))return g[z].utils;return o}(N||C);return T&&typeof T[w]=="function"?T[w](C,N):o[w](C,N)}return o=Et(m).getInstance(),d={registerUrlRegex:function(w,C){g.push({regex:w,utils:C})},parseBaseUrl:function(w){return v("parseBaseUrl",w)},parseOrigin:function(w){return v("parseOrigin",w)},parseScheme:function(w){return v("parseScheme",w)},isRelative:function(w){return v("isRelative",w)},isPathAbsolute:function(w){return v("isPathAbsolute",w)},isSchemeRelative:function(w){return v("isSchemeRelative",w)},isHTTPURL:function(w){return v("isHTTPURL",w)},isHTTPS:function(w){return v("isHTTPS",w)},removeHostname:function(w){return v("removeHostname",w)},resolve:function(w,C){return v("resolve",w,C)}},d}bt.__dashjs_factory_name="URLUtils";var pt=ae.default.getSingletonFactory(bt);class Mt{constructor(){this.start=null,this.mstart=null,this.starttype=null,this.trace=[]}}Mt.INITIAL_PLAYOUT_START_REASON="initial_playout",Mt.SEEK_START_REASON="seek",Mt.RESUME_FROM_PAUSE_START_REASON="resume",Mt.METRICS_COLLECTION_START_REASON="metrics_collection_start";class un{constructor(){this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null}}function It(d,o){const g=(d=d||{}).timelineConverter,m=d.dashMetrics;let v;function w(){if(!g)throw new Error(M.default.MISSING_CONFIG_ERROR)}function C(T,j){const z=T.adaptation.period.mpd.manifest.Period[T.adaptation.period.index].AdaptationSet[T.adaptation.index].Representation[T.index].SegmentTemplate||T.adaptation.period.mpd.manifest.Period[T.adaptation.period.index].AdaptationSet[T.adaptation.index].Representation[T.index].SegmentList,k=z.SegmentTimeline,A=z.SegmentURL;let x,K,W,J,Q,Z,ie,ye=0,V=-1;ie=T.timescale,x=k.S;let D=!1;for(W=0,J=x.length;W<J&&!D;W++)for(K=x[W],Z=0,K.hasOwnProperty("r")&&(Z=K.r),K.hasOwnProperty("t")&&(ye=K.t),Z<0&&(Z=N(T,x[W+1],K,ie,ye/ie)),Q=0;Q<=Z&&!D;Q++)V++,D=j(ye,z,A,K,ie,V,W),D&&(T.segmentDuration=K.d/ie),ye+=K.d}function N(T,j,z,k,A){let x;if(j&&j.hasOwnProperty("t"))x=j.t/k;else try{let K=0;if(isNaN(T.adaptation.period.start)||isNaN(T.adaptation.period.duration)||!isFinite(T.adaptation.period.duration)){const W=m.getCurrentDVRInfo();K=isNaN(W.end)?0:W.end}else K=T.adaptation.period.start+T.adaptation.period.duration;x=g.calcMediaTimeFromPresentationTime(K,T),T.segmentDuration=z.d/k}catch{x=0}return Math.max(Math.ceil((x-A)/(z.d/k))-1,0)}return v={getSegmentByIndex:function(T,j,z){if(w(),!T)return null;let k=null,A=!1;return C(T,function(x,K,W,J,Q,Z,ie){if(A||z<0){let ye=K.media,V=J.mediaRange;return W&&(ye=W[ie].media||"",V=W[ie].mediaRange),k=xt(g,o,T,x,J.d,Q,ye,V,Z,J.tManifest),!0}return x>=z*Q-.5*J.d&&(A=!0),!1}),k},getSegmentByTime:function(T,j){if(w(),!T)return null;j===void 0&&(j=null);let z=null;const k=g.calcMediaTimeFromPresentationTime(j,T);return C(T,function(A,x,K,W,J,Q,Z){const ie=parseFloat((k*J).toPrecision(15));if(ie<A+W.d&&ie>=A){let ye=x.media,V=W.mediaRange;return K&&(ye=K[Z].media||"",V=K[Z].mediaRange),z=xt(g,o,T,A,W.d,J,ye,V,Q,W.tManifest),!0}return!1}),z},getMediaFinishedInformation:function(T){if(!T)return 0;const j=(T.adaptation.period.mpd.manifest.Period[T.adaptation.period.index].AdaptationSet[T.adaptation.index].Representation[T.index].SegmentTemplate||T.adaptation.period.mpd.manifest.Period[T.adaptation.period.index].AdaptationSet[T.adaptation.index].Representation[T.index].SegmentList).SegmentTimeline;let z,k,A,x,K,W,J,Q=0,Z=0,ie=0;for(J=T.timescale,z=j.S,x=z.length,A=0;A<x;A++)for(k=z[A],W=0,k.hasOwnProperty("r")&&(W=k.r),k.hasOwnProperty("t")&&(Q=k.t,Z=Q/J),W<0&&(W=N(T,z[A+1],k,J,Z)),K=0;K<=W;K++)ie++,Q+=k.d,Z=Q/J;return{numberOfSegments:ie,mediaTimeOfLastSignaledSegment:Z}}},v}un.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",un.REBUFFERING_REASON="rebuffering",un.USER_REQUEST_STOP_REASON="user_request",un.END_OF_PERIOD_STOP_REASON="end_of_period",un.END_OF_CONTENT_STOP_REASON="end_of_content",un.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",un.FAILURE_STOP_REASON="failure",It.__dashjs_factory_name="TimelineSegmentsGetter";var an=ae.default.getClassFactory(It);function hn(d,o){const g=(d=d||{}).timelineConverter;let m;function v(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(M.default.MISSING_CONFIG_ERROR)}function w(C,N){if(v(),!C)return null;const T=C.adaptation.period.mpd.manifest.Period[C.adaptation.period.index].AdaptationSet[C.adaptation.index].Representation[C.index].SegmentTemplate;N=Math.max(N,0);const j=Wn(g,o,C,N);if(j){j.replacementTime=Math.round(N*C.segmentDuration*C.timescale,10);let z=T.media;z=Pn(z,"Number",j.replacementNumber),z=Pn(z,"Time",j.replacementTime),j.media=z}return j}return m={getSegmentByIndex:w,getSegmentByTime:function(C,N){if(v(),!C)return null;const T=C.segmentDuration;if(isNaN(T))return null;let j=g.calcPeriodRelativeTimeFromMpdRelativeTime(C,N);return w(C,Math.floor(j/T))},getMediaFinishedInformation:function(C){const N={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!C)return N;const T=C.segmentDuration;return isNaN(T)?N.numberOfSegments=1:N.numberOfSegments=Math.ceil(C.adaptation.period.duration/T),N}},m}hn.__dashjs_factory_name="TemplateSegmentsGetter";var cn=ae.default.getClassFactory(hn);function gn(d,o){const g=(d=d||{}).timelineConverter;let m;function v(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(M.default.MISSING_CONFIG_ERROR)}function w(C,N){if(v(),!C)return null;const T=C.adaptation.period.mpd.manifest.Period[C.adaptation.period.index].AdaptationSet[C.adaptation.index].Representation[C.index].SegmentList,j=T.SegmentURL.length,z=C&&!isNaN(C.startNumber)?C.startNumber:1,k=Math.max(z-1,0),A=Math.max(N-k,0);let x=null;if(A<j){const K=T.SegmentURL[A];x=Wn(g,o,C,N),x&&(x.replacementTime=(z+N-1)*C.segmentDuration,x.media=K.media?K.media:"",x.mediaRange=K.mediaRange,x.indexRange=K.indexRange)}return x}return m={getSegmentByIndex:w,getSegmentByTime:function(C,N){if(v(),!C)return null;const T=C.segmentDuration;if(isNaN(T))return null;const j=g.calcPeriodRelativeTimeFromMpdRelativeTime(C,N);return w(C,Math.floor(j/T))},getMediaFinishedInformation:function(C){const N={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!C)return N;const T=C.adaptation.period.mpd.manifest.Period[C.adaptation.period.index].AdaptationSet[C.adaptation.index].Representation[C.index].SegmentList,j=C&&!isNaN(C.startNumber)?C.startNumber:1,z=Math.max(j-1,0);return N.numberOfSegments=z+T.SegmentURL.length,N}},m}gn.__dashjs_factory_name="ListSegmentsGetter";var kn=ae.default.getClassFactory(gn);function tn(d){const o=(d=d||{}).timelineConverter;let g;function m(){if(!o||!o.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(M.default.MISSING_CONFIG_ERROR)}function v(w,C){if(m(),!w)return null;const N=w.segments?w.segments.length:-1;let T;if(C<N&&(T=w.segments[C],T&&T.index===C))return T;for(let j=0;j<N;j++)if(T=w.segments[j],T&&T.index===C)return T;return null}return g={getSegmentByIndex:v,getSegmentByTime:function(w,C){m();const N=function(T,j){if(!T)return-1;const z=T.segments,k=z?z.length:null;let A,x,K,W,J,Q=-1;if(z&&k>0){for(J=0;J<k;J++)if(x=z[J],K=x.presentationStartTime,W=x.duration,A=W/2,j+A>=K&&j-A<K+W){Q=x.index;break}}return Q}(w,C);return v(w,N)},getMediaFinishedInformation:function(w){const C={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return w&&w.segments&&(C.numberOfSegments=w.segments.length),C}},g}tn.__dashjs_factory_name="SegmentBaseGetter";var dt=ae.default.getClassFactory(tn);function Je(d){d=d||{};const o=this.context,g=d.dashConstants,m=d.type,v=d.segmentBaseController;let w,C;function N(T){return T?T.segments?C[g.SEGMENT_BASE]:C[T.segmentInfoType]:null}return w={initialize:function(T){C[g.SEGMENT_TIMELINE]=an(o).create(d,T),C[g.SEGMENT_TEMPLATE]=cn(o).create(d,T),C[g.SEGMENT_LIST]=kn(o).create(d,T),C[g.SEGMENT_BASE]=dt(o).create(d,T)},updateInitData:function(T,j){return j?Promise.resolve():v.getSegmentBaseInitSegment({representation:T,mediaType:m})},updateSegmentData:function(T,j){return j?Promise.resolve():v.getSegmentList({mimeType:T.mimeType,representation:T,mediaType:m})},getSegmentByIndex:function(T,j,z){const k=N(T);return k?k.getSegmentByIndex(T,j,z):null},getSegmentByTime:function(T,j){const z=N(T);return z?z.getSegmentByTime(T,j):null},getMediaFinishedInformation:function(T){const j=N(T);return j?j.getMediaFinishedInformation(T):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},C={},w}Je.__dashjs_factory_name="SegmentsController";var Ot=ae.default.getClassFactory(Je);function Wt(){let d;return d={ntpToUTC:function(o){const g=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(g.getTime()+o).getTime()}},d}Wt.__dashjs_factory_name="TimeUtils";var mn=ae.default.getSingletonFactory(Wt),Tn=class{constructor(d){this.newMediaInfo=d.newMediaInfo,this.previouslySelectedRepresentation=d.previouslySelectedRepresentation,this.newRepresentation=d.newRepresentation}};function zn(d){d=d||{};let o,g,m,v,w,C,N,T,j,z,k,A,x,K,W,J,Q=this.context,Z=(0,se.default)(Q).getInstance(),ie=d.abrController,ye=d.adapter,V=d.boxParser,D=d.capabilities,U=d.dashMetrics,H=d.errHandler,le=d.fragmentModel,pe=d.manifestModel,ge=d.mediaController,he=d.mediaPlayerModel,Se=d.mimeType,O=d.playbackController,me=d.segmentBlacklistController,re=d.settings,be=d.streamInfo,ce=d.textController,oe=d.timelineConverter,ue=d.type;function G(){return be.id}function ne(){return ue}function Ee(){T=[],m=null,g=0,W=!1,K=!1,z=!1,J=!1,sn()}function ke(je){return!isNaN(je)&&!isNaN(be.duration)&&isFinite(be.duration)&&je>=be.start+be.duration}function Re(je){let mt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(je.sender){if(O.getIsManifestUpdateInProgress())tt();else if((!m.isText||ce.isTextEnabled())&&o&&je.representationId&&!o.appendInitSegmentFromCache(je.representationId)){const zt=k.getCurrentRepresentation();if(zt.range===0)return void $e();const Jt=v?v.getInitRequest(m,zt):null;Jt?le.executeRequest(Jt):mt&&(A.setInitSegmentRequired(!0),tt())}}}function $e(je){let mt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(O.getIsManifestUpdateInProgress()||o.getIsPruningInProgress())return void tt();let zt=function(){let Jt;if(isNaN(g)||ne()===M.default.TEXT&&!ce.isTextEnabled())return null;if(v){const dn=Ge();Jt=W?v.getSegmentRequestForTime(m,dn,g):K?v.repeatSegmentRequest(m,dn):v.getNextSegmentRequest(m,dn)}return Jt}();zt?(W=!1,K=!1,function(Jt){isNaN(Jt.startTime+Jt.duration)||(g=Jt.startTime+Jt.duration),Jt.delayLoadingTime=new Date().getTime()+A.getTimeToLoadDelay(),A.setTimeToLoadDelay(0),function(dn){let ln=dn.url;return dn.range&&(ln=ln.concat("_",dn.range)),me.contains(ln)}(Jt)?(N.warn(`Fragment request url ${Jt.url} for stream id ${be.id} and media type ${ue} is on the ignore list and will be skipped`),tt()):(N.debug(`Next fragment request url for stream id ${be.id} and media type ${ue} is ${Jt.url} with request range ${Jt.range}`),le.executeRequest(Jt))}(zt)):function(Jt){const dn=k.getCurrentRepresentation();try{if(re.get().streaming.gaps.enableSeekFix&&(W||O.getTime()===0)){let ln;if(C?C&&dn.segmentInfoType===S.default.SEGMENT_TIMELINE&&(ln=v.getValidTimeAheadOfTargetTime(g,m,dn,re.get().streaming.gaps.threshold)):(ln=v.getValidTimeAheadOfTargetTime(g,m,dn,re.get().streaming.gaps.threshold),isNaN(ln)&&g>=dn.adaptation.period.mpd.mediaPresentationDuration-dn.segmentDuration&&(ln=g-.1)),!isNaN(ln)&&ln!==g)return void(O.isSeeking()||O.getTime()===0?(N.warn(`Adjusting playback time ${ln} because of gap in the manifest. Seeking by ${ln-g}`),O.seek(ln,!1,!1)):(N.warn(`Adjusting buffering time ${ln} because of gap in the manifest. Adjusting time by ${ln-g}`),ot(ln),Jt&&tt()))}}catch(ln){N.error(ln)}Be()||Jt&&tt()}(mt)}function Be(){const je=k.getCurrentRepresentation(),mt=v.isLastSegmentRequested(je,g);if(mt){const zt=v.getCurrentIndex();N.debug(`Segment requesting for stream ${be.id} has finished`),Z.trigger(P.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:zt},{streamId:be.id,mediaType:ue}),o.segmentRequestingCompleted(zt),Xt()}return mt}function tt(){A.startScheduleTimer(O.getLowLatencyModeEnabled()?re.get().streaming.scheduling.lowLatencyTimeout:re.get().streaming.scheduling.defaultTimeout)}function vt(je){U.addBufferState(ue,je.state,A.getBufferTarget()),je.state!==q.BUFFER_EMPTY||O.isSeeking()||(N.info("Buffer is empty! Stalling!"),U.pushPlayListTraceMetrics(new Date,un.REBUFFERING_REASON))}function yt(je){le.syncExecutedRequestsWithBufferedRange(o.getBuffer().getAllBufferRanges(),be.duration),je.quotaExceeded&&je.from>O.getTime()&&ot(je.from),je.hasEnoughSpaceToAppend&&je.quotaExceeded&&A.startScheduleTimer()}function Ht(je){if(!je||!je.lastRequestAppended||!je.lastRequestAppended.url)return;let mt=je.lastRequestAppended.url;je.lastRequestAppended.range&&(mt=mt.concat("_",je.lastRequestAppended.range)),N.warn(`Blacklisting segment with url ${mt}`),me.add(mt)}function Kt(je){if(N.debug(`Appended bytes for ${je.mediaType} and stream id ${je.streamId}`),je.segmentType===Te.HTTPRequest.INIT_SEGMENT_TYPE){const mt=je.representationId;A.setLastInitializedRepresentationId(mt),N.info("["+ue+"] lastInitializedRepresentationId changed to "+mt)}j&&j.enabled?Fe(j.newRepresentation,j.oldRepresentation):J||A.startScheduleTimer(0)}function sn(){j={newRepresentation:null,oldRepresentation:null,enabled:!1}}function kt(je){return new Promise(mt=>{if(!k)return Promise.resolve();let zt=null;var Jt;zt=je.newRepresentation?{selectedRepresentation:(Jt=je).newRepresentation,currentMediaInfo:Jt.newMediaInfo}:m!==null&&ye.areMediaInfosEqual(m,je.newMediaInfo)?function(ln){return{currentMediaInfo:ln.newMediaInfo,selectedRepresentation:k.getCurrentRepresentation()}}(je):function(ln){let jn=NaN;return jn=!re.get().streaming.abr.autoSwitchBitrate[ln.newMediaInfo.type]&&ln.previouslySelectedRepresentation?ln.previouslySelectedRepresentation.bitrateInKbit:ie.getInitialBitrateFor(ue),{selectedRepresentation:ie.getOptimalRepresentationForBitrate(ln.newMediaInfo,jn,!1),currentMediaInfo:ln.newMediaInfo}}(je),$t(zt.currentMediaInfo),Z.trigger();const dn=ie.getPossibleVoRepresentations(m,!1);return k.updateData(dn,m.isFragmented,zt.selectedRepresentation.id).then(()=>{(function(){const ln=k.getCurrentRepresentation();o.getIsBufferingCompleted()||o.updateBufferTimestampOffset(ln)})(),mt()}).catch(ln=>{N.error(ln),mt()})})}function $t(je){ye.areMediaInfosEqual(m,je)||Z.trigger($.default.NEW_TRACK_SELECTED,{value:je}),m=je,ie.handleNewMediaInfo(m),Z.trigger(P.default.MEDIAINFO_UPDATED,{mediaType:ue,streamId:be.id,currentMediaInfo:m})}function en(je){const mt=je.newRepresentation,zt=je.oldRepresentation;mt&&zt||N.warn("_handleDifferentSwitchTypes() is missing the target representations"),je.reason&&je.reason.forceReplace?function(Jt,dn){le.abortRequests(),Z.trigger(P.default.BUFFER_REPLACEMENT_STARTED,{mediaType:ue,streamId:be.id},{mediaType:ue,streamId:be.id}),A.setCheckPlaybackQuality(!1),o.prepareForForceReplacementQualitySwitch(Jt,dn).then(()=>{pn()}).catch(()=>{pn()})}(mt,zt):je&&je.reason&&je.reason.forceAbandon?function(Jt,dn){o.prepareForAbandonQualitySwitch(Jt,dn).then(()=>{rn()}).catch(()=>{rn()})}(mt,zt):he.getFastSwitchEnabled()?function(Jt,dn){const ln=O.getTime();let jn=1.5*(isNaN(Jt.fragmentDuration)?1:Jt.fragmentDuration);const Xn=le.getRequests({state:Bt.FRAGMENT_MODEL_EXECUTED,time:ln+jn,threshold:0})[0];if(Xn&&!m.isText){const Ta=o.getBufferLevel(),ea=ie.getAbandonmentStateFor(be.id,ue);Xn.bandwidth<Jt.bandwidth&&Ta>=jn&&ea===q.ALLOW_LOAD?o.prepareForFastQualitySwitch(Jt,dn).then(()=>{on(ln,jn)}).catch(()=>{on(ln,jn)}):Fe(Jt,dn)}else Fe(Jt,dn)}(mt,zt):Fe(mt,zt),U.pushPlayListTraceMetrics(new Date,un.REPRESENTATION_SWITCH_STOP_REASON),U.createPlaylistTraceMetrics(mt.id,1e3*O.getTime(),O.getPlaybackRate())}function pn(){at(),sn(),z=!1}function rn(){le.abortRequests(),K=!0,A.setCheckPlaybackQuality(!1),A.startScheduleTimer(),z=!1}function on(je,mt){le.abortRequests(),ot(je+mt),A.setCheckPlaybackQuality(!1),A.startScheduleTimer(),z=!1}function Fe(je,mt){const zt=le.getRequests({state:Bt.FRAGMENT_MODEL_LOADING});if(zt&&zt.length>0)return N.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),j.newRepresentation=je,j.oldRepresentation=mt,void(j.enabled=!0);o.prepareForDefaultQualitySwitch(je,mt).then(()=>{nt()}).catch(()=>{nt()})}function nt(){A.setCheckPlaybackQuality(!1),m.segmentAlignment||m.subSegmentAlignment?A.startScheduleTimer():_e(),sn(),z=!1}function et(je){N.info("onFragmentLoadingAbandoned request: "+je.request.url+" has been aborted"),O.isSeeking()||A.getSwitchTrack()||z||(N.info("onFragmentLoadingAbandoned request: "+je.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),je.request&&je.request.isInitializationRequest()?A.setInitSegmentRequired(!0):ot(je.request.startTime+je.request.duration/2),A.startScheduleTimer(0))}function st(je){N.info("OnFragmentLoadingCompleted for stream id "+be.id+" and media type "+ue+" - Url:",je.request?je.request.url:"undefined",je.request.range?", Range:"+je.request.range:""),m.isText&&A.startScheduleTimer(0),je.error&&je.request.serviceLocation&&function(mt){N.info("Fragment loading completed with an error"),mt&&mt.request&&mt.request.type&&(mt.request.type===Te.HTTPRequest.INIT_SEGMENT_TYPE?Re({representationId:mt.request.representation.id,sender:{}},!1):mt.request.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&(ot(mt.request.startTime+mt.request.duration/2),$e({},!1)))}(je)}function He(){ot(O.getTime()),qt().startScheduleTimer()}function gt(je){const mt=je.currentTrackInfo;if(!mt)return;const zt=T.find(Jt=>Jt.index===mt.index&&Jt.lang===mt.lang);zt&&kt(new Tn({newMediaInfo:zt})).then(()=>{o.setIsBufferingCompleted(!1),ot(O.getTime()),A.setInitSegmentRequired(!0),A.startScheduleTimer()})}function _t(je){ot(je.quotaExceededTime),Xt()}function Ft(){return o?o.getBuffer():null}function qt(){return A}function Xt(){A&&A.clearScheduleTimer()}function Ge(){let je,mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN;return isNaN(mt)?je=k?k.getCurrentRepresentation():null:((0,it.checkInteger)(mt),je=k?k.getRepresentationById(mt):null),je}function ft(){return!!o&&o.getIsBufferingCompleted()}function St(je){if(!re.get().streaming.enableManifestTimescaleMismatchFix)return;const mt=je.chunk,zt=mt.bytes,Jt=Ge(mt.representation.id);Jt&&(Jt.timescale=V.getMediaTimescaleFromMoov(zt))}function Gt(je){const mt=je.chunk,zt=mt.bytes,Jt=Ge(mt.representation.id);if(Jt){let dn;if(re.get().streaming.parseInbandPrft&&je.request.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE){dn=dn||V.parse(zt);const Xn=function(Ta,ea){const Va=Ta.getBoxes("prft"),ur=[];return Va.forEach(_r=>{ur.push(function(Ra,Pa){let pa="unknown";switch(Ra.flags){case 0:pa=S.default.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:pa=S.default.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:pa=S.default.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}let Ca=1e3*Ra.ntp_timestamp_sec+Ra.ntp_timestamp_frac/2**32*1e3;return Ca=mn(Q).getInstance().ntpToUTC(Ca),{type:pa,ntpTimestamp:Ca,mediaTime:Ra.media_time/Pa}}(_r,ea))}),ur}(dn,Jt.timescale);Xn.length&&Z.trigger($.default.INBAND_PRFT,{data:Xn},{streamId:be.id,mediaType:ue})}const ln=ye.getEventsFor(Jt.mediaInfo,null,be),jn=ye.getEventsFor(Jt,Jt,be);if(ln&&ln.length>0||jn&&jn.length>0){const Xn=je.request;dn=dn||V.parse(zt);const Ta=function(ea,Va,ur,_r){try{const Ra={},Pa=[],pa=ur.concat(_r);for(let wa=0,wr=pa.length;wa<wr;wa++)Ra[pa[wa].schemeIdUri+"/"+pa[wa].value]=pa[wa];const Ca=ea.getBoxes("emsg");if(!Ca||Ca.length===0)return Pa;const Ka=ea.getBox("sidx"),Ri=!Ka||isNaN(Ka.earliest_presentation_time)||isNaN(Ka.timescale)?Va&&!isNaN(Va.mediaStartTime)?Va.mediaStartTime:0:Ka.earliest_presentation_time/Ka.timescale,$a=Math.max(Ri,0),Tr=k.getCurrentRepresentation();for(let wa=0,wr=Ca.length;wa<wr;wa++){const cr=ye.getEvent(Ca[wa],Ra,$a,Tr);cr&&Pa.push(cr)}return Pa}catch{return[]}}(dn,Xn,ln,jn);Z.trigger(P.default.INBAND_EVENTS,{events:Ta},{streamId:be.id})}}}function at(){const je=O.getTime();re.get().streaming.buffer.flushBufferAtTrackSwitch&&O.seek(je+.001,!1,!0),ot(je),o.setSeekTarget(je),A.startScheduleTimer()}function _e(){const je=O.getTime(),mt=o.getContinuousBufferTimeForTargetTime(je);ot(isNaN(mt)?je:mt),A.startScheduleTimer()}function Oe(je){je&&!isNaN(je.time)&&(ot(je.time),o.setSeekTarget(je.time))}function ot(je){g=je,W=!0}return w={checkAndHandleCompletedBuffering:Be,clearScheduleTimer:Xt,createBufferSinks:function(je,mt){const zt=Ft();return zt?Promise.resolve(zt):o?o.createBufferSink(m,je,mt):Promise.resolve(null)},dischargePreBuffer:function(){o.dischargePreBuffer()},finalisePlayList:function(je,mt){U.pushPlayListTraceMetrics(je,mt)},getAllMediaInfos:function(){return T},getBuffer:Ft,getBufferController:function(){return o},getBufferLevel:function(){return o?o.getBufferLevel():0},getFragmentModel:function(){return le},getMediaInfo:function(){return m},getMediaSource:function(){return o.getMediaSource()},getRepresentation:Ge,getRepresentationController:function(){return k},getScheduleController:qt,getStreamId:G,getStreamInfo:function(){return be},getType:ne,initialize:function(je,mt,zt){x=Ot(Q).create({events:P.default,eventBus:Z,streamInfo:be,timelineConverter:oe,dashConstants:S.default,segmentBaseController:d.segmentBaseController,type:ue}),v=Dt(Q).create({streamInfo:be,type:ue,timelineConverter:oe,dashMetrics:U,mediaPlayerModel:he,baseURLController:d.baseURLController,errHandler:H,segmentsController:x,settings:re,boxParser:V,events:P.default,eventBus:Z,errors:B,debug:(0,we.default)(Q).getInstance(),dashConstants:S.default,constants:M.default,urlUtils:pt(Q).getInstance()}),C=be.manifestInfo.isDynamic,v.initialize(C),ie.registerStreamType(ue,w),k=ht(Q).create({streamInfo:be,type:ue,abrController:ie,dashMetrics:U,playbackController:O,timelineConverter:oe,dashConstants:S.default,events:P.default,eventBus:Z,errors:B,isDynamic:C,adapter:ye,segmentsController:x}),o=function(Jt,dn){let ln=null;return Jt?(ln=Jt!==M.default.TEXT||dn?qe(Q).create({abrController:ie,capabilities:D,errHandler:H,fragmentModel:le,manifestModel:pe,mediaController:ge,mediaPlayerModel:he,playbackController:O,representationController:k,settings:re,streamInfo:be,textController:ce,type:Jt}):ct(Q).create({errHandler:H,fragmentModel:le,mimeType:Se,settings:re,streamInfo:be,textController:ce,type:Jt}),ln):(H.error(new Ie.default(B.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,B.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(ue,zt),o&&o.initialize(je),A=Nt(Q).create({streamInfo:be,type:ue,mimeType:Se,adapter:ye,dashMetrics:U,mediaPlayerModel:he,fragmentModel:le,abrController:ie,playbackController:O,textController:ce,mediaController:ge,bufferController:o,representationController:k,settings:re}),A.initialize(mt),g=0,W=!1,K=!1},isBufferingCompleted:ft,prepareInnerPeriodPlaybackSeeking:function(je){return new Promise(mt=>{if(o.hasBufferAtTime(je.seekTime))return o.pruneBuffer(),ke(o.getContinuousBufferTimeForTargetTime(je.seekTime))&&o.setIsBufferingCompleted(!0),void mt();Xt(),le.abortRequests(),o.prepareForPlaybackSeek().then(()=>{const zt=o.getAllRangesWithSafetyFactor(je.seekTime);return o.clearBuffers(zt)}).then(()=>{const zt=o.getContinuousBufferTimeForTargetTime(je.seekTime);if(ke(zt))o.setIsBufferingCompleted(!0),mt();else{const Jt=isNaN(zt)?je.seekTime:zt;ot(Jt),o.setSeekTarget(Jt);const dn=[];dn.push(o.updateAppendWindow());const ln=Ge();dn.push(o.updateBufferTimestampOffset(ln)),Promise.all(dn).then(()=>{A.setInitSegmentRequired(!0),A.setCheckPlaybackQuality(!1),A.startScheduleTimer(),mt()})}}).catch(zt=>{N.error(zt)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise((je,mt)=>{try{Xt(),le.abortRequests(),o.prepareForPlaybackSeek().then(()=>o.pruneAllSafely()).then(()=>{je()})}catch(zt){mt(zt)}})},prepareQualityChange:function(je){je.newRepresentation&&(j&&j.enabled&&N.warn(`Canceling queued representation switch to ${j.newRepresentation.id} for ${ue}`),je.isAdaptationSetSwitch?(N.debug(`Preparing quality switch to different AdaptationSet for type ${ue}`),function(mt){const zt=mt.newRepresentation;z=!0,Xt(),A.setSwitchTrack(!0);const Jt=zt.mediaInfo;$t(Jt),kt(new Tn({newMediaInfo:Jt,newRepresentation:zt})).then(()=>{en(mt)})}(je)):(N.debug(`Preparing quality within the same AdaptationSet for type ${ue}`),function(mt){const zt=mt.newRepresentation;z=!0,Xt(),k.prepareQualityChange(zt),en(mt)}(je)))},prepareTrackSwitch:function(je){let mt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Promise(zt=>{N.debug(`Preparing track switch for type ${ue}`);const Jt=ue===M.default.TEXT||mt||re.get().streaming.trackSwitchMode[ue]===M.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&O.getTimeToStreamEnd(be)>re.get().streaming.buffer.stallThreshold;o.getIsBufferingCompleted()&&!Jt?function(dn){return new Promise(ln=>{const jn=k.getCurrentRepresentation();o.prepareForNonReplacementTrackSwitch(jn,dn).then(()=>{Z.trigger(P.default.BUFFERING_COMPLETED,{},{streamId:be.id,mediaType:ue}),ln()}).catch(()=>{Z.trigger(P.default.BUFFERING_COMPLETED,{},{streamId:be.id,mediaType:ue}),ln()})})}(je).then(()=>{zt()}):(A.setSwitchTrack(!0),Jt?function(dn){return new Promise(ln=>{Z.trigger(P.default.BUFFER_REPLACEMENT_STARTED,{mediaType:ue,streamId:be.id},{mediaType:ue,streamId:be.id}),le.abortRequests();const jn=Ge();o.prepareForReplacementTrackSwitch(jn,dn).then(()=>{at(),ln()}).catch(()=>{at(),ln()})})}(je).then(()=>{zt()}):function(dn){return new Promise(ln=>{const jn=()=>{const Xn=le.getRequests({state:Bt.FRAGMENT_MODEL_LOADING});if(Xn&&Xn.length!==0)Z.once($.default.FRAGMENT_LOADING_COMPLETED,jn,w);else{const Ta=Ge();o.prepareForNonReplacementTrackSwitch(Ta,dn).then(()=>{_e(),ln()}).catch(ea=>{N.error(ea),_e(),ln()})}};jn()})}(je).then(()=>{zt()}))})},probeNextRequest:function(){const je=Ge();return v.getNextSegmentRequestIdempotent(m,je)},reset:function(je,mt){v&&v.reset(),o&&(o.reset(je,mt),o=null),A&&(A.reset(),A=null),k&&(k.reset(),k=null),x&&(x=null),ie&&ie.unRegisterStreamType(G(),ue),Z.off(P.default.INIT_FRAGMENT_NEEDED,Re,w),Z.off(P.default.MEDIA_FRAGMENT_NEEDED,$e,w),Z.off(P.default.INIT_FRAGMENT_LOADED,St,w),Z.off(P.default.MEDIA_FRAGMENT_LOADED,Gt,w),Z.off(P.default.BUFFER_LEVEL_STATE_CHANGED,vt,w),Z.off(P.default.BUFFER_CLEARED,yt,w),Z.off(P.default.SEEK_TARGET,Oe,w),Z.off(P.default.FRAGMENT_LOADING_ABANDONED,et,w),Z.off(P.default.FRAGMENT_LOADING_COMPLETED,st,w),Z.off(P.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,He,w),Z.off(P.default.SET_NON_FRAGMENTED_TEXT,gt,w),Z.off(P.default.QUOTA_EXCEEDED,_t,w),Z.off(P.default.SOURCE_BUFFER_ERROR,Ht,w),Z.off(P.default.BYTES_APPENDED_END_FRAGMENT,Kt,w),Ee(),ue=null,be=null},selectMediaInfo:kt,setExplicitBufferingTime:ot,setMediaInfoArray:function(je){T=je},setMediaSource:function(je){return o.setMediaSource(je,m)},setTrackSwitchInProgress:function(je){J=je},updateStreamInfo:function(je){return be=je,ft()?Promise.resolve():o.updateAppendWindow()}},N=(0,we.default)(Q).getInstance().getLogger(w),Ee(),Z.on(P.default.INIT_FRAGMENT_NEEDED,Re,w),Z.on(P.default.MEDIA_FRAGMENT_NEEDED,$e,w),Z.on(P.default.INIT_FRAGMENT_LOADED,St,w),Z.on(P.default.MEDIA_FRAGMENT_LOADED,Gt,w),Z.on(P.default.BUFFER_LEVEL_STATE_CHANGED,vt,w),Z.on(P.default.BUFFER_CLEARED,yt,w),Z.on(P.default.SEEK_TARGET,Oe,w),Z.on(P.default.FRAGMENT_LOADING_ABANDONED,et,w),Z.on(P.default.FRAGMENT_LOADING_COMPLETED,st,w),Z.on(P.default.QUOTA_EXCEEDED,_t,w),Z.on(P.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,He,w),Z.on(P.default.SET_NON_FRAGMENTED_TEXT,gt,w),Z.on(P.default.SOURCE_BUFFER_ERROR,Ht,w),Z.on(P.default.BYTES_APPENDED_END_FRAGMENT,Kt,w),w}zn.__dashjs_factory_name="StreamProcessor";var Qn=ae.default.getClassFactory(zn),qn=class{constructor(){this.streamId=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representation=null,this.endFragment=null}},xn=t(7263);function Vn(){let d,o;function g(){o&&(o.onloadend=o.onerror=o.onprogress=o.onload=null,o.abort(),o=null)}return d={load:function(m,v){if(o=null,o=new XMLHttpRequest,o.open(m.method,m.url,!0),m.responseType&&(o.responseType=m.responseType),m.headers)for(let w in m.headers){let C=m.headers[w];C&&o.setRequestHeader(w,C)}return o.withCredentials=m.credentials==="include",o.timeout=m.timeout,o.onload=function(){v.url=this.responseURL,v.status=this.status,v.statusText=this.statusText,v.headers=xn.default.parseHttpHeaders(this.getAllResponseHeaders()),v.data=this.response},o.onloadend=m.customData.onloadend,o.onprogress=m.customData.onprogress,o.onabort=m.customData.onabort,o.ontimeout=m.customData.ontimeout,o.send(),m.customData.abort=g.bind(this),!0},abort:g,getXhr:function(){return o},reset:function(){g(),d=null},resetInitialSettings:function(){g()}},d}Vn.__dashjs_factory_name="XHRLoader";var sa=ae.default.getClassFactory(Vn);function ga(){const d=this.context,o=(0,Y.default)(d).getInstance();let g,m,v;function w(k,A,x){k.customData.reader.read().then(x).catch(function(){C(k)})}function C(k){k.customData.onloadend&&k.customData.onloadend()}function N(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function T(){if(this.customData.abortController)this.customData.abortController.abort();else if(this.customData.reader)try{this.customData.reader.cancel(),this.onabort()}catch{}}function j(k,A){try{if((k=k.filter(x=>x.bytes>A/4/k.length)).length>1){let x=0;const K=(k[k.length-1].timestamp-k[0].timestamp)/k.length;return k.forEach((W,J)=>{const Q=k[J+1];if(Q){const Z=Q.timestamp-W.timestamp;x+=Z<K?Z:0}}),x}return null}catch{return null}}function z(k,A){return 8*k/A}return v=(0,we.default)(d).getInstance().getLogger(g),g={abort:T,calculateDownloadedTime:j,load:function(k,A){const x=function(J){const Q=new Headers;if(J.headers)for(let Z in J.headers){let ie=J.headers[Z];ie&&Q.append(Z,ie)}return Q}(k),K=function(J){let Q;return typeof window.AbortController=="function"&&(Q=new AbortController,J.customData.abortController=Q,Q.signal.onabort=J.customData.onabort),J.customData.abort=T.bind(J),Q}(k),W=function(J,Q,Z){return new Request(J.url,{method:J.method,headers:Q,credentials:J.credentials,signal:Z?Z.signal:void 0})}(k,x,K);fetch(W).then(J=>{(function(Q,Z,ie){(function(O,me){O.status=me.status,O.statusText=me.statusText,O.url=me.url;const re={};for(const be of me.headers.keys())re[be]=me.headers.get(be);O.headers=re})(ie,Q),Q.ok||Z.customData.onloadend();let ye=0,V=!1,D=new Uint8Array,U=0;Z.customData.reader=Q.body.getReader();let H=[],le=[],pe=[],ge=!0;const he=o.get().streaming.abr.throughput.lowLatencyDownloadTimeCalculationMode,Se=O=>{let{value:me,done:re}=O;re?function(){if(D){const be=function(){let ce=null;return he===M.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING?ce=function(){const oe=function(ue,G){try{let ne,Ee;if(ne=ue.slice(0,-1),Ee=G.slice(0,-1),ne.length!==Ee.length&&v.warn(`[FetchLoader] Moof and Mdat data arrays have different lengths. Moof: ${ne.length}, Mdat: ${Ee.length}`),ne.length<=1)return null;let ke=[],Re=0,$e=0;for(let Be=0;Be<ne.length;Be++)if(ne[Be]&&Ee[Be]){let tt=Ee[Be].timestamp-ne[Be].timestamp;if(tt>1){const vt=z(Ee[Be].bytes,tt);ke.push(vt),$e=0}else{$e===0&&($e=ne[Be].timestamp,Re=0);let vt=Ee[Be].timestamp-$e;if(vt>1){Re+=Ee[Be].bytes;const yt=z(Re,vt);ke.push(yt),$e=0}else Re+=Ee[Be].bytes}}return ke.length>0?ke.reduce((Be,tt)=>Be+tt,0)/ke.length:null}catch{return null}}(le,pe);return oe?8*ye/oe:null}():he===M.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.DOWNLOADED_DATA&&(ce=j(H,ye)),ce}();Z.customData.onprogress({loaded:ye,total:ye,lengthComputable:!0,time:be}),ie.data=D.buffer}Z.customData.onloadend()}():(me&&me.length>0&&function(be){D=function(oe,ue){if(oe.length===0)return ue;const G=new Uint8Array(oe.length+ue.length);return G.set(oe),G.set(ue,oe.length),G}(D,be),ye+=be.length,H.push({timestamp:N(),bytes:be.length}),he===M.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING&&ge&&m.findLastTopIsoBoxCompleted(["moof"],D,U).found&&(ge=!1,le.push({timestamp:N()}));const ce=m.findLastTopIsoBoxCompleted(["moov","mdat"],D,U);ce.found?function(oe){const ue=function(G){let ne;return G===D.length?(ne=D,D=new Uint8Array):(ne=new Uint8Array(D.subarray(0,G)),D=D.subarray(G)),ne}(oe.startOffsetOfLastFoundTargetBox+oe.sizeOfLastFoundTargetBox);he!==M.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING||ge||(ge=!0,pe.push({timestamp:N(),bytes:ue.length})),Z.customData.onprogress({data:ue.buffer,lengthComputable:!1,noTrace:!0}),U=0}(ce):function(oe){U=oe.startOffsetOfLastCompletedBox+oe.sizeOfLastCompletedBox,V||(Z.customData.onprogress({lengthComputable:!1,noTrace:!0}),V=!0)}(ce)}(me),w(Z,0,Se))};w(Z,0,Se)})(J,k,A)}).catch(()=>{C(k)})},reset:function(){},setConfig:function(k){m=k.boxParser}},g}ga.__dashjs_factory_name="FetchLoader";var Fa=ae.default.getClassFactory(ga),Jn=t(913),ma=class{constructor(){this.period=null,this.index=-1,this.type=null}};class Sa{constructor(o,g,m,v){this.url=o||"",this.serviceLocation=g||o||"",this.dvbPriority=m||1,this.dvbWeight=v||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}}}Sa.DEFAULT_DVB_PRIORITY=1,Sa.DEFAULT_DVB_WEIGHT=1;var rr=Sa,Ea=class{constructor(){this.schemeIdUri=null,this.value=null,this.id=null}init(d){d&&(this.schemeIdUri=d.schemeIdUri?d.schemeIdUri:null,this.value=d.value?d.value.toString():null,this.id=d.id?d.id:null,d[S.default.DVB_URL]&&(this.dvbUrl=d[S.default.DVB_URL]),d[S.default.DVB_MIMETYPE]&&(this.dvbMimeType=d[S.default.DVB_MIMETYPE]),d[S.default.DVB_FONTFAMILY]&&(this.dvbFontFamily=d[S.default.DVB_FONTFAMILY]))}inArray(d){return!!d&&d.some(o=>this.schemeIdUri===o.schemeIdUri&&(this.value?this.value.toString().match(o.value):"".match(o.value)))}},ti=class extends Ea{constructor(){super(),this.version=null,this.sessionID=null,this.contentID=null,this.mode=null,this.keys=null,this.includeInRequests=null}init(d){super.init(d),d&&(this.version=d.version,this.sessionID=d.sessionID,this.contentID=d.contentID,this.mode=d.mode??"query",this.keys=d.keys?d.keys.split(" "):null,this.includeInRequests=d.includeInRequests?d.includeInRequests.split(" "):["segment"],this.schemeIdUri=d.schemeIdUri)}},ni=class{constructor(){this.adaptationSets=null,this.adaptationSetsArray=[],this.cmcdParameters=null,this.serviceLocations=null,this.serviceLocationsArray=[]}},Or=class extends Ea{constructor(){super(),this.ref=null,this.refId=null,this.robustness=null,this.keyId=null,this.cencDefaultKid=null,this.pssh=null,this.pro=null,this.laUrl=null}init(d){super.init(d),d&&(this.ref=d.hasOwnProperty(S.default.REF)?d[S.default.REF]:null,this.refId=d.hasOwnProperty(S.default.REF_ID)?d[S.default.REF_ID]:null,this.robustness=d.hasOwnProperty(S.default.ROBUSTNESS)?d[S.default.ROBUSTNESS]:null,this.cencDefaultKid=d.hasOwnProperty(S.default.CENC_DEFAULT_KID)?d[S.default.CENC_DEFAULT_KID]:null,this.pssh=d.hasOwnProperty(S.default.PSSH)?d[S.default.PSSH]:null,this.pro=d.hasOwnProperty(S.default.PRO)?d[S.default.PRO]:null,this.laUrl=d.hasOwnProperty(S.default.LA_URL)?d[S.default.LA_URL]:d.hasOwnProperty(S.default.LA_URL_LOWER_CASE)?d[S.default.LA_URL_LOWER_CASE]:null)}mergeAttributesFromReference(d){["schemeIdUri","value","id","robustness","cencDefaultKid","pro","pssh","laUrl"].forEach(o=>{this[o]===null&&(this[o]=d[o])})}},ai=class{constructor(){this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0}},Rt=class{constructor(){this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN,this.parsedMessageData=null}},Zt=class{constructor(){this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0}},bn=class{constructor(){this.availabilityEndTime=Number.POSITIVE_INFINITY,this.availabilityStartTime=null,this.manifest=null,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.mediaPresentationDuration=NaN,this.minimumUpdatePeriod=NaN,this.publishTime=null,this.suggestedPresentationDelay=0,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY}},Sn=class{constructor(d,o){this.url=d||"",this.serviceLocation=o||null,this.queryParams={}}},Fn=t(7393),$n=class{constructor(d,o,g){this.url=d||"",this.serviceLocation=o||null,this.ttl=g||NaN,this.queryParams={}}};class Un{constructor(){this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null,this.isEncrypted=!1}}Un.DEFAULT_ID="defaultId";var An=Un,Dn=class{constructor(){this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null}},Cn=class{constructor(){this.absoluteIndex=NaN,this.adaptation=null,this.availabilityTimeComplete=!0,this.availabilityTimeOffset=0,this.bandwidth=NaN,this.bitrateInKbit=NaN,this.bitsPerPixel=NaN,this.codecFamily=null,this.codecPrivateData=null,this.codecs=null,this.essentialProperties=[],this.fragmentDuration=null,this.frameRate=null,this.height=NaN,this.id=null,this.indexRange=null,this.initialization=null,this.maxPlayoutRate=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.mediaInfo=null,this.mimeType=null,this.mseTimeOffset=NaN,this.pixelsPerSecond=NaN,this.presentationTimeOffset=0,this.qualityRanking=NaN,this.range=null,this.scanType=null,this.segments=null,this.segmentDuration=NaN,this.segmentInfoType=null,this.supplementalProperties=[],this.startNumber=1,this.timescale=1,this.width=NaN}hasInitialization(){return this.initialization!==null||this.range!==null}hasSegments(){return this.segmentInfoType!==S.default.BASE_URL&&this.segmentInfoType!==S.default.SEGMENT_BASE&&!this.indexRange}},Hn=t(5717);function xa(){let d,o,g,m;const v=this.context,w=pt(v).getInstance(),C=Number.isInteger||function(O){return typeof O=="number"&&isFinite(O)&&Math.floor(O)===O};function N(O,me){if(!O)throw new Error("adaptation is not defined");if(!me)throw new Error("type is not defined");if(O.Representation&&O.Representation.length){const be=V(O.Representation[0]);if(be&&be.some(ce=>M.default.THUMBNAILS_SCHEME_ID_URIS.indexOf(ce.schemeIdUri)>=0))return me===M.default.IMAGE}if(O.ContentComponent&&O.ContentComponent.length>0){if(O.ContentComponent.length>1)return me===M.default.MUXED;if(O.ContentComponent[0].contentType===me)return!0}const re=me===M.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(me);if(O.Representation&&O.Representation.length){const be=O.Representation[0].codecs;if(re.test(be))return!0}if(O.hasOwnProperty(S.default.MIME_TYPE))return re.test(O.mimeType);if(O.Representation){let be;for(let ce=0;ce<O.Representation.length;ce++)if(be=O.Representation[ce],be.hasOwnProperty(S.default.MIME_TYPE))return re.test(be.mimeType)}return!1}function T(O){if(!O)throw new Error("adaptation is not defined");if(O.hasOwnProperty(S.default.SEGMENT_TEMPLATE)||O.hasOwnProperty(S.default.SEGMENT_TIMELINE)||O.hasOwnProperty(S.default.SEGMENT_LIST)||O.hasOwnProperty(S.default.SEGMENT_BASE))return!0;if(O.Representation&&O.Representation.length>0){const me=O.Representation[0];if(me.hasOwnProperty(S.default.SEGMENT_TEMPLATE)||me.hasOwnProperty(S.default.SEGMENT_TIMELINE)||me.hasOwnProperty(S.default.SEGMENT_LIST)||me.hasOwnProperty(S.default.SEGMENT_BASE))return!0}return!1}function j(O){return N(O,M.default.VIDEO)}function z(O){return N(O,M.default.TEXT)}function k(O){return N(O,M.default.IMAGE)}function A(O){return O&&O.Representation&&O.Representation.sort((me,re)=>me.bandwidth-re.bandwidth),O}function x(O,me){return O&&O.Period&&C(me)&&O.Period[me]?O.Period[me].AdaptationSet:[]}function K(O){return O&&O.Period?O.Period:[]}function W(O){const me=J(O);return me&&me.length>0}function J(O){let me=[];if(!O)return me;const re=Q(O);return me=me.concat(re),O.hasOwnProperty(S.default.ADAPTATION_SET)&&O[S.default.ADAPTATION_SET].length>0&&O[S.default.ADAPTATION_SET].forEach(be=>{const ce=Q(be);me=me.concat(ce)}),me}function Q(O){return O&&O.hasOwnProperty(S.default.CONTENT_PROTECTION)&&O.ContentProtection.length!==0?O[S.default.CONTENT_PROTECTION].map(me=>{const re=new Or;return re.init(me),re}):[]}function Z(O){let me=!1;return O&&O.hasOwnProperty("type")&&(me=O.type===S.default.DYNAMIC),me}function ie(O,me){return me&&me.hasOwnProperty(O)&&me[O].length?me[O].map(re=>{const be=new Ea;return be.init(re),be}):[]}function ye(O,me){if(!me)return[];let re=function(be,ce){if(!ce||!ce.length)return[];let oe=ce[0][be]||[];return oe.length===0?[]:ce.length===1?oe:oe.filter(ue=>ce.slice(1).every(G=>G.hasOwnProperty(be)&&G[be].some(ne=>ne.schemeIdUri===ue.schemeIdUri&&ne.value===ue.value)))}(O,me[S.default.REPRESENTATION]);return me.hasOwnProperty(O)&&me[O].length&&re.push(...me[O]),re.map(be=>{const ce=new Ea;return ce.init(be),ce})}function V(O){return ie(S.default.ESSENTIAL_PROPERTY,O)}function D(O){return ie(S.default.SUPPLEMENTAL_PROPERTY,O)}function U(O){if(!O||!O.S)return NaN;let me=O.S[0],re=O.S[1];return me.hasOwnProperty("d")?me.d:re.t-me.t}function H(O){const me=O.presentationTimeOffset;return O.adaptation.period.start-me}function le(O,me){if(!O)throw new Error("Period cannot be null or undefined");let re=An.DEFAULT_ID+"_"+me;return O.hasOwnProperty(S.default.ID)&&O.id.toString().length>0&&O.id!=="__proto__"&&(re=O.id.toString()),re}function pe(O,me,re){const be=[];let ce;if(!O)return be;for(ce=0;ce<O.length;ce++){const oe=new Zt;if(oe.timescale=1,oe.representation=me,!O[ce].hasOwnProperty(M.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");oe.schemeIdUri=O[ce].schemeIdUri,O[ce].hasOwnProperty(S.default.TIMESCALE)&&(oe.timescale=O[ce].timescale),O[ce].hasOwnProperty(S.default.VALUE)&&(oe.value=O[ce].value),be.push(oe),oe.period=re}return be}function ge(O){const me=[],re=O.BaseURL||[O.baseUri];let be=!1;return re.some(ce=>{if(ce){const oe=new rr;let ue=ce.__text||ce;return w.isRelative(ue)&&(be=!0,O.baseUri&&(ue=w.resolve(ue,O.baseUri))),oe.url=ue,ce.hasOwnProperty(S.default.SERVICE_LOCATION)&&ce.serviceLocation.length?oe.serviceLocation=ce.serviceLocation:oe.serviceLocation=ue,ce.hasOwnProperty(S.default.DVB_PRIORITY)&&(oe.dvbPriority=ce[S.default.DVB_PRIORITY]),ce.hasOwnProperty(S.default.DVB_WEIGHT)&&(oe.dvbWeight=ce[S.default.DVB_WEIGHT]),ce.hasOwnProperty(S.default.AVAILABILITY_TIME_OFFSET)&&(oe.availabilityTimeOffset=ce[S.default.AVAILABILITY_TIME_OFFSET]),ce.hasOwnProperty(S.default.AVAILABILITY_TIME_COMPLETE)&&(oe.availabilityTimeComplete=ce[S.default.AVAILABILITY_TIME_COMPLETE]!=="false"),me.push(oe),be}}),me}function he(O){const me=new ai;return me.serverUrl=O.__text,O.hasOwnProperty(S.default.DEFAULT_SERVICE_LOCATION)&&(me.defaultServiceLocation=O[S.default.DEFAULT_SERVICE_LOCATION],me.defaultServiceLocationArray=me.defaultServiceLocation.split(" ")),O.hasOwnProperty(S.default.QUERY_BEFORE_START)&&(me.queryBeforeStart=O[S.default.QUERY_BEFORE_START].toLowerCase()==="true"),O.hasOwnProperty(S.default.CLIENT_REQUIREMENT)&&(me.clientRequirement=O[S.default.CLIENT_REQUIREMENT].toLowerCase()!=="false"),me}function Se(O){const me=new ni;return O.hasOwnProperty(S.default.CMCD_PARAMETERS)&&O[S.default.CMCD_PARAMETERS].schemeIdUri===M.default.CTA_5004_2023_SCHEME&&(me.cmcdParameters=new ti,me.cmcdParameters.init(O[S.default.CMCD_PARAMETERS])),O.hasOwnProperty(S.default.SERVICE_LOCATIONS)&&O[S.default.SERVICE_LOCATIONS]!==""&&(me.serviceLocations=O[S.default.SERVICE_LOCATIONS],me.serviceLocationsArray=me.serviceLocations.toString().split(" ")),O.hasOwnProperty(S.default.ADAPTATION_SETS)&&O[S.default.ADAPTATION_SETS]!==""&&(me.adaptationSets=O[S.default.ADAPTATION_SETS],me.adaptationSetsArray=me.adaptationSets.toString().split(" ")),me}return d={getAccessibilityForAdaptation:function(O){return O&&O.hasOwnProperty(S.default.ACCESSIBILITY)&&O[S.default.ACCESSIBILITY].length?O[S.default.ACCESSIBILITY].map(me=>{const re=new Ea;return re.init(me),re}):[]},getAdaptationForId:function(O,me,re){const be=x(me,re);let ce,oe;for(ce=0,oe=be.length;ce<oe;ce++)if(be[ce].hasOwnProperty(S.default.ID)&&be[ce].id===O)return be[ce];return null},getAdaptationForIndex:function(O,me,re){const be=x(me,re);return be.length>0&&C(O)?be[O]:null},getAdaptationsForPeriod:function(O){const me=O&&C(O.index)?O.mpd.manifest.Period[O.index]:null,re=[];let be,ce,oe;if(me&&me.AdaptationSet)for(oe=0;oe<me.AdaptationSet.length;oe++)ce=me.AdaptationSet[oe],be=new ma,ce.hasOwnProperty(S.default.ID)&&(be.id=ce.id),be.index=oe,be.period=O,N(ce,M.default.MUXED)?be.type=M.default.MUXED:N(ce,M.default.AUDIO)?be.type=M.default.AUDIO:j(ce)?be.type=M.default.VIDEO:z(ce)?be.type=M.default.TEXT:k(ce)?be.type=M.default.IMAGE:o.warn("Unknown Adaptation stream type"),re.push(be);return re},getAdaptationsForType:function(O,me,re){const be=x(O,me);let ce,oe;const ue=[];for(ce=0,oe=be.length;ce<oe;ce++)N(be[ce],re)&&ue.push(A(be[ce]));return ue},getAudioChannelConfigurationForAdaptation:function(O){return O&&O.hasOwnProperty(S.default.AUDIO_CHANNEL_CONFIGURATION)&&O[S.default.AUDIO_CHANNEL_CONFIGURATION].length?O[S.default.AUDIO_CHANNEL_CONFIGURATION].map(me=>{const re=new Ea;return re.init(me),re}):[]},getAudioChannelConfigurationForRepresentation:function(O){return O&&O.hasOwnProperty(S.default.AUDIO_CHANNEL_CONFIGURATION)&&O[S.default.AUDIO_CHANNEL_CONFIGURATION].length?O[S.default.AUDIO_CHANNEL_CONFIGURATION].map(me=>{const re=new Ea;return re.init(me),re}):[]},getAvailabilityStartTime:function(O){return O&&O.hasOwnProperty(S.default.AVAILABILITY_START_TIME)&&O.availabilityStartTime!==null?O.availabilityStartTime.getTime():null},getBandwidth:function(O){return O&&O.bandwidth?O.bandwidth:NaN},getBaseURLsFromElement:ge,getBitrateListForAdaptation:function(O){const me=A(O);return(me&&me.Representation?me.Representation:[]).map(re=>({bandwidth:re.bandwidth,width:re.width||0,height:re.height||0,scanType:re.scanType||null,id:re.id||null}))},getCodec:function(O,me,re){let be=null;if(O&&O.Representation&&O.Representation.length>0){const ce=C(me)&&me>=0&&me<O.Representation.length?O.Representation[me]:O.Representation[0];ce&&(be=ce.mimeType+';codecs="'+ce.codecs+'"',re&&ce.width!==void 0&&(be+=';width="'+ce.width+'";height="'+ce.height+'"'))}return be&&(be=be.replace(/\sprofiles=[^;]*/g,"")),be},getCombinedEssentialPropertiesForAdaptationSet:function(O){return ye(S.default.ESSENTIAL_PROPERTY,O)},getCombinedSupplementalPropertiesForAdaptationSet:function(O){return ye(S.default.SUPPLEMENTAL_PROPERTY,O)},getContentProtectionByAdaptation:function(O){return Q(O)},getContentProtectionByManifest:function(O){let me=[];if(!O)return me;const re=Q(O);return me=me.concat(re),O.hasOwnProperty(S.default.PERIOD)&&O[S.default.PERIOD].length>0&&O[S.default.PERIOD].forEach(be=>{const ce=J(be);me=me.concat(ce)}),me},getContentProtectionByPeriod:J,getContentSteering:function(O){if(O&&O.hasOwnProperty(S.default.CONTENT_STEERING))return he(O[S.default.CONTENT_STEERING][0])},getDuration:function(O){let me;return me=O&&O.hasOwnProperty(S.default.MEDIA_PRESENTATION_DURATION)?O.mediaPresentationDuration:O&&O.type=="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,me},getEssentialPropertiesForAdaptationSet:function(O){return ie(S.default.ESSENTIAL_PROPERTY,O)},getEssentialPropertiesForRepresentation:V,getEventStreamForAdaptationSet:function(O,me,re){let be,ce,oe;return O&&O.Period&&me&&me.period&&C(me.period.index)&&(ce=O.Period[me.period.index],ce&&ce.AdaptationSet&&C(me.index)&&(oe=ce.AdaptationSet[me.index],oe&&(be=oe.InbandEventStream))),pe(be,null,re)},getEventStreamForRepresentation:function(O,me,re){let be,ce,oe,ue;return O&&O.Period&&me&&me.adaptation&&me.adaptation.period&&C(me.adaptation.period.index)&&(ce=O.Period[me.adaptation.period.index],ce&&ce.AdaptationSet&&C(me.adaptation.index)&&(oe=ce.AdaptationSet[me.adaptation.index],oe&&oe.Representation&&C(me.index)&&(ue=oe.Representation[me.index],ue&&(be=ue.InbandEventStream)))),pe(be,me,re)},getEventsForPeriod:function(O){const me=O&&O.mpd&&O.mpd.manifest?O.mpd.manifest:null,re=me?me.Period:null,be=re&&O&&C(O.index)?re[O.index].EventStream:null,ce=[];let oe,ue;if(be)for(oe=0;oe<be.length;oe++){const G=new Zt;if(G.period=O,G.timescale=1,!be[oe].hasOwnProperty(M.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(G.schemeIdUri=be[oe][M.default.SCHEME_ID_URI],be[oe].hasOwnProperty(S.default.TIMESCALE)&&(G.timescale=be[oe][S.default.TIMESCALE]),be[oe].hasOwnProperty(S.default.VALUE)&&(G.value=be[oe][S.default.VALUE]),be[oe].hasOwnProperty(S.default.PRESENTATION_TIME_OFFSET)&&(G.presentationTimeOffset=be[oe][S.default.PRESENTATION_TIME_OFFSET]),ue=0;be[oe].Event&&ue<be[oe].Event.length;ue++){const ne=be[oe].Event[ue],Ee=new Rt;Ee.presentationTime=0,Ee.eventStream=G,ne.hasOwnProperty(S.default.PRESENTATION_TIME)&&(Ee.presentationTime=ne.presentationTime);const ke=G.presentationTimeOffset?G.presentationTimeOffset/G.timescale:0;Ee.calculatedPresentationTime=Ee.presentationTime/G.timescale+O.start-ke,ne.hasOwnProperty(S.default.DURATION)&&(Ee.duration=ne.duration/G.timescale),ne.hasOwnProperty(S.default.ID)?Ee.id=parseInt(ne.id):Ee.id=null,ne.Signal&&ne.Signal.Binary?Ee.messageData=m.decodeArray(ne.Signal.Binary.toString()):Ee.messageData=ne.messageData||ne.__cdata||ne.__text,ce.push(Ee)}}return ce},getId:function(O){return O&&O[S.default.ID]||null},getIndexForAdaptation:function(O,me,re){if(!O)return-1;const be=x(me,re);for(let ce=0;ce<be.length;ce++)if((0,Fn.default)(v).getInstance().areEqual(be[ce],O))return ce;return-1},getIsDynamic:Z,getIsFragmented:T,getIsText:z,getIsTypeOf:N,getLabelsForAdaptation:function(O){if(!O||!O.Label)return[];const me=[];for(let re=0;re<O.Label.length;re++)me.push({lang:O.Label[re].lang,text:O.Label[re].__text||O.Label[re]});return me},getLanguageForAdaptation:function(O){let me="";return O&&O.hasOwnProperty(S.default.LANG)&&(me=O.lang),me},getLocation:function(O){return O&&O.hasOwnProperty(S.default.LOCATION)?O[S.default.LOCATION].map(me=>{const re=me.__text||me,be=me.hasOwnProperty(S.default.SERVICE_LOCATION)?me[S.default.SERVICE_LOCATION]:null;return new Sn(re,be)}):[]},getManifestUpdatePeriod:function(O){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,re=NaN;return O&&O.hasOwnProperty(S.default.MINIMUM_UPDATE_PERIOD)&&(re=O.minimumUpdatePeriod),isNaN(re)?re:Math.max(re-me,1)},getMimeType:function(O){return O&&O.Representation&&O.Representation.length>0?O.Representation[0].mimeType:null},getMpd:function(O){const me=new bn;return O&&(me.manifest=O,O.hasOwnProperty(S.default.AVAILABILITY_START_TIME)?me.availabilityStartTime=new Date(O.availabilityStartTime.getTime()):O.loadedTime&&(me.availabilityStartTime=new Date(O.loadedTime.getTime())),O.hasOwnProperty(S.default.AVAILABILITY_END_TIME)&&(me.availabilityEndTime=new Date(O.availabilityEndTime.getTime())),O.hasOwnProperty(S.default.MINIMUM_UPDATE_PERIOD)&&(me.minimumUpdatePeriod=O.minimumUpdatePeriod),O.hasOwnProperty(S.default.MEDIA_PRESENTATION_DURATION)&&(me.mediaPresentationDuration=O.mediaPresentationDuration),O.hasOwnProperty(S.default.SUGGESTED_PRESENTATION_DELAY)&&(me.suggestedPresentationDelay=O.suggestedPresentationDelay),O.hasOwnProperty(S.default.TIMESHIFT_BUFFER_DEPTH)&&(me.timeShiftBufferDepth=O.timeShiftBufferDepth),O.hasOwnProperty(S.default.MAX_SEGMENT_DURATION)&&(me.maxSegmentDuration=O.maxSegmentDuration),O.hasOwnProperty(S.default.PUBLISH_TIME)&&(me.publishTime=new Date(O.publishTime))),me},getPatchLocation:function(O){return O&&O.hasOwnProperty(S.default.PATCH_LOCATION)?O[S.default.PATCH_LOCATION].map(me=>{const re=me.__text||me,be=me.hasOwnProperty(S.default.SERVICE_LOCATION)?me[S.default.SERVICE_LOCATION]:null;let ce=me.hasOwnProperty(S.default.TTL)?1e3*parseFloat(me[S.default.TTL]):NaN;return new $n(re,be,ce)}):[]},getProducerReferenceTimesForAdaptation:function(O){const me=O&&O.hasOwnProperty(S.default.PRODUCER_REFERENCE_TIME)?O[S.default.PRODUCER_REFERENCE_TIME]:[];(O&&O.hasOwnProperty(S.default.REPRESENTATION)?O[S.default.REPRESENTATION]:[]).forEach(be=>{be.hasOwnProperty(S.default.PRODUCER_REFERENCE_TIME)&&me.push(...be[S.default.PRODUCER_REFERENCE_TIME])});const re=[];return me.forEach(be=>{const ce=new Dn;be.hasOwnProperty(S.default.ID)&&(ce[S.default.ID]=parseInt(be[S.default.ID]),be.hasOwnProperty(S.default.WALL_CLOCK_TIME)&&(ce[S.default.WALL_CLOCK_TIME]=be[S.default.WALL_CLOCK_TIME],be.hasOwnProperty(S.default.PRESENTATION_TIME)&&(ce[S.default.PRESENTATION_TIME]=be[S.default.PRESENTATION_TIME],be.hasOwnProperty(S.default.INBAND)&&(ce[S.default.INBAND]=be[S.default.INBAND]!=="false"),be.hasOwnProperty(S.default.TYPE)&&(ce[S.default.TYPE]=be[S.default.TYPE]),re.push(ce))))}),re},getPublishTime:function(O){return O&&O.hasOwnProperty(S.default.PUBLISH_TIME)?new Date(O[S.default.PUBLISH_TIME]):null},getRealPeriodForIndex:function(O,me){const re=K(me);return re.length>0&&C(O)?re[O]:null},getRealPeriods:K,getRegularPeriods:function(O){const me=!!O&&Z(O.manifest),re=[];let be,ce,oe=null,ue=null,G=null,ne=null;for(ce=0,be=O&&O.manifest&&O.manifest.Period?O.manifest.Period.length:0;ce<be;ce++)ue=O.manifest.Period[ce],ue.hasOwnProperty(S.default.START)?(ne=new An,ne.start=ue.start):oe!==null&&oe.hasOwnProperty(S.default.DURATION)&&G!==null?(ne=new An,ne.start=parseFloat((G.start+G.duration).toFixed(5))):ce!==0||me||(ne=new An,ne.start=0),G!==null&&isNaN(G.duration)&&(ne!==null?G.duration=parseFloat((ne.start-G.start).toFixed(5)):o.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),ne!==null&&(ne.id=le(ue,ce),ne.index=ce,ne.mpd=O,ne.isEncrypted=W(ue),ue.hasOwnProperty(S.default.DURATION)&&(ne.duration=ue.duration),G&&(G.nextPeriodId=ne.id),re.push(ne),oe=ue,G=ne),ue=null,ne=null;return re.length===0||G!==null&&isNaN(G.duration)&&(G.duration=parseFloat((function(Ee){(function(){if(!g||!g.hasOwnProperty("error"))throw new Error(M.default.MISSING_CONFIG_ERROR)})();const ke=Z(Ee.mpd.manifest);let Re;return Ee.mpd.manifest.mediaPresentationDuration?Re=Ee.mpd.manifest.mediaPresentationDuration:Ee.duration?Re=Ee.duration:ke?Re=Number.POSITIVE_INFINITY:g.error(new Ie.default(B.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Ee)),Re}(G)-G.start).toFixed(5))),re},getRepresentationCount:function(O){return O&&O.Representation?O.Representation.length:0},getRepresentationFor:function(O,me){return me&&me.Representation&&me.Representation.length>0&&C(O)?me.Representation[O]:null},getRepresentationSortFunction:function(){return(O,me)=>O.bandwidth-me.bandwidth},getRepresentationsForAdaptation:function(O,me){const re=[],be=function(ue){if(ue&&ue.period&&C(ue.period.index)){const G=ue.period.mpd.manifest.Period[ue.period.index];if(G&&G.AdaptationSet&&C(ue.index))return A(G.AdaptationSet[ue.index])}}(O);let ce,oe;if(be&&be.Representation){if(O&&O.period&&C(O.period.index)){const ue=ge(O.period.mpd.manifest);ue&&(oe=ue[0])}for(let ue=0,G=be.Representation.length;ue<G;++ue){const ne=be.Representation[ue],Ee=new Cn;if(Ee.index=ue,Ee.adaptation=O,Ee.mediaInfo=me,ne.hasOwnProperty(S.default.ID)&&(Ee.id=ne.id),ne.hasOwnProperty(S.default.CODECS)&&(Ee.codecs=ne.codecs,Ee.codecFamily=xn.default.getCodecFamily(Ee.codecs)),ne.hasOwnProperty(S.default.MIME_TYPE)&&(Ee.mimeType=ne[S.default.MIME_TYPE]),ne.hasOwnProperty(S.default.CODEC_PRIVATE_DATA)&&(Ee.codecPrivateData=ne.codecPrivateData),ne.hasOwnProperty(S.default.BANDWITH)&&(Ee.bandwidth=ne.bandwidth,Ee.bitrateInKbit=ne.bandwidth/1e3),ne.hasOwnProperty(S.default.WIDTH)&&(Ee.width=ne.width),ne.hasOwnProperty(S.default.HEIGHT)&&(Ee.height=ne.height),ne.hasOwnProperty(S.default.SCAN_TYPE)&&(Ee.scanType=ne.scanType),ne.hasOwnProperty(S.default.FRAMERATE)){const ke=ne[S.default.FRAMERATE];if(isNaN(ke)&&ke.includes("/")){const Re=ke.split("/");if(Re.length===2){const $e=parseFloat(Re[0]),Be=parseFloat(Re[1]);isNaN($e)||isNaN(Be)||Be===0||(Ee.frameRate=$e/Be)}}else Ee.frameRate=ke}if(ne.hasOwnProperty(S.default.QUALITY_RANKING)&&(Ee.qualityRanking=ne[S.default.QUALITY_RANKING]),ne.hasOwnProperty(S.default.MAX_PLAYOUT_RATE)&&(Ee.maxPlayoutRate=ne.maxPlayoutRate),ne.hasOwnProperty(S.default.SEGMENT_BASE)?(ce=ne.SegmentBase,Ee.segmentInfoType=S.default.SEGMENT_BASE):ne.hasOwnProperty(S.default.SEGMENT_LIST)?(ce=ne.SegmentList,ce.hasOwnProperty(S.default.SEGMENT_TIMELINE)?Ee.segmentInfoType=S.default.SEGMENT_TIMELINE:Ee.segmentInfoType=S.default.SEGMENT_LIST):ne.hasOwnProperty(S.default.SEGMENT_TEMPLATE)?(ce=ne.SegmentTemplate,ce.hasOwnProperty(S.default.SEGMENT_TIMELINE)?Ee.segmentInfoType=S.default.SEGMENT_TIMELINE:Ee.segmentInfoType=S.default.SEGMENT_TEMPLATE,ce.hasOwnProperty(S.default.INITIALIZATION_MINUS)&&(Ee.initialization=ce.initialization.split("$Bandwidth$").join(ne.bandwidth).split("$RepresentationID$").join(ne.id))):Ee.segmentInfoType=S.default.BASE_URL,Ee.essentialProperties=V(ne),Ee.supplementalProperties=D(ne),ce){if(ce.hasOwnProperty(S.default.INITIALIZATION)){const ke=ce.Initialization;ke.hasOwnProperty(S.default.SOURCE_URL)&&(Ee.initialization=ke.sourceURL),ke.hasOwnProperty(S.default.RANGE)&&(Ee.range=ke.range)}else z(be)&&T(be)&&be.mimeType&&be.mimeType.indexOf("application/mp4")===-1&&(Ee.range=0);ce.hasOwnProperty(S.default.TIMESCALE)&&(Ee.timescale=ce.timescale),ce.hasOwnProperty(S.default.DURATION)?Ee.segmentDuration=ce.duration/Ee.timescale:ne.hasOwnProperty(S.default.SEGMENT_TEMPLATE)&&(ce=ne.SegmentTemplate,ce.hasOwnProperty(S.default.SEGMENT_TIMELINE)&&(Ee.segmentDuration=U(ce.SegmentTimeline)/Ee.timescale)),ce.hasOwnProperty(S.default.MEDIA)&&(Ee.media=ce.media),ce.hasOwnProperty(S.default.START_NUMBER)&&(Ee.startNumber=parseInt(ce.startNumber)),ce.hasOwnProperty(S.default.INDEX_RANGE)&&(Ee.indexRange=ce.indexRange),ce.hasOwnProperty(S.default.PRESENTATION_TIME_OFFSET)&&(Ee.presentationTimeOffset=ce.presentationTimeOffset/Ee.timescale),ce.hasOwnProperty(S.default.AVAILABILITY_TIME_OFFSET)?Ee.availabilityTimeOffset=ce.availabilityTimeOffset:oe&&oe.availabilityTimeOffset!==void 0&&(Ee.availabilityTimeOffset=oe.availabilityTimeOffset),ce.hasOwnProperty(S.default.AVAILABILITY_TIME_COMPLETE)?Ee.availabilityTimeComplete=ce.availabilityTimeComplete!=="false":oe&&oe.availabilityTimeComplete!==void 0&&(Ee.availabilityTimeComplete=oe.availabilityTimeComplete)}Ee.mseTimeOffset=H(Ee),Ee.path=[O.period.index,O.index,ue],isNaN(Ee.width)||isNaN(Ee.height)||isNaN(Ee.frameRate)||(Ee.pixelsPerSecond=Math.max(1,Ee.width*Ee.height*Ee.frameRate),isNaN(Ee.bandwidth)||(Ee.bitsPerPixel=Ee.bandwidth/Ee.pixelsPerSecond)),re.push(Ee)}}return re},getRolesForAdaptation:function(O){return O&&O.hasOwnProperty(S.default.ROLE)&&O[S.default.ROLE].length?O[S.default.ROLE].map(me=>{const re=new Ea;return re.init(me),re}):[]},getSegmentAlignment:function(O){return!(!O||!O.hasOwnProperty(S.default.SEGMENT_ALIGNMENT))&&O[S.default.SEGMENT_ALIGNMENT]==="true"},getSelectionPriority:function(O){try{const me=O&&O.selectionPriority!==void 0?parseInt(O.selectionPriority):1;return isNaN(me)?1:me}catch{return 1}},getServiceDescriptions:function(O){const me=[];if(O&&O.hasOwnProperty(S.default.SERVICE_DESCRIPTION))for(const re of O.ServiceDescription){let be=null,ce=null,oe=null,ue=null,G=null,ne=null,Ee=null,ke=null;for(const Re in re)if(re.hasOwnProperty(Re))if(Re===S.default.ID)be=re[Re];else if(Re===S.default.SERVICE_DESCRIPTION_SCOPE)ce=re[Re].schemeIdUri;else if(Re===S.default.SERVICE_DESCRIPTION_LATENCY)oe={target:parseInt(re[Re].target),max:parseInt(re[Re].max),min:parseInt(re[Re].min),referenceId:parseInt(re[Re].referenceId)};else if(Re===S.default.SERVICE_DESCRIPTION_PLAYBACK_RATE)ue={max:parseFloat(re[Re].max),min:parseFloat(re[Re].min)};else if(Re===S.default.SERVICE_DESCRIPTION_OPERATING_QUALITY)G={mediaType:re[Re].mediaType,max:parseInt(re[Re].max),min:parseInt(re[Re].min),target:parseInt(re[Re].target),type:re[Re].type,maxQualityDifference:parseInt(re[Re].maxQualityDifference)};else if(Re===S.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH)ne={mediaType:re[Re].mediaType,max:parseInt(re[Re].max),min:parseInt(re[Re].min),target:parseInt(re[Re].target)};else if(Re===S.default.CONTENT_STEERING){let $e=re[Re];$e=Array.isArray($e)?$e.at($e.length-1):$e,Ee=he($e)}else Re===S.default.CLIENT_DATA_REPORTING&&(ke=Se(re[Re]));me.push({id:be,schemeIdUri:ce,latency:oe,playbackRate:ue,operatingQuality:G,operatingBandwidth:ne,contentSteering:Ee,clientDataReporting:ke})}return me},getSubSegmentAlignment:function(O){return!(!O||!O.hasOwnProperty(S.default.SUB_SEGMENT_ALIGNMENT))&&O[S.default.SUB_SEGMENT_ALIGNMENT]==="true"},getSuggestedPresentationDelay:function(O){return O&&O.hasOwnProperty(S.default.SUGGESTED_PRESENTATION_DELAY)?O.suggestedPresentationDelay:null},getSupplementalPropertiesForAdaptationSet:function(O){return ie(S.default.SUPPLEMENTAL_PROPERTY,O)},getSupplementalPropertiesForRepresentation:D,getUTCTimingSources:function(O){const me=Z(O),re=!!O&&O.hasOwnProperty(S.default.AVAILABILITY_START_TIME),be=O?O.UTCTiming:null,ce=[];return(me||re)&&be&&be.forEach(function(oe){const ue=new Hn.default;oe.hasOwnProperty(M.default.SCHEME_ID_URI)&&(ue.schemeIdUri=oe.schemeIdUri,oe.hasOwnProperty(S.default.VALUE)&&(ue.value=oe.value.toString(),ce.push(ue)))}),ce},getViewpointForAdaptation:function(O){return O&&O.hasOwnProperty(S.default.VIEWPOINT)&&O[S.default.VIEWPOINT].length?O[S.default.VIEWPOINT].map(me=>{const re=new Ea;return re.init(me),re}):[]},hasProfile:function(O,me){let re=!1;return O&&O.profiles&&O.profiles.length>0&&(re=O.profiles.indexOf(me)!==-1),re},isPeriodEncrypted:W,setConfig:function(O){O&&(O.errHandler&&(g=O.errHandler),O.BASE64&&(m=O.BASE64))}},o=(0,we.default)(v).getInstance().getLogger(d),d}xa.__dashjs_factory_name="DashManifestModel";var va=ae.default.getSingletonFactory(xa);const ja={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},aa=ja,ri="v",gr="l",Fr="d",ii="s";class ka{constructor(o,g){Array.isArray(o)&&(o=o.map(m=>m instanceof ka?m:new ka(m))),this.value=o,this.params=g}}const ir="Dict";function oi(d,o,g,m){return new Error(`failed to ${d} "${v=o,Array.isArray(v)?JSON.stringify(v):v instanceof Map?"Map{}":v instanceof Set?"Set{}":typeof v=="object"?JSON.stringify(v):String(v)}" as ${g}`,{cause:m});var v}function _a(d,o,g){return oi("serialize",d,o,g)}class li{constructor(o){this.description=o}}const jr="Bare Item",Ur="Boolean",Br="Byte Sequence",qr="Integer";function si(d){return d<-999999999999999||999999999999999<d}function Bn(d){if(si(d))throw _a(d,qr);return d.toString()}function Ba(d,o){if(d<0)return-Ba(-d,o);const g=Math.pow(10,o);if(Math.abs(d*g%1-.5)<Number.EPSILON){const m=Math.floor(d*g);return(m%2==0?m:m+1)/g}return Math.round(d*g)/g}const or="Decimal";function lr(d){const o=Ba(d,3);if(Math.floor(Math.abs(o)).toString().length>12)throw _a(d,or);const g=o.toString();return g.includes(".")?g:`${g}.0`}const qa="String",ua=/[\x00-\x1f\x7f]+/;function ui(d){return d.description||d.toString().slice(7,-1)}const Ia="Token";function Ko(d){const o=ui(d);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(o)===!1)throw _a(o,Ia);return o}function Gi(d){switch(typeof d){case"number":if(!Number.isFinite(d))throw _a(d,jr);return Number.isInteger(d)?Bn(d):lr(d);case"string":return function(o){if(ua.test(o))throw _a(o,qa);return`"${o.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(d);case"symbol":return Ko(d);case"boolean":return function(o){if(typeof o!="boolean")throw _a(o,Ur);return o?"?1":"?0"}(d);case"object":if(d instanceof Date)return function(o){return`@${Bn(o.getTime()/1e3)}`}(d);if(d instanceof Uint8Array)return function(o){if(ArrayBuffer.isView(o)===!1)throw _a(o,Br);return`:${g=o,btoa(String.fromCharCode(...g))}:`;var g}(d);if(d instanceof li)return Ko(d);default:throw _a(d,jr)}}const $o="Key";function Yi(d){if(/^[a-z*][a-z0-9\-_.*]*$/.test(d)===!1)throw _a(d,$o);return d}function Vi(d){return d==null?"":Object.entries(d).map(o=>{let[g,m]=o;return m===!0?`;${Yi(g)}`:`;${Yi(g)}=${Gi(m)}`}).join("")}function Wo(d){return d instanceof ka?`${Gi(d.value)}${Vi(d.params)}`:Gi(d)}const ci=d=>Math.round(d),di=d=>100*ci(d/100),Bc={br:ci,d:ci,bl:di,dl:di,mtp:di,nor:(d,o)=>(o!=null&&o.baseUrl&&(d=function(g,m){const v=new URL(g),w=new URL(m);if(v.origin!==w.origin)return g;const C=v.pathname.split("/").slice(1),N=w.pathname.split("/").slice(1,-1);for(;C[0]===N[0];)C.shift(),N.shift();for(;N.length;)N.shift(),C.unshift("..");return C.join("/")}(d,o.baseUrl)),encodeURIComponent(d)),rtp:di,tb:ci};function Xo(d){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return d?function(g,m){return function(v){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{whitespace:!0};if(typeof v!="object")throw _a(v,ir);const C=v instanceof Map?v.entries():Object.entries(v),N=w!=null&&w.whitespace?" ":"";return Array.from(C).map(T=>{let[j,z]=T;z instanceof ka==0&&(z=new ka(z));let k=Yi(j);var A;return z.value===!0?k+=Vi(z.params):(k+="=",Array.isArray(z.value)?k+=`(${(A=z).value.map(Wo).join(" ")})${Vi(A.params)}`:k+=Wo(z)),k}).join(`,${N}`)}(g,m)}(function(g,m){const v={};if(g==null||typeof g!="object")return v;const w=Object.keys(g).sort(),C=Object.assign({},Bc,m==null?void 0:m.formatters),N=m==null?void 0:m.filter;return w.forEach(T=>{if(N!=null&&N(T))return;let j=g[T];const z=C[T];z&&(j=z(j,m)),T==="v"&&j===1||T=="pr"&&j===1||function(k){return typeof k=="number"?Number.isFinite(k):k!=null&&k!==""&&k!==!1}(j)&&(function(k){return k==="ot"||k==="sf"||k==="st"}(T)&&typeof j=="string"&&(j=new li(j)),v[T]=j)}),v}(d,o),Object.assign({whitespace:!1},o)):""}const qc="CMCD-Object",Ki="CMCD-Request",Qo="CMCD-Session",Hc="CMCD-Status",Gc={[qc]:["br","d","ot","tb"],[Ki]:["bl","dl","mtp","nor","nrr","su"],[Qo]:["cid","pr","sf","sid","st","v"],[Hc]:["bs","rtp"]},Zo="segment";function Jo(){let d,o,g,m,v,w,C,N,T,j,z,k,A,x,K,W,J=this.context,Q=(0,se.default)(J).getInstance(),Z=(0,Y.default)(J).getInstance(),ie=(0,we.default)(J).getInstance();function ye(){m={pr:1,nor:null,st:null,sf:null,sid:`${xn.default.generateUuid()}`,cid:null},A={},k={},x={},z=void 0,K=void 0,W=!1,H()}function V(){H()}function D(){K||(K=Date.now())}function U(){K&&!m.msd&&(m.msd=Date.now()-K)}function H(){if(!C)return;const G=C.getStreamController();if(!G||typeof G.getActiveStream!="function")return;const ne=G.getActiveStream();ne&&(j=ne.getStreamProcessors())}function le(G){try{const ne=ge(),Ee=ne.version?ne.keys:Z.get().streaming.cmcd.enabledKeys;return Object.keys(G).filter(ke=>Ee.includes(ke)).reduce((ke,Re)=>(ke[Re]=G[Re],ke),{})}catch{return G}}function pe(){const G=ge();return function(ne){if(Object.keys(ne).length){if(parseInt(ne.version)!==1)return g.error("version parameter must be defined in 1."),!1;if(!ne.keys)return g.error("keys parameter must be defined."),!1}const Ee=ne.version,ke=Z.get().streaming.cmcd&&Z.get().streaming.cmcd.enabled;return Ee||ke}(G)&&function(ne){let Ee=Z.get().streaming.cmcd.includeInRequests;ne.version&&(Ee=ne.includeInRequests??[Zo]);const ke=M.default.CMCD_AVAILABLE_REQUESTS,Re=Ee.filter($e=>!ke.includes($e));return Re.length===Ee.length?(g.error("None of the request types are supported."),!1):(Re.map($e=>{g.warn(`request type ${$e} is not supported.`)}),!0)}(G)&&function(ne){const Ee=M.default.CMCD_AVAILABLE_KEYS,ke=M.default.CMCD_V2_AVAILABLE_KEYS,Re=ne.version?ne.keys:Z.get().streaming.cmcd.enabledKeys,$e=Z.get().streaming.cmcd.version,Be=Re.filter(tt=>!(Ee.includes(tt)||$e===2&&ke.includes(tt)));return Be.length===Re.length&&Re.length>0?(g.error(`None of the keys are implemented for CMCD version ${$e}.`),!1):(Be.map(tt=>{g.warn(`key parameter ${tt} is not implemented for CMCD version ${$e}.`)}),!0)}(G)}function ge(){let G={};if(N){const ne=N.getServiceDescriptionSettings();Z.get().streaming.cmcd.applyParametersFromMpd&&ne.clientDataReporting&&ne.clientDataReporting.cmcdParameters&&(G=ne.clientDataReporting.cmcdParameters)}return G}function he(G){try{let Ee=null;if(G.type,(ne=G.mediaType)!==M.default.VIDEO&&ne!==M.default.AUDIO||z&&z!=M.default.AUDIO||(z=ne),function(ke){const Re=ge();let $e=Z.get().streaming.cmcd.includeInRequests;Re.version&&($e=Re.includeInRequests?Re.includeInRequests:[Zo]);const Be={[Te.HTTPRequest.INIT_SEGMENT_TYPE]:"segment",[Te.HTTPRequest.MEDIA_SEGMENT_TYPE]:"segment",[Te.HTTPRequest.XLINK_EXPANSION_TYPE]:"xlink",[Te.HTTPRequest.MPD_TYPE]:"mpd",[Te.HTTPRequest.CONTENT_STEERING_TYPE]:"steering",[Te.HTTPRequest.OTHER_TYPE]:"other"};return $e.some(tt=>Be[ke]===tt)}(G.type)){if(G.type===Te.HTTPRequest.MPD_TYPE)return function(){const ke=me();return ke.ot=aa.MANIFEST,ke}();if(G.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE)return O(G.mediaType),Se(G,G.mediaType);if(G.type===Te.HTTPRequest.INIT_SEGMENT_TYPE)return function(){const ke=me();return ke.ot=aa.INIT,ke.su=!0,ke}();if(G.type===Te.HTTPRequest.OTHER_TYPE||G.type===Te.HTTPRequest.XLINK_EXPANSION_TYPE)return function(){const ke=me();return ke.ot=aa.OTHER,ke}();if(G.type===Te.HTTPRequest.LICENSE)return function(){const ke=me();return ke.ot=aa.KEY,ke}();if(G.type===Te.HTTPRequest.CONTENT_STEERING_TYPE)return function(ke){const Re=z?Se(ke,z):me();return Re.ot=aa.OTHER,Re}(G)}return Ee}catch{return null}var ne}function Se(G,ne){var kt;O(ne);const Ee=me(),ke=function($t){try{return parseInt($t.bandwidth/1e3)}catch{return null}}(G),Re=function($t){try{return isNaN($t.duration)?NaN:Math.round(1e3*$t.duration)}catch{return null}}(G),$e=function($t){try{return 100*parseInt(T.getSafeAverageThroughput($t)/100)}catch{return null}}(ne),Be=function($t){try{const en=m.pr,pn=w.getCurrentBufferLevel($t);return isNaN(en)||isNaN(pn)?null:100*parseInt(pn/en*10)}catch{return null}}(ne),tt=re(ne),vt=function($t){try{const en=v.getPossibleVoRepresentationsFilteredBySettings($t).map(pn=>pn.bitrateInKbit);return Math.max(...en)}catch{return null}}((kt=G.representation)==null?void 0:kt.mediaInfo),yt=m.pr,Ht=function($t){if(j&&j.length!==0){for(let en of j)if(en.getType()===$t)return en.probeNextRequest()}}(ne);let Kt;ne===M.default.VIDEO&&(Kt=aa.VIDEO),ne===M.default.AUDIO&&(Kt=aa.AUDIO),ne===M.default.TEXT&&(Kt=G.representation.mediaInfo.mimeType==="application/mp4"?aa.TIMED_TEXT:aa.CAPTION);let sn=Z.get().streaming.cmcd.rtp;return sn||(sn=function($t){try{let en=C.getPlaybackRate();en||(en=1);let{bandwidth:pn,mediaType:rn,representation:on,duration:Fe}=$t;if(!on.mediaInfo)return NaN;let nt=re(rn);nt===0&&(nt=500);let et=pn*Fe/1e3/(nt/en/1e3),st=Z.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(Z.get().streaming.cmcd.rtpSafetyFactor)?Z.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(et*st/100)+1)}catch{return NaN}}(G)),isNaN(sn)||(Ee.rtp=sn),Ht&&(G.url!==Ht.url?Ee.nor=encodeURIComponent(xn.default.getRelativeUrl(G.url,Ht.url)):Ht.range&&(Ee.nrr=Ht.range)),ke&&(Ee.br=ke),Kt&&(Ee.ot=Kt),isNaN(Re)||(Ee.d=Re),isNaN($e)||(Ee.mtp=$e),isNaN(Be)||(Ee.dl=Be),isNaN(tt)||(Ee.bl=tt),isNaN(vt)||(Ee.tb=vt),isNaN(yt)||yt===1||(Ee.pr=yt),A[ne]&&(Ee.bs=!0,A[ne]=!1),!k[ne]&&x[ne]||(Ee.su=!0,k[ne]=!1,x[ne]=!0),Ee}function O(G){x.hasOwnProperty(G)||(x[G]=!1),k.hasOwnProperty(G)||(k[G]=!1),A.hasOwnProperty(G)||(A[G]=!1)}function me(){const G=ge(),ne={};let Ee=Z.get().streaming.cmcd.cid?Z.get().streaming.cmcd.cid:m.cid;if(Ee=G.contentID?G.contentID:Ee,ne.v=Z.get().streaming.cmcd.version??1,ne.sid=Z.get().streaming.cmcd.sid?Z.get().streaming.cmcd.sid:m.sid,ne.sid=G.sessionID?G.sessionID:ne.sid,ne.sid=`${ne.sid}`,Ee&&(ne.cid=`${Ee}`),isNaN(m.pr)||m.pr===1||m.pr===null||(ne.pr=m.pr),m.st&&(ne.st=m.st),m.sf&&(ne.sf=m.sf),ne.v===2){let ke=1e3*C.getCurrentLiveLatency();isNaN(ke)||(ne.ltc=ke);const Re=m.msd;W||isNaN(Re)||(ne.msd=Re,W=!0)}return ne}function re(G){try{const ne=w.getCurrentBufferLevel(G);return isNaN(ne)?null:100*parseInt(10*ne)}catch{return null}}function be(G){try{m.pr=G.playbackRate}catch{}}function ce(G){try{const ne=d.getIsDynamic(G.data)?gr:ri,Ee=G.protocol&&G.protocol==="MSS"?ii:Fr;m.st=`${ne}`,m.sf=`${Ee}`}catch{}}function oe(G){try{G.state&&G.mediaType&&G.state===$.default.BUFFER_EMPTY&&(A[G.mediaType]||(A[G.mediaType]=!0),k[G.mediaType]||(k[G.mediaType]=!0))}catch{}}function ue(){for(let G in A)A.hasOwnProperty(G)&&(A[G]=!0);for(let G in k)k.hasOwnProperty(G)&&(k[G]=!0)}return o={getCmcdData:he,getQueryParameter:function(G){try{if(pe()){const ne=he(G),Ee=Xo(le(ne));return Q.trigger(Jn.default.CMCD_DATA_GENERATED,{url:G.url,mediaType:G.mediaType,cmcdData:ne,cmcdString:Ee}),{key:"CMCD",value:Ee}}return null}catch{return null}},getHeaderParameters:function(G){try{if(pe()){const ne=he(G),Ee=function(ke){let Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const $e={};if(!ke)return $e;const Be=Object.entries(ke),tt=Object.entries(Gc).concat(Object.entries((Re==null?void 0:Re.customHeaderMap)||{})),vt=Be.reduce((yt,Ht)=>{var Kt,sn;const[kt,$t]=Ht,en=((Kt=tt.find(pn=>pn[1].includes(kt)))===null||Kt===void 0?void 0:Kt[0])||Ki;return(sn=yt[en])!==null&&sn!==void 0||(yt[en]={}),yt[en][kt]=$t,yt},{});return Object.entries(vt).reduce((yt,Ht)=>{let[Kt,sn]=Ht;return yt[Kt]=Xo(sn,Re),yt},$e)}(le(ne),Z.get().streaming.cmcd.version===1?{}:{customHeaderMap:{[Ki]:["ltc"],[Qo]:["msd"]}});return Q.trigger(Jn.default.CMCD_DATA_GENERATED,{url:G.url,mediaType:G.mediaType,cmcdData:ne,headers:Ee}),Ee}return null}catch{return null}},getCmcdParametersFromManifest:ge,setConfig:function(G){G&&(G.abrController&&(v=G.abrController),G.dashMetrics&&(w=G.dashMetrics),G.throughputController&&(T=G.throughputController),G.playbackController&&(C=G.playbackController),G.serviceDescriptionController&&(N=G.serviceDescriptionController))},reset:function(){Q.off($.default.PLAYBACK_RATE_CHANGED,be,this),Q.off($.default.MANIFEST_LOADED,ce,this),Q.off($.default.BUFFER_LEVEL_STATE_CHANGED,oe,o),Q.off($.default.PLAYBACK_SEEKED,ue,o),Q.off($.default.PLAYBACK_STARTED,D,o),Q.off($.default.PLAYBACK_PLAYING,U,o),ye()},initialize:function(G){Q.on($.default.PLAYBACK_RATE_CHANGED,be,o),Q.on($.default.MANIFEST_LOADED,ce,o),Q.on($.default.BUFFER_LEVEL_STATE_CHANGED,oe,o),Q.on($.default.PLAYBACK_SEEKED,ue,o),Q.on($.default.PERIOD_SWITCH_COMPLETED,V,o),G?Q.on($.default.MANIFEST_LOADING_STARTED,D,o):Q.on($.default.PLAYBACK_STARTED,D,o),Q.on($.default.PLAYBACK_PLAYING,U,o)},isCmcdEnabled:pe},d=va(J).getInstance(),g=ie.getLogger(o),ye(),o}Jo.__dashjs_factory_name="CmcdModel";var el=ae.default.getSingletonFactory(Jo);const Hr="CMSD-Dynamic",tl="CMSD-Static",fi=ja;function Yn(d,o,g){return oi("parse",d,o,g)}const gi="List";function ra(d,o){return{value:d,src:o}}const $i="Inner List",nl="Date",al=`${qr} or ${or}`;function rl(d){let o,g=1,m="";const v=Yn(d,al);if(d[0]==="-"&&(g=-1,d=d.substring(1)),d.length<=0)throw v;const w=/^(\d+)?/g,C=w.exec(d);if(C[0].length===0)throw v;if(m+=C[1],(d=d.substring(w.lastIndex))[0]==="."){if(m.length>12)throw v;const N=/^(\.\d+)?/g,T=N.exec(d);if(d=d.substring(N.lastIndex),T[0].length===0||T[1].length>4||(m+=T[1],m.length>16))throw v;o=parseFloat(m)*g}else{if(m.length>15)throw v;if(o=parseInt(m)*g,si(o))throw Yn(m,al)}return ra(o,d)}function il(d,o){const g=d[0];if(g==='"')return function(m){let v="",w=0;if(m[w]!=='"')throw Yn(m,qa);for(w++;m.length>w;){if(m[w]==="\\"){if(m.length<=w+1||(w++,m[w]!=='"'&&m[w]!=="\\"))throw Yn(m,qa);v+=m[w]}else{if(m[w]==='"')return ra(v,m.substring(++w));if(ua.test(m[w]))throw Yn(m,qa);v+=m[w]}w++}throw Yn(m,qa)}(d);if(/^[-0-9]/.test(g))return rl(d);if(g==="?")return function(m){let v=0;if(m[v]!=="?")throw Yn(m,Ur);if(v++,m[v]==="1")return ra(!0,m.substring(++v));if(m[v]==="0")return ra(!1,m.substring(++v));throw Yn(m,Ur)}(d);if(g===":")return function(m){if(m[0]!==":"||(m=m.substring(1)).includes(":")===!1)throw Yn(m,Br);const v=/(^.*?)(:)/g,w=v.exec(m)[1];return m=m.substring(v.lastIndex),ra(new Uint8Array([...atob(w)].map(C=>C.charCodeAt(0))),m)}(d);if(/^[a-zA-Z*]/.test(g))return function(m,v){if(/^[a-zA-Z*]$/.test(m[0])===!1)throw Yn(m,Ia);const w=/^([!#$%&'*+\-.^_`|~\w:/]+)/g,C=w.exec(m)[1];return m=m.substring(w.lastIndex),ra(Symbol.for(C),m)}(d);if(g==="@")return function(m){let v=0;if(m[v]!=="@")throw Yn(m,nl);v++;const w=rl(m.substring(v));if(Number.isInteger(w.value)===!1)throw Yn(m,nl);return ra(new Date(1e3*w.value),w.src)}(d);throw Yn(d,jr)}function ol(d){let o=0;if(/^[a-z*]$/.test(d[o])===!1)throw Yn(d,$o);let g="";for(;d.length>o;){if(/^[a-z0-9_\-.*]$/.test(d[o])===!1)return ra(g,d.substring(o));g+=d[o],o++}return ra(g,d.substring(o))}function Wi(d,o){let g;for(;d.length>0&&d[0]===";";){const m=ol(d=d.substring(1).trim()),v=m.value;let w=!0;if((d=m.src)[0]==="="){const C=il(d=d.substring(1));w=C.value,d=C.src}g==null&&(g={}),g[v]=w}return ra(g,d)}function ll(d,o){const g=il(d),m=Wi(d=g.src);return d=m.src,ra(new ka(g.value,m.value),d)}function sl(d,o){return d[0]==="("?function(g,m){if(g[0]!=="(")throw Yn(g,$i);g=g.substring(1);const v=[];for(;g.length>0;){if((g=g.trim())[0]===")"){const C=Wi(g=g.substring(1));return ra(new ka(v,C.value),C.src)}const w=ll(g);if(v.push(w.value),(g=w.src)[0]!==" "&&g[0]!==")")throw Yn(g,$i)}throw Yn(g,$i)}(d):ll(d)}const Yc=tl.toLowerCase(),Vc=Hr.toLowerCase(),Kc=["mb","st","sf","v"],Xi="stream",$c={video:fi.VIDEO,audio:fi.AUDIO,text:fi.TIMED_TEXT,stream:Xi};function ul(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v,w;function C(){v={},w={}}function N(A){A&&Object.keys(A).forEach(x=>{Kc.includes(x)||delete A[x]})}function T(A){try{return(x=A)?Object.entries(function(K,W){try{const{src:J,value:Q}=function(Z,ie){const ye={};for(;Z.length>0;){let V;const D=ol(Z),U=D.value;if((Z=D.src)[0]==="="){const H=sl(Z.substring(1),ie);V=H.value,Z=H.src}else{const H=Wi(Z,ie);V=new ka(!0,H.value),Z=H.src}if(ye[U]=V,(Z=Z.trim()).length===0)return ra(ye,Z);if(Z[0]!==","||(Z=Z.substring(1).trim()).length===0||Z[0]===",")throw Yn(Z,ir)}return ra(ye,Z)}(K.trim(),W);if(J!=="")throw Yn(J,ir);return Q}catch(J){throw Yn(K,ir,J)}}(x)).reduce((K,W)=>{let[J,Q]=W;const{value:Z}=Q;return K[J]=typeof Z=="symbol"?ui(Z):Z,K},{}):{}}catch(K){m.error("Failed to parse CMSD-Static response header value:",K)}var x}function j(A){try{const K=(x=A)?function(J,Q){try{const{src:Z,value:ie}=function(ye,V){const D=[];for(;ye.length>0;){const U=sl(ye,V);if(D.push(U.value),(ye=U.src.trim()).length===0)return ra(D,ye);if(ye[0]!==","||(ye=ye.substring(1).trim()).length===0||ye[0]===",")throw Yn(ye,gi)}return ra(D,ye)}(J.trim(),Q);if(Z!=="")throw Yn(Z,gi);return ie}catch(Z){throw Yn(J,gi,Z)}}(x):[],W=K[K.length-1];return(W==null?void 0:W.params)||{}}catch(K){return m.error("Failed to parse CMSD-Dynamic response header value:",K),{}}var x}function z(A){return $c[A]||fi.OTHER}function k(A,x,K){const W=A===tl?v:w,J=W[x]||{},Q=W[Xi]||{};return J[K]||Q[K]}return g={setConfig:function(){},initialize:function(){},reset:function(){C()},parseResponseHeaders:function(A,x){let K=null,W=null;for(const Q in A){const Z=A[Q];switch(Q){case Yc:K=T(Z),o.trigger(P.default.CMSD_STATIC_HEADER,K);break;case Vc:W||(W=j(Z))}}let J=Xi;return K&&K.ot?J=K.ot:x&&(J=z(x)),N(v[J]),N(w[J]),K&&(v[J]=Object.assign(v[J]||{},K)),W&&(w[J]=Object.assign(w[J]||{},W)),{static:K,dynamic:W}},getMaxBitrate:function(A){let x=z(A);return k(Hr,x,"mb")||-1},getEstimatedThroughput:function(A){let x=z(A);return k(Hr,x,"etp")||null},getResponseDelay:function(A){let x=z(A);return k(Hr,x,"rd")||null},getRoundTripTime:function(A){let x=z(A);return k(Hr,x,"rtt")||null}},m=(0,we.default)(d).getInstance().getLogger(g),C(),g}ul.__dashjs_factory_name="CmsdModel";var cl=ae.default.getSingletonFactory(ul),dl=t(1926);function fl(){let d,o;function g(){o={}}return d={reset:function(){g()},processResponseHeaders:function(m){if(!(m&&m.headers&&m.request&&m.request.url))return;const v=m.headers[M.default.COMMON_ACCESS_TOKEN_HEADER];if(v){const w=xn.default.getHostFromUrl(m.request.url);w&&(o[w]=v)}},getCommonAccessTokenForUrl:function(m){if(!m)return null;const v=xn.default.getHostFromUrl(m);return v?o[v]?o[v]:null:void 0}},g(),d}fl.__dashjs_factory_name="CommonAccessTokenController";var Wc=ae.default.getSingletonFactory(fl);function gl(){let d,o;return d={setConfig:function(g){g&&g.serviceDescriptionController&&(o=g.serviceDescriptionController)},isAdaptationsIncluded:function(g){var v;const{adaptationSetsArray:m}=((v=o==null?void 0:o.getServiceDescriptionSettings())==null?void 0:v.clientDataReporting)??{};return!m||(m==null?void 0:m.length)===0||m.includes(g)},isServiceLocationIncluded:function(g,m){var w;if(g===Te.HTTPRequest.CONTENT_STEERING_TYPE)return!0;const{serviceLocationsArray:v}=((w=o==null?void 0:o.getServiceDescriptionSettings())==null?void 0:w.clientDataReporting)??{};return!v||(v==null?void 0:v.length)===0||v.includes(m)}},d}gl.__dashjs_factory_name="ClientDataReportingController";var ml=ae.default.getSingletonFactory(gl);function pl(){let d,o,g;const m=this.context;function v(w,C,N,T,j){var k;const z=function(A,x){let K=[];return K=x===S.default.PERIOD?A[S.default.SUPPLEMENTAL_PROPERTY]||[]:[...A[S.default.ESSENTIAL_PROPERTY]||[],...A[S.default.SUPPLEMENTAL_PROPERTY]||[]],K.find(W=>W.schemeIdUri===M.default.URL_QUERY_INFO_SCHEME&&W.UrlQueryInfo||W.schemeIdUri===M.default.EXT_URL_QUERY_INFO_SCHEME&&W.ExtUrlQueryInfo)}(C,j);(function(A,x,K,W){K.initialQueryString="";let J="";const Q=(A==null?void 0:A.ExtUrlQueryInfo)||(A==null?void 0:A.UrlQueryInfo);J=Q&&Q.queryString?x&&x.length>0?x+"&"+Q.queryString:Q.queryString:x,(Q==null?void 0:Q.useMPDUrlQuery)==="true"&&W&&(J=J?J+"&"+W:W),K.initialQueryString=J})(z,T.initialQueryString,w,N),function(A,x,K){var J,Q;if(!A)return void(x.finalQueryString=K);const W=((J=A==null?void 0:A.ExtUrlQueryInfo)==null?void 0:J.queryTemplate)||((Q=A==null?void 0:A.UrlQueryInfo)==null?void 0:Q.queryTemplate)||"";x.finalQueryString=W===S.default.QUERY_PART?x==null?void 0:x.initialQueryString:""}(z,w,T.finalQueryString),w.sameOriginOnly=(k=z==null?void 0:z.ExtUrlQueryInfo)==null?void 0:k.sameOriginOnly,w.queryParams=xn.default.parseQueryParams(w==null?void 0:w.finalQueryString),w.includeInRequests=function(A,x){var K;return A?(K=A.ExtUrlQueryInfo)!=null&&K.includeInRequests?A.ExtUrlQueryInfo.includeInRequests.split(" "):[S.default.SEGMENT_TYPE]:x}(z,T.includeInRequests)}return o=(0,we.default)(m).getInstance().getLogger(d),d={getFinalQueryString:function(w){try{if(!g)return null;if(w.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE||w.type===Te.HTTPRequest.INIT_SEGMENT_TYPE){const C=w.representation;if(!C)return null;const N=C.adaptation,T=N.period,j=g.period[T.index].adaptation[N.index].representation[C.index],z=new URL(w.url),k=!j.sameOriginOnly||g.origin===z.origin;if(j.includeInRequests.includes(S.default.SEGMENT_TYPE)&&k)return j.queryParams}else if(w.type===Te.HTTPRequest.MPD_TYPE){if([S.default.MPD_TYPE,S.default.MPD_PATCH_TYPE].some(C=>g.includeInRequests.includes(C)))return g.queryParams}else if(w.type===Te.HTTPRequest.CONTENT_STEERING_TYPE&&g.includeInRequests.includes(S.default.STEERING_TYPE))return g.queryParams}catch(C){return o.error(C),null}},createFinalQueryStrings:function(w){g={origin:new URL(w.url).origin,period:[]};const C=w.url.split("?")[1];v(g,w,C,{initialQueryString:"",includeInRequests:[]},S.default.MPD),w.Period.forEach(N=>{const T={adaptation:[]};v(T,N,C,g,S.default.PERIOD),N.AdaptationSet.forEach(j=>{const z={representation:[]};v(z,j,C,T,S.default.ADAPTATION_SET),j.Representation.forEach(k=>{const A={};v(A,k,C,z,S.default.REPRESENTATION),z.representation.push(A)}),T.adaptation.push(z)}),g.period.push(T)})}},d}pl.__dashjs_factory_name="ExtUrlQueryInfoController";var hl=ae.default.getSingletonFactory(pl),Xc=class{constructor(d){this.url=d.url,this.method=d.method,this.responseType=d.responseType!==void 0?d.responseType:null,this.headers=d.headers!==void 0?d.headers:{},this.credentials=d.credentials!==void 0?d.credentials:null,this.mode=d.mode!==void 0?d.mode:null,this.timeout=d.timeout!==void 0?d.timeout:0,this.cmcd=d.cmcd!==void 0?d.cmcd:null,this.customData=d.customData!==void 0?d.customData:null}},Qc=class{constructor(d){this.request=d.request,this.url=d.url!==void 0?d.url:null,this.redirected=d.redirected!==void 0&&d.redirected,this.status=d.status!==void 0?d.status:null,this.statusText=d.statusText!==void 0?d.statusText:"",this.type=d.type!==void 0?d.type:"",this.headers=d.headers!==void 0?d.headers:{},this.data=d.data!==void 0?d.data:null,this.resourceTiming=d.resourceTiming!==void 0?d.resourceTiming:null}};function bl(d){d=d||{};const o=this.context,g=d.errHandler,m=d.dashMetrics,v=d.mediaPlayerModel,w=d.boxParser,C=d.errors,N=d.requestTimeout||0,T=(0,se.default)(o).getInstance(),j=(0,Y.default)(o).getInstance();let z,k,A,x,K,W,J,Q,Z,ie,ye,V,D,U;function H(le,pe){const ge=function(){me()},he=function(kt){const $t=new Date;ne&&(ne=!1,(!kt.lengthComputable||kt.lengthComputable&&kt.total!==kt.loaded)&&(ue.firstByteDate=$t,tt.resourceTiming.responseStart=$t.getTime())),kt.lengthComputable&&(ue.bytesLoaded=tt.length=kt.loaded,ue.bytesTotal=tt.resourceTiming.encodedBodySize=kt.total,tt.length=kt.total,tt.resourceTiming.encodedBodySize=kt.loaded),kt.noTrace||(G.push({s:ke,d:kt.time?kt.time:$t.getTime()-ke.getTime(),b:[kt.loaded?kt.loaded-Re:0],t:kt.throughput}),ue.traces=G,ke=$t,Re=kt.loaded),$e&&(clearTimeout($e),$e=null),j.get().streaming.fragmentRequestProgressTimeout>0&&($e=setTimeout(function(){U.warn("Abort request "+Be.url+" due to progress timeout"),yt.abort(Be),ge()},j.get().streaming.fragmentRequestProgressTimeout)),le.progress&&kt&&le.progress(kt)},Se=function(){me(!0)},O=function(kt){let $t;if(kt.lengthComputable){let en=kt.loaded/kt.total*100;$t="Request timeout: loaded: "+kt.loaded+", out of: "+kt.total+" : "+en.toFixed(3)+"% Completed"}else $t="Request timeout: non-computable download size";U.warn($t)},me=function(){let kt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];k.indexOf(Be)!==-1&&k.splice(k.indexOf(Be),1),$e&&(clearTimeout($e),$e=null),ye.processResponseHeaders(tt),re(),be(),function($t){const en=ie.getResponseInterceptors();return en?en.reduce((pn,rn)=>pn.then(on=>rn(on)),Promise.resolve($t)):Promise.resolve($t)}(tt).then($t=>{if(tt=$t,function(en,pn,rn){const on=en.customData.request,Fe=j.get().streaming.cmsd&&j.get().streaming.cmsd.enabled?J.parseResponseHeaders(pn.headers,on.mediaType):null;m.addHttpRequest(on,pn.url,pn.status,pn.headers,rn,Fe)}(Be,tt,G),kt)le.abort&&le.abort(ue);else if(ue.type===Te.HTTPRequest.MPD_TYPE&&(m.addManifestUpdate(ue),T.trigger(P.default.MANIFEST_LOADING_FINISHED,{requestObject:ue})),tt.status>=200&&tt.status<=299&&tt.data)le.success&&le.success(tt.data,tt.statusText,tt.url),le.complete&&le.complete(ue,tt.statusText);else{try{tt.status===404&&j.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&ue.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&v.getRetryAttemptsForType(Te.HTTPRequest.MEDIA_SEGMENT_TYPE)===pe&&T.trigger(P.default.ATTEMPT_BACKGROUND_SYNC)}catch{}oe()}})},re=function(){ue.startDate=Ee,ue.endDate=new Date,ue.firstByteDate=ue.firstByteDate||Ee},be=function(){tt.resourceTiming.responseEnd=Date.now(),function(kt,$t){if(!j.get().streaming.abr.throughput.useResourceTimingApi||typeof performance>"u"||kt.range)return;const en=performance.getEntriesByType("resource");if(en===void 0||en.length<=0)return;let pn=0,rn=null;for(;pn<en.length;){if(en[pn].name===kt.url){rn=en[pn];break}pn+=1}(function(on){return on&&!isNaN(on.responseStart)&&on.responseStart>0&&!isNaN(on.responseEnd)&&on.responseEnd>0&&!isNaN(on.transferSize)&&on.transferSize>0})(rn)&&(kt.customData.request.resourceTimingValues=rn,$t.resourceTiming.startTime=rn.startTime,$t.resourceTiming.encodedBodySize=rn.encodedBodySize,$t.resourceTiming.responseStart=rn.startTime,$t.resourceTiming.responseEnd=rn.responseEnd,$t.resourceTiming.duration=rn.duration)}(Be,tt)},ce=function(kt,$t,en){return new Promise(pn=>{(function(rn){const on=ie.getRequestInterceptors();return on?on.reduce((Fe,nt)=>Fe.then(et=>nt(et)),Promise.resolve(rn)):Promise.resolve(rn)})($t).then(rn=>{($t=rn).customData.onloadend=ge,$t.customData.onprogress=he,$t.customData.onabort=Se,$t.customData.ontimeout=O,en.resourceTiming.startTime=Date.now(),kt.load($t,en),pn()})})},oe=function(){if(pe>0){pe--;let kt={config:le};x.push(kt),kt.timeout=setTimeout(function(){x.indexOf(kt)!==-1&&(x.splice(x.indexOf(kt),1),H(le,pe))},v.getRetryIntervalsForType(ue.type))}else{if(ue.type===Te.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;g.error(new Ie.default(K[ue.type],ue.url+" is not available",{request:ue,response:tt})),le.error&&le.error(ue,"error",tt.statusText,tt),le.complete&&le.complete(ue,tt.statusText)}},ue=le.request,G=[];let ne,Ee,ke,Re,$e,Be,tt;if(ue.bytesLoaded=NaN,ue.bytesTotal=NaN,ue.firstByteDate=null,ue.traces=[],ne=!0,Ee=new Date,ke=Ee,Re=0,$e=null,!m||!g)throw new Error("config object is not correct or missing");const vt=function(kt){let $t,en;return kt.hasOwnProperty("availabilityTimeComplete")&&kt.availabilityTimeComplete===!1&&window.fetch&&kt.responseType==="arraybuffer"&&kt.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE?(Z||(Z=Fa(o).create(),Z.setConfig({dashMetrics:m,boxParser:w})),$t=Z,en=M.default.FILE_LOADER_TYPES.FETCH):(Q||(Q=sa(o).create()),$t=Q,en=M.default.FILE_LOADER_TYPES.XHR),{loader:$t,fileLoaderType:en}}(ue),yt=vt.loader;var Ht;ue.fileLoaderType=vt.fileLoaderType,ue.headers={},function(kt){var pn,rn;const $t=kt==null?void 0:kt.serviceLocation,en=(rn=(pn=kt==null?void 0:kt.mediaInfo)==null?void 0:pn.id)==null?void 0:rn.toString();if(V.isServiceLocationIncluded(kt.type,$t)&&V.isAdaptationsIncluded(en)&&W.isCmcdEnabled()){const on=W.getCmcdParametersFromManifest(),Fe=on.mode?on.mode:j.get().streaming.cmcd.mode;if(Fe===M.default.CMCD_MODE_QUERY){kt.url=xn.default.removeQueryParameterFromUrl(kt.url,M.default.CMCD_QUERY_KEY);const nt=function(et){try{const st=[],He=W.getQueryParameter(et);return He&&st.push(He),st}catch{return[]}}(kt);kt.url=xn.default.addAdditionalQueryParameterToUrl(kt.url,nt)}else Fe===M.default.CMCD_MODE_HEADER&&(kt.headers=Object.assign(kt.headers,W.getHeaderParameters(kt)))}}(Ht=ue),function(kt){let $t=D.getFinalQueryString(kt);$t&&(kt.url=xn.default.addAdditionalQueryParameterToUrl(kt.url,$t))}(Ht),function(kt){if(kt.queryParams){const $t=Object.keys(kt.queryParams).map(en=>({key:en,value:kt.queryParams[en]}));kt.url=xn.default.addAdditionalQueryParameterToUrl(kt.url,$t)}}(Ht),function(kt){const $t=ye.getCommonAccessTokenForUrl(kt.url);$t&&(kt.headers[M.default.COMMON_ACCESS_TOKEN_HEADER]=$t)}(Ht),ue.range&&(ue.headers.Range="bytes="+ue.range);const Kt=ie.getXHRWithCredentialsForType(ue.type);Be=new Xc({url:ue.url,method:Te.HTTPRequest.GET,responseType:ue.responseType,headers:ue.headers,credentials:Kt?"include":"omit",timeout:N,cmcd:W.getCmcdData(ue),customData:{request:ue}}),tt=new Qc({request:Be,resourceTiming:{startTime:Date.now(),encodedBodySize:0},status:0});let sn=new Date().getTime();if(isNaN(ue.delayLoadingTime)||sn>=ue.delayLoadingTime)return k.push(Be),ce(yt,Be,tt);{let kt={httpRequest:Be,httpResponse:tt};return A.push(kt),kt.delayTimeout=setTimeout(function(){if(A.indexOf(kt)!==-1){A.splice(A.indexOf(kt),1);try{Ee=new Date,ke=Ee,k.push(kt.httpRequest),ce(yt,kt.httpRequest,kt.httpResponse)}catch{kt.httpRequest.onloadend()}}},ue.delayLoadingTime-sn),Promise.resolve()}}return z={abort:function(){x.forEach(le=>{clearTimeout(le.timeout),le.config.request&&le.config.abort&&le.config.abort(le.config.request)}),x=[],A.forEach(le=>clearTimeout(le.delayTimeout)),A=[],k.forEach(le=>{const pe=le.customData;pe&&(pe.request&&pe.request.type===Te.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE||(pe.onloadend=pe.onprogress=void 0,pe.abort&&pe.abort()))}),k=[]},load:function(le){return le.request?H(le,v.getRetryAttemptsForType(le.request.type)):(le.error&&le.error(le.request,"error"),Promise.resolve())},reset:function(){k=[],A=[],x=[],Q&&Q.reset(),Z&&Z.reset(),Q=null,Z=null},resetInitialSettings:function(){Q&&Q.resetInitialSettings()},setConfig:function(le){le&&(le.commonAccessTokenController&&(ye=le.commonAccessTokenController),le.extUrlQueryInfoController&&(D=le.extUrlQueryInfoController))}},U=(0,we.default)(o).getInstance().getLogger(z),k=[],A=[],x=[],W=el(o).getInstance(),V=ml(o).getInstance(),J=cl(o).getInstance(),ie=(0,dl.default)(o).getInstance(),ye=Wc(o).getInstance(),D=hl(o).getInstance(),K={[Te.HTTPRequest.MPD_TYPE]:C.DOWNLOAD_ERROR_ID_MANIFEST_CODE,[Te.HTTPRequest.XLINK_EXPANSION_TYPE]:C.DOWNLOAD_ERROR_ID_XLINK_CODE,[Te.HTTPRequest.INIT_SEGMENT_TYPE]:C.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE,[Te.HTTPRequest.MEDIA_SEGMENT_TYPE]:C.DOWNLOAD_ERROR_ID_CONTENT_CODE,[Te.HTTPRequest.INDEX_SEGMENT_TYPE]:C.DOWNLOAD_ERROR_ID_CONTENT_CODE,[Te.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:C.DOWNLOAD_ERROR_ID_CONTENT_CODE,[Te.HTTPRequest.OTHER_TYPE]:C.DOWNLOAD_ERROR_ID_CONTENT_CODE},z}bl.__dashjs_factory_name="HTTPLoader";var Zc=ae.default.getClassFactory(bl);function yl(){let d,o;function g(){o={}}function m(){g()}return m(),d={getLoader:function(v){for(var w in o)if(o.hasOwnProperty(w)&&v.startsWith(w))return o[w];return Zc},registerLoader:function(v,w){o[v]=w},unregisterLoader:function(v){o[v]&&delete o[v]},unregisterAllLoader:g,reset:m},d}yl.__dashjs_factory_name="SchemeLoaderFactory";var El=ae.default.getSingletonFactory(yl);function vl(d){d=d||{};const o=this.context;let g,m,v;return m=El(o).getInstance(),g={abort:function(){v&&v.abort()},load:function(w){v||(v=m.getLoader(w&&w.request?w.request.url:null)(o).create({errHandler:d.errHandler,mediaPlayerModel:d.mediaPlayerModel,dashMetrics:d.dashMetrics,boxParser:d.boxParser?d.boxParser:null,constants:d.constants?d.constants:null,dashConstants:d.dashConstants?d.dashConstants:null,urlUtils:d.urlUtils?d.urlUtils:null,requestTimeout:isNaN(d.requestTimeout)?0:d.requestTimeout,errors:d.errors})),v.load(w)},reset:function(){m&&(m.reset(),m=null),v&&typeof v.reset=="function"&&v.reset(),v=null},resetInitialSettings:function(){v&&typeof v.resetInitialSettings=="function"&&v.resetInitialSettings()}},g}vl.__dashjs_factory_name="URLLoader";var mr=ae.default.getClassFactory(vl),Jc=class extends Ue{constructor(d){super(d),this.checkForExistenceOnly=!0}};function _l(d){d=d||{};const o=this.context,g=d.eventBus,m=d.events,v=d.urlUtils,w=d.errors,C=d.streamId;let N,T;return N={abort:function(){T&&T.abort()},checkForExistence:function(j){const z=function(k){g.trigger(m.CHECK_FOR_EXISTENCE_COMPLETED,{request:j,exists:k})};if(j){let k=new Jc(j.url);T.load({request:k,success:function(){z(!0)},error:function(){z(!1)}})}else z(!1)},load:function(j){const z=function(k,A){g.trigger(m.LOADING_COMPLETED,{request:j,response:k||null,error:A||null,sender:N})};j?T.load({request:j,progress:function(k){g.trigger(m.LOADING_PROGRESS,{request:j,stream:k.stream,streamId:C}),k.data&&g.trigger(m.LOADING_DATA_PROGRESS,{request:j,response:k.data||null,error:null,sender:N})},success:function(k){z(k)},error:function(k,A,x){z(void 0,new Ie.default(w.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,x,A))},abort:function(k){k&&g.trigger(m.LOADING_ABANDONED,{mediaType:k.mediaType,request:k,sender:N})}}):z(void 0,new Ie.default(w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},reset:function(){T&&(T.abort(),T.reset(),T=null)},resetInitialSettings:function(){T&&T.resetInitialSettings()}},T=mr(o).create({errHandler:d.errHandler,errors:w,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,urlUtils:v,constants:M.default,boxParser:d.boxParser,dashConstants:d.dashConstants,requestTimeout:d.settings.get().streaming.fragmentRequestTimeout}),N}_l.__dashjs_factory_name="FragmentLoader";var ed=ae.default.getClassFactory(_l);function Tl(d){d=d||{};const o=this.context,g=(0,se.default)(o).getInstance(),m=d.errHandler,v=d.mediaPlayerModel,w=d.dashMetrics,C=(0,we.default)(o).getInstance(),N=d.streamInfo;let T,j,z;function k(){return N.id}function A(){for(let K in z)z[K].reset();z={}}function x(K){if(!K.sender)return;const W=K.request,J=K.response,Q=W.isInitializationRequest(),Z=W.representation.mediaInfo.streamInfo;if(K.error&&(W.mediaType===M.default.AUDIO||W.mediaType===M.default.VIDEO||W.mediaType===M.default.TEXT&&W.representation.mediaInfo.isFragmented)&&g.trigger(P.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:K.request.serviceLocation}),!J||!Z)return void j.warn("No "+W.mediaType+" bytes to push or stream is inactive.");const ie=function(ye,V,D,U){const H=new qn;return H.streamId=D,H.segmentType=V.type,H.start=V.startTime,H.duration=V.duration,H.end=H.start+H.duration,H.bytes=ye,H.index=V.index,H.quality=V.quality,H.representation=V.representation,H.endFragment=U,H}(J,W,N.id,K.type!==P.default.FRAGMENT_LOADING_PROGRESS);g.trigger(Q?P.default.INIT_FRAGMENT_LOADED:P.default.MEDIA_FRAGMENT_LOADED,{chunk:ie,request:W},{streamId:Z.id,mediaType:W.mediaType})}return T={getStreamId:k,getModel:function(K){let W=z[K];return W||(W=Bt(o).create({streamInfo:N,type:K,dashMetrics:w,fragmentLoader:ed(o).create({dashMetrics:w,mediaPlayerModel:v,errHandler:m,settings:d.settings,boxParser:d.boxParser,eventBus:g,events:P.default,errors:B,dashConstants:d.dashConstants,urlUtils:d.urlUtils,streamId:k()}),debug:C,eventBus:g,events:P.default}),z[K]=W),W},reset:function(){g.off($.default.FRAGMENT_LOADING_COMPLETED,x,this),g.off($.default.FRAGMENT_LOADING_PROGRESS,x,this),A()}},j=C.getLogger(T),A(),g.on($.default.FRAGMENT_LOADING_COMPLETED,x,T),g.on($.default.FRAGMENT_LOADING_PROGRESS,x,T),T}Tl.__dashjs_factory_name="FragmentController";var td=ae.default.getClassFactory(Tl),nd=class{constructor(){this.url=null,this.width=null,this.height=null,this.x=null,this.y=null}},ad=class{constructor(){this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}};class Qi{constructor(o){if(this.offset=o._offset,this.type=o.type,this.size=o.size,this.boxes=[],o.boxes)for(let g=0;g<o.boxes.length;g++)this.boxes.push(new Qi(o.boxes[g]));switch(this.isComplete=!0,o.type){case"sidx":if(this.timescale=o.timescale,this.earliest_presentation_time=o.earliest_presentation_time,this.first_offset=o.first_offset,this.references=o.references,o.references){this.references=[];for(let g=0;g<o.references.length;g++){let m={reference_type:o.references[g].reference_type,referenced_size:o.references[g].referenced_size,subsegment_duration:o.references[g].subsegment_duration};this.references.push(m)}}break;case"emsg":this.id=o.id,this.version=o.version===1?1:0,this.value=o.value,this.timescale=o.timescale,this.scheme_id_uri=o.scheme_id_uri,this.presentation_time_delta=o.version===1?o.presentation_time:o.presentation_time_delta,this.event_duration=o.event_duration,this.message_data=o.message_data;break;case"mdhd":this.timescale=o.timescale;break;case"mfhd":this.sequence_number=o.sequence_number;break;case"subs":this.entry_count=o.entry_count,this.entries=o.entries;break;case"tfhd":this.base_data_offset=o.base_data_offset,this.sample_description_index=o.sample_description_index,this.default_sample_duration=o.default_sample_duration,this.default_sample_size=o.default_sample_size,this.default_sample_flags=o.default_sample_flags,this.flags=o.flags;break;case"tfdt":this.version=o.version,this.baseMediaDecodeTime=o.baseMediaDecodeTime,this.flags=o.flags;break;case"trun":if(this.sample_count=o.sample_count,this.first_sample_flags=o.first_sample_flags,this.data_offset=o.data_offset,this.flags=o.flags,this.samples=o.samples,o.samples){this.samples=[];for(let g=0,m=o.samples.length;g<m;g++){let v={sample_size:o.samples[g].sample_size,sample_duration:o.samples[g].sample_duration,sample_composition_time_offset:o.samples[g].sample_composition_time_offset};this.samples.push(v)}}break;case"prft":this.version=o.version,this.reference_track_ID=o.reference_track_ID,this.ntp_timestamp_sec=o.ntp_timestamp_sec,this.ntp_timestamp_frac=o.ntp_timestamp_frac,this.media_time=o.media_time,this.flags=o.flags}}getChildBox(o){for(let g=0;g<this.boxes.length;g++)if(this.boxes[g].type===o)return this.boxes[g]}getChildBoxes(o){let g=[];for(let m=0;m<this.boxes.length;m++)this.boxes[m].type===o&&g.push(this.boxes[m]);return g}}var rd=Qi;function wl(){let d,o;function g(v){let w=[];if(!v||!o||typeof o.fetchAll!="function")return w;let C,N=o.fetchAll(v);for(let T=0,j=N.length;T<j;T++)C=m(N[T]),C&&w.push(C);return w}function m(v){if(!v)return null;let w=new rd(v);return v.hasOwnProperty("_incomplete")&&(w.isComplete=!v._incomplete),w}return d={getBox:function(v){return v&&o&&o.boxes&&o.boxes.length!==0&&typeof o.fetch=="function"?m(o.fetch(v)):null},getBoxes:g,setData:function(v){o=v},getLastBox:function(){if(!o||!o.boxes||!o.boxes.length)return null;let v=g(o.boxes[o.boxes.length-1].type);return v.length>0?v[v.length-1]:null}},d}wl.__dashjs_factory_name="IsoFile";var id=ae.default.getClassFactory(wl),Gr=t(6877),Zi=class{constructor(d){let{found:o,sizeOfLastCompletedBox:g,sizeOfLastFoundTargetBox:m,startOffsetOfLastCompletedBox:v,startOffsetOfLastFoundTargetBox:w,typeOfLastCompletedBox:C,typeOfLastTargetBox:N}=d;this.found=o!==void 0&&o,this.sizeOfLastCompletedBox=g!==void 0?g:0,this.sizeOfLastFoundTargetBox=m!==void 0?m:0,this.startOffsetOfLastCompletedBox=v!==void 0?v:0,this.startOffsetOfLastFoundTargetBox=w!==void 0?w:0,this.typeOfLastCompletedBox=C!==void 0?C:null,this.typeOfLastTargetBox=N!==void 0?N:null}};function Sl(){let d,o,g=this.context;function m(C){if(!C)return null;C.fileStart===void 0&&(C.fileStart=0);let N=Gr.parseBuffer(C),T=id(g).create();return T.setData(N),T}function v(C,N){return C[N+3]>>>0|C[N+2]<<8>>>0|C[N+1]<<16>>>0|C[N]<<24>>>0}function w(C,N){return String.fromCharCode(C[N++])+String.fromCharCode(C[N++])+String.fromCharCode(C[N++])+String.fromCharCode(C[N])}return o={findInitRange:function(C){let N,T,j=null;const z=m(C);if(!z)return j;const k=z.getBox("ftyp"),A=z.getBox("moov");return d.debug("Searching for initialization."),A&&A.isComplete&&(N=k?k.offset:A.offset,T=A.offset+A.size-1,j=N+"-"+T,d.debug("Found the initialization.  Range: "+j)),j},findLastTopIsoBoxCompleted:function(C,N,T){if(T===void 0&&(T=0),!N||T+8>=N.byteLength)return new Zi({found:!1});const j=N instanceof ArrayBuffer?new Uint8Array(N):N;let z,k=0,A=0,x=null;for(;T<j.byteLength;){const K=v(j,T),W=w(j,T+4);if(K===0)break;T+K<=j.byteLength&&(C.indexOf(W)>=0?z=new Zi({found:!0,startOffsetOfLastFoundTargetBox:T,sizeOfLastFoundTargetBox:K,typeOfLastTargetBox:W}):(k=T,A=K,x=W)),T+=K}return z||new Zi({found:!1,startOffsetOfLastCompletedBox:k,sizeOfLastCompletedBox:A,typeOfLastCompletedBox:x})},getMediaTimescaleFromMoov:function(C){let N=m(C),T=N?N.getBox("mdhd"):void 0;return T?T.timescale:NaN},getSamplesInfo:function(C){if(!C||C.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};let N,T,j,z,k,A,x,K,W,J,Q,Z,ie,ye,V,D,U,H=m(C),le=H.getBoxes("moof"),pe=H.getBoxes("mfhd");D=H.getBoxes("moof").length,V=pe[pe.length-1].sequence_number,j=0,A=[];let ge=-1,he=-1;for(Q=0;Q<le.length;Q++){let Se=le[Q],O=Se.getChildBoxes("traf");for(W=0;W<O.length;W++){let me=O[W],re=me.getChildBox("tfhd"),be=me.getChildBox("tfdt");k=be.baseMediaDecodeTime;let ce=me.getChildBoxes("trun"),oe=me.getChildBoxes("subs");for(J=0;J<ce.length;J++){let ue=ce[J];for(j=ue.sample_count,ye=(re.base_data_offset||0)+(ue.data_offset||0),K=0;K<j;K++){x=ue.samples[K],N=x.sample_duration!==void 0?x.sample_duration:re.default_sample_duration,z=x.sample_size!==void 0?x.sample_size:re.default_sample_size,T=x.sample_composition_time_offset!==void 0?x.sample_composition_time_offset:0;let G={dts:k,cts:k+T,duration:N,offset:Se.offset+ye,size:z,subSizes:[z]};if(oe)for(Z=0;Z<oe.length;Z++){let ne=oe[Z];if(ge<ne.entry_count-1&&K>he&&(ge++,he+=ne.entries[ge].sample_delta),K==he){G.subSizes=[];let Ee=ne.entries[ge];for(ie=0;ie<Ee.subsample_count;ie++)G.subSizes.push(Ee.subsamples[ie].subsample_size)}}A.push(G),ye+=z,k+=N}}U=k-be.baseMediaDecodeTime}}return{sampleList:A,lastSequenceNumber:V,totalDuration:U,numSequences:D}},parse:m},d=(0,we.default)(g).getInstance().getLogger(o),o}Sl.__dashjs_factory_name="BoxParser";var mi=ae.default.getSingletonFactory(Sl);function kl(d){const o=this.context,g=d.adapter,m=d.baseURLController,v=d.streamInfo,w=d.timelineConverter,C=d.debug,N=d.eventBus,T=d.events,j=d.dashConstants,z=pt(o).getInstance();let k,A,x,K,W,J,Q,Z,ie;function ye(D,U){const H=new ad;H.id=D.id,H.bitrate=D.bandwidth,H.width=D.width,H.height=D.height,H.tilesHor=1,H.tilesVert=1,D.essentialProperties&&D.essentialProperties.forEach(le=>{if(M.default.THUMBNAILS_SCHEME_ID_URIS.indexOf(le.schemeIdUri)>=0&&le.value){const pe=le.value.split("x");pe.length!==2||isNaN(pe[0])||isNaN(pe[1])||(H.tilesHor=parseInt(pe[0],10),H.tilesVert=parseInt(pe[1],10))}}),U?Q.updateSegmentData(D).then(le=>{(function(pe,ge,he){let Se=[];const O=function(me,re){const be=[];let ce,oe,ue,G,ne=0;for(ce=0,oe=me.segments.length;ce<oe;ce++)ue=me.segments[ce],G=xt(w,g.getIsDynamic(),re,ue.startTime,ue.duration,ue.timescale,ue.media,ue.mediaRange,ne),G&&(be.push(G),G=null,ne++);return be}(he,ge);ge.segments=O,ge.fragmentDuration=ge.segmentDuration||(ge.segments&&ge.segments.length>0?ge.segments[0].duration:NaN),pe.segmentDuration=ge.segments[0].duration,pe.readThumbnail=function(me,re){let be=null;Se.some(ce=>{if(ce.start<=me&&ce.end>me)return be=ce.url,!0}),be?re(be):ge.segments.some(ce=>{if(ce.mediaStartTime<=me&&ce.mediaStartTime+ce.duration>me){const oe=m.resolve(ge.path);return Z.load({method:"get",url:oe.url,request:{range:ce.mediaRange,responseType:"arraybuffer"},onload:function(ue){let G=ie.getSamplesInfo(ue.target.response),ne=new Blob([ue.target.response.slice(G.sampleList[0].offset,G.sampleList[0].offset+G.sampleList[0].size)],{type:"image/jpeg"}),Ee=window.URL.createObjectURL(ne);Se.push({start:ce.mediaStartTime,end:ce.mediaStartTime+ce.duration,url:Ee}),re&&re(Ee)}}),!0}})}})(H,D,le)}):(H.startNumber=D.startNumber,H.segmentDuration=D.segmentDuration,H.timescale=D.timescale,H.templateUrl=function(le){const pe=z.isRelative(le.media)?z.resolve(le.media,m.resolve(le.path).url):le.media;return pe?Nn(pe,le.id):""}(D)),H.tilesHor>0&&H.tilesVert>0&&(H.widthPerTile=H.width/H.tilesHor,H.heightPerTile=H.height/H.tilesVert,A.push(H))}function V(){A=[],x=[],W=-1,J=null,K&&(K.reset(),K=null)}return k={addTracks:function(){if(!v||!g||(J=g.getMediaInfoForType(v,M.default.IMAGE),!J))return;const D=g.getVoRepresentations(J);D&&D.length>0&&D.forEach(U=>{(U.segmentInfoType===S.default.SEGMENT_TEMPLATE&&U.segmentDuration>0&&U.media||U.segmentInfoType===S.default.SEGMENT_TIMELINE)&&ye(U),U.segmentInfoType===S.default.SEGMENT_BASE&&ye(U,!0),x.push(U)}),A.length>0&&A.sort((U,H)=>U.bitrate-H.bitrate)},getCurrentTrack:function(){return W<0?null:A[W]},getCurrentTrackIndex:function(){return W},getRepresentations:function(){return x},getThumbnailRequestForTime:function(D){let U;const H=g.getVoRepresentations(J);for(let le=0;le<H.length;le++)if(A[W].id===H[le].id){U=H[le];break}return K.getSegmentRequestForTime(J,U,D)},getTracks:function(){return A},reset:V,setTrackById:function(D){if(!A||A.length===0)return;const U=A.findIndex(H=>H.id===D);U!==-1&&(W=U)},setTrackByIndex:function(D){A&&A.length!==0&&(D>=A.length&&(D=A.length-1),W=D)}},V(),Z=sa(o).create({}),ie=mi(o).getInstance(),Q=Ot(o).create({events:T,eventBus:N,streamInfo:v,timelineConverter:w,dashConstants:j,dashMetrics:d.dashMetrics,segmentBaseController:d.segmentBaseController,type:M.default.IMAGE}),K=Dt(o).create({streamInfo:v,type:M.default.IMAGE,timelineConverter:w,segmentsController:Q,baseURLController:m,debug:C,eventBus:N,events:T,dashConstants:j,urlUtils:z}),K.initialize(!!g&&g.getIsDynamic()),k}kl.__dashjs_factory_name="ThumbnailTracks";var od=ae.default.getClassFactory(kl);function Il(d){const o=this.context,g=d.streamInfo;let m,v;function w(N){v.setTrackByIndex(N)}function C(){v&&v.reset()}return m={getCurrentTrack:function(){return v.getCurrentTrack()},getCurrentTrackIndex:function(){return v.getCurrentTrackIndex()},getPossibleVoRepresentations:function(){return v.getRepresentations()},getStreamId:function(){return g.id},initialize:function(){v.addTracks();const N=v.getTracks();N&&N.length>0&&w(0)},provide:function(N,T){if(typeof T!="function")return;const j=v.getCurrentTrack();let z,k;if(!j||j.segmentDuration<=0||N==null)return void T(null);k=v.getThumbnailRequestForTime(N),k&&(j.segmentDuration=k.duration),z=N%j.segmentDuration;const A=Math.floor(z*j.tilesHor*j.tilesVert/j.segmentDuration),x=new nd;if(x.width=Math.floor(j.widthPerTile),x.height=Math.floor(j.heightPerTile),x.x=Math.floor(A%j.tilesHor)*j.widthPerTile,x.y=Math.floor(A/j.tilesHor)*j.heightPerTile,"readThumbnail"in j)return j.readThumbnail(N,K=>{x.url=K,T(x)});if(k)x.url=k.url,j.segmentDuration=NaN;else{const K=Math.floor(N/j.segmentDuration);x.url=function(W,J){const Q=J+W.startNumber;let Z=Pn(W.templateUrl,"Number",Q);return Z=Pn(Z,"Time",(Q-1)*W.segmentDuration*W.timescale),Z=Pn(Z,"Bandwidth",W.bandwidth),yn(Z)}(j,K)}T(x)},reset:C,setTrackByIndex:w,setTrackById:function(N){v.setTrackById(N)}},C(),v=od(o).create({streamInfo:g,adapter:d.adapter,baseURLController:d.baseURLController,timelineConverter:d.timelineConverter,debug:d.debug,eventBus:d.eventBus,events:d.events,dashConstants:d.dashConstants,dashMetrics:d.dashMetrics,segmentBaseController:d.segmentBaseController}),m}Il.__dashjs_factory_name="ThumbnailController";var ld=ae.default.getClassFactory(Il);function Al(d){let o;d=d||{};let g=[];const m=(0,se.default)(this.context).getInstance(),v=d.updateEventName,w=d.addBlacklistEventName;function C(T){g.indexOf(T)===-1&&(g.push(T),m.trigger(v,{entry:T}))}function N(T){C(T.entry)}return o={add:C,remove:function(T){const j=g.indexOf(T);j!==-1&&g.splice(j,1)},contains:function(T){return!!(g.length&&T&&T.length)&&g.indexOf(T)!==-1},reset:function(){w&&m.off(w,N,o),g=[]}},w&&m.on(w,N,o),o}Al.__dashjs_factory_name="BlackListController";var Ji=ae.default.getClassFactory(Al);const sd=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT,M.default.MUXED,M.default.IMAGE];function Rl(d){d=d||{};const o=this.context,g=(0,se.default)(o).getInstance(),m=pt(o).getInstance(),v=d.manifestModel,w=d.mediaPlayerModel,C=d.dashMetrics,N=d.manifestUpdater,T=d.adapter,j=d.timelineConverter,z=d.capabilities,k=d.errHandler,A=d.abrController,x=d.playbackController,K=d.throughputController,W=d.eventController,J=d.mediaController,Q=d.protectionController,Z=d.textController,ie=d.videoModel;let ye=d.streamInfo;const V=d.settings;let D,U,H,le,pe,ge,he,Se,O,me,re,be,ce,oe,ue,G;function ne(He,gt,_t){return new Promise((Ft,qt)=>{yt(),Kt();let Xt=ie.getElement();const Ge=[];sd.forEach(ft=>{if((ft!==M.default.TEXT||He)&&(ft!==M.default.VIDEO||!Xt||Xt&&/^VIDEO$/i.test(Xt.nodeName))){const St=_t.find(Gt=>Gt.mediaInfo.type===ft);Ge.push(Ee(ft,He,St))}}),Promise.all(Ge).then(()=>{return ft=gt,new Promise(St=>{const Gt={},at=H.map(_e=>{const Oe=_e.getRepresentation();return _e.createBufferSinks(ft,Oe)});Promise.all(at).then(_e=>{_e.forEach(Oe=>{Oe&&(Gt[Oe.getType()]=Oe)}),St(Gt)}).catch(()=>{St(Gt)})});var ft}).then(ft=>{if(H.length===0){const St="No streams to play.";k.error(new Ie.default(B.MANIFEST_ERROR_ID_NOSTREAMS_CODE,St,v.getValue())),U.fatal(St)}else nt();He&&Z.createTracks(ye),Ft(ft)}).catch(ft=>{qt(ft)})})}function Ee(He,gt,_t){let Ft,qt=T.getAllMediaInfoForType(ye,He),Xt=[],Ge=null;if(!qt||qt.length===0)return U.info("No "+He+" data."),Promise.resolve();He===M.default.VIDEO&&(he=!0),He===M.default.AUDIO&&(Se=!0);for(let St=0,Gt=qt.length;St<Gt;St++)Ge=qt[St],He===M.default.TEXT&&Ge.isEmbedded&&(Z.addEmbeddedTrack(ye,Ge),Xt.push(Ge)),ke(Ge)&&J.addTrack(Ge);if(Xt.length>0&&(J.setInitialMediaSettingsForType(He,ye),Z.addMediaInfosToBuffer(ye,He,Xt)),qt=qt.filter(St=>!St.isEmbedded),qt.length===0)return Promise.resolve();if(He===M.default.IMAGE)return me=ld(o).create({streamInfo:ye,adapter:T,baseURLController:d.baseURLController,timelineConverter:d.timelineConverter,debug:oe,eventBus:g,events:P.default,dashConstants:S.default,dashMetrics:d.dashMetrics,segmentBaseController:d.segmentBaseController}),me.initialize(),Promise.resolve();g.trigger(P.default.STREAM_INITIALIZING,{streamInfo:ye,mediaInfo:Ge}),J.setInitialMediaSettingsForType(He,ye);let ft=function(St,Gt){const at=St&&St.length>0?St[0]:null;let _e=O.getModel(at?at.type:null);const Oe=at?at.type:null,ot=at?at.mimeType:null,je=at?at.isFragmented:null;let mt=Qn(o).create({abrController:A,adapter:T,baseURLController:d.baseURLController,boxParser:ce,capabilities:z,dashMetrics:d.dashMetrics,errHandler:k,fragmentModel:_e,manifestModel:v,mediaController:J,mediaPlayerModel:w,mimeType:ot,playbackController:x,segmentBaseController:d.segmentBaseController,segmentBlacklistController:re,settings:V,streamInfo:ye,textController:Z,throughputController:K,timelineConverter:j,type:Oe});return mt.initialize(Gt,he,je),H.push(mt),mt.setMediaInfoArray(St),Oe===M.default.TEXT&&Z.addMediaInfosToBuffer(ye,Oe,St,_e),mt}(qt,gt);if(Ft=J.getCurrentTrackFor(He,ye.id),Ft){const St=He===M.default.TEXT&&Ft.isEmbedded?qt[0]:Ft,Gt=new Tn({newMediaInfo:St,previouslySelectedRepresentation:_t});return ft.selectMediaInfo(Gt)}return Promise.resolve()}function ke(He){const gt=He?He.type:null;let _t;return gt===M.default.MUXED?(_t="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",U.fatal(_t),k.error(new Ie.default(B.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,_t,v.getValue())),!1):!(gt!==M.default.TEXT&&gt!==M.default.IMAGE&&He.contentProtection&&He.contentProtection.length>0&&!z.supportsEncryptedMedia()&&(k.error(new Ie.default(B.CAPABILITY_MEDIAKEYS_ERROR_CODE,B.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Re(He){let gt=H?H.length:0;for(let _t=0;_t<gt;_t++){let Ft=H[_t].getFragmentModel();Ft.abortRequests(),Ft.resetInitialSettings(),H[_t].reset(!1,He)}Z&&Z.deactivateStream(ye),me&&(me.reset(),me=null),H=[],pe=!1,ge=!1,et(!1),Be(!1),g.trigger(P.default.STREAM_DEACTIVATED,{streamInfo:ye})}function $e(He){Re(He),le=!1,he=!1,Se=!1,ue=!1,G=[]}function Be(He){ue=He}function tt(){return ye?ye.start:NaN}function vt(){return ye?ye.id:null}function yt(){if(!ie||!A)throw new Error(M.default.MISSING_CONFIG_ERROR)}function Ht(He){He.error&&(k.error(He.error),U.fatal(He.error.message))}function Kt(){if(W){const He=T.getEventsFor(ye);He&&He.length>0&&W.addInlineEvents(He,ye.id)}}function sn(He){let gt=kt(He);return gt?gt.getMediaInfo():null}function kt(He){return He?H.find(gt=>gt.getType()===He):null}function $t(){let He=on();const gt=He.length;if(gt!==0){for(let _t=0;_t<gt;_t++)if(!He[_t].isBufferingCompleted()&&(He[_t].getType()===M.default.AUDIO||He[_t].getType()===M.default.VIDEO))return void U.debug("onBufferingCompleted - One streamProcessor has finished but",He[_t].getType(),"one is not buffering completed");U.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),ge=!0,g.trigger(P.default.STREAM_BUFFERING_COMPLETED,{streamInfo:ye},{streamInfo:ye})}else U.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function en(He){W&&W.addInbandEvents(He.events,ye.id)}function pn(He){return He&&He.type?rn(He.type):null}function rn(He){return He?on().filter(function(gt){return gt.getType()===He})[0]:null}function on(){let He,gt,_t=[];for(let Ft=0;Ft<H.length;Ft++)gt=H[Ft],He=gt.getType(),He!==M.default.AUDIO&&He!==M.default.VIDEO&&He!==M.default.TEXT||_t.push(gt);return _t}function Fe(){const He=H.length;for(let gt=0;gt<He&&H[gt];gt++)H[gt].getScheduleController().startScheduleTimer()}function nt(){const He=H.length;if(Q){Q.clearMediaInfoArray();for(let gt=0;gt<He&&H[gt];gt++){const _t=H[gt].getType(),Ft=H[gt].getMediaInfo();if(_t===M.default.AUDIO||_t===M.default.VIDEO||_t===M.default.TEXT&&Ft&&Ft.isFragmented){let qt=H[gt].getMediaInfo();qt&&Q.initializeForMedia(qt)}}Q.handleKeySystemFromManifest()}le||(le=!0,ie.waitForReadyState(M.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,()=>{g.trigger(P.default.STREAM_INITIALIZED,{streamInfo:ye})}))}function et(He){be=He}function st(){return be}return D={activate:function(He,gt){let _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise((Ft,qt)=>{if(!pe)return st()?(pe=!0,g.trigger(P.default.STREAM_ACTIVATED,{streamInfo:ye}),void Ft(gt)):void function(Xt,Ge){return ne(Xt,Ge,arguments.length>2&&arguments[2]!==void 0?arguments[2]:[])}(He,gt,_t).then(Xt=>{pe=!0,_t&&_t.length>0&&Fe(),g.trigger(P.default.STREAM_ACTIVATED,{streamInfo:ye}),Ft(Xt)}).catch(Xt=>{qt(Xt)});Ft(gt)})},checkAndHandleCompletedBuffering:function(){ge||H.forEach(He=>{He.checkAndHandleCompletedBuffering()})},deactivate:Re,getAdapter:function(){return T},getCurrentMediaInfoForType:function(He){const gt=rn(He);return gt?gt.getMediaInfo():null},getCurrentRepresentationForType:function(He){const gt=rn(He);return gt?gt.getRepresentation():null},getDuration:function(){return ye?ye.duration:NaN},getHasAudioTrack:function(){return Se},getHasFinishedBuffering:function(){return ge},getHasVideoTrack:function(){return he},getId:vt,getIsActive:function(){return pe},getIsEndedEventSignaled:function(){return ue},getPreloaded:st,getRepresentationForTypeById:function(He,gt){let _t;if(He===M.default.IMAGE){if(!me)return null;_t=me.getPossibleVoRepresentations()}else _t=function(Xt){let Ge=kt(Xt);return Ge?Ge.getAllMediaInfos():[]}(He).flatMap(Xt=>A.getPossibleVoRepresentationsFilteredBySettings(Xt,!0));if(!_t||_t.length===0)return null;const Ft=_t.filter(qt=>qt.id===gt);return Ft&&Ft.length>0?Ft[0]:null},getRepresentationForTypeByIndex:function(He,gt){let _t;if(He===M.default.IMAGE){if(!me)return null;_t=me.getPossibleVoRepresentations()}else{const Ft=sn(He);_t=A.getPossibleVoRepresentationsFilteredBySettings(Ft,!0)}return _t[gt=Math.max(Math.min(gt,_t.length-1),0)]},getRepresentationsByType:function(He){if(yt(),He===M.default.IMAGE)return me?me.getPossibleVoRepresentations():[];const gt=sn(He);return A.getPossibleVoRepresentationsFilteredBySettings(gt,!0)},getStartTime:tt,getStreamId:function(){return ye?ye.id:null},getStreamInfo:function(){return ye},getStreamProcessors:on,getThumbnailController:function(){return me},initialize:function(){g.on(P.default.BUFFERING_COMPLETED,$t,D),g.on(P.default.INBAND_EVENTS,en,D),Q&&(g.on(P.default.KEY_ERROR,Ht,D),g.on(P.default.SERVER_CERTIFICATE_UPDATED,Ht,D),g.on(P.default.LICENSE_REQUEST_COMPLETE,Ht,D),g.on(P.default.KEY_SYSTEM_SELECTED,Ht,D),g.on(P.default.KEY_SESSION_CREATED,Ht,D)),Z.initializeForStream(ye),g.trigger(P.default.STREAM_UPDATED,{streamInfo:ye})},initializeForTextWithMediaSource:function(He){return new Promise((gt,_t)=>{Ee(M.default.TEXT,He,null).then(()=>function(){const Ft=rn(M.default.TEXT);return Ft?Ft.createBufferSinks():Promise.resolve()}()).then(()=>{Z.createTracks(ye),gt()}).catch(Ft=>{_t(Ft)})})},prepareQualityChange:function(He){const gt=rn(He.mediaType);gt&&gt.prepareQualityChange(He)},prepareTrackChange:function(He){if(!pe||!ye)return;ge=!1;let gt=He.newMediaInfo,_t=v.getValue(),Ft=pn(gt);if(!Ft)return;let qt=x.getTime();if(U.info("Stream -  Process track changed at current time "+qt),_t.refreshManifestOnSwitchTrack)G.push(He),N.getIsUpdating()||(U.debug("Stream -  Refreshing manifest for switch track"),N.refreshManifest());else{Ft.clearScheduleTimer(),Ft.setTrackSwitchInProgress(!0);const Xt=Ft.getRepresentation();Ft.selectMediaInfo(new Tn({newMediaInfo:gt})).then(()=>{const Ge=!!(He&&He.options&&He.options.hasOwnProperty("replaceBuffer"))&&He.options.replaceBuffer;return Ft.prepareTrackSwitch(Xt,Ge)}).then(()=>{Ft.setTrackSwitchInProgress(!1)})}},reset:function(He){O&&(O.reset(),O=null),A&&ye&&A.clearDataForStream(ye.id),re&&(re.reset(),re=null),Z&&ye&&Z.clearDataForStream(ye.id),J&&ye&&J.clearDataForStream(ye.id),$e(He),ye=null,g.off(P.default.BUFFERING_COMPLETED,$t,D),g.off(P.default.INBAND_EVENTS,en,D),Q&&(g.off(P.default.KEY_ERROR,Ht,D),g.off(P.default.SERVER_CERTIFICATE_UPDATED,Ht,D),g.off(P.default.LICENSE_REQUEST_COMPLETE,Ht,D),g.off(P.default.KEY_SYSTEM_SELECTED,Ht,D),g.off(P.default.KEY_SESSION_CREATED,Ht,D))},setIsEndedEventSignaled:Be,setMediaSource:function(He){return new Promise((gt,_t)=>{const Ft=[];for(let qt=0;qt<H.length;)ke(H[qt].getMediaInfo())?(Ft.push(H[qt].setMediaSource(He)),qt++):(H[qt].reset(),H.splice(qt,1));Promise.all(Ft).then(()=>{for(let qt=0;qt<H.length;qt++)H[qt].dischargePreBuffer();if(H.length===0){const qt="No streams to play.";k.error(new Ie.default(B.MANIFEST_ERROR_ID_NOSTREAMS_CODE,qt+"nostreams",v.getValue())),U.fatal(qt)}gt()}).catch(qt=>{U.error(qt),_t(qt)})})},startPreloading:function(He,gt){let _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise((Ft,qt)=>{st()?qt():(U.info(`[startPreloading] Preloading next stream with id ${vt()}`),et(!0),ne(He,gt,_t).then(()=>{for(let Xt=0;Xt<H.length&&H[Xt];Xt++)H[Xt].setExplicitBufferingTime(tt()),H[Xt].getScheduleController().startScheduleTimer();Ft()}).catch(()=>{et(!1),qt()}))})},startScheduleControllers:Fe,triggerProtectionError:function(He){Ht(He)},updateData:function(He){return new Promise(gt=>{ye=He,W&&Kt();let _t,Ft=[];for(let qt=0,Xt=H.length;qt<Xt;qt++){let Ge=H[qt];const ft=Ge.getMediaInfo();Ft.push(Ge.updateStreamInfo(ye));let St=T.getAllMediaInfoForType(ye,Ge.getType());if(St=St.filter(Gt=>!Gt.isEmbedded),Ge.setMediaInfoArray(St),St)for(let Gt=0;Gt<St.length;Gt++)T.areMediaInfosEqual(ft,St[Gt])&&Ft.push(Ge.selectMediaInfo(new Tn({newMediaInfo:St[Gt]})))}Promise.all(Ft).then(()=>{let qt=[];for(;G.length>0;){let Xt=G.pop(),Ge=Xt.newMediaInfo;if(_t=pn(Xt.oldMediaInfo),!_t)return;const ft=_t.getRepresentation();_t.setTrackSwitchInProgress(!0),qt.push(_t.prepareTrackSwitch(ft)),qt.push(_t.selectMediaInfo(new Tn({newMediaInfo:Ge})))}return Promise.all(qt)}).then(()=>{nt(),_t&&_t.setTrackSwitchInProgress(!1),g.trigger(P.default.STREAM_UPDATED,{streamInfo:ye}),gt()}).catch(qt=>{k.error(qt)})})}},function(){try{oe=(0,we.default)(o).getInstance(),U=oe.getLogger(D),$e(),ce=mi(o).getInstance(),re=Ji(o).create({updateEventName:P.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:P.default.SEGMENT_LOCATION_BLACKLIST_ADD}),O=td(o).create({streamInfo:ye,mediaPlayerModel:w,dashMetrics:C,errHandler:k,settings:V,boxParser:ce,dashConstants:S.default,urlUtils:m})}catch(He){throw He}}(),D}Rl.__dashjs_factory_name="Stream";var ud=ae.default.getClassFactory(Rl),cd=class{constructor(d){this.url=d||null,this.type=Te.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"}},dd=class{constructor(){this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]}};function Cl(){const d=this.context,o=pt(d).getInstance();let g,m,v,w,C,N,T,j,z,k,A,x,K,W,J;function Q(he){ye(he,"baseUrl")}function Z(he){ye(he,"location")}function ie(he){var Se,O;he&&he.throughputValues&&he.throughputValues.serviceLocation&&(Se=he.throughputValues.serviceLocation,O=he.throughputValues,C[Se]||(C[Se]=[]),C[Se].push(O),C[Se].length>4&&C[Se].shift())}function ye(he,Se){if(he&&he.request&&he.request.serviceLocation){const O=he.request.serviceLocation;w[Se].all.indexOf(O)===-1&&w[Se].all.push(O),w[Se].current=O}}function V(){const he=A.getValue();let Se=J.getContentSteering(he);return Se||(Se=x.getServiceDescriptionSettings().contentSteering),Se}function D(){return new Promise(he=>{try{const Se=V();if(!Se||!Se.serverUrl)return void he();const O=function(re){let be=re.serverUrl;v&&v.reloadUri&&(be=o.isRelative(v.reloadUri)?o.resolve(v.reloadUri,re.serverUrl):v.reloadUri);const ce=[],oe=w.baseUrl.all.concat(w.location.all);if(oe.length>0){const ue=oe.map(Ee=>{const ke=function(Re){if(!Re||!C[Re]||C[Re].length===0)return-1;const $e=K.getArithmeticMean(C[Re],C[Re].length,!0);return parseInt(1e3*$e)}(Ee);return{serviceLocation:Ee,throughput:ke}});ue.sort((Ee,ke)=>ke.throughput-Ee.throughput);let G="",ne="";ue.forEach((Ee,ke)=>{ke!==0&&(G=`${G},`,Ee.throughput>-1&&(ne=`${ne},`)),G=`${G}${Ee.serviceLocation}`,Ee.throughput>-1&&(ne=`${ne}${Ee.throughput}`)}),ce.push({key:"_DASH_pathway",value:`"${G}"`}),ce.push({key:"_DASH_throughput",value:ne})}return be=xn.default.addAdditionalQueryParameterToUrl(be,ce),be}(Se),me=new cd(O);T.load({request:me,success:re=>{(function(be){be&&be[S.default.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(be[S.default.CONTENT_STEERING_RESPONSE.VERSION])===1&&(v=new dd,v.version=be[S.default.CONTENT_STEERING_RESPONSE.VERSION],be[S.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(be[S.default.CONTENT_STEERING_RESPONSE.TTL])&&(v.ttl=be[S.default.CONTENT_STEERING_RESPONSE.TTL]),be[S.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(v.reloadUri=be[S.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),be[S.default.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(v.pathwayPriority=be[S.default.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),be[S.default.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(v.pathwayClones=be[S.default.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],v.pathwayClones=v.pathwayClones.filter(ce=>function(oe){return oe[S.default.CONTENT_STEERING_RESPONSE.BASE_ID]&&oe[S.default.CONTENT_STEERING_RESPONSE.ID]&&oe[S.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&oe[S.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][S.default.CONTENT_STEERING_RESPONSE.HOST]}(ce))),le())})(re),W.trigger($.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:v,url:O}),he()},error:(re,be,ce,oe)=>{(function(ue,G){try{switch(m.warn("Error fetching data from content steering server",ue),G.status){case 410:break;case 429:const ne=G&&G.getResponseHeader?G.getResponseHeader("retry-after"):null;ne!==null&&(v||(v={}),v.ttl=parseInt(ne)),le();break;default:le()}}catch(ne){m.error(ne)}})(re,oe),he(re)},complete:()=>{w.baseUrl.all=U(w.baseUrl),w.location.all=U(w.location)}})}catch(Se){he(Se)}})}function U(he){return he.all&&he.all.length!==0&&he.current?he.all.filter(Se=>Se===he.current):[]}function H(he){try{const Se=[];return he&&he.length!==0&&v&&v.pathwayClones&&v.pathwayClones.length!==0&&v.pathwayClones.forEach(O=>{let me=he.filter(be=>O[S.default.CONTENT_STEERING_RESPONSE.BASE_ID]===be.serviceLocation),re=null;if(me&&me.length>0&&(re=me[0]),re){const be=new URL(re.url);let ce=O[S.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][S.default.CONTENT_STEERING_RESPONSE.HOST];ce=xn.default.stringHasProtocol(ce)?ce:`${be.protocol}//${ce}`;const oe={synthesizedUrl:`${ce}${be.pathname}`,serviceLocation:O[S.default.CONTENT_STEERING_RESPONSE.ID],queryParams:O[S.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][S.default.CONTENT_STEERING_RESPONSE.PARAMS],reference:re};Se.push(oe)}}),Se}catch(Se){return m.error(Se),[]}}function le(){v&&v.ttl&&!isNaN(v.ttl)&&(N&&clearTimeout(N),N=setTimeout(()=>{D()},1e3*v.ttl))}function pe(){N&&clearTimeout(N),N=null}function ge(){v=null,C={},w={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},pe()}return g={reset:function(){ge(),W.off($.default.FRAGMENT_LOADING_STARTED,Q,g),W.off($.default.MANIFEST_LOADING_STARTED,Z,g),W.off($.default.THROUGHPUT_MEASUREMENT_STORED,ie,g)},setConfig:function(he){he&&(he.adapter&&(J=he.adapter),he.errHandler&&(j=he.errHandler),he.dashMetrics&&(z=he.dashMetrics),he.mediaPlayerModel&&(k=he.mediaPlayerModel),he.manifestModel&&(A=he.manifestModel),he.serviceDescriptionController&&(x=he.serviceDescriptionController),he.throughputController&&(K=he.throughputController),he.eventBus&&(W=he.eventBus))},loadSteeringData:D,getCurrentSteeringResponseData:function(){return v},shouldQueryBeforeStart:function(){const he=V();return!!he&&he.queryBeforeStart},getSteeringDataFromManifest:V,stopSteeringRequestTimer:pe,getSynthesizedBaseUrlElements:function(he){try{return H(he).map(Se=>{const O=new rr(Se.synthesizedUrl,Se.serviceLocation);return O.queryParams=Se.queryParams,O.dvbPriority=Se.reference.dvbPriority,O.dvbWeight=Se.reference.dvbWeight,O.availabilityTimeOffset=Se.reference.availabilityTimeOffset,O.availabilityTimeComplete=Se.reference.availabilityTimeComplete,O})}catch(Se){return m.error(Se),[]}},getSynthesizedLocationElements:function(he){try{return H(he).map(Se=>{const O=new Sn(Se.synthesizedUrl,Se.serviceLocation);return O.queryParams=Se.queryParams,O})}catch(Se){return m.error(Se),[]}},initialize:function(){T=mr(d).create({errHandler:j,dashMetrics:z,mediaPlayerModel:k,errors:B}),W.on($.default.FRAGMENT_LOADING_STARTED,Q,g),W.on($.default.MANIFEST_LOADING_STARTED,Z,g),W.on($.default.THROUGHPUT_MEASUREMENT_STORED,ie,g)}},m=(0,we.default)(d).getInstance().getLogger(g),ge(),g}Cl.__dashjs_factory_name="ContentSteeringController";var eo=ae.default.getSingletonFactory(Cl);function Nl(){const d=this.context,o=(0,Y.default)(d).getInstance();let g,m,v;return g={select:function(w){if(!w||w.length===0)return null;let C=null;return o.get().streaming.applyContentSteering&&(C=function(N){const T=v.getCurrentSteeringResponseData();return T&&T.pathwayPriority&&T.pathwayPriority.length>0?function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=0,A=null;for(;k<j.length;){const x=j[k],K=z.findIndex(W=>W.serviceLocation&&W.serviceLocation===x);if(K!==-1&&!m.contains(z[K].serviceLocation)){A=z[K];break}k+=1}return A}(T.pathwayPriority,N):null}(w)),C||(C=function(N){return N[0]}(w)),C},setConfig:function(w){w.blacklistController&&(m=w.blacklistController),w.contentSteeringController&&(v=w.contentSteeringController)},reset:function(){m.reset()}},m=Ji(d).create({updateEventName:P.default.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:P.default.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),v=eo(d).getInstance(),g}Nl.__dashjs_factory_name="LocationSelector";var fd=ae.default.getClassFactory(Nl);function xl(){const d=this.context,o=(0,se.default)(d).getInstance(),g=pt(d).getInstance();let m,v,w,C,N,T,j,z,k,A,x,K,W,J;function Q(){w=NaN,j=!1,N=!0,T=!1,Z()}function Z(){C!==null&&(clearTimeout(C),C=null)}function ie(ge){Z(),T||(isNaN(ge)&&!isNaN(w)&&(ge=1e3*w),isNaN(ge)||(v.debug("Refresh manifest in "+ge+" milliseconds."),C=setTimeout(D,ge)))}function ye(){let ge=arguments.length>0&&arguments[0]!==void 0&&arguments[0];j=!0;const he=k.getValue();let Se=he.url;Se&&(Se=xn.default.removeQueryParameterFromUrl(Se,M.default.CMCD_QUERY_KEY));let O=null;const me=x.getPatchLocation(he),re=A.select(me);let be=null;if(re&&!ge)Se=re.url,O=re.serviceLocation,be=re.queryParams;else{const ce=function(ue){const G=x.getLocation(ue),ne=W.getSynthesizedLocationElements(G);return G.concat(ne)}(he),oe=A.select(ce);oe&&(Se=oe.url,O=oe.serviceLocation,be=oe.queryParams)}g.isRelative(Se)&&(Se=g.resolve(Se,he.url)),z.load(Se,O,be)}function V(ge){if(ge){if(x.getIsPatch(ge)){let O=ge;ge=k.getValue();let me=x.isPatchValid(ge,O),re=me;if(me){let be=x.getPublishTime(ge);x.applyPatchToManifest(ge,O);let ce=x.getPublishTime(ge);re=be.getTime()!==ce.getTime()}if(!re)return v.debug("Patch provided is invalid, performing full manifest refresh"),void ye(!0);ge.loadedTime=new Date}}else(ge=k.getValue()).loadedTime=new Date;if(k.getValue()&&k.getValue().type===S.default.DYNAMIC&&ge.type===S.default.STATIC)return o.trigger(P.default.DYNAMIC_TO_STATIC),j=!1,void(T=!0);k.setValue(ge);const he=new Date,Se=(he.getTime()-ge.loadedTime.getTime())/1e3;w=x.getManifestUpdatePeriod(ge,Se),1e3*w>2147483647&&(w=2147483647e-3),o.trigger(P.default.MANIFEST_UPDATED,{manifest:ge}),v.info("Manifest has been refreshed at "+he+"["+he.getTime()/1e3+"] "),N||ie()}function D(){N||(j?ie(J.get().streaming.manifestUpdateRetryInterval):ye())}function U(ge){ge.error?ge.error.code===B.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&K.error(ge.error):V(ge.manifest)}function H(){N=!1,ie()}function le(){N=!J.get().streaming.scheduling.scheduleWhilePaused,N&&Z()}function pe(){j=!1}return m={initialize:function(){Q(),o.on(P.default.STREAMS_COMPOSED,pe,this),o.on($.default.PLAYBACK_STARTED,H,this),o.on($.default.PLAYBACK_PAUSED,le,this),o.on(P.default.INTERNAL_MANIFEST_LOADED,U,this)},setManifest:function(ge){V(ge)},refreshManifest:ye,getIsUpdating:function(){return j},setConfig:function(ge){ge&&(ge.manifestModel&&(k=ge.manifestModel),ge.adapter&&(x=ge.adapter),ge.manifestLoader&&(z=ge.manifestLoader),ge.errHandler&&(K=ge.errHandler),ge.locationSelector&&(A=ge.locationSelector),ge.settings&&(J=ge.settings),ge.contentSteeringController&&(W=ge.contentSteeringController))},reset:function(){o.off($.default.PLAYBACK_STARTED,H,this),o.off($.default.PLAYBACK_PAUSED,le,this),o.off(P.default.STREAMS_COMPOSED,pe,this),o.off(P.default.INTERNAL_MANIFEST_LOADED,U,this),Q()}},v=(0,we.default)(d).getInstance().getLogger(m),A=fd(d).create(),m}xl.__dashjs_factory_name="ManifestUpdater";var Dl=ae.default.getClassFactory(xl);function to(){const d=this.context,o=(0,se.default)(d).getInstance(),g=pt(d).getInstance();let m,v,w,C,N,T,j,z,k,A,x,K,W,J,Q,Z;function ie(){z=[],k=[],A=null,x=null,W=null,K=NaN,w=!1,C=!1,J=N.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function ye(){N.get().streaming.utcSynchronization.enabled&&!w&&!C&&W&&W.value&&W.schemeIdUri&&!isNaN(K)&&!isNaN(N.get().streaming.utcSynchronization.backgroundAttempts)&&(x&&(Date.now()-x)/1e3<30||(z=[],C=!0,V(isNaN(N.get().streaming.utcSynchronization.backgroundAttempts)?2:N.get().streaming.utcSynchronization.backgroundAttempts)))}function V(oe){try{if(oe<=0)return void be();const ue=Date.now();T[W.schemeIdUri](W.value,function(G){const ne=Date.now(),Ee=U(ue,ne,G);z.push(Ee),V(oe-1)},function(){be()})}catch{be()}}function D(){let oe=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||0;if(!k||k.length===0||oe>=k.length)return void H();let ue=k[oe];if(ue)if(T.hasOwnProperty(ue.schemeIdUri)){const G=new Date().getTime();T[ue.schemeIdUri](ue.value,function(ne){const Ee=new Date().getTime(),ke=U(G,Ee,ne);W=ue,H(ke)},function(){D(oe+1)})}else D(oe+1);else H()}function U(oe,ue,G){return G-(ue-(ue-oe)/2)}function H(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN,ue=isNaN(oe);ue&&N.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function(){let G=j.getLatestMPDRequestHeaderValueByID("Date"),ne=G!==null?new Date(G).getTime():Number.NaN;isNaN(ne)?re(!0):re(!1,ne-Date.now())}():re(ue,oe)}function le(oe){let ue=Date.parse(oe);return isNaN(ue)&&(ue=function(G){let ne,Ee,ke=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(G);return ne=Date.UTC(parseInt(ke[1],10),parseInt(ke[2],10)-1,parseInt(ke[3],10),parseInt(ke[4],10),parseInt(ke[5],10),ke[6]&&(parseInt(ke[6],10)||0),ke[7]&&1e3*parseFloat(ke[7])||0),ke[9]&&ke[10]&&(Ee=60*parseInt(ke[9],10)+parseInt(ke[10],10),ne+=(ke[8]==="+"?-1:1)*Ee*60*1e3),new Date(ne).getTime()}(oe)),ue}function pe(oe){return Date.parse(oe)}function ge(oe){return Date.parse(oe)}function he(oe,ue,G){G()}function Se(oe,ue,G){let ne=le(oe);isNaN(ne)?G():ue(ne)}function O(oe,ue,G,ne,Ee){let ke,Re,$e=!1,Be=new XMLHttpRequest,tt=Ee?Te.HTTPRequest.HEAD:Te.HTTPRequest.GET,vt=ue.match(/\S+/g);if(ue=vt.shift(),ke=function(){$e||($e=!0,vt.length?O(oe,vt.join(" "),G,ne,Ee):ne())},Re=function(){let yt,Ht;Be.status===200&&(yt=Ee?Be.getResponseHeader("Date"):Be.response,Ht=oe(yt),isNaN(Ht)||(G(Ht),$e=!0))},g.isRelative(ue)){const yt=Z.resolve();yt&&(ue=g.resolve(ue,yt.url))}Be.open(tt,ue),Be.timeout=5e3,Be.onload=Re,Be.onloadend=ke,Be.send()}function me(oe,ue,G){O(ge,oe,ue,G,!0)}function re(oe,ue){if(isNaN(K)||isNaN(ue)||oe||function(G){try{const ne=ce(G),Ee=isNaN(J)?30:J,ke=isNaN(N.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:N.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Re=isNaN(N.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:N.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,$e=isNaN(N.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:N.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;let Be;ne?(Be=Math.min(Ee*ke,Re),v.debug(`Increasing timeBetweenSyncAttempts to ${Be}`)):(Be=Math.max(Ee/ke,$e),v.debug(`Decreasing timeBetweenSyncAttempts to ${Be}`)),J=Be}catch{}}(ue),!oe&&!isNaN(ue)){A=Date.now(),w=!1;const G=isNaN(K);K=ue,G&&ye(),v.debug(`Completed UTC sync. Setting client - server offset to ${ue}`)}oe&&(W=null,w=!1,Q.error(new Ie.default(B.TIME_SYNC_FAILED_ERROR_CODE,B.TIME_SYNC_FAILED_ERROR_MESSAGE))),o.trigger(P.default.UPDATE_TIME_SYNC_OFFSET,{offset:ue}),o.trigger(P.default.TIME_SYNCHRONIZATION_COMPLETED)}function be(){if(!z||z.length===0)return;const oe=z.reduce((ue,G)=>ue+G,0)/z.length;ce(oe)?v.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(v.debug(`Completed background UTC sync. Setting client - server offset to ${oe}`),K=oe,o.trigger(P.default.UPDATE_TIME_SYNC_OFFSET,{offset:K})),C=!1,x=Date.now()}function ce(oe){try{if(isNaN(K))return!0;const ue=N.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(N.get().streaming.utcSynchronization.maximumAllowedDrift)?N.get().streaming.utcSynchronization.maximumAllowedDrift:100;return oe>=K-ue&&oe<=K+ue}catch{return!0}}return m={initialize:function(){ie(),T={"urn:mpeg:dash:utc:http-head:2014":me,"urn:mpeg:dash:utc:http-xsdate:2014":O.bind(null,le),"urn:mpeg:dash:utc:http-iso:2014":O.bind(null,pe),"urn:mpeg:dash:utc:direct:2014":Se,"urn:mpeg:dash:utc:http-head:2012":me,"urn:mpeg:dash:utc:http-xsdate:2012":O.bind(null,le),"urn:mpeg:dash:utc:http-iso:2012":O.bind(null,pe),"urn:mpeg:dash:utc:direct:2012":Se,"urn:mpeg:dash:utc:http-ntp:2014":he,"urn:mpeg:dash:utc:ntp:2014":he,"urn:mpeg:dash:utc:sntp:2014":he}},attemptSync:function(oe,ue){k=oe,w||(function(G){try{if(!G||!N.get().streaming.utcSynchronization.enabled)return!1;const ne=isNaN(J)?30:J;return!(A&&ne&&!isNaN(ne))||(Date.now()-A)/1e3>=ne}catch{return!0}}(ue)?(w=!0,D()):o.trigger(P.default.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(oe){oe&&(oe.dashMetrics&&(j=oe.dashMetrics),oe.baseURLController&&(Z=oe.baseURLController),oe.errHandler&&(Q=oe.errHandler),oe.settings&&(N=oe.settings))},reset:function(){ie(),o.off(P.default.ATTEMPT_BACKGROUND_SYNC,ye,m)}},v=(0,we.default)(d).getInstance().getLogger(m),o.on(P.default.ATTEMPT_BACKGROUND_SYNC,ye,m),m}to.__dashjs_factory_name="TimeSyncController";const no=ae.default.getSingletonFactory(to);no.HTTP_TIMEOUT_MS=5e3,ae.default.updateSingletonFactory(to.__dashjs_factory_name,no);var gd=no;function Ml(){let d,o,g,m,v;const w=this.context,C=(0,se.default)(w).getInstance();return d={attachMediaSource:function(N){let T=window.URL.createObjectURL(o);return N.setSource(T),m==="managedMediaSource"&&(N.setDisableRemotePlayback(!0),o.addEventListener("startstreaming",()=>{C.trigger($.default.MANAGED_MEDIA_SOURCE_START_STREAMING)}),o.addEventListener("endstreaming",()=>{C.trigger($.default.MANAGED_MEDIA_SOURCE_END_STREAMING)})),T},createMediaSource:function(){let N="WebKitMediaSource"in window,T="MediaSource"in window;return"ManagedMediaSource"in window?(o=new ManagedMediaSource,m="managedMediaSource",v.info("Created ManagedMediaSource")):T?(o=new MediaSource,m="mediaSource",v.info("Created MediaSource")):N&&(o=new WebKitMediaSource,v.info("Created WebkitMediaSource")),o},detachMediaSource:function(N){N.setSource(null)},setConfig:function(N){N&&N.settings&&(g=N.settings)},setDuration:function N(T){o&&o.readyState==="open"&&(T===null&&isNaN(T)||o.duration!==T&&(T!==1/0||g.get().streaming.buffer.mediaSourceDurationInfinity||(T=Math.pow(2,32)),function(j){let z=j.sourceBuffers;for(let k=0;k<z.length;k++)if(z[k].updating)return!0;return!1}(o)?setTimeout(N.bind(null,T),50):(v.info("Set MediaSource duration:"+T),o.duration=T)))},setSeekable:function(N,T){o&&typeof o.setLiveSeekableRange=="function"&&typeof o.clearLiveSeekableRange=="function"&&o.readyState==="open"&&N>=0&&N<T&&(o.clearLiveSeekableRange(),o.setLiveSeekableRange(N,T))},signalEndOfStream:function(N){if(!N||N.readyState!=="open")return;let T=N.sourceBuffers;for(let j=0;j<T.length;j++)if(T[j].updating||T[j].buffered.length===0)return;v.info("call to mediaSource endOfStream"),N.endOfStream()}},v=(0,we.default)(w).getInstance().getLogger(d),d}Ml.__dashjs_factory_name="MediaSourceController";var md=ae.default.getSingletonFactory(Ml);function Pl(){const d="urn:mpeg:dash:event:2012",g="urn:mpeg:dash:event:callback:2015",w="discarded",C="updated",N="added",T=this.context,j=(0,se.default)(T).getInstance();let z,k,A,x,K,W,J,Q,Z,ie,ye;function V(){if(!J||!Q)throw new Error("setConfig function has to be called previously")}function D(){ye=!1,A={},x={},K=null,ie=!1,W=Date.now()/1e3}function U(){try{if(!ie){ie=!0;const re=Q.getTime();let be=re-W;be=W>0?Math.max(0,be):0,H(x,be,re),H(A,be,re),le(x),le(A),W=re,ie=!1}}catch(re){ie=!1,k.error(re)}}function H(re,be,ce){try{Se(re,function(ue){if(ue!==void 0){const G=isNaN(ue.duration)?0:ue.duration;ue.calculatedPresentationTime<=ce&&ue.calculatedPresentationTime+be+G>=ce?me(ue,$.default.EVENT_MODE_ON_START):(O(ce,G+be,ue.calculatedPresentationTime)||function(ne){try{const Ee=ne.eventStream.period.start+ne.eventStream.period.duration;return ne.calculatedPresentationTime>Ee}catch(Ee){return k.error(Ee),!1}}(ue))&&(k.debug(`Removing event ${ue.id} from period ${ue.eventStream.period.id} as it is expired or invalid`),function(ne,Ee){try{const ke=Ee.eventStream.schemeIdUri,Re=Ee.eventStream.period.id,$e=Ee.eventStream.value,Be=Ee.id;ne[Re][ke]=ne[Re][ke].filter(tt=>$e&&tt.eventStream.value&&tt.eventStream.value!==$e||tt.id!==Be),ne[Re][ke].length===0&&delete ne[Re][ke]}catch(ke){k.error(ke)}}(re,ue))}})}catch(oe){k.error(oe)}}function le(re){try{for(const be in re)re.hasOwnProperty(be)&&Object.keys(re[be]).length===0&&delete re[be]}catch(be){k.error(be)}}function pe(re,be){let ce=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const oe=re.eventStream.schemeIdUri,ue=re.eventStream.value,G=re.id;let ne=w;be[oe]||(be[oe]=[]);const Ee=be[oe].findIndex(ke=>(!ue||ke.eventStream.value&&ke.eventStream.value===ue)&&ke.id===G);if(Ee===-1)be[oe].push(re),re.triggeredReceivedEvent=!1,re.triggeredStartEvent=!1,ne=N;else if(ce){const ke=be[oe][Ee];re.triggeredReceivedEvent=ke.triggeredReceivedEvent,re.triggeredStartEvent=ke.triggeredStartEvent,be[oe][Ee]=re,ne=C}return ne}function ge(re){try{if(re.eventStream.value==1){const be=re.calculatedPresentationTime;let ce;ce=re.calculatedPresentationTime==4294967295?NaN:re.calculatedPresentationTime+re.duration,j.trigger($.default.MANIFEST_VALIDITY_CHANGED,{id:re.id,validUntil:be,newDuration:ce,newManifestValidAfter:NaN},{mode:$.default.EVENT_MODE_ON_START})}}catch(be){k.error(be)}}function he(re){try{const be=Q.getTime();Se(re,function(ce){const oe=ce.eventStream&&ce.eventStream.period&&!isNaN(ce.eventStream.period.duration)?ce.eventStream.period.duration:NaN,ue=ce.eventStream&&ce.eventStream.period&&!isNaN(ce.eventStream.period.start)?ce.eventStream.period.start:NaN;if(isNaN(oe)||isNaN(ue))return;const G=ce.calculatedPresentationTime;Math.abs(G-be)<300&&me(ce,$.default.EVENT_MODE_ON_START)})}catch(be){k.error(be)}}function Se(re,be){try{if(re){const ce=Object.keys(re);for(let oe=0;oe<ce.length;oe++){const ue=re[ce[oe]],G=Object.keys(ue);for(let ne=0;ne<G.length;ne++)ue[G[ne]].forEach(Ee=>{Ee!==void 0&&be(Ee)})}}}catch(ce){k.error(ce)}}function O(re,be,ce){try{return re-be>ce}catch(oe){return k.error(oe),!1}}function me(re,be){try{const ce=Q.getTime(),oe=re.id;if(be===$.default.EVENT_MODE_ON_RECEIVE&&!re.triggeredReceivedEvent)return k.debug(`Received event ${oe}`),re.triggeredReceivedEvent=!0,void j.trigger(re.eventStream.schemeIdUri,{event:JSON.parse(JSON.stringify(re))},{mode:be});re.triggeredStartEvent||(re.eventStream.schemeIdUri===d&&re.eventStream.value==1?re.duration===0&&re.presentationTimeDelta===0||(k.debug(`Starting manifest refresh event ${oe} at ${ce}`),function(){try{V(),J.refreshManifest()}catch(ue){k.error(ue)}}()):re.eventStream.schemeIdUri===g&&re.eventStream.value==1?(k.debug(`Starting callback event ${oe} at ${ce}`),function(ue){try{sa(T).create({}).load({method:"get",url:ue,request:{responseType:"arraybuffer"}})}catch(G){k.error(G)}}(re.messageData)):(k.debug(`Starting event ${oe} from period ${re.eventStream.period.id} at ${ce}`),j.trigger(re.eventStream.schemeIdUri,{event:JSON.parse(JSON.stringify(re))},{mode:be}),Z.get().streaming.events.deleteEventMessageDataAfterEventStarted&&(delete re.messageData,delete re.parsedMessageData)),re.triggeredStartEvent=!0)}catch(ce){k.error(ce)}}return z={addInlineEvents:function(re,be){try{if(V(),A[be]||(A[be]={}),re)for(let ce=0;ce<re.length;ce++){let oe=re[ce];if(!O(Q.getTime(),isNaN(oe.duration)?0:oe.duration,oe.calculatedPresentationTime)){let ue=pe(oe,A[be],!0);ue===N?(k.debug(`Added inline event with id ${oe.id} from period ${be}`),me(oe,$.default.EVENT_MODE_ON_RECEIVE)):ue===C&&k.debug(`Updated inline event with id ${oe.id} from period ${be}`)}}}catch(ce){throw ce}},addInbandEvents:function(re,be){try{V(),x[be]||(x[be]={});for(let ce=0;ce<re.length;ce++){let oe=re[ce];O(Q.getTime(),isNaN(oe.duration)?0:oe.duration,oe.calculatedPresentationTime)||(pe(oe,x[be],!1)===N?(oe.eventStream.schemeIdUri===d&&ge(oe),k.debug(`Added inband event with id ${oe.id} from period ${be}`),me(oe,$.default.EVENT_MODE_ON_RECEIVE)):k.debug(`Inband event with scheme_id_uri ${oe.eventStream.schemeIdUri}, value ${oe.eventStream.value}, period id ${be} and event id ${oe.id} was ignored because it has been added before.`))}U()}catch(ce){throw ce}},getInbandEvents:function(){return x},getInlineEvents:function(){return A},start:function(){try{V(),k.debug("Start Event Controller");const re=Z.get().streaming.events.eventControllerRefreshDelay;ye||isNaN(re)||(ye=!0,K=setInterval(U,re))}catch(re){throw re}},setConfig:function(re){try{if(!re)return;re.manifestUpdater&&(J=re.manifestUpdater),re.playbackController&&(Q=re.playbackController),re.settings&&(Z=re.settings)}catch(be){throw be}},reset:function(){(function(){try{K!==null&&ye&&(clearInterval(K),K=null,ye=!1,function(){try{he(x),he(A)}catch(re){k.error(re)}}())}catch(re){throw re}})(),D()}},k=(0,we.default)(T).getInstance().getLogger(z),D(),z}Pl.__dashjs_factory_name="EventController";var pd=ae.default.getSingletonFactory(Pl),pr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}},zl=t(445),Ll=t(1923);function Ol(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v,w,C,N,T,j,z,k,A,x,K,W,J,Q,Z,ie,ye,V,D,U,H,le,pe,ge,he,Se,O,me,re,be,ce,oe,ue,G,ne,Ee,ke,Re,$e,Be,tt,vt,yt,Ht,Kt,sn,kt;function $t(){if(!(N&&N.hasOwnProperty("load")&&U&&U.hasOwnProperty("initialize")&&U.hasOwnProperty("reset")&&U.hasOwnProperty("getClientTimeOffset")&&T&&D&&z&&ue))throw new Error(M.default.MISSING_CONFIG_ERROR)}function en(){(function(){try{const Ke=j.getStreamsInfo();if(!le&&Ke.length===0)throw new Error("There are no periods in the MPD");le&&Ke.length>0&&z.updateManifestUpdateInfo({currentTime:ue.getTime(),buffered:oe.getBufferRange(),presentationStartTime:Ke[0].start,clientTimeOffset:U.getClientTimeOffset()}),H.length>0&&function(Qt){Qt.length!==0?H=H.filter(nn=>{const En=Qt.filter(In=>In.id===nn.getId()).length>0||nn.getId()===le.getId();return En||(m.debug(`Removing stream ${nn.getId()}`),nn.reset(!0),nn=null),En}):m.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Ke);const Tt=[];for(let Qt=0,nn=Ke.length;Qt<nn;Qt++){const En=Ke[Qt];Tt.push(rn(En)),z.addManifestUpdateStreamInfo(En)}Promise.all(Tt).then(()=>new Promise((Qt,nn)=>{le?Qt():on(Ke,Qt,nn)})).then(()=>{o.trigger(P.default.STREAMS_COMPOSED),zt()}).catch(Qt=>{throw Qt})}catch(Ke){D.error(new Ie.default(B.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ke.message+" nostreamscomposed",T.getValue())),be=!0,cr()}})()}function pn(){Ht=!0}function rn(Ke){let Tt=Tr(Ke.id);return Tt?Tt.updateData(Ke):(Tt=ud(d).create({manifestModel:T,mediaPlayerModel:ne,dashMetrics:z,manifestUpdater:C,adapter:j,timelineConverter:U,capabilities:v,capabilitiesFilter:w,errHandler:D,baseURLController:K,segmentBaseController:W,textController:ge,abrController:Q,playbackController:ue,throughputController:Z,eventController:ye,mediaController:ie,protectionController:pe,videoModel:oe,streamInfo:Ke,settings:yt}),H.push(Tt),Tt.initialize(),Promise.resolve())}function on(Ke,Tt,Qt){try{St();const nn=z.getCurrentDVRInfo().range;if(nn.end<nn.start){Kt&&clearTimeout(Kt);const In=Math.min(1e3*(-1*(nn.end-nn.start)+2),2147483647);return m.debug(`Waiting for ${In} ms before playback can start`),o.trigger(P.default.AST_IN_FUTURE,{delay:In}),void(Kt=setTimeout(()=>{on(Ke,Tt,Qt)},In))}yt.get().streaming.applyProducerReferenceTime&&G.calculateProducerReferenceTimeOffsets(Ke);const En=Ke[0].manifestInfo;if(yt.get().streaming.applyServiceDescription&&G.applyServiceDescription(En),j.getIsDynamic()){const In=Va(0,En);ue.computeAndSetLiveDelay(In,En)}(yt.get().streaming.applyContentSteering&&x.shouldQueryBeforeStart()?x.loadSteeringData():Promise.resolve()).then(()=>{const In=T.getValue();In&&K.update(In),Fe(),Tt()}).catch(In=>{m.error(In),Fe(),Tt()})}catch(nn){Qt(nn)}}function Fe(){const Ke=function(){let nn;if(j.getIsDynamic()){const En=z.getCurrentDVRInfo();nn=(En&&En.range?En.range.end:0)-ue.getOriginalLiveDelay();const In=En?En.range:null;if(In){if(isNaN(sn)&&sn.toString().indexOf("posix:")===-1){const da=Xn(!0);isNaN(da)||(m.info(`Start time from URI parameters: ${da}`),nn=Math.min(nn,da))}else{m.info(`Start time provided by the app: ${sn}`);const da=Ta(!0,sn);isNaN(da)||(nn=Math.min(nn,da))}const Kn=yt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;nn=Math.max(nn,In.start+Kn)}}else if(nn=Ci()[0].getStreamInfo().start,isNaN(sn)){const En=Xn(!1);isNaN(En)||(m.info(`Start time from URI parameters: ${En}`),nn=Math.max(nn,En))}else{m.info(`Start time provided by the app: ${sn}`);const En=Ta(!1,sn);isNaN(En)||(nn=Math.max(nn,En))}return nn}();let Tt=ft(Ke);const Qt=Tt!==null?Tt:H[0];o.trigger(P.default.INITIAL_STREAM_SWITCH,{startTime:Ke}),nt(Qt,null,Ke),Be||(Be=setInterval(function(){!me&&ue.getTimeToStreamEnd()<=0&&!ue.isSeeking()&&o.trigger(P.default.PLAYBACK_ENDED,{isLast:$a().isLast})},200))}function nt(Ke,Tt,Qt){try{if(me||!Ke||Tt===Ke&&Ke.getIsActive())return;me=!0,o.trigger(P.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Tt?Tt.getStreamInfo():null,toStreamInfo:Ke.getStreamInfo()});let nn=!1,En=[];le=Ke,Tt&&(nn=Xt(Ke,Tt),En=He(Tt),Tt.deactivate(nn)),Qt=isNaN(Qt)?!nn&&Tt?Ke.getStreamInfo().start:NaN:Qt,m.info(`Switch to stream ${Ke.getId()}. Seektime is ${Qt}, current playback time is ${ue.getTime()}. Seamless period switch is set to ${nn}`),vt=vt.filter(In=>In.getId()!==le.getId()),ue.initialize($a(),!!Tt),oe.getElement()?et({seekTime:Qt,keepBuffers:nn,streamActivated:!1,representationsFromPreviousPeriod:En}):st({seekTime:Qt,keepBuffers:nn})}catch{me=!1}}function et(Ke){let Tt;function Qt(){if(!ce||ce.readyState!=="open")return;m.debug("MediaSource is open!"),window.URL.revokeObjectURL(Tt),ce.removeEventListener("sourceopen",Qt),ce.removeEventListener("webkitsourceopen",Qt),jn();const En=z.getCurrentDVRInfo();k.setSeekable(En.range.start,En.range.end),Ke.streamActivated?(isNaN(Ke.seekTime)||ue.seek(Ke.seekTime,!0,!0),le.setMediaSource(ce).then(()=>{le.initializeForTextWithMediaSource(ce)})):st(Ke)}function nn(){ce.addEventListener("sourceopen",Qt,!1),ce.addEventListener("webkitsourceopen",Qt,!1),Tt=k.attachMediaSource(oe),m.debug("MediaSource attached to element.  Waiting on open...")}ce?Ke.keepBuffers?st(Ke):(k.detachMediaSource(oe),nn()):(ce=k.createMediaSource(),nn())}function st(Ke){const Tt=Ke.representationsFromPreviousPeriod||[];le.activate(ce,Ke.keepBuffers?tt:void 0,Tt).then(Qt=>{Qt&&(tt=Qt),isNaN(Ke.seekTime)||(o.trigger(P.default.SEEK_TARGET,{time:Ke.seekTime},{streamId:le.getId()}),ue.seek(Ke.seekTime,!1,!0),le.startScheduleControllers()),me=!1,o.trigger(P.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:$a()})})}function He(Ke){return(Ke?Ke.getStreamProcessors():[]).map(Tt=>Tt.getRepresentation())}function gt(Ke){const Tt=ft(Ke.seekTime);Tt&&Tt!==le?Tt&&Tt!==le&&(_t(),function(Qt,nn){const En=Qt&&!isNaN(Qt.seekTime)?Qt.seekTime:NaN,In=le.getStreamProcessors().map(Kn=>Kn.prepareOuterPeriodPlaybackSeeking(Qt));Promise.all(In).then(()=>{nt(nn,le,En)}).catch(Kn=>{D.error(Kn)})}(Ke,Tt)):(_t(),function(Qt){le.getStreamProcessors().forEach(nn=>nn.prepareInnerPeriodPlaybackSeeking(Qt)),Pa(un.USER_REQUEST_STOP_REASON)}(Ke)),pa(Mt.SEEK_START_REASON)}function _t(){Ft()}function Ft(){vt&&vt.length>0&&(vt.forEach(Ke=>{Ke.deactivate(!0)}),vt=[])}function qt(Ke){if(Ke.newMediaInfo.streamInfo.id===le.getId()){if(Ft(),yt.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&Ke.oldMediaInfo&&Ke.oldMediaInfo.codec!==Ke.newMediaInfo.codec){const Tt=ue.getTime();return le.deactivate(!1),void et({seekTime:Tt,keepBuffers:!1,streamActivated:!1})}le.prepareTrackChange(Ke)}}function Xt(Ke,Tt){try{return yt.get().streaming.buffer.reuseExistingSourceBuffers&&(v.isProtectionCompatible(Tt.getStreamInfo(),Ke.getStreamInfo())||Ht)&&v.supportsChangeType()&&yt.get().streaming.buffer.useChangeType}catch{return!1}}function Ge(Ke){let Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(ce&&!Ke.getPreloaded()&&Xt(Ke,Tt)){const Qt=He(Tt);Ke.startPreloading(ce,tt,Qt).then(()=>{vt.push(Ke)})}}function ft(Ke){if(isNaN(Ke))return null;const Tt=H.length;for(let Qt=0;Qt<Tt;Qt++){const nn=H[Qt];if(Ke<parseFloat((nn.getStartTime()+nn.getDuration()).toFixed(5)))return nn}return null}function St(){try{const Ke=j.getIsDynamic(),Tt=j.getStreamsInfo()[0].manifestInfo,Qt=ue.getTime(),nn=U.calcTimeShiftBufferWindow(H,Ke),En=dn();if(nn.start===void 0||nn.end===void 0)return;En&&En.length!==0?En.forEach(In=>{z.addDVRInfo(In.getType(),Qt,Tt,nn)}):z.addDVRInfo(M.default.VIDEO,Qt,Tt,nn)}catch{}}function Gt(Ke){if(Re&&O){const Tt=ne.getInitialBufferLevel(),Qt=[M.default.TEXT];(isNaN(Tt)||Tt<=ue.getBufferLevel(Qt)||j.getIsDynamic()&&Tt>ue.getLiveDelay())&&(Re=!1,pa(Mt.INITIAL_PLAYOUT_START_REASON),ue.play())}Ke&&Ke.mediaType&&z.addBufferLevel(Ke.mediaType,new Date,1e3*Ke.bufferLevel)}function at(Ke){Ke.streamInfo.id===le.getId()&&Ft(),Tr(Ke.streamInfo.id).prepareQualityChange(Ke)}function _e(){if(j.getIsDynamic()&&ue.getOriginalLiveDelay()!==0&&le){const Ke=j.getStreamsInfo();if(Ke.length>0){const Tt=Ke[0].manifestInfo,Qt=Va(0,Tt);ue.computeAndSetLiveDelay(Qt,Tt)}}}function Oe(){if(_r()){const Ke=oe.getPlaybackQuality();Ke&&z.addDroppedFrames(Ke)}}function ot(){m.debug("[onPlaybackStarted]"),!Re&&ke&&pa(Mt.RESUME_FROM_PAUSE_START_REASON),Re&&(Re=!1),$e&&($e=!1,yt.get().streaming.applyContentSteering&&!x.shouldQueryBeforeStart()&&x.loadSteeringData()),ke=!1}function je(Ke){m.debug("[onPlaybackPaused]"),Ke.ended||(ke=!0,Pa(un.USER_REQUEST_STOP_REASON))}function mt(Ke){m.debug(`Stream with id ${Ke.streamInfo.id} finished buffering`);const Tt=Ke.streamInfo.isLast;ce&&Tt?(m.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),k.signalEndOfStream(ce)):zt()}function zt(){if(!le)return;if(!le.getHasFinishedBuffering())return void le.checkAndHandleCompletedBuffering();const Ke=function(){let Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{const nn=Qt||le||null;if(nn){const En=nn.getStreamInfo();return H.filter(function(In){const Kn=In.getStreamInfo();return Kn.start>En.start&&En.id!==Kn.id})}}catch{return[]}}(le);let Tt=0;for(;Tt<Ke.length;){const Qt=Ke[Tt],nn=Tt===0?le:Ke[Tt-1];!Qt.getPreloaded()&&nn.getHasFinishedBuffering()&&ce&&Ge(Qt,nn),Tt+=1}}function Jt(){Be&&(clearInterval(Be),Be=null)}function dn(){return le?le.getStreamProcessors():[]}function ln(Ke){if(le&&!le.getIsEndedEventSignaled()){le.setIsEndedEventSignaled(!0);const Tt=function(){const Qt=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||le||null;if(!Qt)return null;const nn=Qt.getStreamInfo(),En=nn.start;let In=0,Kn=-1,da=NaN;for(;In<H.length;){const hu=H[In].getStreamInfo(),Eo=hu.start-En;Eo>0&&(isNaN(da)||Eo<da)&&nn.id!==hu.id&&(da=Eo,Kn=In),In+=1}return Kn>=0?H[Kn]:null}();Tt?(m.debug(`StreamController onEnded, found next stream with id ${Tt.getStreamInfo().id}. Switching from ${le.getStreamInfo().id} to ${Tt.getStreamInfo().id}`),nt(Tt,le,NaN)):(m.debug("StreamController no next stream found"),le.setIsEndedEventSignaled(!1)),Pa(Tt?un.END_OF_PERIOD_STOP_REASON:un.END_OF_CONTENT_STOP_REASON)}Ke&&Ke.isLast&&(Jt(),x.stopSteeringRequestTimer())}function jn(Ke){const Tt=Ke||$a().manifestInfo.duration;k.setDuration(Tt)}function Xn(Ke){const Tt=J.getURIFragmentData();if(!Tt||!Tt.t)return NaN;const Qt=Ci()[0].getStreamInfo().start;return Tt.t=Tt.t.split(",")[0],ea(Ke,Tt.t,Qt)}function Ta(Ke,Tt){let Qt=0;return Ke||(Qt=Ci()[0].getStreamInfo().start),ea(Ke,Tt,Qt)}function ea(Ke,Tt,Qt){const nn=j.getRegularPeriods()[0],En=Tt.toString(),In=En.indexOf("posix:")!==-1?En.substring(6)==="now"?Date.now()/1e3:parseFloat(En.substring(6)):NaN;return Ke&&!isNaN(In)?U.calcPresentationTimeFromWallTime(new Date(1e3*In),nn):parseFloat(En)+Qt}function Va(Ke,Tt){try{let Qt=NaN;return Tt&&!isNaN(Tt.maxFragmentDuration)&&isFinite(Tt.maxFragmentDuration)?Tt.maxFragmentDuration:isFinite(Qt)?Qt:NaN}catch{return NaN}}function ur(Ke){if(Ke.error)be=!0,cr();else{m.info("Manifest updated... updating data system wide.");const Tt=Ke.manifest;j.updatePeriods(Tt),w.filterUnsupportedFeatures(Tt).then(()=>{K.initialize(Tt);let Qt=j.getUTCTimingSources();!j.getIsDynamic()||Qt&&Qt.length!==0||o.trigger($.default.CONFORMANCE_VIOLATION,{level:pr.LEVELS.WARNING,event:pr.EVENTS.NO_UTC_TIMING_ELEMENT});let nn=j.getIsDynamic()?Qt.concat(Ee.getUTCTimingSources()):Qt;A.attemptSync(nn,j.getIsDynamic()),Se.createFinalQueryStrings(Tt)})}}function _r(){return!!le&&le.getHasVideoTrack()}function Ra(){return!!le&&le.getHasAudioTrack()}function Pa(Ke,Tt){Tt=Tt||new Date,dn().forEach(Qt=>{Qt.finalisePlayList(Tt,Ke)}),z.addPlayList()}function pa(Ke){z.createPlaylistMetrics(1e3*ue.getTime(),Ke)}function Ca(Ke){pe.updateKeyStatusesMap(Ke),function(){const Tt=dn();let Qt=!1;Tt.forEach(nn=>{const En=nn.getMediaInfo();!En||v.areKeyIdsUsable(En)?En&&v.areKeyIdsExpired(En)&&function(In){const Kn=Tr(In.getStreamId());Kn&&Kn.triggerProtectionError({error:new Ie.default(Ll.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,Ll.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)})}(nn):(Qt=!0,function(In){const Kn=In.getAllMediaInfos().filter(da=>v.areKeyIdsUsable(da));if(Kn&&Kn.length!==0)ie.setTrack(Kn[0],{replaceBuffer:!0});else{const da=In.getType();D.error(new Ie.default(B.NO_SUPPORTED_KEY_IDS,`Type: ${da}: ${B.NO_SUPPORTED_KEY_IDS_MESSAGE}`))}}(nn))}),Qt&&(ue.getTime()===0?o.once($.default.FRAGMENT_LOADING_COMPLETED,()=>{Ka()},g):ue.isProgressing(500).then(nn=>{nn||Ka()}))}()}function Ka(){const Ke=ue.getTime();ue.seek(Ke+.01,!1,!1)}function Ri(Ke){if(!Ke.error)return;let Tt;switch(Ke.error.code){case 1:Tt="MEDIA_ERR_ABORTED";break;case 2:Tt="MEDIA_ERR_NETWORK";break;case 3:Tt="MEDIA_ERR_DECODE",kt.counts.mediaErrorDecode+=1;break;case 4:Tt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Tt="MEDIA_ERR_ENCRYPTED";break;default:Tt="UNKNOWN"}Tt==="MEDIA_ERR_DECODE"&&yt.get().errors.recoverAttempts.mediaErrorDecode>=kt.counts.mediaErrorDecode?function(){m.error("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");const Qt=ue.getTime();le.deactivate(!1),m.info(`MediaSource has been resetted. Resuming playback from time ${Qt}`),et({seekTime:Qt,keepBuffers:!1,streamActivated:!1})}():(re=!0,Ke.error.message&&(Tt+=" ("+Ke.error.message+")"),Ke.error.msExtendedCode&&(Tt+=" (0x"+(Ke.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),m.fatal("Video Element Error: "+Tt),Ke.error&&m.fatal(Ke.error),D.error(new Ie.default(Ke.error.code,Tt)),cr())}function $a(){return le?le.getStreamInfo():null}function Tr(Ke){for(let Tt=0,Qt=H.length;Tt<Qt;Tt++)if(H[Tt].getId()===Ke)return H[Tt];return null}function wa(Ke){isNaN(Ke.newDuration)||jn(Ke.newDuration)}function wr(){H=[],sn=NaN,pe=null,me=!1,le=null,re=!1,be=!1,Re=!0,$e=!0,ke=!1,O=!0,Be=null,Ht=!1,vt=[],Kt=null,kt={counts:{mediaErrorDecode:0}}}function cr(){$t(),A.reset(),Pa(re||be?un.FAILURE_STOP_REASON:un.USER_REQUEST_STOP_REASON);for(let Ke=0,Tt=H?H.length:0;Ke<Tt;Ke++)H[Ke].reset(re);o.off($.default.PLAYBACK_TIME_UPDATED,Oe,g),o.off($.default.PLAYBACK_SEEKING,gt,g),o.off($.default.PLAYBACK_ERROR,Ri,g),o.off($.default.PLAYBACK_STARTED,ot,g),o.off($.default.PLAYBACK_PAUSED,je,g),o.off($.default.PLAYBACK_ENDED,ln,g),o.off($.default.METRIC_ADDED,pu,g),o.off($.default.MANIFEST_VALIDITY_CHANGED,wa,g),o.off($.default.BUFFER_LEVEL_UPDATED,Gt,g),o.off($.default.QUALITY_CHANGE_REQUESTED,at,g),P.default.KEY_SESSION_UPDATED&&o.off(P.default.KEY_SESSION_UPDATED,pn,g),o.off(P.default.MANIFEST_UPDATED,ur,g),o.off(P.default.STREAM_BUFFERING_COMPLETED,mt,g),o.off(P.default.TIME_SYNCHRONIZATION_COMPLETED,en,g),o.off(P.default.CURRENT_TRACK_CHANGED,qt,g),o.off(P.default.SETTING_UPDATED_LIVE_DELAY,_e,g),o.off(P.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,_e,g),o.off(zl.default.INTERNAL_KEY_STATUSES_CHANGED,Ca,g),K.reset(),C.reset(),ye.reset(),z.clearAllCurrentMetrics(),T.setValue(null),N.reset(),U.reset(),V.reset(),ce&&(k.detachMediaSource(oe),ce=null),oe=null,pe&&(pe=null,he=null,T.getValue()&&o.trigger(P.default.PROTECTION_DESTROYED,{data:T.getValue().url})),Jt(),o.trigger(P.default.STREAM_TEARDOWN_COMPLETE),wr()}function pu(Ke){if(Ke.metric===q.DVR_INFO){const Tt=Ra()?M.default.AUDIO:M.default.VIDEO;Ke.mediaType===Tt&&k.setSeekable(Ke.value.range.start,Ke.value.range.end)}}function Ci(){return H}return g={addDVRMetric:St,getActiveStream:function(){return le},getActiveStreamInfo:$a,getActiveStreamProcessors:dn,getAutoPlay:function(){return O},getHasMediaOrInitialisationError:function(){return re||be},getInitialPlayback:function(){return Re},getIsStreamSwitchInProgress:function(){return me},getStreamById:Tr,getStreamForTime:ft,getStreams:Ci,getTimeRelativeToStreamId:function(Ke,Tt){let Qt=null,nn=0,En=0,In=null;for(let Kn=0;Kn<H.length;Kn++){if(Qt=H[Kn],En=Qt.getStartTime(),In=Qt.getDuration(),Number.isFinite(En)&&(nn=En),Qt.getId()===Tt)return Ke-nn;Number.isFinite(In)&&(nn+=In)}return null},hasAudioTrack:Ra,hasVideoTrack:_r,initialize:function(Ke,Tt){$t(),O=Ke,he=Tt,U.initialize(),C=Dl(d).create(),C.setConfig({manifestModel:T,adapter:j,manifestLoader:N,errHandler:D,settings:yt,contentSteeringController:x}),C.initialize(),ye=pd(d).getInstance(),ye.setConfig({manifestUpdater:C,playbackController:ue,settings:yt}),ye.start(),Se=hl(d).getInstance(),A.setConfig({dashMetrics:z,baseURLController:K,errHandler:D,settings:yt}),A.initialize(),k.setConfig({settings:yt}),pe&&(o.trigger(P.default.PROTECTION_CREATED,{controller:pe}),pe.setMediaElement(oe.getElement()),he&&pe.setProtectionData(he)),o.on($.default.PLAYBACK_TIME_UPDATED,Oe,g),o.on($.default.PLAYBACK_SEEKING,gt,g),o.on($.default.PLAYBACK_ERROR,Ri,g),o.on($.default.PLAYBACK_STARTED,ot,g),o.on($.default.PLAYBACK_PAUSED,je,g),o.on($.default.PLAYBACK_ENDED,ln,g),o.on($.default.METRIC_ADDED,pu,g),o.on($.default.MANIFEST_VALIDITY_CHANGED,wa,g),o.on($.default.BUFFER_LEVEL_UPDATED,Gt,g),o.on($.default.QUALITY_CHANGE_REQUESTED,at,g),P.default.KEY_SESSION_UPDATED&&o.on(P.default.KEY_SESSION_UPDATED,pn,g),o.on(P.default.MANIFEST_UPDATED,ur,g),o.on(P.default.STREAM_BUFFERING_COMPLETED,mt,g),o.on(P.default.TIME_SYNCHRONIZATION_COMPLETED,en,g),o.on(P.default.CURRENT_TRACK_CHANGED,qt,g),o.on(P.default.SETTING_UPDATED_LIVE_DELAY,_e,g),o.on(P.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,_e,g),o.on(zl.default.INTERNAL_KEY_STATUSES_CHANGED,Ca,g)},load:function(Ke){let Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;$t(),sn=Tt,N.load(Ke)},loadWithManifest:function(Ke){let Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;(function(){if(!C||!C.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),sn=Tt,C.setManifest(Ke)},refreshManifest:function(){C.getIsUpdating()||C.refreshManifest()},reset:cr,setConfig:function(Ke){Ke&&(Ke.capabilities&&(v=Ke.capabilities),Ke.capabilitiesFilter&&(w=Ke.capabilitiesFilter),Ke.manifestLoader&&(N=Ke.manifestLoader),Ke.manifestModel&&(T=Ke.manifestModel),Ke.mediaPlayerModel&&(ne=Ke.mediaPlayerModel),Ke.customParametersModel&&(Ee=Ke.customParametersModel),Ke.protectionController&&(pe=Ke.protectionController),Ke.adapter&&(j=Ke.adapter),Ke.dashMetrics&&(z=Ke.dashMetrics),Ke.errHandler&&(D=Ke.errHandler),Ke.timelineConverter&&(U=Ke.timelineConverter),Ke.videoModel&&(oe=Ke.videoModel),Ke.playbackController&&(ue=Ke.playbackController),Ke.throughputController&&(Z=Ke.throughputController),Ke.serviceDescriptionController&&(G=Ke.serviceDescriptionController),Ke.contentSteeringController&&(x=Ke.contentSteeringController),Ke.textController&&(ge=Ke.textController),Ke.abrController&&(Q=Ke.abrController),Ke.mediaController&&(ie=Ke.mediaController),Ke.settings&&(yt=Ke.settings),Ke.baseURLController&&(K=Ke.baseURLController),Ke.uriFragmentModel&&(J=Ke.uriFragmentModel),Ke.segmentBaseController&&(W=Ke.segmentBaseController),Ke.manifestUpdater&&(C=Ke.manifestUpdater))},setProtectionData:function(Ke){he=Ke,pe&&pe.setProtectionData(he)},switchToVideoElement:function(Ke){le&&(ue.initialize($a()),et({seekTime:Ke,keepBuffers:!1,streamActivated:!0}))}},m=(0,we.default)(d).getInstance().getLogger(g),A=gd(d).getInstance(),k=md(d).getInstance(),V=Ve(d).getInstance(),wr(),g}Ol.__dashjs_factory_name="StreamController";var Fl=ae.default.getSingletonFactory(Ol);function jl(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v,w,C,N,T,j,z,k,A,x;function K(){x.debug("Stopping the gap controller"),C&&(clearInterval(C),C=null),function(){o.off(P.default.WALLCLOCK_TIME_UPDATED,ie,this),o.off(P.default.INITIAL_STREAM_SWITCH,Z,this),o.off(P.default.PLAYBACK_SEEKING,W,this),o.off(P.default.BUFFER_REPLACEMENT_STARTED,J,g),o.off(P.default.TRACK_CHANGE_RENDERED,Q,g)}(),C=null,N=NaN,w=0,k=null,A={}}function W(){k&&(clearTimeout(k),k=null)}function J(D){try{if(D.streamId!==j.getActiveStreamInfo().id||D.mediaType!==M.default.VIDEO&&D.mediaType!==M.default.AUDIO)return;D.streamId===j.getActiveStreamInfo().id&&(A[D.mediaType]=!0)}catch(U){x.error(U)}}function Q(D){D&&D.mediaType&&(A[D.mediaType]=!1)}function Z(){C||function(){try{C||(x.debug("Starting the gap controller"),C=setInterval(()=>{ye()&&V(T.getTime())},100))}catch{}}()}function ie(){if(ye(v.get().streaming.gaps.enableSeekFix)&&(w++,w>=10)){const D=T.getTime();m===D?V(D,!0):(m=D,N=NaN),w=0}}function ye(){let D=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!j.getActiveStream())return!1;const U=Object.keys(A).some(le=>A[le]),H=!!D&&function(){const le=j.getActiveStream(),pe=parseFloat((le.getStartTime()+le.getDuration()).toFixed(5));return T.getTime()+v.get().streaming.gaps.threshold>=pe}();return!U&&v.get().streaming.gaps.jumpGaps&&j.getActiveStreamProcessors().length>0&&(!T.isSeeking()||H)&&!T.isPaused()&&!j.getIsStreamSwitchInProgress()&&!j.getHasMediaOrInitialisationError()}function V(D){let U=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const H=v.get().streaming.gaps.enableStallFix,le=v.get().streaming.gaps.stallSeek,pe=v.get().streaming.gaps.smallGapLimit,ge=v.get().streaming.gaps.jumpLargeGaps,he=z.getBufferRange();let Se,O=NaN,me=!1;if(Se=function(be,ce){try{if(!be||be.length<=1&&ce>0)return NaN;let oe=NaN,ue=0;for(;isNaN(oe)&&ue<be.length;){const G=ue>0?be.end(ue-1):0;ce<be.start(ue)&&G-ce<v.get().streaming.gaps.threshold&&(oe=ue),ue+=1}return oe}catch{return null}}(he,D),!isNaN(Se)){const be=he.start(Se),ce=be-D;ce>0&&(ce<=pe||ge)&&(O=be)}const re=T.getTimeToStreamEnd();if(isNaN(O)&&U&&isFinite(re)&&!isNaN(re)&&re<pe&&(O=parseFloat(T.getStreamEndTime().toFixed(5)),me=!0),H&&isNaN(O)&&U&&isNaN(Se)&&function(be,ce){for(let oe=0,ue=be.length;oe<ue;oe++)if(ce>=be.start(oe)&&ce<=be.end(oe))return!0;return!1}(he,D)&&(le===0?(x.warn("Toggle play pause to break stall"),z.pause(),z.play()):(x.warn(`Jumping ${le}s to break stall`),O=D+le)),O>0&&N!==O&&O>D&&!k){const be=O-D;if(me){const ce=j.getStreamForTime(O),oe=ce&&!!ce.getPreloaded();x.warn(`Jumping to end of stream because of gap from ${D} to ${O}. Gap duration: ${be}`),T.seek(O,!0,oe)}else{const ce=T.getIsDynamic(),oe=Se>0?he.end(Se-1):D,ue=ce?1e3*Math.max(0,be-.1):0;k=window.setTimeout(()=>{T.seek(O,!0,!0),x.warn(`Jumping gap occuring in period ${j.getActiveStream().getStreamId()} starting at ${oe} and ending at ${O}. Jumping by: ${O-oe}`),k=null},ue)}N=O}}return g={reset:K,setConfig:function(D){D&&(D.settings&&(v=D.settings),D.playbackController&&(T=D.playbackController),D.streamController&&(j=D.streamController),D.videoModel&&(z=D.videoModel))},initialize:function(){(function(){o.on(P.default.WALLCLOCK_TIME_UPDATED,ie,this),o.on(P.default.INITIAL_STREAM_SWITCH,Z,this),o.on(P.default.PLAYBACK_SEEKING,W,this),o.on(P.default.BUFFER_REPLACEMENT_STARTED,J,g),o.on(P.default.TRACK_CHANGE_RENDERED,Q,g)})()}},x=(0,we.default)(d).getInstance().getLogger(g),K(),g}jl.__dashjs_factory_name="GapController";var hd=ae.default.getSingletonFactory(jl);function Ul(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v,w,C,N,T,j,z,k;function A(){m=!1;const V=xn.default.parseUserAgent();v=V&&V.browser&&V.browser.name&&V.browser.name.toLowerCase()==="safari"}function x(){m=!1}function K(V){if(V.streamId!==N.getActiveStreamInfo().id||!z)return;const D=T.getLiveDelay();T.getBufferLevel()>D/2&&(z=!1)}function W(V){V.streamId===N.getActiveStreamInfo().id&&(z=V.state===q.BUFFER_EMPTY)}function J(){j.getCatchupModeEnabled()||w.setPlaybackRate(1)}function Q(){T.getIsDynamic()&&j.getCatchupModeEnabled()&&(j.getCatchupPlaybackRates().max>0||j.getCatchupPlaybackRates().min<0)&&!T.isPaused()&&!T.isSeeking()&&function(){try{return!T.getTime()>0||m?!1:ie()===M.default.LIVE_CATCHUP_MODE_LOLP?function(V,D){try{return Math.abs(Z())>0||V<D}catch{return!1}}(T.getBufferLevel(),C.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(Z())>0}catch{return!1}}()}catch{return!1}}()&&function(){if(!m&&w){let V;const D=w.getPlaybackRate(),U=j.getCatchupPlaybackRates(),H=T.getBufferLevel(),le=Z(),pe=j.getCatchupMaxDrift();if(!isNaN(pe)&&pe>0&&le>pe)k.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),m=!0,T.seekToCurrentLive(!0,!1);else{const ge=T.getCurrentLiveLatency(),he=T.getLiveDelay();V=ie()===M.default.LIVE_CATCHUP_MODE_LOLP?function(O,me,re,be,ce){let oe;if(ce<be){const ue=Math.abs(O.min),G=5*(ce-be);oe=1-ue+2*ue/(1+Math.pow(Math.E,-G)),k.debug("[LoL+ playback control_buffer-based] bufferLevel: "+ce+", newRate: "+oe)}else{if(Math.abs(me-re)<=.02*re)oe=1;else{const G=me-re,ne=G<0?Math.abs(O.min):O.max,Ee=5*G;oe=1-ne+2*ne/(1+Math.pow(Math.E,-Ee))}k.debug("[LoL+ playback control_latency-based] latency: "+me+", newRate: "+oe)}return oe}(U,ge,he,C.get().streaming.liveCatchup.playbackBufferMin,H):function(O,me,re,be){if(z)return 1;const ce=me-re,oe=ce<0?Math.abs(O.min):O.max,ue=5*ce;let G=1-oe+2*oe/(1+Math.pow(Math.E,-ue));return T.getPlaybackStalled()&&be<=re/2&&ce>0&&(G=1),G}(U,ge,he,H);const Se=v?.25:.02/(.5/U.max);(V&&Math.abs(D-V)>=Se||V==1)&&(k.debug(`[CatchupController]: Setting playback rate to ${V}`),w.setPlaybackRate(V))}}}()}function Z(){return T.getCurrentLiveLatency()-T.getLiveDelay()}function ie(){const V=C.get().streaming.liveCatchup.playbackBufferMin;return C.get().streaming.liveCatchup.mode!==M.default.LIVE_CATCHUP_MODE_LOLP||V===null||isNaN(V)?M.default.LIVE_CATCHUP_MODE_DEFAULT:M.default.LIVE_CATCHUP_MODE_LOLP}function ye(){j.getCatchupPlaybackRates(!0)}return g={reset:function(){o.off($.default.BUFFER_LEVEL_UPDATED,K,g),o.off($.default.BUFFER_LEVEL_STATE_CHANGED,W,g),o.off($.default.PLAYBACK_PROGRESS,Q,g),o.off($.default.PLAYBACK_TIME_UPDATED,Q,g),o.off($.default.PLAYBACK_SEEKED,x,g),o.off(P.default.SETTING_UPDATED_CATCHUP_ENABLED,J,g),o.off(P.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ye,g),o.off(P.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ye,g),o.off($.default.STREAM_INITIALIZED,ye,g),A(),w.setPlaybackRate(1,!0)},setConfig:function(V){V&&(V.settings&&(C=V.settings),V.videoModel&&(w=V.videoModel),V.streamController&&(N=V.streamController),V.playbackController&&(T=V.playbackController),V.mediaPlayerModel&&(j=V.mediaPlayerModel))},initialize:function(){o.on($.default.BUFFER_LEVEL_UPDATED,K,g),o.on($.default.BUFFER_LEVEL_STATE_CHANGED,W,g),o.on($.default.PLAYBACK_PROGRESS,Q,g),o.on($.default.PLAYBACK_TIME_UPDATED,Q,g),o.on($.default.PLAYBACK_SEEKED,x,g),o.on(P.default.SETTING_UPDATED_CATCHUP_ENABLED,J,g),o.on(P.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ye,g),o.on(P.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ye,g),o.on($.default.STREAM_INITIALIZED,ye,g),ye()}},k=(0,we.default)(d).getInstance().getLogger(g),A(),g}Ul.__dashjs_factory_name="CatchupController";var bd=ae.default.getSingletonFactory(Ul);const yd=[M.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],Bl="video",ql="audio";function Hl(){const d=this.context;let o,g,m,v,w;function C(){g={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null,clientDataReporting:null},m=[]}function N(T,j,z){try{g[T][j]=z/1e3}catch(k){v.error(k)}}return o={getServiceDescriptionSettings:function(){return g},getProducerReferenceTimeOffsets:function(){return m},calculateProducerReferenceTimeOffsets:function(T){try{let j=[];if(T&&T.length>0){const z=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT],k=w.getAvailabilityStartTime()/1e3;T.forEach(A=>{const x=z.reduce((K,W)=>K.concat(w.getAllMediaInfoForType(A,W)),[]).reduce((K,W)=>(w.getProducerReferenceTimes(A,W).forEach(J=>{const Q=w.getVoRepresentations(W);if(Q&&Q.length>0&&Q[0].adaptation&&Q[0].segmentInfoType===S.default.SEGMENT_TEMPLATE){const Z=Q[0],ie=new Date(J[S.default.WALL_CLOCK_TIME]).getTime()/1e3-(J[S.default.PRESENTATION_TIME]/Z[S.default.TIMESCALE]-Z[S.default.PRESENTATION_TIME_OFFSET]+A.start),ye=k-ie;K.push({id:J[S.default.ID],to:ye})}}),K),[]);j=j.concat(x)})}m=j}catch(j){v.error(j),m=[]}},applyServiceDescription:function(T){if(!T||!T.serviceDescriptions)return;const j=T.serviceDescriptions.filter(A=>yd.includes(A.schemeIdUri)),z=T.serviceDescriptions.filter(A=>A.schemeIdUri==null);let k=j.length>0?j[j.length-1]:z[z.length-1];k&&(k.latency&&k.latency.target>0&&function(A){let x;if(A.schemeIdUri,M.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME,x=function(K){return{liveDelay:K.latency.target/1e3,maxDrift:!isNaN(K.latency.max)&&K.latency.max>K.latency.target?(K.latency.max-K.latency.target+500)/1e3:NaN,referenceId:K.latency.referenceId||NaN}}(A),m.length>0){let{to:K,id:W}=function(J){let Q,Z=0,ie=m.filter(ye=>ye.id===J.referenceId);return ie.length===0?(Z=m.length>0?m[0].to:0,Q=m[0].id||NaN):(Z=ie[0].to||0,Q=ie[0].id||NaN),{to:Z,id:Q}}(x);g.liveDelay=x.liveDelay-K,g.liveCatchup.maxDrift=x.maxDrift,v.debug(`
                Found latency properties coming from service description. Applied time offset of ${K} from ProducerReferenceTime element with id ${W}.
                Live Delay: ${x.liveDelay-K}, Live catchup max drift: ${x.maxDrift}
            `)}else g.liveDelay=x.liveDelay,g.liveCatchup.maxDrift=x.maxDrift,v.debug(`Found latency properties coming from service description: Live Delay: ${x.liveDelay}, Live catchup max drift: ${x.maxDrift}`)}(k),k.playbackRate&&function(A){const x=A.playbackRate.min?Math.round(1e3*(A.playbackRate.min-1))/1e3:NaN,K=A.playbackRate.max?Math.round(1e3*(A.playbackRate.max-1))/1e3:NaN;g.liveCatchup.playbackRate.min=x,g.liveCatchup.playbackRate.max=K,v.debug(`Found latency properties coming from service description: Live catchup min playback rate: ${x}`),v.debug(`Found latency properties coming from service description: Live catchup max playback rate: ${K}`)}(k),k.operatingQuality,k.operatingBandwidth&&function(A){if(!A||!A.operatingBandwidth||!A.operatingBandwidth.mediaType||A.operatingBandwidth.mediaType==="all")return;const x={};x.minBandwidth=A.operatingBandwidth.min,x.maxBandwidth=A.operatingBandwidth.max,x.targetBandwidth=A.operatingBandwidth.target;const K=[];A.operatingBandwidth.mediaType===Bl||A.operatingBandwidth.mediaType===ql?K.push(A.operatingBandwidth.mediaType):A.operatingBandwidth.mediaType==="any"&&(K.push(ql),K.push(Bl)),K.forEach(W=>{isNaN(x.minBandwidth)||N("minBitrate",W,x.minBandwidth),isNaN(x.maxBandwidth)||N("maxBitrate",W,x.maxBandwidth),isNaN(x.targetBandwidth)||N("initialBitrate",W,x.targetBandwidth)})}(k),k.contentSteering&&function(A){g.contentSteering=A.contentSteering}(k),k.clientDataReporting&&function(A){g.clientDataReporting=A.clientDataReporting}(k))},reset:function(){C()},setConfig:function(T){T&&T.adapter&&(w=T.adapter)}},v=(0,we.default)(d).getInstance().getLogger(o),C(),o}Hl.__dashjs_factory_name="ServiceDescriptionController";var Ed=ae.default.getSingletonFactory(Hl);function sr(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=[];if(d.irregular)return d.irregular;if(d.regular)return d.regular;if(d.language){o=o.concat(d.language,d.extendedLanguageSubtags||[],d.script||[],d.region||[],d.variants||[]);const g=d.extensions||[];let m=-1;for(;++m<g.length;){const v=g[m];v.singleton&&v.extensions&&v.extensions.length>0&&o.push(v.singleton,...v.extensions)}}return d.privateuse&&d.privateuse.length>0&&o.push("x",...d.privateuse),o.join("-")}function ca(d){const o=typeof d=="string"?d.charCodeAt(0):d;return o>=97&&o<=122||o>=65&&o<=90}function hr(d){const o=typeof d=="string"?d.charCodeAt(0):d;return o>=48&&o<=57}function Ha(d){return ca(d)||hr(d)}const vd=["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"],Gl={"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"},_d={}.hasOwnProperty;function Ga(d){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const g={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},m=String(d),v=m.toLowerCase();let w=0;if(d==null)throw new Error("Expected string, got `"+d+"`");if(_d.call(Gl,v)){const N=Gl[v];return o.normalize!==void 0&&o.normalize!==null&&!o.normalize||typeof N!="string"?(g[vd.includes(v)?"regular":"irregular"]=m,g):Ga(N)}for(;ca(v.charCodeAt(w))&&w<9;)w++;if(w>1&&w<9){if(g.language=m.slice(0,w),w<4){let N=0;for(;v.charCodeAt(w)===45&&ca(v.charCodeAt(w+1))&&ca(v.charCodeAt(w+2))&&ca(v.charCodeAt(w+3))&&!ca(v.charCodeAt(w+4));){if(N>2)return C(w,3,"Too many extended language subtags, expected at most 3 subtags");g.extendedLanguageSubtags.push(m.slice(w+1,w+4)),w+=4,N++}}for(v.charCodeAt(w)===45&&ca(v.charCodeAt(w+1))&&ca(v.charCodeAt(w+2))&&ca(v.charCodeAt(w+3))&&ca(v.charCodeAt(w+4))&&!ca(v.charCodeAt(w+5))&&(g.script=m.slice(w+1,w+5),w+=5),v.charCodeAt(w)===45&&(ca(v.charCodeAt(w+1))&&ca(v.charCodeAt(w+2))&&!ca(v.charCodeAt(w+3))?(g.region=m.slice(w+1,w+3),w+=3):hr(v.charCodeAt(w+1))&&hr(v.charCodeAt(w+2))&&hr(v.charCodeAt(w+3))&&!hr(v.charCodeAt(w+4))&&(g.region=m.slice(w+1,w+4),w+=4));v.charCodeAt(w)===45;){const N=w+1;let T=N;for(;Ha(v.charCodeAt(T));){if(T-N>7)return C(T,1,"Too long variant, expected at most 8 characters");T++}if(!(T-N>4||T-N>3&&hr(v.charCodeAt(N))))break;g.variants.push(m.slice(N,T)),w=T}for(;v.charCodeAt(w)===45&&v.charCodeAt(w+1)!==120&&Ha(v.charCodeAt(w+1))&&v.charCodeAt(w+2)===45&&Ha(v.charCodeAt(w+3));){let N=w+2,T=0;for(;v.charCodeAt(N)===45&&Ha(v.charCodeAt(N+1))&&Ha(v.charCodeAt(N+2));){const j=N+1;for(N=j+2,T++;Ha(v.charCodeAt(N));){if(N-j>7)return C(N,2,"Too long extension, expected at most 8 characters");N++}}if(!T)return C(N,4,"Empty extension, extensions must have at least 2 characters of content");g.extensions.push({singleton:m.charAt(w+1),extensions:m.slice(w+3,N).split("-")}),w=N}}else w=0;if(w===0&&v.charCodeAt(w)===120||v.charCodeAt(w)===45&&v.charCodeAt(w+1)===120){w=w?w+2:1;let N=w;for(;v.charCodeAt(N)===45&&Ha(v.charCodeAt(N+1));){const T=w+1;for(N=T;Ha(v.charCodeAt(N));){if(N-T>7)return C(N,5,"Too long private-use area, expected at most 8 characters");N++}g.privateuse.push(m.slice(w+1,N)),w=N}}return w!==m.length?C(w,6,"Found superfluous content after tag"):g;function C(N,T,j){return o.warning&&o.warning(j,T,N),o.forgiving?g:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}}function Td(d,o){return function(g,m){let v=Yl(g,"tag");const w=Yl(m??"*","range"),C=[];let N=-1;for(;++N<w.length;){const T=w[N].toLowerCase();if(!o&&T==="*")continue;let j=-1;const z=[];for(;++j<v.length;)if(d(v[j].toLowerCase(),T)){if(!o)return v[j];C.push(v[j])}else z.push(v[j]);v=z}return o?C:void 0}}const ao=Td(function(d,o){const g=d.split("-"),m=o.split("-");let v=0,w=0;if(m[w]!=="*"&&g[v]!==m[w])return!1;for(v++,w++;w<m.length;)if(m[w]!=="*"){if(!g[v])return!1;if(g[v]!==m[w]){if(g[v].length===1)return!1;v++}else v++,w++}else w++;return!0},!0);function Yl(d,o){const g=d&&typeof d=="string"?[d]:d;if(!g||typeof g!="object"||!("length"in g))throw new Error("Invalid "+o+" `"+g+"`, expected non-empty string");return g}const ro=[{from:"in",to:"id"},{from:"iw",to:"he"},{from:"ji",to:"yi"},{from:"jw",to:"jv"},{from:"mo",to:"ro"},{from:"scc",to:"sr"},{from:"scr",to:"hr"},{from:"aam",to:"aas"},{from:"adp",to:"dz"},{from:"aue",to:"ktz"},{from:"ayx",to:"nun"},{from:"bgm",to:"bcg"},{from:"bjd",to:"drl"},{from:"ccq",to:"rki"},{from:"cjr",to:"mom"},{from:"cka",to:"cmr"},{from:"cmk",to:"xch"},{from:"coy",to:"pij"},{from:"cqu",to:"quh"},{from:"drh",to:"mn"},{from:"drw",to:"fa-af"},{from:"gav",to:"dev"},{from:"gfx",to:"vaj"},{from:"ggn",to:"gvr"},{from:"gti",to:"nyc"},{from:"guv",to:"duz"},{from:"hrr",to:"jal"},{from:"ibi",to:"opa"},{from:"ilw",to:"gal"},{from:"jeg",to:"oyb"},{from:"kgc",to:"tdf"},{from:"kgh",to:"kml"},{from:"koj",to:"kwv"},{from:"krm",to:"bmf"},{from:"ktr",to:"dtp"},{from:"kvs",to:"gdj"},{from:"kwq",to:"yam"},{from:"kxe",to:"tvd"},{from:"kzj",to:"dtp"},{from:"kzt",to:"dtp"},{from:"lii",to:"raq"},{from:"lmm",to:"rmx"},{from:"meg",to:"cir"},{from:"mst",to:"mry"},{from:"mwj",to:"vaj"},{from:"myt",to:"mry"},{from:"nad",to:"xny"},{from:"ncp",to:"kdz"},{from:"nnx",to:"ngv"},{from:"nts",to:"pij"},{from:"oun",to:"vaj"},{from:"pcr",to:"adx"},{from:"pmc",to:"huw"},{from:"pmu",to:"phr"},{from:"ppa",to:"bfy"},{from:"ppr",to:"lcq"},{from:"pry",to:"prt"},{from:"puz",to:"pub"},{from:"sca",to:"hle"},{from:"skk",to:"oyb"},{from:"tdu",to:"dtp"},{from:"thc",to:"tpo"},{from:"thx",to:"oyb"},{from:"tie",to:"ras"},{from:"tkk",to:"twm"},{from:"tlw",to:"weo"},{from:"tmp",to:"tyj"},{from:"tne",to:"kak"},{from:"tnf",to:"fa-af"},{from:"tsf",to:"taj"},{from:"uok",to:"ema"},{from:"xba",to:"cax"},{from:"xia",to:"acn"},{from:"xkh",to:"waw"},{from:"xsj",to:"suj"},{from:"ybd",to:"rki"},{from:"yma",to:"lrr"},{from:"ymt",to:"mtm"},{from:"yos",to:"zom"},{from:"yuu",to:"yug"},{from:"asd",to:"snz"},{from:"dit",to:"dif"},{from:"llo",to:"ngt"},{from:"myd",to:"aog"},{from:"nns",to:"nbr"},{from:"agp",to:"apf"},{from:"ais",to:"ami"},{from:"ajt",to:"aeb"},{from:"baz",to:"nvo"},{from:"bhk",to:"fbl"},{from:"bic",to:"bir"},{from:"bjq",to:"bzc"},{from:"bkb",to:"ebk"},{from:"blg",to:"iba"},{from:"btb",to:"beb"},{from:"daf",to:"dnj"},{from:"dap",to:"njz"},{from:"djl",to:"dze"},{from:"dkl",to:"aqd"},{from:"drr",to:"kzk"},{from:"dud",to:"uth"},{from:"duj",to:"dwu"},{from:"dwl",to:"dbt"},{from:"elp",to:"amq"},{from:"gbc",to:"wny"},{from:"ggo",to:"esg"},{from:"ggr",to:"gtu"},{from:"gio",to:"aou"},{from:"gli",to:"kzk"},{from:"ill",to:"ilm"},{from:"izi",to:"eza"},{from:"jar",to:"jgk"},{from:"kdv",to:"zkd"},{from:"kgd",to:"ncq"},{from:"kpp",to:"jkm"},{from:"kxl",to:"kru"},{from:"kzh",to:"dgl"},{from:"lak",to:"ksp"},{from:"leg",to:"enl"},{from:"mgx",to:"jbk"},{from:"mnt",to:"wnn"},{from:"mof",to:"xnt"},{from:"mwd",to:"dmw"},{from:"nbf",to:"nru"},{from:"nbx",to:"ekc"},{from:"nln",to:"azd"},{from:"nlr",to:"nrk"},{from:"noo",to:"dtd"},{from:"nxu",to:"bpp"},{from:"pat",to:"kxr"},{from:"rmr",to:"emx"},{from:"sap",to:"aqt"},{from:"sgl",to:"isk"},{from:"smd",to:"kmb"},{from:"snb",to:"iba"},{from:"sul",to:"sgd"},{from:"sum",to:"ulw"},{from:"tgg",to:"bjp"},{from:"thw",to:"ola"},{from:"tid",to:"itd"},{from:"unp",to:"wro"},{from:"wgw",to:"wgb"},{from:"wit",to:"nol"},{from:"wiw",to:"nwo"},{from:"xrq",to:"dmw"},{from:"yen",to:"ynq"},{from:"yiy",to:"yrm"},{from:"zir",to:"scv"},{from:"sgn-br",to:"bzs"},{from:"sgn-co",to:"csn"},{from:"sgn-de",to:"gsg"},{from:"sgn-dk",to:"dsl"},{from:"sgn-fr",to:"fsl"},{from:"sgn-gb",to:"bfi"},{from:"sgn-gr",to:"gss"},{from:"sgn-ie",to:"isg"},{from:"sgn-it",to:"ise"},{from:"sgn-jp",to:"jsl"},{from:"sgn-mx",to:"mfs"},{from:"sgn-ni",to:"ncs"},{from:"sgn-nl",to:"dse"},{from:"sgn-no",to:"nsi"},{from:"sgn-pt",to:"psr"},{from:"sgn-se",to:"swl"},{from:"sgn-us",to:"ase"},{from:"sgn-za",to:"sfs"},{from:"sgn-es",to:"ssp"},{from:"zh-cmn",to:"zh"},{from:"zh-cmn-hans",to:"zh-hans"},{from:"zh-cmn-hant",to:"zh-hant"},{from:"zh-gan",to:"gan"},{from:"zh-wuu",to:"wuu"},{from:"zh-yue",to:"yue"},{from:"no-bokmal",to:"nb"},{from:"no-nynorsk",to:"nn"},{from:"aa-saaho",to:"ssy"},{from:"sh",to:"sr-latn"},{from:"cnr",to:"sr-me"},{from:"tl",to:"fil"},{from:"aju",to:"jrb"},{from:"als",to:"sq"},{from:"arb",to:"ar"},{from:"ayr",to:"ay"},{from:"azj",to:"az"},{from:"bcc",to:"bal"},{from:"bcl",to:"bik"},{from:"bxk",to:"luy"},{from:"bxr",to:"bua"},{from:"cld",to:"syr"},{from:"cmn",to:"zh"},{from:"cwd",to:"cr"},{from:"dgo",to:"doi"},{from:"dhd",to:"mwr"},{from:"dik",to:"din"},{from:"diq",to:"zza"},{from:"lbk",to:"bnc"},{from:"ekk",to:"et"},{from:"emk",to:"man"},{from:"esk",to:"ik"},{from:"fat",to:"ak"},{from:"fuc",to:"ff"},{from:"gaz",to:"om"},{from:"gbo",to:"grb"},{from:"gno",to:"gon"},{from:"gug",to:"gn"},{from:"gya",to:"gba"},{from:"hdn",to:"hai"},{from:"hea",to:"hmn"},{from:"ike",to:"iu"},{from:"kmr",to:"ku"},{from:"knc",to:"kr"},{from:"kng",to:"kg"},{from:"knn",to:"kok"},{from:"kpv",to:"kv"},{from:"lvs",to:"lv"},{from:"mhr",to:"chm"},{from:"mup",to:"raj"},{from:"khk",to:"mn"},{from:"npi",to:"ne"},{from:"ojg",to:"oj"},{from:"ory",to:"or"},{from:"pbu",to:"ps"},{from:"pes",to:"fa"},{from:"plt",to:"mg"},{from:"pnb",to:"lah"},{from:"quz",to:"qu"},{from:"rmy",to:"rom"},{from:"spy",to:"kln"},{from:"src",to:"sc"},{from:"swh",to:"sw"},{from:"ttq",to:"tmh"},{from:"tw",to:"ak"},{from:"umu",to:"del"},{from:"uzn",to:"uz"},{from:"xpe",to:"kpe"},{from:"xsl",to:"den"},{from:"ydd",to:"yi"},{from:"zai",to:"zap"},{from:"zsm",to:"ms"},{from:"zyb",to:"za"},{from:"him",to:"srx"},{from:"mnk",to:"man"},{from:"bh",to:"bho"},{from:"prs",to:"fa-af"},{from:"swc",to:"sw-cd"},{from:"aar",to:"aa"},{from:"abk",to:"ab"},{from:"ave",to:"ae"},{from:"afr",to:"af"},{from:"aka",to:"ak"},{from:"amh",to:"am"},{from:"arg",to:"an"},{from:"ara",to:"ar"},{from:"asm",to:"as"},{from:"ava",to:"av"},{from:"aym",to:"ay"},{from:"aze",to:"az"},{from:"bak",to:"ba"},{from:"bel",to:"be"},{from:"bul",to:"bg"},{from:"bih",to:"bho"},{from:"bis",to:"bi"},{from:"bam",to:"bm"},{from:"ben",to:"bn"},{from:"bod",to:"bo"},{from:"bre",to:"br"},{from:"bos",to:"bs"},{from:"cat",to:"ca"},{from:"che",to:"ce"},{from:"cha",to:"ch"},{from:"cos",to:"co"},{from:"cre",to:"cr"},{from:"ces",to:"cs"},{from:"chu",to:"cu"},{from:"chv",to:"cv"},{from:"cym",to:"cy"},{from:"dan",to:"da"},{from:"deu",to:"de"},{from:"div",to:"dv"},{from:"dzo",to:"dz"},{from:"ewe",to:"ee"},{from:"ell",to:"el"},{from:"eng",to:"en"},{from:"epo",to:"eo"},{from:"spa",to:"es"},{from:"est",to:"et"},{from:"eus",to:"eu"},{from:"fas",to:"fa"},{from:"ful",to:"ff"},{from:"fin",to:"fi"},{from:"fij",to:"fj"},{from:"fao",to:"fo"},{from:"fra",to:"fr"},{from:"fry",to:"fy"},{from:"gle",to:"ga"},{from:"gla",to:"gd"},{from:"glg",to:"gl"},{from:"grn",to:"gn"},{from:"guj",to:"gu"},{from:"glv",to:"gv"},{from:"hau",to:"ha"},{from:"heb",to:"he"},{from:"hin",to:"hi"},{from:"hmo",to:"ho"},{from:"hrv",to:"hr"},{from:"hat",to:"ht"},{from:"hun",to:"hu"},{from:"hye",to:"hy"},{from:"her",to:"hz"},{from:"ina",to:"ia"},{from:"ind",to:"id"},{from:"ile",to:"ie"},{from:"ibo",to:"ig"},{from:"iii",to:"ii"},{from:"ipk",to:"ik"},{from:"ido",to:"io"},{from:"isl",to:"is"},{from:"ita",to:"it"},{from:"iku",to:"iu"},{from:"jpn",to:"ja"},{from:"jav",to:"jv"},{from:"kat",to:"ka"},{from:"kon",to:"kg"},{from:"kik",to:"ki"},{from:"kua",to:"kj"},{from:"kaz",to:"kk"},{from:"kal",to:"kl"},{from:"khm",to:"km"},{from:"kan",to:"kn"},{from:"kor",to:"ko"},{from:"kau",to:"kr"},{from:"kas",to:"ks"},{from:"kur",to:"ku"},{from:"kom",to:"kv"},{from:"cor",to:"kw"},{from:"kir",to:"ky"},{from:"lat",to:"la"},{from:"ltz",to:"lb"},{from:"lug",to:"lg"},{from:"lim",to:"li"},{from:"lin",to:"ln"},{from:"lao",to:"lo"},{from:"lit",to:"lt"},{from:"lub",to:"lu"},{from:"lav",to:"lv"},{from:"mlg",to:"mg"},{from:"mah",to:"mh"},{from:"mri",to:"mi"},{from:"mkd",to:"mk"},{from:"mal",to:"ml"},{from:"mon",to:"mn"},{from:"mol",to:"ro"},{from:"mar",to:"mr"},{from:"msa",to:"ms"},{from:"mlt",to:"mt"},{from:"mya",to:"my"},{from:"nau",to:"na"},{from:"nob",to:"nb"},{from:"nde",to:"nd"},{from:"nep",to:"ne"},{from:"ndo",to:"ng"},{from:"nld",to:"nl"},{from:"nno",to:"nn"},{from:"nor",to:"no"},{from:"nbl",to:"nr"},{from:"nav",to:"nv"},{from:"nya",to:"ny"},{from:"oci",to:"oc"},{from:"oji",to:"oj"},{from:"orm",to:"om"},{from:"ori",to:"or"},{from:"oss",to:"os"},{from:"pan",to:"pa"},{from:"pli",to:"pi"},{from:"pol",to:"pl"},{from:"pus",to:"ps"},{from:"por",to:"pt"},{from:"que",to:"qu"},{from:"roh",to:"rm"},{from:"run",to:"rn"},{from:"ron",to:"ro"},{from:"rus",to:"ru"},{from:"kin",to:"rw"},{from:"san",to:"sa"},{from:"srd",to:"sc"},{from:"snd",to:"sd"},{from:"sme",to:"se"},{from:"sag",to:"sg"},{from:"hbs",to:"sr-latn"},{from:"sin",to:"si"},{from:"slk",to:"sk"},{from:"slv",to:"sl"},{from:"smo",to:"sm"},{from:"sna",to:"sn"},{from:"som",to:"so"},{from:"sqi",to:"sq"},{from:"srp",to:"sr"},{from:"ssw",to:"ss"},{from:"sot",to:"st"},{from:"sun",to:"su"},{from:"swe",to:"sv"},{from:"swa",to:"sw"},{from:"tam",to:"ta"},{from:"tel",to:"te"},{from:"tgk",to:"tg"},{from:"tha",to:"th"},{from:"tir",to:"ti"},{from:"tuk",to:"tk"},{from:"tgl",to:"fil"},{from:"tsn",to:"tn"},{from:"ton",to:"to"},{from:"tur",to:"tr"},{from:"tso",to:"ts"},{from:"tat",to:"tt"},{from:"twi",to:"ak"},{from:"tah",to:"ty"},{from:"uig",to:"ug"},{from:"ukr",to:"uk"},{from:"urd",to:"ur"},{from:"uzb",to:"uz"},{from:"ven",to:"ve"},{from:"vie",to:"vi"},{from:"vol",to:"vo"},{from:"wln",to:"wa"},{from:"wol",to:"wo"},{from:"xho",to:"xh"},{from:"yid",to:"yi"},{from:"yor",to:"yo"},{from:"zha",to:"za"},{from:"zho",to:"zh"},{from:"zul",to:"zu"},{from:"alb",to:"sq"},{from:"arm",to:"hy"},{from:"baq",to:"eu"},{from:"bur",to:"my"},{from:"chi",to:"zh"},{from:"cze",to:"cs"},{from:"dut",to:"nl"},{from:"fre",to:"fr"},{from:"geo",to:"ka"},{from:"ger",to:"de"},{from:"gre",to:"el"},{from:"ice",to:"is"},{from:"mac",to:"mk"},{from:"mao",to:"mi"},{from:"may",to:"ms"},{from:"per",to:"fa"},{from:"rum",to:"ro"},{from:"slo",to:"sk"},{from:"tib",to:"bo"},{from:"wel",to:"cy"},{from:"und-aaland",to:"und-ax"},{from:"hy-arevmda",to:"hyw"},{from:"und-arevmda",to:"und"},{from:"und-arevela",to:"und"},{from:"und-lojban",to:"und"},{from:"und-saaho",to:"und"},{from:"und-bokmal",to:"und"},{from:"und-nynorsk",to:"und"},{from:"und-hakka",to:"und"},{from:"und-xiang",to:"und"},{from:"und-hepburn-heploc",to:"und-alalc97"}],Yr=[{from:{field:"script",value:"qaai"},to:{field:"script",value:"zinh"}},{from:{field:"region",value:"bu"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"ct"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"dd"},to:{field:"region",value:"de"}},{from:{field:"region",value:"dy"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"fx"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"hv"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"jt"},to:{field:"region",value:"um"}},{from:{field:"region",value:"mi"},to:{field:"region",value:"um"}},{from:{field:"region",value:"nh"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"nq"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"pu"},to:{field:"region",value:"um"}},{from:{field:"region",value:"pz"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"qu"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"rh"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"tp"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"uk"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"vd"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"wk"},to:{field:"region",value:"um"}},{from:{field:"region",value:"yd"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"zr"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"230"},to:{field:"region",value:"et"}},{from:{field:"region",value:"280"},to:{field:"region",value:"de"}},{from:{field:"region",value:"736"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"886"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"958"},to:{field:"region",value:"aa"}},{from:{field:"region",value:"020"},to:{field:"region",value:"ad"}},{from:{field:"region",value:"784"},to:{field:"region",value:"ae"}},{from:{field:"region",value:"004"},to:{field:"region",value:"af"}},{from:{field:"region",value:"028"},to:{field:"region",value:"ag"}},{from:{field:"region",value:"660"},to:{field:"region",value:"ai"}},{from:{field:"region",value:"008"},to:{field:"region",value:"al"}},{from:{field:"region",value:"051"},to:{field:"region",value:"am"}},{from:{field:"region",value:"024"},to:{field:"region",value:"ao"}},{from:{field:"region",value:"010"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"032"},to:{field:"region",value:"ar"}},{from:{field:"region",value:"016"},to:{field:"region",value:"as"}},{from:{field:"region",value:"040"},to:{field:"region",value:"at"}},{from:{field:"region",value:"036"},to:{field:"region",value:"au"}},{from:{field:"region",value:"533"},to:{field:"region",value:"aw"}},{from:{field:"region",value:"248"},to:{field:"region",value:"ax"}},{from:{field:"region",value:"031"},to:{field:"region",value:"az"}},{from:{field:"region",value:"070"},to:{field:"region",value:"ba"}},{from:{field:"region",value:"052"},to:{field:"region",value:"bb"}},{from:{field:"region",value:"050"},to:{field:"region",value:"bd"}},{from:{field:"region",value:"056"},to:{field:"region",value:"be"}},{from:{field:"region",value:"854"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"100"},to:{field:"region",value:"bg"}},{from:{field:"region",value:"048"},to:{field:"region",value:"bh"}},{from:{field:"region",value:"108"},to:{field:"region",value:"bi"}},{from:{field:"region",value:"204"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"652"},to:{field:"region",value:"bl"}},{from:{field:"region",value:"060"},to:{field:"region",value:"bm"}},{from:{field:"region",value:"096"},to:{field:"region",value:"bn"}},{from:{field:"region",value:"068"},to:{field:"region",value:"bo"}},{from:{field:"region",value:"535"},to:{field:"region",value:"bq"}},{from:{field:"region",value:"076"},to:{field:"region",value:"br"}},{from:{field:"region",value:"044"},to:{field:"region",value:"bs"}},{from:{field:"region",value:"064"},to:{field:"region",value:"bt"}},{from:{field:"region",value:"104"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"074"},to:{field:"region",value:"bv"}},{from:{field:"region",value:"072"},to:{field:"region",value:"bw"}},{from:{field:"region",value:"112"},to:{field:"region",value:"by"}},{from:{field:"region",value:"084"},to:{field:"region",value:"bz"}},{from:{field:"region",value:"124"},to:{field:"region",value:"ca"}},{from:{field:"region",value:"166"},to:{field:"region",value:"cc"}},{from:{field:"region",value:"180"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"140"},to:{field:"region",value:"cf"}},{from:{field:"region",value:"178"},to:{field:"region",value:"cg"}},{from:{field:"region",value:"756"},to:{field:"region",value:"ch"}},{from:{field:"region",value:"384"},to:{field:"region",value:"ci"}},{from:{field:"region",value:"184"},to:{field:"region",value:"ck"}},{from:{field:"region",value:"152"},to:{field:"region",value:"cl"}},{from:{field:"region",value:"120"},to:{field:"region",value:"cm"}},{from:{field:"region",value:"156"},to:{field:"region",value:"cn"}},{from:{field:"region",value:"170"},to:{field:"region",value:"co"}},{from:{field:"region",value:"188"},to:{field:"region",value:"cr"}},{from:{field:"region",value:"192"},to:{field:"region",value:"cu"}},{from:{field:"region",value:"132"},to:{field:"region",value:"cv"}},{from:{field:"region",value:"531"},to:{field:"region",value:"cw"}},{from:{field:"region",value:"162"},to:{field:"region",value:"cx"}},{from:{field:"region",value:"196"},to:{field:"region",value:"cy"}},{from:{field:"region",value:"203"},to:{field:"region",value:"cz"}},{from:{field:"region",value:"278"},to:{field:"region",value:"de"}},{from:{field:"region",value:"276"},to:{field:"region",value:"de"}},{from:{field:"region",value:"262"},to:{field:"region",value:"dj"}},{from:{field:"region",value:"208"},to:{field:"region",value:"dk"}},{from:{field:"region",value:"212"},to:{field:"region",value:"dm"}},{from:{field:"region",value:"214"},to:{field:"region",value:"do"}},{from:{field:"region",value:"012"},to:{field:"region",value:"dz"}},{from:{field:"region",value:"218"},to:{field:"region",value:"ec"}},{from:{field:"region",value:"233"},to:{field:"region",value:"ee"}},{from:{field:"region",value:"818"},to:{field:"region",value:"eg"}},{from:{field:"region",value:"732"},to:{field:"region",value:"eh"}},{from:{field:"region",value:"232"},to:{field:"region",value:"er"}},{from:{field:"region",value:"724"},to:{field:"region",value:"es"}},{from:{field:"region",value:"231"},to:{field:"region",value:"et"}},{from:{field:"region",value:"246"},to:{field:"region",value:"fi"}},{from:{field:"region",value:"242"},to:{field:"region",value:"fj"}},{from:{field:"region",value:"238"},to:{field:"region",value:"fk"}},{from:{field:"region",value:"583"},to:{field:"region",value:"fm"}},{from:{field:"region",value:"234"},to:{field:"region",value:"fo"}},{from:{field:"region",value:"250"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"249"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"266"},to:{field:"region",value:"ga"}},{from:{field:"region",value:"826"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"308"},to:{field:"region",value:"gd"}},{from:{field:"region",value:"268"},to:{field:"region",value:"ge"}},{from:{field:"region",value:"254"},to:{field:"region",value:"gf"}},{from:{field:"region",value:"831"},to:{field:"region",value:"gg"}},{from:{field:"region",value:"288"},to:{field:"region",value:"gh"}},{from:{field:"region",value:"292"},to:{field:"region",value:"gi"}},{from:{field:"region",value:"304"},to:{field:"region",value:"gl"}},{from:{field:"region",value:"270"},to:{field:"region",value:"gm"}},{from:{field:"region",value:"324"},to:{field:"region",value:"gn"}},{from:{field:"region",value:"312"},to:{field:"region",value:"gp"}},{from:{field:"region",value:"226"},to:{field:"region",value:"gq"}},{from:{field:"region",value:"300"},to:{field:"region",value:"gr"}},{from:{field:"region",value:"239"},to:{field:"region",value:"gs"}},{from:{field:"region",value:"320"},to:{field:"region",value:"gt"}},{from:{field:"region",value:"316"},to:{field:"region",value:"gu"}},{from:{field:"region",value:"624"},to:{field:"region",value:"gw"}},{from:{field:"region",value:"328"},to:{field:"region",value:"gy"}},{from:{field:"region",value:"344"},to:{field:"region",value:"hk"}},{from:{field:"region",value:"334"},to:{field:"region",value:"hm"}},{from:{field:"region",value:"340"},to:{field:"region",value:"hn"}},{from:{field:"region",value:"191"},to:{field:"region",value:"hr"}},{from:{field:"region",value:"332"},to:{field:"region",value:"ht"}},{from:{field:"region",value:"348"},to:{field:"region",value:"hu"}},{from:{field:"region",value:"360"},to:{field:"region",value:"id"}},{from:{field:"region",value:"372"},to:{field:"region",value:"ie"}},{from:{field:"region",value:"376"},to:{field:"region",value:"il"}},{from:{field:"region",value:"833"},to:{field:"region",value:"im"}},{from:{field:"region",value:"356"},to:{field:"region",value:"in"}},{from:{field:"region",value:"086"},to:{field:"region",value:"io"}},{from:{field:"region",value:"368"},to:{field:"region",value:"iq"}},{from:{field:"region",value:"364"},to:{field:"region",value:"ir"}},{from:{field:"region",value:"352"},to:{field:"region",value:"is"}},{from:{field:"region",value:"380"},to:{field:"region",value:"it"}},{from:{field:"region",value:"832"},to:{field:"region",value:"je"}},{from:{field:"region",value:"388"},to:{field:"region",value:"jm"}},{from:{field:"region",value:"400"},to:{field:"region",value:"jo"}},{from:{field:"region",value:"392"},to:{field:"region",value:"jp"}},{from:{field:"region",value:"404"},to:{field:"region",value:"ke"}},{from:{field:"region",value:"417"},to:{field:"region",value:"kg"}},{from:{field:"region",value:"116"},to:{field:"region",value:"kh"}},{from:{field:"region",value:"296"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"174"},to:{field:"region",value:"km"}},{from:{field:"region",value:"659"},to:{field:"region",value:"kn"}},{from:{field:"region",value:"408"},to:{field:"region",value:"kp"}},{from:{field:"region",value:"410"},to:{field:"region",value:"kr"}},{from:{field:"region",value:"414"},to:{field:"region",value:"kw"}},{from:{field:"region",value:"136"},to:{field:"region",value:"ky"}},{from:{field:"region",value:"398"},to:{field:"region",value:"kz"}},{from:{field:"region",value:"418"},to:{field:"region",value:"la"}},{from:{field:"region",value:"422"},to:{field:"region",value:"lb"}},{from:{field:"region",value:"662"},to:{field:"region",value:"lc"}},{from:{field:"region",value:"438"},to:{field:"region",value:"li"}},{from:{field:"region",value:"144"},to:{field:"region",value:"lk"}},{from:{field:"region",value:"430"},to:{field:"region",value:"lr"}},{from:{field:"region",value:"426"},to:{field:"region",value:"ls"}},{from:{field:"region",value:"440"},to:{field:"region",value:"lt"}},{from:{field:"region",value:"442"},to:{field:"region",value:"lu"}},{from:{field:"region",value:"428"},to:{field:"region",value:"lv"}},{from:{field:"region",value:"434"},to:{field:"region",value:"ly"}},{from:{field:"region",value:"504"},to:{field:"region",value:"ma"}},{from:{field:"region",value:"492"},to:{field:"region",value:"mc"}},{from:{field:"region",value:"498"},to:{field:"region",value:"md"}},{from:{field:"region",value:"499"},to:{field:"region",value:"me"}},{from:{field:"region",value:"663"},to:{field:"region",value:"mf"}},{from:{field:"region",value:"450"},to:{field:"region",value:"mg"}},{from:{field:"region",value:"584"},to:{field:"region",value:"mh"}},{from:{field:"region",value:"807"},to:{field:"region",value:"mk"}},{from:{field:"region",value:"466"},to:{field:"region",value:"ml"}},{from:{field:"region",value:"496"},to:{field:"region",value:"mn"}},{from:{field:"region",value:"446"},to:{field:"region",value:"mo"}},{from:{field:"region",value:"580"},to:{field:"region",value:"mp"}},{from:{field:"region",value:"474"},to:{field:"region",value:"mq"}},{from:{field:"region",value:"478"},to:{field:"region",value:"mr"}},{from:{field:"region",value:"500"},to:{field:"region",value:"ms"}},{from:{field:"region",value:"470"},to:{field:"region",value:"mt"}},{from:{field:"region",value:"480"},to:{field:"region",value:"mu"}},{from:{field:"region",value:"462"},to:{field:"region",value:"mv"}},{from:{field:"region",value:"454"},to:{field:"region",value:"mw"}},{from:{field:"region",value:"484"},to:{field:"region",value:"mx"}},{from:{field:"region",value:"458"},to:{field:"region",value:"my"}},{from:{field:"region",value:"508"},to:{field:"region",value:"mz"}},{from:{field:"region",value:"516"},to:{field:"region",value:"na"}},{from:{field:"region",value:"540"},to:{field:"region",value:"nc"}},{from:{field:"region",value:"562"},to:{field:"region",value:"ne"}},{from:{field:"region",value:"574"},to:{field:"region",value:"nf"}},{from:{field:"region",value:"566"},to:{field:"region",value:"ng"}},{from:{field:"region",value:"558"},to:{field:"region",value:"ni"}},{from:{field:"region",value:"528"},to:{field:"region",value:"nl"}},{from:{field:"region",value:"578"},to:{field:"region",value:"no"}},{from:{field:"region",value:"524"},to:{field:"region",value:"np"}},{from:{field:"region",value:"520"},to:{field:"region",value:"nr"}},{from:{field:"region",value:"570"},to:{field:"region",value:"nu"}},{from:{field:"region",value:"554"},to:{field:"region",value:"nz"}},{from:{field:"region",value:"512"},to:{field:"region",value:"om"}},{from:{field:"region",value:"591"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"604"},to:{field:"region",value:"pe"}},{from:{field:"region",value:"258"},to:{field:"region",value:"pf"}},{from:{field:"region",value:"598"},to:{field:"region",value:"pg"}},{from:{field:"region",value:"608"},to:{field:"region",value:"ph"}},{from:{field:"region",value:"586"},to:{field:"region",value:"pk"}},{from:{field:"region",value:"616"},to:{field:"region",value:"pl"}},{from:{field:"region",value:"666"},to:{field:"region",value:"pm"}},{from:{field:"region",value:"612"},to:{field:"region",value:"pn"}},{from:{field:"region",value:"630"},to:{field:"region",value:"pr"}},{from:{field:"region",value:"275"},to:{field:"region",value:"ps"}},{from:{field:"region",value:"620"},to:{field:"region",value:"pt"}},{from:{field:"region",value:"585"},to:{field:"region",value:"pw"}},{from:{field:"region",value:"600"},to:{field:"region",value:"py"}},{from:{field:"region",value:"634"},to:{field:"region",value:"qa"}},{from:{field:"region",value:"959"},to:{field:"region",value:"qm"}},{from:{field:"region",value:"960"},to:{field:"region",value:"qn"}},{from:{field:"region",value:"962"},to:{field:"region",value:"qp"}},{from:{field:"region",value:"963"},to:{field:"region",value:"qq"}},{from:{field:"region",value:"964"},to:{field:"region",value:"qr"}},{from:{field:"region",value:"965"},to:{field:"region",value:"qs"}},{from:{field:"region",value:"966"},to:{field:"region",value:"qt"}},{from:{field:"region",value:"967"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"968"},to:{field:"region",value:"qv"}},{from:{field:"region",value:"969"},to:{field:"region",value:"qw"}},{from:{field:"region",value:"970"},to:{field:"region",value:"qx"}},{from:{field:"region",value:"971"},to:{field:"region",value:"qy"}},{from:{field:"region",value:"972"},to:{field:"region",value:"qz"}},{from:{field:"region",value:"638"},to:{field:"region",value:"re"}},{from:{field:"region",value:"642"},to:{field:"region",value:"ro"}},{from:{field:"region",value:"688"},to:{field:"region",value:"rs"}},{from:{field:"region",value:"643"},to:{field:"region",value:"ru"}},{from:{field:"region",value:"646"},to:{field:"region",value:"rw"}},{from:{field:"region",value:"682"},to:{field:"region",value:"sa"}},{from:{field:"region",value:"090"},to:{field:"region",value:"sb"}},{from:{field:"region",value:"690"},to:{field:"region",value:"sc"}},{from:{field:"region",value:"729"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"752"},to:{field:"region",value:"se"}},{from:{field:"region",value:"702"},to:{field:"region",value:"sg"}},{from:{field:"region",value:"654"},to:{field:"region",value:"sh"}},{from:{field:"region",value:"705"},to:{field:"region",value:"si"}},{from:{field:"region",value:"744"},to:{field:"region",value:"sj"}},{from:{field:"region",value:"703"},to:{field:"region",value:"sk"}},{from:{field:"region",value:"694"},to:{field:"region",value:"sl"}},{from:{field:"region",value:"674"},to:{field:"region",value:"sm"}},{from:{field:"region",value:"686"},to:{field:"region",value:"sn"}},{from:{field:"region",value:"706"},to:{field:"region",value:"so"}},{from:{field:"region",value:"740"},to:{field:"region",value:"sr"}},{from:{field:"region",value:"728"},to:{field:"region",value:"ss"}},{from:{field:"region",value:"678"},to:{field:"region",value:"st"}},{from:{field:"region",value:"222"},to:{field:"region",value:"sv"}},{from:{field:"region",value:"534"},to:{field:"region",value:"sx"}},{from:{field:"region",value:"760"},to:{field:"region",value:"sy"}},{from:{field:"region",value:"748"},to:{field:"region",value:"sz"}},{from:{field:"region",value:"796"},to:{field:"region",value:"tc"}},{from:{field:"region",value:"148"},to:{field:"region",value:"td"}},{from:{field:"region",value:"260"},to:{field:"region",value:"tf"}},{from:{field:"region",value:"768"},to:{field:"region",value:"tg"}},{from:{field:"region",value:"764"},to:{field:"region",value:"th"}},{from:{field:"region",value:"762"},to:{field:"region",value:"tj"}},{from:{field:"region",value:"772"},to:{field:"region",value:"tk"}},{from:{field:"region",value:"626"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"795"},to:{field:"region",value:"tm"}},{from:{field:"region",value:"788"},to:{field:"region",value:"tn"}},{from:{field:"region",value:"776"},to:{field:"region",value:"to"}},{from:{field:"region",value:"792"},to:{field:"region",value:"tr"}},{from:{field:"region",value:"780"},to:{field:"region",value:"tt"}},{from:{field:"region",value:"798"},to:{field:"region",value:"tv"}},{from:{field:"region",value:"158"},to:{field:"region",value:"tw"}},{from:{field:"region",value:"834"},to:{field:"region",value:"tz"}},{from:{field:"region",value:"804"},to:{field:"region",value:"ua"}},{from:{field:"region",value:"800"},to:{field:"region",value:"ug"}},{from:{field:"region",value:"581"},to:{field:"region",value:"um"}},{from:{field:"region",value:"840"},to:{field:"region",value:"us"}},{from:{field:"region",value:"858"},to:{field:"region",value:"uy"}},{from:{field:"region",value:"860"},to:{field:"region",value:"uz"}},{from:{field:"region",value:"336"},to:{field:"region",value:"va"}},{from:{field:"region",value:"670"},to:{field:"region",value:"vc"}},{from:{field:"region",value:"862"},to:{field:"region",value:"ve"}},{from:{field:"region",value:"092"},to:{field:"region",value:"vg"}},{from:{field:"region",value:"850"},to:{field:"region",value:"vi"}},{from:{field:"region",value:"704"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"548"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"876"},to:{field:"region",value:"wf"}},{from:{field:"region",value:"882"},to:{field:"region",value:"ws"}},{from:{field:"region",value:"973"},to:{field:"region",value:"xa"}},{from:{field:"region",value:"974"},to:{field:"region",value:"xb"}},{from:{field:"region",value:"975"},to:{field:"region",value:"xc"}},{from:{field:"region",value:"976"},to:{field:"region",value:"xd"}},{from:{field:"region",value:"977"},to:{field:"region",value:"xe"}},{from:{field:"region",value:"978"},to:{field:"region",value:"xf"}},{from:{field:"region",value:"979"},to:{field:"region",value:"xg"}},{from:{field:"region",value:"980"},to:{field:"region",value:"xh"}},{from:{field:"region",value:"981"},to:{field:"region",value:"xi"}},{from:{field:"region",value:"982"},to:{field:"region",value:"xj"}},{from:{field:"region",value:"983"},to:{field:"region",value:"xk"}},{from:{field:"region",value:"984"},to:{field:"region",value:"xl"}},{from:{field:"region",value:"985"},to:{field:"region",value:"xm"}},{from:{field:"region",value:"986"},to:{field:"region",value:"xn"}},{from:{field:"region",value:"987"},to:{field:"region",value:"xo"}},{from:{field:"region",value:"988"},to:{field:"region",value:"xp"}},{from:{field:"region",value:"989"},to:{field:"region",value:"xq"}},{from:{field:"region",value:"990"},to:{field:"region",value:"xr"}},{from:{field:"region",value:"991"},to:{field:"region",value:"xs"}},{from:{field:"region",value:"992"},to:{field:"region",value:"xt"}},{from:{field:"region",value:"993"},to:{field:"region",value:"xu"}},{from:{field:"region",value:"994"},to:{field:"region",value:"xv"}},{from:{field:"region",value:"995"},to:{field:"region",value:"xw"}},{from:{field:"region",value:"996"},to:{field:"region",value:"xx"}},{from:{field:"region",value:"997"},to:{field:"region",value:"xy"}},{from:{field:"region",value:"998"},to:{field:"region",value:"xz"}},{from:{field:"region",value:"720"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"887"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"175"},to:{field:"region",value:"yt"}},{from:{field:"region",value:"710"},to:{field:"region",value:"za"}},{from:{field:"region",value:"894"},to:{field:"region",value:"zm"}},{from:{field:"region",value:"716"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"999"},to:{field:"region",value:"zz"}},{from:{field:"variants",value:"polytoni"},to:{field:"variants",value:"polyton"}},{from:{field:"variants",value:"heploc"},to:{field:"variants",value:"alalc97"}}],io={region:{172:["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],200:["cz","sk"],530:["cw","sx","bq"],532:["cw","sx","bq"],536:["sa","iq"],582:["fm","mh","mp","pw"],810:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],830:["je","gg"],890:["rs","me","si","hr","mk","ba"],891:["rs","me"],an:["cw","sx","bq"],cs:["rs","me"],fq:["aq","tf"],nt:["sa","iq"],pc:["fm","mh","mp","pw"],su:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yu:["rs","me"],"062":["034","143"],ant:["cw","sx","bq"],scg:["rs","me"],ntz:["sa","iq"],sun:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yug:["rs","me"]}},pi={aa:"aa-latn-et",aaa:"aaa-latn-ng",aab:"aab-latn-ng",aac:"aac-latn-pg",aad:"aad-latn-pg",aae:"aae-latn-it","aae-grek":"aae-grek-it",aaf:"aaf-mlym-in","aaf-arab":"aaf-arab-in",aag:"aag-latn-pg",aah:"aah-latn-pg",aai:"aai-latn-zz",aak:"aak-latn-zz",aal:"aal-latn-cm",aan:"aan-latn-br",aao:"aao-arab-dz",aap:"aap-latn-br",aaq:"aaq-latn-us",aas:"aas-latn-tz",aat:"aat-grek-gr",aau:"aau-latn-zz",aaw:"aaw-latn-pg",aax:"aax-latn-id",aaz:"aaz-latn-id",ab:"ab-cyrl-ge",aba:"aba-latn-ci",abb:"abb-latn-cm",abc:"abc-latn-ph",abd:"abd-latn-ph",abe:"abe-latn-ca",abf:"abf-latn-my",abg:"abg-latn-pg",abh:"abh-arab-tj",abi:"abi-latn-zz",abl:"abl-rjng-id","abl-latn":"abl-latn-id",abm:"abm-latn-ng",abn:"abn-latn-ng",abo:"abo-latn-ng",abp:"abp-latn-ph",abq:"abq-cyrl-zz",abr:"abr-latn-gh",abs:"abs-latn-id",abt:"abt-latn-zz",abu:"abu-latn-ci",abv:"abv-arab-bh",abw:"abw-latn-pg",abx:"abx-latn-ph",aby:"aby-latn-zz",abz:"abz-latn-id",aca:"aca-latn-co",acb:"acb-latn-ng",acd:"acd-latn-zz",ace:"ace-latn-id",acf:"acf-latn-lc",ach:"ach-latn-ug",acm:"acm-arab-iq",acn:"acn-latn-cn",acp:"acp-latn-ng",acq:"acq-arab-ye",acr:"acr-latn-gt",acs:"acs-latn-br",act:"act-latn-nl",acu:"acu-latn-ec",acv:"acv-latn-us",acw:"acw-arab-sa",acx:"acx-arab-om",acy:"acy-latn-cy","acy-arab":"acy-arab-cy","acy-grek":"acy-grek-cy",acz:"acz-latn-sd",ada:"ada-latn-gh",adb:"adb-latn-tl",add:"add-latn-cm",ade:"ade-latn-zz",adf:"adf-arab-om",adg:"adg-latn-au",adh:"adh-latn-ug",adi:"adi-latn-in","adi-tibt":"adi-tibt-cn",adj:"adj-latn-zz",adl:"adl-latn-in",adn:"adn-latn-id",ado:"ado-latn-pg",adp:"adp-tibt-bt",adq:"adq-latn-gh",adr:"adr-latn-id",adt:"adt-latn-au",adu:"adu-latn-ng",adw:"adw-latn-br",adx:"adx-tibt-cn",ady:"ady-cyrl-ru",adz:"adz-latn-zz",ae:"ae-avst-ir",aea:"aea-latn-au",aeb:"aeb-arab-tn",aec:"aec-arab-eg",aee:"aee-arab-af",aek:"aek-latn-nc",ael:"ael-latn-cm",aem:"aem-latn-vn",aeq:"aeq-arab-pk",aer:"aer-latn-au",aeu:"aeu-latn-cn",aew:"aew-latn-pg",aey:"aey-latn-zz",aez:"aez-latn-pg",af:"af-latn-za",afb:"afb-arab-kw",afd:"afd-latn-pg",afe:"afe-latn-ng",afh:"afh-latn-gh",afi:"afi-latn-pg",afk:"afk-latn-pg",afn:"afn-latn-ng",afo:"afo-latn-ng",afp:"afp-latn-pg",afs:"afs-latn-mx",afu:"afu-latn-gh",afz:"afz-latn-id",aga:"aga-latn-pe",agb:"agb-latn-ng",agc:"agc-latn-zz",agd:"agd-latn-zz",age:"age-latn-pg",agf:"agf-latn-id",agg:"agg-latn-zz",agh:"agh-latn-cd",agi:"agi-deva-in",agj:"agj-ethi-et","agj-arab":"agj-arab-et",agk:"agk-latn-ph",agl:"agl-latn-pg",agm:"agm-latn-zz",agn:"agn-latn-ph",ago:"ago-latn-zz",agq:"agq-latn-cm",agr:"agr-latn-pe",ags:"ags-latn-cm",agt:"agt-latn-ph",agu:"agu-latn-gt",agv:"agv-latn-ph",agw:"agw-latn-sb",agx:"agx-cyrl-ru",agy:"agy-latn-ph",agz:"agz-latn-ph",aha:"aha-latn-zz",ahb:"ahb-latn-vu",ahg:"ahg-ethi-et",ahh:"ahh-latn-id",ahi:"ahi-latn-ci",ahk:"ahk-latn-mm","ahk-mymr":"ahk-mymr-mm","ahk-th":"ahk-latn-th","ahk-thai":"ahk-thai-th",ahl:"ahl-latn-zz",ahm:"ahm-latn-ci",ahn:"ahn-latn-ng",aho:"aho-ahom-in",ahp:"ahp-latn-ci",ahr:"ahr-deva-in",ahs:"ahs-latn-ng",aht:"aht-latn-us",aia:"aia-latn-sb",aib:"aib-arab-cn",aic:"aic-latn-pg",aid:"aid-latn-au",aie:"aie-latn-pg",aif:"aif-latn-pg",aig:"aig-latn-ag",aij:"aij-hebr-il",aik:"aik-latn-ng",ail:"ail-latn-pg",aim:"aim-latn-in",ain:"ain-kana-jp","ain-latn":"ain-latn-jp",aio:"aio-mymr-in",aip:"aip-latn-id",aiq:"aiq-arab-af",air:"air-latn-id",ait:"ait-latn-br",aiw:"aiw-latn-et","aiw-arab":"aiw-arab-et","aiw-ethi":"aiw-ethi-et",aix:"aix-latn-pg",aiy:"aiy-latn-cf",aja:"aja-latn-ss",ajg:"ajg-latn-zz",aji:"aji-latn-nc",ajn:"ajn-latn-au",ajp:"ajp-arab-jo",ajt:"ajt-arab-tn",ajw:"ajw-latn-ng",ajz:"ajz-latn-in",ak:"ak-latn-gh",akb:"akb-latn-id","akb-batk":"akb-batk-id",akc:"akc-latn-id",akd:"akd-latn-ng",ake:"ake-latn-gy",akf:"akf-latn-ng",akg:"akg-latn-id",akh:"akh-latn-pg",aki:"aki-latn-pg",akk:"akk-xsux-iq",akl:"akl-latn-ph",ako:"ako-latn-sr",akp:"akp-latn-gh",akq:"akq-latn-pg",akr:"akr-latn-vu",aks:"aks-latn-tg",akt:"akt-latn-pg",aku:"aku-latn-cm",akv:"akv-cyrl-ru",akw:"akw-latn-cg",akz:"akz-latn-us",ala:"ala-latn-zz",alc:"alc-latn-cl",ald:"ald-latn-ci",ale:"ale-latn-us",alf:"alf-latn-ng",alh:"alh-latn-au",ali:"ali-latn-zz",alj:"alj-latn-ph",alk:"alk-laoo-la",all:"all-mlym-in",alm:"alm-latn-vu",aln:"aln-latn-xk",alo:"alo-latn-id",alp:"alp-latn-id",alq:"alq-latn-ca",alr:"alr-cyrl-ru",alt:"alt-cyrl-ru",alu:"alu-latn-sb",alw:"alw-ethi-et",alx:"alx-latn-pg",aly:"aly-latn-au",alz:"alz-latn-cd",am:"am-ethi-et",ama:"ama-latn-br",amb:"amb-latn-ng",amc:"amc-latn-pe",ame:"ame-latn-pe",amf:"amf-latn-et","amf-ethi":"amf-ethi-et",amg:"amg-latn-au",ami:"ami-latn-tw",amj:"amj-latn-td",amk:"amk-latn-id",amm:"amm-latn-zz",amn:"amn-latn-zz",amo:"amo-latn-ng",amp:"amp-latn-zz",amq:"amq-latn-id",amr:"amr-latn-pe",ams:"ams-jpan-jp",amt:"amt-latn-pg",amu:"amu-latn-mx",amv:"amv-latn-id",amw:"amw-syrc-sy","amw-arab":"amw-arab-sy","amw-armi":"amw-armi-sy","amw-latn":"amw-latn-sy",amx:"amx-latn-au",amy:"amy-latn-au",amz:"amz-latn-au",an:"an-latn-es",ana:"ana-latn-co",anb:"anb-latn-pe",anc:"anc-latn-zz",and:"and-latn-id",ane:"ane-latn-nc",anf:"anf-latn-gh",ang:"ang-latn-gb",anh:"anh-latn-pg",ani:"ani-cyrl-ru",anj:"anj-latn-pg",ank:"ank-latn-zz",anl:"anl-latn-mm",anm:"anm-latn-in",ann:"ann-latn-ng",ano:"ano-latn-co",anp:"anp-deva-in",anr:"anr-deva-in",ans:"ans-latn-co",ant:"ant-latn-au",anu:"anu-ethi-et","anu-arab":"anu-arab-ss","anu-latn":"anu-latn-ss",anv:"anv-latn-cm",anw:"anw-latn-ng",anx:"anx-latn-pg",any:"any-latn-zz",anz:"anz-latn-pg",aoa:"aoa-latn-st",aob:"aob-latn-pg",aoc:"aoc-latn-ve",aod:"aod-latn-pg",aoe:"aoe-latn-pg",aof:"aof-latn-pg",aog:"aog-latn-pg",aoi:"aoi-latn-au",aoj:"aoj-latn-zz",aok:"aok-latn-nc",aol:"aol-latn-id",aom:"aom-latn-zz",aon:"aon-latn-pg",aor:"aor-latn-vu",aos:"aos-latn-id",aot:"aot-beng-bd","aot-latn":"aot-latn-in",aox:"aox-latn-gy",aoz:"aoz-latn-id",apb:"apb-latn-sb",apc:"apc-arab-sy",apd:"apd-arab-tg",ape:"ape-latn-zz",apf:"apf-latn-ph",apg:"apg-latn-id",aph:"aph-deva-np",api:"api-latn-br",apj:"apj-latn-us",apk:"apk-latn-us",apl:"apl-latn-us",apm:"apm-latn-us",apn:"apn-latn-br",apo:"apo-latn-pg",app:"app-latn-vu",apr:"apr-latn-zz",aps:"aps-latn-zz",apt:"apt-latn-in",apu:"apu-latn-br",apv:"apv-latn-br",apw:"apw-latn-us",apx:"apx-latn-id",apy:"apy-latn-br",apz:"apz-latn-zz",aqc:"aqc-cyrl-ru",aqd:"aqd-latn-ml",aqg:"aqg-latn-ng",aqk:"aqk-latn-ng",aqm:"aqm-latn-id",aqn:"aqn-latn-ph",aqr:"aqr-latn-nc",aqt:"aqt-latn-py",aqz:"aqz-latn-br",ar:"ar-arab-eg",arc:"arc-armi-ir","arc-nbat":"arc-nbat-jo","arc-palm":"arc-palm-sy",ard:"ard-latn-au",are:"are-latn-au",arh:"arh-latn-zz",ari:"ari-latn-us",arj:"arj-latn-br",ark:"ark-latn-br",arl:"arl-latn-pe",arn:"arn-latn-cl",aro:"aro-latn-bo",arp:"arp-latn-us",arq:"arq-arab-dz",arr:"arr-latn-br",ars:"ars-arab-sa",aru:"aru-latn-br",arw:"arw-latn-sr",arx:"arx-latn-br",ary:"ary-arab-ma",arz:"arz-arab-eg",as:"as-beng-in",asa:"asa-latn-tz",asb:"asb-latn-ca",asc:"asc-latn-id",ase:"ase-sgnw-us",asg:"asg-latn-zz",ash:"ash-latn-pe",asi:"asi-latn-id",asj:"asj-latn-cm",ask:"ask-arab-af",asl:"asl-latn-id",asn:"asn-latn-br",aso:"aso-latn-zz",ass:"ass-latn-cm",ast:"ast-latn-es",asu:"asu-latn-br",asv:"asv-latn-cd",asx:"asx-latn-pg",asy:"asy-latn-id",asz:"asz-latn-id",ata:"ata-latn-zz",atb:"atb-latn-cn","atb-lisu":"atb-lisu-cn",atc:"atc-latn-pe",atd:"atd-latn-ph",ate:"ate-latn-pg",atg:"atg-latn-zz",ati:"ati-latn-ci",atj:"atj-latn-ca",atk:"atk-latn-ph",atl:"atl-latn-ph",atm:"atm-latn-ph",atn:"atn-arab-ir",ato:"ato-latn-cm",atp:"atp-latn-ph",atq:"atq-latn-id",atr:"atr-latn-br",ats:"ats-latn-us",att:"att-latn-ph",atu:"atu-latn-ss",atv:"atv-cyrl-ru",atw:"atw-latn-us",atx:"atx-latn-br",aty:"aty-latn-vu",atz:"atz-latn-ph",aua:"aua-latn-sb",auc:"auc-latn-ec",aud:"aud-latn-sb",aug:"aug-latn-bj",auh:"auh-latn-zm",aui:"aui-latn-pg",auj:"auj-arab-ly","auj-latn":"auj-latn-ly","auj-tfng":"auj-tfng-ly",auk:"auk-latn-pg",aul:"aul-latn-vu",aum:"aum-latn-ng",aun:"aun-latn-pg",auo:"auo-latn-ng",aup:"aup-latn-pg",auq:"auq-latn-id",aur:"aur-latn-pg",aut:"aut-latn-pf",auu:"auu-latn-id",auw:"auw-latn-id",auy:"auy-latn-zz",auz:"auz-arab-uz",av:"av-cyrl-ru",avb:"avb-latn-pg",avd:"avd-arab-ir",avi:"avi-latn-ci",avk:"avk-latn-001",avl:"avl-arab-zz",avm:"avm-latn-au",avn:"avn-latn-zz",avo:"avo-latn-br",avs:"avs-latn-pe",avt:"avt-latn-zz",avu:"avu-latn-zz",avv:"avv-latn-br",awa:"awa-deva-in",awb:"awb-latn-zz",awc:"awc-latn-ng",awe:"awe-latn-br",awg:"awg-latn-au",awh:"awh-latn-id",awi:"awi-latn-pg",awk:"awk-latn-au",awm:"awm-latn-pg",awn:"awn-ethi-et",awo:"awo-latn-zz",awr:"awr-latn-id",aws:"aws-latn-id",awt:"awt-latn-br",awu:"awu-latn-id",awv:"awv-latn-id",aww:"aww-latn-pg",awx:"awx-latn-zz",awy:"awy-latn-id",axb:"axb-latn-ar",axe:"axe-latn-au",axg:"axg-latn-br",axk:"axk-latn-cf",axl:"axl-latn-au",axm:"axm-armn-am",axx:"axx-latn-nc",ay:"ay-latn-bo",aya:"aya-latn-pg",ayb:"ayb-latn-zz",ayc:"ayc-latn-pe",ayd:"ayd-latn-au",aye:"aye-latn-ng",ayg:"ayg-latn-tg",ayh:"ayh-arab-ye",ayi:"ayi-latn-ng",ayk:"ayk-latn-ng",ayl:"ayl-arab-ly",ayn:"ayn-arab-ye",ayo:"ayo-latn-py",ayp:"ayp-arab-iq",ayq:"ayq-latn-pg",ays:"ays-latn-ph",ayt:"ayt-latn-ph",ayu:"ayu-latn-ng",ayz:"ayz-latn-id",az:"az-latn-az","az-arab":"az-arab-ir","az-iq":"az-arab-iq","az-ir":"az-arab-ir","az-ru":"az-cyrl-ru",azb:"azb-arab-ir","azb-cyrl":"azb-cyrl-az","azb-latn":"azb-latn-az",azd:"azd-latn-mx",azg:"azg-latn-mx",azm:"azm-latn-mx",azn:"azn-latn-mx",azo:"azo-latn-cm",azt:"azt-latn-ph",azz:"azz-latn-mx",ba:"ba-cyrl-ru",baa:"baa-latn-sb",bab:"bab-latn-gw",bac:"bac-latn-id",bae:"bae-latn-ve",baf:"baf-latn-cm",bag:"bag-latn-cm",bah:"bah-latn-bs",baj:"baj-latn-id",bal:"bal-arab-pk",ban:"ban-latn-id",bao:"bao-latn-co",bap:"bap-deva-np",bar:"bar-latn-at",bas:"bas-latn-cm",bau:"bau-latn-ng",bav:"bav-latn-zz",baw:"baw-latn-cm",bax:"bax-bamu-cm",bay:"bay-latn-id",bba:"bba-latn-zz",bbb:"bbb-latn-zz",bbc:"bbc-latn-id",bbd:"bbd-latn-zz",bbe:"bbe-latn-cd",bbf:"bbf-latn-pg",bbg:"bbg-latn-ga",bbi:"bbi-latn-cm",bbj:"bbj-latn-cm",bbk:"bbk-latn-cm",bbl:"bbl-geor-ge",bbm:"bbm-latn-cd",bbn:"bbn-latn-pg",bbo:"bbo-latn-bf",bbp:"bbp-latn-zz",bbq:"bbq-latn-cm",bbr:"bbr-latn-zz",bbs:"bbs-latn-ng",bbt:"bbt-latn-ng",bbu:"bbu-latn-ng",bbv:"bbv-latn-pg",bbw:"bbw-latn-cm",bbx:"bbx-latn-cm",bby:"bby-latn-cm",bca:"bca-latn-cn","bca-hani":"bca-hani-cn",bcb:"bcb-latn-sn",bcd:"bcd-latn-id",bce:"bce-latn-cm",bcf:"bcf-latn-zz",bcg:"bcg-latn-gn",bch:"bch-latn-zz",bci:"bci-latn-ci",bcj:"bcj-latn-au",bck:"bck-latn-au",bcm:"bcm-latn-zz",bcn:"bcn-latn-zz",bco:"bco-latn-zz",bcp:"bcp-latn-cd",bcq:"bcq-ethi-zz",bcr:"bcr-latn-ca",bcs:"bcs-latn-ng",bct:"bct-latn-cd",bcu:"bcu-latn-zz",bcv:"bcv-latn-ng",bcw:"bcw-latn-cm",bcy:"bcy-latn-ng",bcz:"bcz-latn-sn",bda:"bda-latn-sn",bdb:"bdb-latn-id",bdc:"bdc-latn-co",bdd:"bdd-latn-zz",bde:"bde-latn-ng",bdf:"bdf-latn-pg",bdg:"bdg-latn-my",bdh:"bdh-latn-ss",bdi:"bdi-latn-sd",bdj:"bdj-latn-ss",bdk:"bdk-latn-az",bdl:"bdl-latn-id",bdm:"bdm-latn-td",bdn:"bdn-latn-cm",bdo:"bdo-latn-td",bdp:"bdp-latn-tz",bdq:"bdq-latn-vn",bdr:"bdr-latn-my",bds:"bds-latn-tz",bdt:"bdt-latn-cf",bdu:"bdu-latn-cm",bdv:"bdv-orya-in",bdw:"bdw-latn-id",bdx:"bdx-latn-id",bdy:"bdy-latn-au",bdz:"bdz-arab-pk",be:"be-cyrl-by",bea:"bea-latn-ca","bea-cans":"bea-cans-ca",beb:"beb-latn-cm",bec:"bec-latn-cm",bed:"bed-latn-id",bee:"bee-deva-in",bef:"bef-latn-zz",beh:"beh-latn-zz",bei:"bei-latn-id",bej:"bej-arab-sd",bek:"bek-latn-pg",bem:"bem-latn-zm",beo:"beo-latn-pg",bep:"bep-latn-id",beq:"beq-latn-cg",bes:"bes-latn-td",bet:"bet-latn-zz",beu:"beu-latn-id",bev:"bev-latn-ci",bew:"bew-latn-id",bex:"bex-latn-zz",bey:"bey-latn-pg",bez:"bez-latn-tz",bfa:"bfa-latn-ss","bfa-arab":"bfa-arab-ss",bfb:"bfb-deva-in",bfc:"bfc-latn-cn",bfd:"bfd-latn-cm",bfe:"bfe-latn-id",bff:"bff-latn-cf",bfg:"bfg-latn-id",bfh:"bfh-latn-pg",bfj:"bfj-latn-cm",bfl:"bfl-latn-cf",bfm:"bfm-latn-cm",bfn:"bfn-latn-tl",bfo:"bfo-latn-bf",bfp:"bfp-latn-cm",bfq:"bfq-taml-in",bfs:"bfs-latn-cn","bfs-hani":"bfs-hani-cn",bft:"bft-arab-pk",bfu:"bfu-tibt-in","bfu-takr":"bfu-takr-in",bfw:"bfw-orya-in",bfx:"bfx-latn-ph",bfy:"bfy-deva-in",bfz:"bfz-deva-in",bg:"bg-cyrl-bg",bga:"bga-latn-ng",bgb:"bgb-latn-id",bgc:"bgc-deva-in",bgd:"bgd-deva-in",bgf:"bgf-latn-cm",bgg:"bgg-latn-in",bgi:"bgi-latn-ph",bgj:"bgj-latn-cm",bgn:"bgn-arab-pk",bgo:"bgo-latn-gn",bgp:"bgp-arab-pk",bgq:"bgq-deva-in",bgr:"bgr-latn-in",bgs:"bgs-latn-ph",bgt:"bgt-latn-sb",bgu:"bgu-latn-ng",bgv:"bgv-latn-id",bgw:"bgw-deva-in",bgx:"bgx-grek-tr",bgy:"bgy-latn-id",bgz:"bgz-latn-id",bha:"bha-deva-in",bhb:"bhb-deva-in",bhc:"bhc-latn-id",bhd:"bhd-deva-in","bhd-arab":"bhd-arab-in","bhd-takr":"bhd-takr-in",bhe:"bhe-arab-pk",bhf:"bhf-latn-pg",bhg:"bhg-latn-zz",bhh:"bhh-cyrl-il","bhh-hebr":"bhh-hebr-il","bhh-latn":"bhh-latn-il",bhi:"bhi-deva-in",bhj:"bhj-deva-np",bhl:"bhl-latn-zz",bhm:"bhm-arab-om",bhn:"bhn-syrc-ge",bho:"bho-deva-in",bhp:"bhp-latn-id",bhq:"bhq-latn-id",bhr:"bhr-latn-mg",bhs:"bhs-latn-cm",bht:"bht-takr-in","bht-deva":"bht-deva-in","bht-latn":"bht-latn-in",bhu:"bhu-deva-in",bhv:"bhv-latn-id",bhw:"bhw-latn-id",bhy:"bhy-latn-zz",bhz:"bhz-latn-id",bi:"bi-latn-vu",bia:"bia-latn-au",bib:"bib-latn-zz",bid:"bid-latn-td",bie:"bie-latn-pg",bif:"bif-latn-gw",big:"big-latn-zz",bik:"bik-latn-ph",bil:"bil-latn-ng",bim:"bim-latn-zz",bin:"bin-latn-ng",bio:"bio-latn-zz",bip:"bip-latn-cd",biq:"biq-latn-zz",bir:"bir-latn-pg",bit:"bit-latn-pg",biu:"biu-latn-in",biv:"biv-latn-gh",biw:"biw-latn-cm",biy:"biy-deva-in",biz:"biz-latn-cd",bja:"bja-latn-cd",bjb:"bjb-latn-au",bjc:"bjc-latn-pg",bjf:"bjf-syrc-il",bjg:"bjg-latn-gw",bjh:"bjh-latn-zz",bji:"bji-ethi-zz",bjj:"bjj-deva-in",bjk:"bjk-latn-pg",bjl:"bjl-latn-pg",bjm:"bjm-arab-iq",bjn:"bjn-latn-id",bjo:"bjo-latn-zz",bjp:"bjp-latn-pg",bjr:"bjr-latn-zz",bjs:"bjs-latn-bb",bjt:"bjt-latn-sn",bju:"bju-latn-cm",bjv:"bjv-latn-td",bjw:"bjw-latn-ci",bjx:"bjx-latn-ph",bjy:"bjy-latn-au",bjz:"bjz-latn-zz",bka:"bka-latn-ng",bkc:"bkc-latn-zz",bkd:"bkd-latn-ph",bkf:"bkf-latn-cd",bkg:"bkg-latn-cf",bkh:"bkh-latn-cm",bki:"bki-latn-vu",bkj:"bkj-latn-cf",bkl:"bkl-latn-id",bkm:"bkm-latn-cm",bkn:"bkn-latn-id",bko:"bko-latn-cm",bkp:"bkp-latn-cd",bkq:"bkq-latn-zz",bkr:"bkr-latn-id",bks:"bks-latn-ph",bkt:"bkt-latn-cd",bku:"bku-latn-ph",bkv:"bkv-latn-zz",bkw:"bkw-latn-cg",bkx:"bkx-latn-tl",bky:"bky-latn-ng",bkz:"bkz-latn-id",bla:"bla-latn-ca",blb:"blb-latn-sb",blc:"blc-latn-ca",bld:"bld-latn-id",ble:"ble-latn-gw",blf:"blf-latn-id",blg:"blg-latn-my",blh:"blh-latn-lr",bli:"bli-latn-cd",blj:"blj-latn-id",blk:"blk-mymr-mm",blm:"blm-latn-ss",bln:"bln-latn-ph",blo:"blo-latn-bj",blp:"blp-latn-sb",blq:"blq-latn-pg",blr:"blr-latn-cn","blr-tale":"blr-tale-cn","blr-thai":"blr-thai-th",bls:"bls-latn-id",blt:"blt-tavt-vn",blv:"blv-latn-ao",blw:"blw-latn-ph",blx:"blx-latn-ph",bly:"bly-latn-bj",blz:"blz-latn-id",bm:"bm-latn-ml",bma:"bma-latn-ng",bmb:"bmb-latn-cd",bmc:"bmc-latn-pg",bmd:"bmd-latn-gn",bme:"bme-latn-cf",bmf:"bmf-latn-sl",bmg:"bmg-latn-cd",bmh:"bmh-latn-zz",bmi:"bmi-latn-td",bmj:"bmj-deva-np",bmk:"bmk-latn-zz",bml:"bml-latn-cd",bmm:"bmm-latn-mg",bmn:"bmn-latn-pg",bmo:"bmo-latn-cm",bmp:"bmp-latn-pg",bmq:"bmq-latn-ml",bmr:"bmr-latn-co",bms:"bms-latn-ne",bmu:"bmu-latn-zz",bmv:"bmv-latn-cm",bmw:"bmw-latn-cg",bmx:"bmx-latn-pg",bmz:"bmz-latn-pg",bn:"bn-beng-bd",bna:"bna-latn-id",bnb:"bnb-latn-my",bnc:"bnc-latn-ph",bnd:"bnd-latn-id",bne:"bne-latn-id",bnf:"bnf-latn-id",bng:"bng-latn-zz",bni:"bni-latn-cd",bnj:"bnj-latn-ph",bnk:"bnk-latn-vu",bnm:"bnm-latn-zz",bnn:"bnn-latn-tw",bno:"bno-latn-ph",bnp:"bnp-latn-zz",bnq:"bnq-latn-id",bnr:"bnr-latn-vu",bns:"bns-deva-in",bnu:"bnu-latn-id",bnv:"bnv-latn-id",bnw:"bnw-latn-pg",bnx:"bnx-latn-cd",bny:"bny-latn-my",bnz:"bnz-latn-cm",bo:"bo-tibt-cn",boa:"boa-latn-pe",bob:"bob-latn-ke",boe:"boe-latn-cm",bof:"bof-latn-bf",boh:"boh-latn-cd",boj:"boj-latn-zz",bok:"bok-latn-cg",bol:"bol-latn-ng",bom:"bom-latn-zz",bon:"bon-latn-zz",boo:"boo-latn-ml",bop:"bop-latn-pg",boq:"boq-latn-pg",bor:"bor-latn-br",bot:"bot-latn-ss",bou:"bou-latn-tz",bov:"bov-latn-gh",bow:"bow-latn-pg",box:"box-latn-bf",boy:"boy-latn-cf",boz:"boz-latn-ml","boz-arab":"boz-arab-ml",bpa:"bpa-latn-vu",bpc:"bpc-latn-cm",bpd:"bpd-latn-cf",bpe:"bpe-latn-pg",bpg:"bpg-latn-id",bph:"bph-cyrl-ru",bpi:"bpi-latn-pg",bpj:"bpj-latn-cd",bpk:"bpk-latn-nc",bpl:"bpl-latn-au",bpm:"bpm-latn-pg",bpo:"bpo-latn-id",bpp:"bpp-latn-id",bpq:"bpq-latn-id",bpr:"bpr-latn-ph",bps:"bps-latn-ph",bpt:"bpt-latn-au",bpu:"bpu-latn-pg",bpv:"bpv-latn-id",bpw:"bpw-latn-pg",bpx:"bpx-deva-in",bpy:"bpy-beng-in",bpz:"bpz-latn-id",bqa:"bqa-latn-bj",bqb:"bqb-latn-id",bqc:"bqc-latn-zz",bqd:"bqd-latn-cm",bqf:"bqf-latn-gn","bqf-arab":"bqf-arab-gn",bqg:"bqg-latn-tg",bqi:"bqi-arab-ir",bqj:"bqj-latn-sn",bqk:"bqk-latn-cf",bql:"bql-latn-pg",bqm:"bqm-latn-cm",bqo:"bqo-latn-cm",bqp:"bqp-latn-zz",bqq:"bqq-latn-id",bqr:"bqr-latn-id",bqs:"bqs-latn-pg",bqt:"bqt-latn-cm",bqu:"bqu-latn-cd",bqv:"bqv-latn-ci",bqw:"bqw-latn-ng",bqx:"bqx-latn-ng",bqz:"bqz-latn-cm",br:"br-latn-fr",bra:"bra-deva-in",brb:"brb-khmr-kh","brb-laoo":"brb-laoo-la","brb-latn":"brb-latn-vn",brc:"brc-latn-gy",brd:"brd-deva-np",brf:"brf-latn-cd",brg:"brg-latn-bo",brh:"brh-arab-pk",bri:"bri-latn-cm",brj:"brj-latn-vu",brk:"brk-arab-sd",brl:"brl-latn-bw",brm:"brm-latn-cd",brn:"brn-latn-cr",brp:"brp-latn-id",brq:"brq-latn-pg",brr:"brr-latn-sb",brs:"brs-latn-id",brt:"brt-latn-ng",bru:"bru-latn-vn","bru-laoo":"bru-laoo-la","bru-thai":"bru-thai-la",brv:"brv-laoo-la",brx:"brx-deva-in",bry:"bry-latn-pg",brz:"brz-latn-zz",bs:"bs-latn-ba",bsa:"bsa-latn-id",bsb:"bsb-latn-bn",bsc:"bsc-latn-sn",bse:"bse-latn-cm",bsf:"bsf-latn-ng",bsh:"bsh-arab-af",bsi:"bsi-latn-cm",bsj:"bsj-latn-zz",bsk:"bsk-arab-pk","bsk-latn":"bsk-latn-pk",bsl:"bsl-latn-ng",bsm:"bsm-latn-id",bsn:"bsn-latn-co",bso:"bso-latn-td",bsp:"bsp-latn-gn",bsq:"bsq-bass-lr",bsr:"bsr-latn-ng",bss:"bss-latn-cm",bst:"bst-ethi-zz",bsu:"bsu-latn-id",bsv:"bsv-latn-gn","bsv-arab":"bsv-arab-gn",bsw:"bsw-latn-et","bsw-ethi":"bsw-ethi-et",bsx:"bsx-latn-ng",bsy:"bsy-latn-my",bta:"bta-latn-ng",btc:"btc-latn-cm",btd:"btd-batk-id",bte:"bte-latn-ng",btf:"btf-latn-td",btg:"btg-latn-ci",bth:"bth-latn-my",bti:"bti-latn-id",btj:"btj-latn-id",btm:"btm-batk-id",btn:"btn-latn-ph",bto:"bto-latn-ph",btp:"btp-latn-pg",btq:"btq-latn-my",btr:"btr-latn-vu",bts:"bts-latn-id","bts-batk":"bts-batk-id",btt:"btt-latn-zz",btu:"btu-latn-ng",btv:"btv-deva-pk",btw:"btw-latn-ph",btx:"btx-latn-id","btx-batk":"btx-batk-id",bty:"bty-latn-id",btz:"btz-latn-id",bua:"bua-cyrl-ru",bub:"bub-latn-td",buc:"buc-latn-yt",bud:"bud-latn-zz",bue:"bue-latn-ca",buf:"buf-latn-cd",bug:"bug-latn-id",buh:"buh-latn-cn",bui:"bui-latn-cg",buj:"buj-latn-ng",buk:"buk-latn-zz",bum:"bum-latn-cm",bun:"bun-latn-sl",buo:"buo-latn-zz",bup:"bup-latn-id",buq:"buq-latn-pg",bus:"bus-latn-zz",but:"but-latn-pg",buu:"buu-latn-zz",buv:"buv-latn-pg",buw:"buw-latn-ga",bux:"bux-latn-ng",buy:"buy-latn-sl",buz:"buz-latn-ng",bva:"bva-latn-td",bvb:"bvb-latn-gq",bvc:"bvc-latn-sb",bvd:"bvd-latn-sb",bve:"bve-latn-id",bvf:"bvf-latn-td",bvg:"bvg-latn-cm",bvh:"bvh-latn-ng",bvi:"bvi-latn-ss",bvj:"bvj-latn-ng",bvk:"bvk-latn-id",bvm:"bvm-latn-cm",bvn:"bvn-latn-pg",bvo:"bvo-latn-td",bvq:"bvq-latn-cf",bvr:"bvr-latn-au",bvt:"bvt-latn-id",bvu:"bvu-latn-id",bvv:"bvv-latn-ve",bvw:"bvw-latn-ng",bvx:"bvx-latn-cg",bvy:"bvy-latn-ph",bvz:"bvz-latn-id",bwa:"bwa-latn-nc",bwb:"bwb-latn-fj",bwc:"bwc-latn-zm",bwd:"bwd-latn-zz",bwe:"bwe-mymr-mm","bwe-latn":"bwe-latn-mm",bwf:"bwf-latn-pg",bwg:"bwg-latn-mz",bwh:"bwh-latn-cm",bwi:"bwi-latn-ve",bwj:"bwj-latn-bf",bwk:"bwk-latn-pg",bwl:"bwl-latn-cd",bwm:"bwm-latn-pg",bwo:"bwo-latn-et","bwo-ethi":"bwo-ethi-et",bwp:"bwp-latn-id",bwq:"bwq-latn-bf",bwr:"bwr-latn-zz",bws:"bws-latn-cd",bwt:"bwt-latn-cm",bwu:"bwu-latn-gh",bww:"bww-latn-cd",bwx:"bwx-latn-cn",bwy:"bwy-latn-bf",bwz:"bwz-latn-cg",bxa:"bxa-latn-sb",bxb:"bxb-latn-ss",bxc:"bxc-latn-gq",bxf:"bxf-latn-pg",bxg:"bxg-latn-cd",bxh:"bxh-latn-zz",bxi:"bxi-latn-au",bxj:"bxj-latn-au",bxl:"bxl-latn-bf",bxm:"bxm-cyrl-mn","bxm-latn":"bxm-latn-mn","bxm-mong":"bxm-mong-mn",bxn:"bxn-latn-au",bxo:"bxo-latn-ng",bxp:"bxp-latn-cm",bxq:"bxq-latn-ng",bxs:"bxs-latn-cm",bxu:"bxu-mong-cn","bxu-cyrl":"bxu-cyrl-cn","bxu-latn":"bxu-latn-cn",bxv:"bxv-latn-td",bxw:"bxw-latn-ml",bxz:"bxz-latn-pg",bya:"bya-latn-ph",byb:"byb-latn-cm",byc:"byc-latn-ng",byd:"byd-latn-id",bye:"bye-latn-zz",byf:"byf-latn-ng",byh:"byh-deva-np",byi:"byi-latn-cd",byj:"byj-latn-ng",byk:"byk-latn-cn",byl:"byl-latn-id",bym:"bym-latn-au",byn:"byn-ethi-er",byp:"byp-latn-ng",byr:"byr-latn-zz",bys:"bys-latn-zz",byv:"byv-latn-cm",byw:"byw-deva-np",byx:"byx-latn-zz",byz:"byz-latn-pg",bza:"bza-latn-zz",bzb:"bzb-latn-id",bzc:"bzc-latn-mg",bzd:"bzd-latn-cr",bze:"bze-latn-ml",bzf:"bzf-latn-zz",bzh:"bzh-latn-zz",bzi:"bzi-thai-th",bzj:"bzj-latn-bz",bzk:"bzk-latn-ni",bzl:"bzl-latn-id",bzm:"bzm-latn-cd",bzn:"bzn-latn-id",bzo:"bzo-latn-cd",bzp:"bzp-latn-id",bzq:"bzq-latn-id",bzr:"bzr-latn-au",bzt:"bzt-latn-001",bzu:"bzu-latn-id",bzv:"bzv-latn-cm",bzw:"bzw-latn-zz",bzx:"bzx-latn-ml",bzy:"bzy-latn-ng",bzz:"bzz-latn-ng",ca:"ca-latn-es",caa:"caa-latn-gt",cab:"cab-latn-hn",cac:"cac-latn-gt",cad:"cad-latn-us",cae:"cae-latn-sn",caf:"caf-latn-ca","caf-cans":"caf-cans-ca",cag:"cag-latn-py",cah:"cah-latn-pe",caj:"caj-latn-ar",cak:"cak-latn-gt",cal:"cal-latn-mp",cam:"cam-latn-nc",can:"can-latn-zz",cao:"cao-latn-bo",cap:"cap-latn-bo",caq:"caq-latn-in",car:"car-latn-ve",cas:"cas-latn-bo",cav:"cav-latn-bo",caw:"caw-latn-bo",cax:"cax-latn-bo",cay:"cay-latn-ca",caz:"caz-latn-bo",cbb:"cbb-latn-co",cbc:"cbc-latn-co",cbd:"cbd-latn-co",cbg:"cbg-latn-co",cbi:"cbi-latn-ec",cbj:"cbj-latn-zz",cbk:"cbk-latn-ph","cbk-brai":"cbk-brai-ph",cbl:"cbl-latn-mm",cbn:"cbn-thai-th",cbo:"cbo-latn-ng",cbq:"cbq-latn-ng",cbr:"cbr-latn-pe",cbs:"cbs-latn-pe",cbt:"cbt-latn-pe",cbu:"cbu-latn-pe",cbv:"cbv-latn-co",cbw:"cbw-latn-ph",cby:"cby-latn-co",ccc:"ccc-latn-pe",ccd:"ccd-latn-br",cce:"cce-latn-mz",ccg:"ccg-latn-ng",cch:"cch-latn-ng",ccj:"ccj-latn-gw",ccl:"ccl-latn-tz",ccm:"ccm-latn-my",cco:"cco-latn-mx",ccp:"ccp-cakm-bd",ccr:"ccr-latn-sv",cde:"cde-telu-in",cdf:"cdf-latn-in","cdf-beng":"cdf-beng-in",cdh:"cdh-deva-in","cdh-takr":"cdh-takr-in",cdi:"cdi-gujr-in",cdj:"cdj-deva-in",cdm:"cdm-deva-np","cdm-latn":"cdm-latn-np",cdo:"cdo-hans-cn","cdo-hant":"cdo-hant-cn","cdo-latn":"cdo-latn-cn",cdr:"cdr-latn-ng",cdz:"cdz-beng-in",ce:"ce-cyrl-ru",cea:"cea-latn-us",ceb:"ceb-latn-ph",ceg:"ceg-latn-py",cek:"cek-latn-mm",cen:"cen-latn-ng",cet:"cet-latn-ng",cey:"cey-latn-mm",cfa:"cfa-latn-zz",cfd:"cfd-latn-ng",cfg:"cfg-latn-ng",cfm:"cfm-latn-mm","cfm-beng":"cfm-beng-in",cga:"cga-latn-pg",cgc:"cgc-latn-ph",cgg:"cgg-latn-ug",cgk:"cgk-tibt-bt",ch:"ch-latn-gu",chb:"chb-latn-co",chd:"chd-latn-mx",chf:"chf-latn-mx",chg:"chg-arab-tm",chh:"chh-latn-us",chj:"chj-latn-mx",chk:"chk-latn-fm",chl:"chl-latn-us",chm:"chm-cyrl-ru",chn:"chn-latn-us","chn-dupl":"chn-dupl-us",cho:"cho-latn-us",chp:"chp-latn-ca",chq:"chq-latn-mx",chr:"chr-cher-us",cht:"cht-latn-pe",chw:"chw-latn-mz",chx:"chx-deva-np",chy:"chy-latn-us",chz:"chz-latn-mx",cia:"cia-latn-id","cia-arab":"cia-arab-id","cia-hang":"cia-hang-id",cib:"cib-latn-bj",cic:"cic-latn-us",cie:"cie-latn-ng",cih:"cih-deva-in",cim:"cim-latn-it",cin:"cin-latn-br",cip:"cip-latn-mx",cir:"cir-latn-nc",ciw:"ciw-latn-us","ciw-cans":"ciw-cans-us",ciy:"ciy-latn-ve",cja:"cja-arab-kh",cje:"cje-latn-vn",cjh:"cjh-latn-us",cji:"cji-cyrl-ru",cjk:"cjk-latn-ao",cjm:"cjm-cham-vn",cjn:"cjn-latn-pg",cjo:"cjo-latn-pe",cjp:"cjp-latn-cr",cjs:"cjs-latn-ru","cjs-cyrl":"cjs-cyrl-ru",cjv:"cjv-latn-zz",cjy:"cjy-hans-cn","cjy-hant":"cjy-hant-cn",ckb:"ckb-arab-iq",ckl:"ckl-latn-zz",ckm:"ckm-latn-hr","ckm-glag":"ckm-glag-hr",ckn:"ckn-latn-mm",cko:"cko-latn-zz",ckq:"ckq-latn-td",ckr:"ckr-latn-pg",cks:"cks-latn-nc",ckt:"ckt-cyrl-ru",cku:"cku-latn-us",ckv:"ckv-latn-tw",ckx:"ckx-latn-cm",cky:"cky-latn-zz",ckz:"ckz-latn-gt",cla:"cla-latn-zz",clc:"clc-latn-ca",cle:"cle-latn-mx",clh:"clh-arab-pk",cli:"cli-latn-gh",clj:"clj-latn-mm",clk:"clk-latn-in","clk-tibt":"clk-tibt-cn",cll:"cll-latn-gh",clm:"clm-latn-us",clo:"clo-latn-mx",clt:"clt-latn-mm",clu:"clu-latn-ph",clw:"clw-cyrl-ru",cly:"cly-latn-mx",cma:"cma-latn-vn",cme:"cme-latn-zz",cmg:"cmg-soyo-mn",cmi:"cmi-latn-co",cml:"cml-latn-id",cmo:"cmo-latn-vn","cmo-kh":"cmo-latn-kh","cmo-khmr":"cmo-khmr-kh",cmr:"cmr-latn-mm",cms:"cms-latn-it",cmt:"cmt-latn-za",cna:"cna-tibt-in",cnb:"cnb-latn-mm",cnc:"cnc-latn-vn",cng:"cng-latn-cn",cnh:"cnh-latn-mm",cni:"cni-latn-pe",cnk:"cnk-latn-mm",cnl:"cnl-latn-mx",cnp:"cnp-hans-cn","cnp-hant":"cnp-hant-cn",cnq:"cnq-latn-cm",cns:"cns-latn-id",cnt:"cnt-latn-mx",cnw:"cnw-latn-mm",cnx:"cnx-latn-gb",co:"co-latn-fr",coa:"coa-latn-au",cob:"cob-latn-mx",coc:"coc-latn-mx",cod:"cod-latn-pe",coe:"coe-latn-co",cof:"cof-latn-ec",cog:"cog-thai-th",coh:"coh-latn-ke",coj:"coj-latn-mx",cok:"cok-latn-mx",col:"col-latn-us",com:"com-latn-us",coo:"coo-latn-ca",cop:"cop-copt-eg",coq:"coq-latn-us",cot:"cot-latn-pe",cou:"cou-latn-sn",cox:"cox-latn-pe",coz:"coz-latn-mx",cpa:"cpa-latn-mx",cpb:"cpb-latn-pe",cpc:"cpc-latn-pe",cpg:"cpg-grek-gr",cpi:"cpi-latn-nr",cpn:"cpn-latn-gh",cpo:"cpo-latn-bf",cps:"cps-latn-ph",cpu:"cpu-latn-pe",cpx:"cpx-latn-cn",cpy:"cpy-latn-pe",cqd:"cqd-latn-cn",cr:"cr-cans-ca",crb:"crb-latn-vc",crc:"crc-latn-vu",crd:"crd-latn-us",crf:"crf-latn-co",crg:"crg-latn-ca",crh:"crh-cyrl-ua",cri:"cri-latn-st",crj:"crj-cans-ca","crj-latn":"crj-latn-ca",crk:"crk-cans-ca",crl:"crl-cans-ca",crm:"crm-cans-ca",crn:"crn-latn-mx",cro:"cro-latn-us",crq:"crq-latn-ar",crs:"crs-latn-sc",crt:"crt-latn-ar",crv:"crv-latn-in",crw:"crw-latn-vn",crx:"crx-latn-ca","crx-cans":"crx-cans-ca",cry:"cry-latn-ng",crz:"crz-latn-us",cs:"cs-latn-cz",csa:"csa-latn-mx",csb:"csb-latn-pl",csh:"csh-mymr-mm","csh-latn":"csh-latn-mm",csj:"csj-latn-mm",csk:"csk-latn-sn",csm:"csm-latn-us",cso:"cso-latn-mx",csp:"csp-hans-cn","csp-hant":"csp-hant-cn",css:"css-latn-us",cst:"cst-latn-us",csv:"csv-latn-mm",csw:"csw-cans-ca",csy:"csy-latn-mm",csz:"csz-latn-us",cta:"cta-latn-mx",ctc:"ctc-latn-us",ctd:"ctd-pauc-mm",cte:"cte-latn-mx",ctg:"ctg-beng-bd","ctg-arab":"ctg-arab-bd","ctg-latn":"ctg-latn-bd",cth:"cth-latn-mm",ctl:"ctl-latn-mx",ctm:"ctm-latn-us",ctn:"ctn-deva-np",cto:"cto-latn-co",ctp:"ctp-latn-mx",cts:"cts-latn-ph",ctt:"ctt-taml-in",ctu:"ctu-latn-mx",ctz:"ctz-latn-mx",cu:"cu-cyrl-ru","cu-glag":"cu-glag-bg",cua:"cua-latn-vn",cub:"cub-latn-co",cuc:"cuc-latn-mx",cuh:"cuh-latn-ke",cui:"cui-latn-co",cuj:"cuj-latn-pe",cuk:"cuk-latn-pa",cul:"cul-latn-br",cuo:"cuo-latn-ve",cup:"cup-latn-us",cut:"cut-latn-mx",cuu:"cuu-lana-cn",cuv:"cuv-latn-cm",cux:"cux-latn-mx",cv:"cv-cyrl-ru",cvg:"cvg-latn-in","cvg-tibt":"cvg-tibt-in",cvn:"cvn-latn-mx",cwa:"cwa-latn-tz",cwb:"cwb-latn-mz",cwe:"cwe-latn-tz",cwg:"cwg-latn-my",cwt:"cwt-latn-sn",cy:"cy-latn-gb",cya:"cya-latn-mx",cyb:"cyb-latn-bo",cyo:"cyo-latn-ph",czh:"czh-hans-cn","czh-hant":"czh-hant-cn",czk:"czk-hebr-cz",czn:"czn-latn-mx",czt:"czt-latn-mm",da:"da-latn-dk",daa:"daa-latn-td",dac:"dac-latn-pg",dad:"dad-latn-zz",dae:"dae-latn-cm",daf:"daf-latn-ci",dag:"dag-latn-zz",dah:"dah-latn-zz",dai:"dai-latn-td",daj:"daj-latn-sd",dak:"dak-latn-us",dal:"dal-latn-ke",dam:"dam-latn-ng",dao:"dao-latn-mm",daq:"daq-deva-in",dar:"dar-cyrl-ru",das:"das-latn-ci",dau:"dau-latn-td",dav:"dav-latn-ke",daw:"daw-latn-ph",dax:"dax-latn-au",daz:"daz-latn-id",dba:"dba-latn-ml",dbb:"dbb-latn-ng",dbd:"dbd-latn-zz",dbe:"dbe-latn-id",dbf:"dbf-latn-id",dbg:"dbg-latn-ml",dbi:"dbi-latn-ng",dbj:"dbj-latn-my","dbj-arab":"dbj-arab-my",dbl:"dbl-latn-au",dbm:"dbm-latn-ng",dbn:"dbn-latn-id",dbo:"dbo-latn-ng",dbp:"dbp-latn-ng",dbq:"dbq-latn-zz",dbt:"dbt-latn-ml",dbu:"dbu-latn-ml",dbv:"dbv-latn-ng",dbw:"dbw-latn-ml",dby:"dby-latn-pg",dcc:"dcc-arab-in",dcr:"dcr-latn-vi",dda:"dda-latn-au",ddd:"ddd-latn-ss",dde:"dde-latn-cg",ddg:"ddg-latn-tl",ddi:"ddi-latn-pg",ddj:"ddj-latn-au",ddn:"ddn-latn-zz",ddo:"ddo-cyrl-ru",ddr:"ddr-latn-au",dds:"dds-latn-ml",ddw:"ddw-latn-id",de:"de-latn-de",dec:"dec-latn-sd",ded:"ded-latn-zz",dee:"dee-latn-lr",def:"def-arab-ir",deg:"deg-latn-ng",deh:"deh-arab-pk",dei:"dei-latn-id",dek:"dek-latn-cm",del:"del-latn-us",dem:"dem-latn-id",den:"den-latn-ca",deq:"deq-latn-cf",der:"der-beng-in","der-latn":"der-latn-in",des:"des-latn-br",dev:"dev-latn-pg",dez:"dez-latn-cd",dga:"dga-latn-zz",dgb:"dgb-latn-ml",dgc:"dgc-latn-ph",dgd:"dgd-latn-bf",dge:"dge-latn-pg",dgg:"dgg-latn-pg",dgh:"dgh-latn-zz",dgi:"dgi-latn-zz",dgk:"dgk-latn-cf",dgl:"dgl-arab-zz",dgn:"dgn-latn-au",dgr:"dgr-latn-ca",dgs:"dgs-latn-bf",dgt:"dgt-latn-au",dgw:"dgw-latn-au",dgx:"dgx-latn-pg",dgz:"dgz-latn-zz",dhg:"dhg-latn-au",dhi:"dhi-deva-np",dhl:"dhl-latn-au",dhm:"dhm-latn-ao",dhn:"dhn-gujr-in",dho:"dho-deva-in",dhr:"dhr-latn-au",dhs:"dhs-latn-tz",dhu:"dhu-latn-au",dhv:"dhv-latn-nc",dhw:"dhw-deva-np",dhx:"dhx-latn-au",dia:"dia-latn-zz",dib:"dib-latn-ss",dic:"dic-latn-ci",did:"did-latn-ss",dif:"dif-latn-au",dig:"dig-latn-ke",dih:"dih-latn-mx",dii:"dii-latn-cm",dij:"dij-latn-id",dil:"dil-latn-sd",din:"din-latn-ss","din-arab":"din-arab-ss",dio:"dio-latn-ng",dip:"dip-latn-ss",dir:"dir-latn-ng",dis:"dis-latn-in","dis-beng":"dis-beng-in",diu:"diu-latn-na",diw:"diw-latn-ss",dix:"dix-latn-vu",diy:"diy-latn-id",diz:"diz-latn-cd",dja:"dja-latn-au",djb:"djb-latn-au",djc:"djc-latn-td",djd:"djd-latn-au",dje:"dje-latn-ne",djf:"djf-latn-au",dji:"dji-latn-au",djj:"djj-latn-au",djk:"djk-latn-sr",djm:"djm-latn-ml",djn:"djn-latn-au",djo:"djo-latn-id",djr:"djr-latn-au",dju:"dju-latn-pg",djw:"djw-latn-au",dka:"dka-tibt-bt",dkg:"dkg-latn-ng",dkk:"dkk-latn-id",dkr:"dkr-latn-my",dks:"dks-latn-ss",dkx:"dkx-latn-cm",dlg:"dlg-cyrl-ru",dlm:"dlm-latn-hr",dln:"dln-latn-in",dma:"dma-latn-ga",dmb:"dmb-latn-ml",dmc:"dmc-latn-pg",dmd:"dmd-latn-au",dme:"dme-latn-cm",dmf:"dmf-medf-ng",dmg:"dmg-latn-my",dmk:"dmk-arab-pk",dml:"dml-arab-pk",dmm:"dmm-latn-cm",dmo:"dmo-latn-cm",dmr:"dmr-latn-id",dms:"dms-latn-id",dmu:"dmu-latn-id",dmv:"dmv-latn-my",dmw:"dmw-latn-au",dmx:"dmx-latn-mz",dmy:"dmy-latn-id",dna:"dna-latn-id",dnd:"dnd-latn-pg",dne:"dne-latn-tz",dng:"dng-cyrl-kg","dng-arab":"dng-arab-kg",dni:"dni-latn-id",dnj:"dnj-latn-ci",dnk:"dnk-latn-id",dnn:"dnn-latn-bf",dno:"dno-latn-cd",dnr:"dnr-latn-pg",dnt:"dnt-latn-id",dnu:"dnu-mymr-mm",dnv:"dnv-mymr-mm",dnw:"dnw-latn-id",dny:"dny-latn-br",doa:"doa-latn-pg",dob:"dob-latn-zz",doc:"doc-latn-cn",doe:"doe-latn-tz",dof:"dof-latn-pg",doh:"doh-latn-ng",doi:"doi-deva-in",dok:"dok-latn-id",dol:"dol-latn-pg",don:"don-latn-pg",doo:"doo-latn-cd",dop:"dop-latn-zz",dor:"dor-latn-sb",dos:"dos-latn-bf",dot:"dot-latn-ng",dov:"dov-latn-zw",dow:"dow-latn-zz",dox:"dox-ethi-et",doy:"doy-latn-gh",dpp:"dpp-latn-my",drc:"drc-latn-pt",dre:"dre-tibt-np",drg:"drg-latn-my",drh:"drh-mong-cn",dri:"dri-latn-zz",drl:"drl-latn-au",drn:"drn-latn-id",dro:"dro-latn-my",drq:"drq-deva-np",drs:"drs-ethi-zz",drt:"drt-latn-nl",dru:"dru-latn-tw",dry:"dry-deva-np",dsb:"dsb-latn-de",dsh:"dsh-latn-ke",dsi:"dsi-latn-td",dsn:"dsn-latn-id",dso:"dso-orya-in",dsq:"dsq-latn-ml","dsq-arab":"dsq-arab-ml",dta:"dta-latn-cn","dta-cyrl":"dta-cyrl-cn","dta-hans":"dta-hans-cn",dtb:"dtb-latn-my",dtd:"dtd-latn-ca",dth:"dth-latn-au",dti:"dti-latn-ml",dtk:"dtk-latn-ml",dtm:"dtm-latn-ml",dto:"dto-latn-ml",dtp:"dtp-latn-my",dtr:"dtr-latn-my",dts:"dts-latn-zz",dtt:"dtt-latn-ml",dtu:"dtu-latn-ml",dty:"dty-deva-np",dua:"dua-latn-cm",dub:"dub-gujr-in",duc:"duc-latn-zz",dud:"dud-latn-zz",due:"due-latn-ph",duf:"duf-latn-nc",dug:"dug-latn-zz",duh:"duh-deva-in","duh-gujr":"duh-gujr-in",dui:"dui-latn-pg",duk:"duk-latn-pg",dul:"dul-latn-ph",dum:"dum-latn-nl",dun:"dun-latn-id",duo:"duo-latn-ph",dup:"dup-latn-id",duq:"duq-latn-id",dur:"dur-latn-cm",dus:"dus-deva-np",duu:"duu-latn-cn",duv:"duv-latn-id",duw:"duw-latn-id",dux:"dux-latn-ml",duy:"duy-latn-ph",duz:"duz-latn-cm",dv:"dv-thaa-mv",dva:"dva-latn-zz",dwa:"dwa-latn-ng",dwk:"dwk-orya-in",dwr:"dwr-latn-et","dwr-ethi":"dwr-ethi-et",dws:"dws-latn-001",dwu:"dwu-latn-au",dww:"dww-latn-zz",dwy:"dwy-latn-au",dwz:"dwz-deva-np",dya:"dya-latn-bf",dyb:"dyb-latn-au",dyd:"dyd-latn-au",dyg:"dyg-latn-ph",dyi:"dyi-latn-ci",dym:"dym-latn-ml",dyn:"dyn-latn-au",dyo:"dyo-latn-sn",dyu:"dyu-latn-bf",dyy:"dyy-latn-au",dz:"dz-tibt-bt",dza:"dza-latn-ng",dze:"dze-latn-au",dzg:"dzg-latn-zz",dzl:"dzl-tibt-bt",dzn:"dzn-latn-cd",eaa:"eaa-latn-au",ebc:"ebc-latn-id",ebg:"ebg-latn-ng",ebk:"ebk-latn-ph",ebo:"ebo-latn-cg",ebr:"ebr-latn-ci",ebu:"ebu-latn-ke",ecr:"ecr-grek-gr",ecy:"ecy-cprt-cy",ee:"ee-latn-gh",efa:"efa-latn-ng",efe:"efe-latn-cd",efi:"efi-latn-ng",ega:"ega-latn-ci",egl:"egl-latn-it",egm:"egm-latn-tz",ego:"ego-latn-ng",egy:"egy-egyp-eg",ehu:"ehu-latn-ng",eip:"eip-latn-id",eit:"eit-latn-pg",eiv:"eiv-latn-pg",eja:"eja-latn-gw",eka:"eka-latn-zz",eke:"eke-latn-ng",ekg:"ekg-latn-id",eki:"eki-latn-ng",ekl:"ekl-latn-bd",ekm:"ekm-latn-cm",eko:"eko-latn-mz","eko-arab":"eko-arab-mz",ekp:"ekp-latn-ng",ekr:"ekr-latn-ng",eky:"eky-kali-mm",el:"el-grek-gr",ele:"ele-latn-pg",elk:"elk-latn-pg",elm:"elm-latn-ng",elo:"elo-latn-ke",elu:"elu-latn-pg",ema:"ema-latn-zz",emb:"emb-latn-id",eme:"eme-latn-gf",emg:"emg-deva-np",emi:"emi-latn-zz",emm:"emm-latn-mx",emn:"emn-latn-cm",emp:"emp-latn-pa",ems:"ems-latn-us","ems-cyrl":"ems-cyrl-us",emu:"emu-deva-in",emw:"emw-latn-id",emx:"emx-latn-fr",emz:"emz-latn-cm",en:"en-latn-us","en-shaw":"en-shaw-gb",ena:"ena-latn-pg",enb:"enb-latn-ke",enc:"enc-latn-vn",end:"end-latn-id",enf:"enf-cyrl-ru",enh:"enh-cyrl-ru",enl:"enl-latn-py",enm:"enm-latn-gb",enn:"enn-latn-zz",eno:"eno-latn-id",enq:"enq-latn-zz",enr:"enr-latn-id",env:"env-latn-ng",enw:"enw-latn-ng",enx:"enx-latn-py",eo:"eo-latn-001",eot:"eot-latn-ci",epi:"epi-latn-ng",era:"era-taml-in",erg:"erg-latn-vu",erh:"erh-latn-ng",eri:"eri-latn-zz",erk:"erk-latn-vu",err:"err-latn-au",ert:"ert-latn-id",erw:"erw-latn-id",es:"es-latn-es",ese:"ese-latn-bo",esg:"esg-gonm-in",esh:"esh-arab-ir",esi:"esi-latn-us",esm:"esm-latn-ci",ess:"ess-latn-us","ess-cyrl":"ess-cyrl-us",esu:"esu-latn-us",esy:"esy-latn-ph",et:"et-latn-ee",etb:"etb-latn-ng",etn:"etn-latn-vu",eto:"eto-latn-cm",etr:"etr-latn-zz",ets:"ets-latn-ng",ett:"ett-ital-it",etu:"etu-latn-zz",etx:"etx-latn-zz",etz:"etz-latn-id",eu:"eu-latn-es",eve:"eve-cyrl-ru",evh:"evh-latn-ng",evn:"evn-cyrl-ru","evn-latn":"evn-latn-cn","evn-mong":"evn-mong-cn",ewo:"ewo-latn-cm",ext:"ext-latn-es",eya:"eya-latn-us",eyo:"eyo-latn-ke",eza:"eza-latn-zz",eze:"eze-latn-ng",fa:"fa-arab-ir",faa:"faa-latn-zz",fab:"fab-latn-zz",fad:"fad-latn-pg",faf:"faf-latn-sb",fag:"fag-latn-zz",fah:"fah-latn-ng",fai:"fai-latn-zz",faj:"faj-latn-pg",fak:"fak-latn-cm",fal:"fal-latn-cm",fam:"fam-latn-ng",fan:"fan-latn-gq",fap:"fap-latn-sn",far:"far-latn-sb",fau:"fau-latn-id",fax:"fax-latn-es",fay:"fay-arab-ir",faz:"faz-arab-ir",fbl:"fbl-latn-ph",fer:"fer-latn-ss",ff:"ff-latn-sn","ff-adlm":"ff-adlm-gn",ffi:"ffi-latn-zz",ffm:"ffm-latn-ml",fgr:"fgr-latn-td",fi:"fi-latn-fi",fia:"fia-arab-sd",fie:"fie-latn-ng",fif:"fif-latn-sa",fil:"fil-latn-ph",fip:"fip-latn-tz",fir:"fir-latn-ng",fit:"fit-latn-se",fiw:"fiw-latn-pg",fj:"fj-latn-fj",fkk:"fkk-latn-ng",fkv:"fkv-latn-no",fla:"fla-latn-us",flh:"flh-latn-id",fli:"fli-latn-ng",fll:"fll-latn-cm",fln:"fln-latn-au",flr:"flr-latn-zz",fly:"fly-latn-za",fmp:"fmp-latn-zz",fmu:"fmu-deva-in",fnb:"fnb-latn-vu",fng:"fng-latn-za",fni:"fni-latn-td",fo:"fo-latn-fo",fod:"fod-latn-zz",foi:"foi-latn-pg",fom:"fom-latn-cd",fon:"fon-latn-bj",for:"for-latn-zz",fos:"fos-latn-tw",fpe:"fpe-latn-zz",fqs:"fqs-latn-zz",fr:"fr-latn-fr",frc:"frc-latn-us",frd:"frd-latn-id",frk:"frk-latn-de",frm:"frm-latn-fr",fro:"fro-latn-fr",frp:"frp-latn-fr",frq:"frq-latn-pg",frr:"frr-latn-de",frs:"frs-latn-de",frt:"frt-latn-vu",fub:"fub-arab-cm",fud:"fud-latn-wf",fue:"fue-latn-zz",fuf:"fuf-latn-gn",fuh:"fuh-latn-zz",fui:"fui-latn-td",fum:"fum-latn-ng",fun:"fun-latn-br",fuq:"fuq-latn-ne",fur:"fur-latn-it",fut:"fut-latn-vu",fuu:"fuu-latn-cd",fuv:"fuv-latn-ng",fuy:"fuy-latn-zz",fvr:"fvr-latn-sd",fwa:"fwa-latn-nc",fwe:"fwe-latn-na",fy:"fy-latn-nl",ga:"ga-latn-ie",gaa:"gaa-latn-gh",gab:"gab-latn-td",gac:"gac-latn-in","gac-deva":"gac-deva-in",gad:"gad-latn-ph",gae:"gae-latn-ve",gaf:"gaf-latn-zz",gag:"gag-latn-md",gah:"gah-latn-zz",gai:"gai-latn-pg",gaj:"gaj-latn-zz",gak:"gak-latn-id",gal:"gal-latn-tl",gam:"gam-latn-zz",gan:"gan-hans-cn",gao:"gao-latn-pg",gap:"gap-latn-pg",gaq:"gaq-orya-in",gar:"gar-latn-pg",gas:"gas-gujr-in",gat:"gat-latn-pg",gau:"gau-telu-in",gaw:"gaw-latn-zz",gax:"gax-latn-et","gax-ethi":"gax-ethi-et",gay:"gay-latn-id",gba:"gba-latn-zz",gbb:"gbb-latn-au",gbd:"gbd-latn-au",gbe:"gbe-latn-pg",gbf:"gbf-latn-zz",gbg:"gbg-latn-cf",gbh:"gbh-latn-bj",gbi:"gbi-latn-id",gbj:"gbj-orya-in",gbk:"gbk-deva-in","gbk-takr":"gbk-takr-in",gbl:"gbl-gujr-in","gbl-deva":"gbl-deva-in",gbm:"gbm-deva-in",gbn:"gbn-latn-ss",gbp:"gbp-latn-cf",gbq:"gbq-latn-cf",gbr:"gbr-latn-ng",gbs:"gbs-latn-bj",gbu:"gbu-latn-au",gbv:"gbv-latn-cf",gbw:"gbw-latn-au",gbx:"gbx-latn-bj",gby:"gby-latn-zz",gbz:"gbz-arab-ir",gcc:"gcc-latn-pg",gcd:"gcd-latn-au",gcf:"gcf-latn-gp",gcl:"gcl-latn-gd",gcn:"gcn-latn-pg",gcr:"gcr-latn-gf",gct:"gct-latn-ve",gd:"gd-latn-gb",gdb:"gdb-orya-in","gdb-telu":"gdb-telu-in",gdc:"gdc-latn-au",gdd:"gdd-latn-pg",gde:"gde-latn-zz",gdf:"gdf-latn-ng",gdg:"gdg-latn-ph",gdh:"gdh-latn-au",gdi:"gdi-latn-cf",gdj:"gdj-latn-au",gdk:"gdk-latn-td",gdl:"gdl-latn-et","gdl-ethi":"gdl-ethi-et",gdm:"gdm-latn-td",gdn:"gdn-latn-zz",gdo:"gdo-cyrl-ru",gdq:"gdq-latn-ye",gdr:"gdr-latn-zz",gdt:"gdt-latn-au",gdu:"gdu-latn-ng",gdx:"gdx-deva-in",gea:"gea-latn-ng",geb:"geb-latn-zz",gec:"gec-latn-lr",ged:"ged-latn-ng",gef:"gef-latn-id",geg:"geg-latn-ng",geh:"geh-latn-ca",gei:"gei-latn-id",gej:"gej-latn-zz",gek:"gek-latn-ng",gel:"gel-latn-zz",geq:"geq-latn-cf",ges:"ges-latn-id",gev:"gev-latn-ga",gew:"gew-latn-ng",gex:"gex-latn-so",gey:"gey-latn-cd",gez:"gez-ethi-et",gfk:"gfk-latn-zz",gga:"gga-latn-sb",ggb:"ggb-latn-lr",ggd:"ggd-latn-au",gge:"gge-latn-au",ggg:"ggg-arab-pk",ggk:"ggk-latn-au",ggl:"ggl-latn-pg",ggn:"ggn-deva-np",ggt:"ggt-latn-pg",ggu:"ggu-latn-ci",ggw:"ggw-latn-pg",gha:"gha-arab-ly","gha-latn":"gha-latn-ly","gha-tfng":"gha-tfng-ly",ghc:"ghc-latn-gb",ghe:"ghe-deva-np",ghk:"ghk-latn-mm",ghn:"ghn-latn-sb",ghr:"ghr-arab-pk",ghs:"ghs-latn-zz",ght:"ght-tibt-np",gia:"gia-latn-au",gib:"gib-latn-ng",gic:"gic-latn-za",gid:"gid-latn-cm",gie:"gie-latn-ci",gig:"gig-arab-pk",gih:"gih-latn-au",gil:"gil-latn-ki",gim:"gim-latn-zz",gin:"gin-cyrl-ru",gip:"gip-latn-pg",giq:"giq-latn-vn",gir:"gir-latn-vn",gis:"gis-latn-cm",git:"git-latn-ca",gix:"gix-latn-cd",giy:"giy-latn-au",giz:"giz-latn-cm",gjk:"gjk-arab-pk",gjm:"gjm-latn-au",gjn:"gjn-latn-zz",gjr:"gjr-latn-au",gju:"gju-arab-pk",gka:"gka-latn-pg",gkd:"gkd-latn-pg",gke:"gke-latn-cm",gkn:"gkn-latn-zz",gko:"gko-latn-au",gkp:"gkp-latn-zz",gku:"gku-latn-za",gl:"gl-latn-es",glb:"glb-latn-ng",glc:"glc-latn-td",gld:"gld-cyrl-ru",glh:"glh-arab-af",glj:"glj-latn-td",glk:"glk-arab-ir",gll:"gll-latn-au",glo:"glo-latn-ng",glr:"glr-latn-lr",glu:"glu-latn-td",glw:"glw-latn-ng",gma:"gma-latn-au",gmb:"gmb-latn-sb",gmd:"gmd-latn-ng",gmg:"gmg-latn-pg",gmh:"gmh-latn-de",gmm:"gmm-latn-zz",gmn:"gmn-latn-cm",gmr:"gmr-latn-au",gmu:"gmu-latn-pg",gmv:"gmv-ethi-zz",gmx:"gmx-latn-tz",gmy:"gmy-linb-gr",gmz:"gmz-latn-ng",gn:"gn-latn-py",gna:"gna-latn-bf",gnb:"gnb-latn-in",gnc:"gnc-latn-es",gnd:"gnd-latn-zz",gne:"gne-latn-ng",gng:"gng-latn-zz",gnh:"gnh-latn-ng",gni:"gni-latn-au",gnj:"gnj-latn-ci",gnk:"gnk-latn-bw",gnl:"gnl-latn-au",gnm:"gnm-latn-pg",gnn:"gnn-latn-au",gnq:"gnq-latn-my",gnr:"gnr-latn-au",gnt:"gnt-latn-pg",gnu:"gnu-latn-pg",gnw:"gnw-latn-bo",gnz:"gnz-latn-cf",goa:"goa-latn-ci",gob:"gob-latn-co",goc:"goc-latn-pg",god:"god-latn-zz",goe:"goe-tibt-bt",gof:"gof-ethi-zz",gog:"gog-latn-tz",goh:"goh-latn-de",goi:"goi-latn-zz",gok:"gok-deva-in",gol:"gol-latn-lr",gom:"gom-deva-in",gon:"gon-telu-in",goo:"goo-latn-fj",gop:"gop-latn-id",goq:"goq-latn-id",gor:"gor-latn-id",gos:"gos-latn-nl",got:"got-goth-ua",gou:"gou-latn-cm",gov:"gov-latn-ci",gow:"gow-latn-tz",gox:"gox-latn-cd",goy:"goy-latn-td",gpa:"gpa-latn-ng",gpe:"gpe-latn-gh",gpn:"gpn-latn-pg",gqa:"gqa-latn-ng",gqn:"gqn-latn-br",gqr:"gqr-latn-td",gra:"gra-deva-in","gra-gujr":"gra-gujr-in",grb:"grb-latn-zz",grc:"grc-cprt-cy","grc-linb":"grc-linb-gr",grd:"grd-latn-ng",grg:"grg-latn-pg",grh:"grh-latn-ng",gri:"gri-latn-sb",grj:"grj-latn-lr",grm:"grm-latn-my",grq:"grq-latn-pg",grs:"grs-latn-id",grt:"grt-beng-in",gru:"gru-ethi-et","gru-latn":"gru-latn-et",grv:"grv-latn-lr",grw:"grw-latn-zz",grx:"grx-latn-pg",gry:"gry-latn-lr",grz:"grz-latn-pg",gsl:"gsl-latn-sn",gsn:"gsn-latn-pg",gso:"gso-latn-cf",gsp:"gsp-latn-pg",gsw:"gsw-latn-ch",gta:"gta-latn-br",gtu:"gtu-latn-au",gu:"gu-gujr-in",gua:"gua-latn-ng",gub:"gub-latn-br",guc:"guc-latn-co",gud:"gud-latn-zz",gue:"gue-latn-au",guf:"guf-latn-au",guh:"guh-latn-co",gui:"gui-latn-bo",guk:"guk-latn-et","guk-ethi":"guk-ethi-et",gul:"gul-latn-us",gum:"gum-latn-co",gun:"gun-latn-br",guo:"guo-latn-co",gup:"gup-latn-au",guq:"guq-latn-py",gur:"gur-latn-gh",gut:"gut-latn-cr",guu:"guu-latn-ve",guw:"guw-latn-zz",gux:"gux-latn-zz",guz:"guz-latn-ke",gv:"gv-latn-im",gva:"gva-latn-py",gvc:"gvc-latn-br",gve:"gve-latn-pg",gvf:"gvf-latn-zz",gvj:"gvj-latn-br",gvl:"gvl-latn-td",gvm:"gvm-latn-ng",gvn:"gvn-latn-au",gvo:"gvo-latn-br",gvp:"gvp-latn-br",gvr:"gvr-deva-np",gvs:"gvs-latn-zz",gvy:"gvy-latn-au",gwa:"gwa-latn-ci",gwb:"gwb-latn-ng",gwc:"gwc-arab-zz",gwd:"gwd-latn-et",gwe:"gwe-latn-tz",gwf:"gwf-arab-pk",gwg:"gwg-latn-ng",gwi:"gwi-latn-ca",gwj:"gwj-latn-bw",gwm:"gwm-latn-au",gwn:"gwn-latn-ng",gwr:"gwr-latn-ug",gwt:"gwt-arab-zz",gwu:"gwu-latn-au",gww:"gww-latn-au",gwx:"gwx-latn-gh",gxx:"gxx-latn-ci",gyb:"gyb-latn-pg",gyd:"gyd-latn-au",gye:"gye-latn-ng",gyf:"gyf-latn-au",gyg:"gyg-latn-cf",gyi:"gyi-latn-zz",gyl:"gyl-latn-et","gyl-ethi":"gyl-ethi-et",gym:"gym-latn-pa",gyn:"gyn-latn-gy",gyo:"gyo-deva-np",gyr:"gyr-latn-bo",gyy:"gyy-latn-au",gyz:"gyz-latn-ng",gza:"gza-latn-sd",gzi:"gzi-arab-ir",gzn:"gzn-latn-id",ha:"ha-latn-ng","ha-cm":"ha-arab-cm","ha-sd":"ha-arab-sd",haa:"haa-latn-us",hac:"hac-arab-ir",had:"had-latn-id",hae:"hae-latn-et",hag:"hag-latn-zz",hah:"hah-latn-pg",hai:"hai-latn-ca",haj:"haj-latn-in","haj-beng":"haj-beng-in",hak:"hak-hans-cn",hal:"hal-latn-vn",ham:"ham-latn-zz",han:"han-latn-tz",hao:"hao-latn-pg",hap:"hap-latn-id",haq:"haq-latn-tz",har:"har-ethi-et","har-arab":"har-arab-et","har-latn":"har-latn-et",has:"has-latn-ca",hav:"hav-latn-cd",haw:"haw-latn-us",hax:"hax-latn-ca",hay:"hay-latn-tz",haz:"haz-arab-af",hba:"hba-latn-cd",hbb:"hbb-latn-zz",hbn:"hbn-latn-sd",hbo:"hbo-hebr-il",hbu:"hbu-latn-tl",hch:"hch-latn-mx",hdy:"hdy-ethi-zz",he:"he-hebr-il",hed:"hed-latn-td",heg:"heg-latn-id",heh:"heh-latn-tz",hei:"hei-latn-ca",hem:"hem-latn-cd",hgm:"hgm-latn-na",hgw:"hgw-latn-pg",hhi:"hhi-latn-pg",hhr:"hhr-latn-sn",hhy:"hhy-latn-zz",hi:"hi-deva-in","hi-latn":"hi-latn-in",hia:"hia-latn-zz",hib:"hib-latn-pe",hid:"hid-latn-us",hif:"hif-latn-fj",hig:"hig-latn-zz",hih:"hih-latn-zz",hii:"hii-takr-in","hii-deva":"hii-deva-in",hij:"hij-latn-cm",hik:"hik-latn-id",hil:"hil-latn-ph",hio:"hio-latn-bw",hir:"hir-latn-br",hit:"hit-xsux-tr",hiw:"hiw-latn-vu",hix:"hix-latn-br",hji:"hji-latn-id",hka:"hka-latn-tz",hke:"hke-latn-cd",hkh:"hkh-arab-in","hkh-deva":"hkh-deva-in","hkh-latn":"hkh-latn-in",hkk:"hkk-latn-pg",hla:"hla-latn-zz",hlb:"hlb-deva-in",hld:"hld-latn-vn",hlt:"hlt-latn-mm",hlu:"hlu-hluw-tr",hma:"hma-latn-cn",hmb:"hmb-latn-ml",hmd:"hmd-plrd-cn",hmf:"hmf-latn-vn",hmj:"hmj-bopo-cn",hmm:"hmm-latn-cn",hmn:"hmn-latn-cn","hmn-bopo":"hmn-bopo-cn","hmn-hmng":"hmn-hmng-cn",hmp:"hmp-latn-cn",hmq:"hmq-bopo-cn",hmr:"hmr-latn-in",hms:"hms-latn-cn",hmt:"hmt-latn-zz",hmu:"hmu-latn-id",hmv:"hmv-latn-vn",hmw:"hmw-latn-cn",hmy:"hmy-latn-cn",hmz:"hmz-latn-cn","hmz-plrd":"hmz-plrd-cn",hna:"hna-latn-cm",hnd:"hnd-arab-pk",hne:"hne-deva-in",hng:"hng-latn-ao",hnh:"hnh-latn-bw",hni:"hni-latn-cn",hnj:"hnj-hmnp-us","hnj-au":"hnj-laoo-au","hnj-cn":"hnj-laoo-cn","hnj-fr":"hnj-laoo-fr","hnj-gf":"hnj-laoo-gf","hnj-la":"hnj-laoo-la","hnj-laoo":"hnj-laoo-la","hnj-mm":"hnj-laoo-mm","hnj-sr":"hnj-laoo-sr","hnj-th":"hnj-laoo-th","hnj-us":"hnj-hmnp-us","hnj-vn":"hnj-laoo-vn",hnn:"hnn-latn-ph",hno:"hno-arab-pk",hns:"hns-latn-sr",ho:"ho-latn-pg",hoa:"hoa-latn-sb",hob:"hob-latn-pg",hoc:"hoc-deva-in",hod:"hod-latn-ng",hoe:"hoe-latn-ng",hoh:"hoh-arab-om",hoi:"hoi-latn-us",hoj:"hoj-deva-in",hol:"hol-latn-ao",hom:"hom-latn-ss",hoo:"hoo-latn-cd",hop:"hop-latn-us",hor:"hor-latn-td",hot:"hot-latn-zz",hov:"hov-latn-id",how:"how-hani-cn",hoy:"hoy-deva-in",hpo:"hpo-mymr-mm",hr:"hr-latn-hr",hra:"hra-latn-in",hrc:"hrc-latn-pg",hre:"hre-latn-vn",hrk:"hrk-latn-id",hrm:"hrm-latn-cn","hrm-hmng":"hrm-hmng-cn",hro:"hro-latn-vn",hrp:"hrp-latn-au",hrt:"hrt-syrc-tr",hru:"hru-latn-in",hrw:"hrw-latn-pg",hrx:"hrx-latn-br",hrz:"hrz-arab-ir",hsb:"hsb-latn-de",hsn:"hsn-hans-cn",hss:"hss-arab-om",ht:"ht-latn-ht",hti:"hti-latn-id",hto:"hto-latn-co",hts:"hts-latn-tz",htu:"htu-latn-id",htx:"htx-xsux-tr",hu:"hu-latn-hu",hub:"hub-latn-pe",huc:"huc-latn-bw",hud:"hud-latn-id",hue:"hue-latn-mx",huf:"huf-latn-pg",hug:"hug-latn-pe",huh:"huh-latn-cl",hui:"hui-latn-zz",huk:"huk-latn-id",hul:"hul-latn-pg",hum:"hum-latn-cd",hup:"hup-latn-us",hur:"hur-latn-ca",hus:"hus-latn-mx",hut:"hut-deva-np","hut-tibt":"hut-tibt-np",huu:"huu-latn-pe",huv:"huv-latn-mx",huw:"huw-latn-id",hux:"hux-latn-pe",huy:"huy-hebr-il",huz:"huz-cyrl-ru",hvc:"hvc-latn-ht",hve:"hve-latn-mx",hvk:"hvk-latn-nc",hvn:"hvn-latn-id",hvv:"hvv-latn-mx",hwa:"hwa-latn-ci",hwc:"hwc-latn-us",hwo:"hwo-latn-ng",hy:"hy-armn-am",hya:"hya-latn-cm",hyw:"hyw-armn-am",hz:"hz-latn-na",ia:"ia-latn-001",iai:"iai-latn-nc",ian:"ian-latn-zz",iar:"iar-latn-zz",iba:"iba-latn-my",ibb:"ibb-latn-ng",ibd:"ibd-latn-au",ibe:"ibe-latn-ng",ibg:"ibg-latn-ph",ibh:"ibh-latn-vn",ibl:"ibl-latn-ph",ibm:"ibm-latn-ng",ibn:"ibn-latn-ng",ibr:"ibr-latn-ng",ibu:"ibu-latn-id",iby:"iby-latn-zz",ica:"ica-latn-zz",ich:"ich-latn-zz",icr:"icr-latn-co",id:"id-latn-id",ida:"ida-latn-ke",idb:"idb-latn-in",idc:"idc-latn-ng",idd:"idd-latn-zz",ide:"ide-latn-ng",idi:"idi-latn-zz",idr:"idr-latn-ss",ids:"ids-latn-ng",idt:"idt-latn-tl",idu:"idu-latn-zz",ie:"ie-latn-001",ifa:"ifa-latn-ph",ifb:"ifb-latn-ph",ife:"ife-latn-tg",iff:"iff-latn-vu",ifk:"ifk-latn-ph",ifm:"ifm-latn-cg",ifu:"ifu-latn-ph",ify:"ify-latn-ph",ig:"ig-latn-ng",igb:"igb-latn-zz",ige:"ige-latn-zz",igg:"igg-latn-pg",igl:"igl-latn-ng",igm:"igm-latn-pg",ign:"ign-latn-bo",igo:"igo-latn-pg",igs:"igs-latn-001","igs-grek":"igs-grek-001",igw:"igw-latn-ng",ihb:"ihb-latn-id",ihi:"ihi-latn-ng",ihp:"ihp-latn-id",ihw:"ihw-latn-au",ii:"ii-yiii-cn",iin:"iin-latn-au",ijc:"ijc-latn-ng",ije:"ije-latn-ng",ijj:"ijj-latn-zz",ijn:"ijn-latn-ng",ijs:"ijs-latn-ng",ik:"ik-latn-us",iki:"iki-latn-ng",ikk:"ikk-latn-zz",ikl:"ikl-latn-ng",iko:"iko-latn-ng",ikp:"ikp-latn-ng",ikr:"ikr-latn-au",ikt:"ikt-latn-ca","ikt-cans":"ikt-cans-ca",ikv:"ikv-latn-ng",ikw:"ikw-latn-zz",ikx:"ikx-latn-zz",ikz:"ikz-latn-tz",ila:"ila-latn-id",ilb:"ilb-latn-zm",ilg:"ilg-latn-au",ili:"ili-latn-cn","ili-arab":"ili-arab-cn","ili-cyrl":"ili-cyrl-kz",ilk:"ilk-latn-ph",ilm:"ilm-latn-my",ilo:"ilo-latn-ph",ilp:"ilp-latn-ph",ilu:"ilu-latn-id",ilv:"ilv-latn-ng",imi:"imi-latn-pg",iml:"iml-latn-us",imn:"imn-latn-pg",imo:"imo-latn-zz",imr:"imr-latn-id",ims:"ims-latn-it",imt:"imt-latn-ss",imy:"imy-lyci-tr",in:"in-latn-id",inb:"inb-latn-co",ing:"ing-latn-us",inh:"inh-cyrl-ru",inj:"inj-latn-co",inn:"inn-latn-ph",ino:"ino-latn-pg",inp:"inp-latn-pe",int:"int-mymr-mm",io:"io-latn-001",ior:"ior-ethi-et",iou:"iou-latn-zz",iow:"iow-latn-us",ipi:"ipi-latn-pg",ipo:"ipo-latn-pg",iqu:"iqu-latn-pe",iqw:"iqw-latn-ng",ire:"ire-latn-id",irh:"irh-latn-id",iri:"iri-latn-zz",irk:"irk-latn-tz",irn:"irn-latn-br",iru:"iru-taml-in","iru-mlym":"iru-mlym-in",irx:"irx-latn-id",iry:"iry-latn-ph",is:"is-latn-is",isa:"isa-latn-pg",isc:"isc-latn-pe",isd:"isd-latn-ph",ish:"ish-latn-ng",isi:"isi-latn-ng",isk:"isk-arab-af","isk-cyrl":"isk-cyrl-tj",ism:"ism-latn-id",isn:"isn-latn-tz",iso:"iso-latn-ng",ist:"ist-latn-hr",isu:"isu-latn-cm",it:"it-latn-it",itb:"itb-latn-ph",itd:"itd-latn-id",ite:"ite-latn-bo",iti:"iti-latn-ph",itk:"itk-hebr-it",itl:"itl-cyrl-ru",itm:"itm-latn-ng",ito:"ito-latn-bo",itr:"itr-latn-pg",its:"its-latn-ng",itt:"itt-latn-ph",itv:"itv-latn-ph",itw:"itw-latn-ng",itx:"itx-latn-id",ity:"ity-latn-ph",itz:"itz-latn-gt",iu:"iu-cans-ca",ium:"ium-latn-cn","ium-hani":"ium-hani-cn","ium-laoo":"ium-laoo-la","ium-thai":"ium-thai-th",ivb:"ivb-latn-ph",ivv:"ivv-latn-ph",iw:"iw-hebr-il",iwk:"iwk-latn-ph",iwm:"iwm-latn-zz",iwo:"iwo-latn-id",iws:"iws-latn-zz",ixc:"ixc-latn-mx",ixl:"ixl-latn-gt",iya:"iya-latn-ng",iyo:"iyo-latn-cm",iyx:"iyx-latn-cg",izh:"izh-latn-ru",izi:"izi-latn-zz",izr:"izr-latn-ng",izz:"izz-latn-ng",ja:"ja-jpan-jp",jaa:"jaa-latn-br",jab:"jab-latn-zz",jac:"jac-latn-gt",jad:"jad-arab-gn",jae:"jae-latn-pg",jaf:"jaf-latn-ng",jah:"jah-latn-my",jaj:"jaj-latn-sb",jak:"jak-latn-my",jal:"jal-latn-id",jam:"jam-latn-jm",jan:"jan-latn-au",jao:"jao-latn-au",jaq:"jaq-latn-id",jar:"jar-latn-zz",jas:"jas-latn-nc",jat:"jat-arab-af",jau:"jau-latn-id",jax:"jax-latn-id",jay:"jay-latn-au",jaz:"jaz-latn-nc",jbe:"jbe-hebr-il",jbi:"jbi-latn-au",jbj:"jbj-latn-id",jbk:"jbk-latn-pg",jbm:"jbm-latn-ng",jbn:"jbn-arab-ly",jbo:"jbo-latn-001",jbr:"jbr-latn-id",jbt:"jbt-latn-br",jbu:"jbu-latn-zz",jbw:"jbw-latn-au",jct:"jct-cyrl-ua","jct-latn":"jct-latn-ua",jda:"jda-tibt-in",jdg:"jdg-arab-pk",jdt:"jdt-cyrl-ru","jdt-hebr":"jdt-hebr-ru","jdt-latn":"jdt-latn-az",jeb:"jeb-latn-pe",jee:"jee-deva-np",jeh:"jeh-latn-vn","jeh-laoo":"jeh-laoo-la",jei:"jei-latn-id",jek:"jek-latn-ci",jel:"jel-latn-id",jen:"jen-latn-zz",jer:"jer-latn-ng",jet:"jet-latn-pg",jeu:"jeu-latn-td",jgb:"jgb-latn-cd",jge:"jge-geor-ge","jge-hebr":"jge-hebr-il",jgk:"jgk-latn-zz",jgo:"jgo-latn-cm",jhi:"jhi-latn-my",ji:"ji-hebr-ua",jia:"jia-latn-cm",jib:"jib-latn-zz",jic:"jic-latn-hn",jid:"jid-latn-ng",jie:"jie-latn-ng",jig:"jig-latn-au",jil:"jil-latn-pg",jim:"jim-latn-cm",jit:"jit-latn-tz",jiu:"jiu-latn-cn",jiv:"jiv-latn-ec",jiy:"jiy-latn-cn",jje:"jje-hang-kr",jjr:"jjr-latn-ng",jka:"jka-latn-id",jkm:"jkm-mymr-mm","jkm-brai":"jkm-brai-mm","jkm-latn":"jkm-latn-mm",jko:"jko-latn-pg",jku:"jku-latn-ng",jle:"jle-latn-sd",jma:"jma-latn-pg",jmb:"jmb-latn-ng",jmc:"jmc-latn-tz",jmd:"jmd-latn-id",jmi:"jmi-latn-ng",jml:"jml-deva-np",jmn:"jmn-latn-mm",jmr:"jmr-latn-gh",jms:"jms-latn-ng",jmw:"jmw-latn-pg",jmx:"jmx-latn-mx",jna:"jna-takr-in",jnd:"jnd-arab-pk",jng:"jng-latn-au",jni:"jni-latn-ng",jnj:"jnj-latn-et","jnj-ethi":"jnj-ethi-et",jnl:"jnl-deva-in",jns:"jns-deva-in","jns-latn":"jns-latn-in","jns-takr":"jns-takr-in",job:"job-latn-cd",jod:"jod-latn-ci",jog:"jog-arab-pk",jor:"jor-latn-bo",jow:"jow-latn-ml",jpa:"jpa-hebr-ps",jpr:"jpr-hebr-il",jqr:"jqr-latn-pe",jra:"jra-latn-zz",jrr:"jrr-latn-ng",jrt:"jrt-latn-ng",jru:"jru-latn-ve",jua:"jua-latn-br",jub:"jub-latn-ng",jud:"jud-latn-ci",juh:"juh-latn-ng",jui:"jui-latn-au",juk:"juk-latn-ng",jul:"jul-deva-np",jum:"jum-latn-sd",jun:"jun-orya-in",juo:"juo-latn-ng",jup:"jup-latn-br",jur:"jur-latn-br",jut:"jut-latn-dk",juu:"juu-latn-ng",juw:"juw-latn-ng",juy:"juy-orya-in",jv:"jv-latn-id",jvd:"jvd-latn-id",jvn:"jvn-latn-sr",jw:"jw-latn-id",jwi:"jwi-latn-gh",jya:"jya-tibt-cn",jye:"jye-hebr-il",jyy:"jyy-latn-td",ka:"ka-geor-ge",kaa:"kaa-cyrl-uz",kab:"kab-latn-dz",kac:"kac-latn-mm",kad:"kad-latn-zz",kag:"kag-latn-my",kah:"kah-latn-cf",kai:"kai-latn-zz",kaj:"kaj-latn-ng",kak:"kak-latn-ph",kam:"kam-latn-ke",kao:"kao-latn-ml",kap:"kap-cyrl-ru",kaq:"kaq-latn-pe",kav:"kav-latn-br",kaw:"kaw-kawi-id",kax:"kax-latn-id",kay:"kay-latn-br",kba:"kba-latn-au",kbb:"kbb-latn-br",kbc:"kbc-latn-br",kbd:"kbd-cyrl-ru",kbe:"kbe-latn-au",kbh:"kbh-latn-co",kbi:"kbi-latn-id",kbj:"kbj-latn-cd",kbk:"kbk-latn-pg",kbl:"kbl-latn-td",kbm:"kbm-latn-zz",kbn:"kbn-latn-cf",kbo:"kbo-latn-ss",kbp:"kbp-latn-zz",kbq:"kbq-latn-zz",kbr:"kbr-latn-et","kbr-ethi":"kbr-ethi-et",kbs:"kbs-latn-ga",kbt:"kbt-latn-pg",kbu:"kbu-arab-pk",kbv:"kbv-latn-id",kbw:"kbw-latn-pg",kbx:"kbx-latn-zz",kby:"kby-arab-ne",kbz:"kbz-latn-ng",kca:"kca-cyrl-ru",kcb:"kcb-latn-pg",kcc:"kcc-latn-ng",kcd:"kcd-latn-id",kce:"kce-latn-ng",kcf:"kcf-latn-ng",kcg:"kcg-latn-ng",kch:"kch-latn-ng",kci:"kci-latn-ng",kcj:"kcj-latn-gw",kck:"kck-latn-zw",kcl:"kcl-latn-zz",kcm:"kcm-latn-cf",kcn:"kcn-latn-ug",kco:"kco-latn-pg",kcp:"kcp-latn-sd",kcq:"kcq-latn-ng",kcs:"kcs-latn-ng",kct:"kct-latn-zz",kcu:"kcu-latn-tz",kcv:"kcv-latn-cd",kcw:"kcw-latn-cd",kcz:"kcz-latn-tz",kda:"kda-latn-au",kdc:"kdc-latn-tz",kdd:"kdd-latn-au",kde:"kde-latn-tz",kdf:"kdf-latn-pg",kdg:"kdg-latn-cd",kdh:"kdh-latn-tg",kdi:"kdi-latn-ug",kdj:"kdj-latn-ug",kdk:"kdk-latn-nc",kdl:"kdl-latn-zz",kdm:"kdm-latn-ng",kdn:"kdn-latn-zw",kdp:"kdp-latn-ng",kdq:"kdq-beng-in",kdr:"kdr-latn-lt","kdr-cyrl":"kdr-cyrl-ua",kdt:"kdt-thai-th",kdw:"kdw-latn-id",kdx:"kdx-latn-ng",kdy:"kdy-latn-id",kdz:"kdz-latn-cm",kea:"kea-latn-cv",keb:"keb-latn-ga",kec:"kec-latn-sd",ked:"ked-latn-tz",kee:"kee-latn-us",kef:"kef-latn-tg",keg:"keg-latn-sd",keh:"keh-latn-pg",kei:"kei-latn-id",kek:"kek-latn-gt",kel:"kel-latn-cd",kem:"kem-latn-tl",ken:"ken-latn-cm",keo:"keo-latn-ug",ker:"ker-latn-td",kes:"kes-latn-ng",ket:"ket-cyrl-ru",keu:"keu-latn-tg",kew:"kew-latn-pg",kex:"kex-deva-in","kex-gujr":"kex-gujr-in",key:"key-telu-in",kez:"kez-latn-zz",kfa:"kfa-knda-in",kfb:"kfb-deva-in",kfc:"kfc-telu-in",kfd:"kfd-knda-in",kfe:"kfe-taml-in",kff:"kff-latn-in","kff-deva":"kff-deva-in","kff-orya":"kff-orya-in","kff-telu":"kff-telu-in",kfh:"kfh-mlym-in",kfi:"kfi-taml-in","kfi-knda":"kfi-knda-in",kfk:"kfk-deva-in","kfk-takr":"kfk-takr-in",kfl:"kfl-latn-cm",kfm:"kfm-arab-ir",kfn:"kfn-latn-cm",kfo:"kfo-latn-ci",kfp:"kfp-deva-in",kfq:"kfq-deva-in",kfr:"kfr-deva-in",kfs:"kfs-deva-in",kfv:"kfv-latn-in",kfw:"kfw-latn-in",kfx:"kfx-deva-in","kfx-takr":"kfx-takr-in",kfy:"kfy-deva-in",kfz:"kfz-latn-bf",kg:"kg-latn-cd",kga:"kga-latn-ci",kgb:"kgb-latn-id",kge:"kge-latn-id",kgf:"kgf-latn-zz",kgj:"kgj-deva-np",kgk:"kgk-latn-br",kgl:"kgl-latn-au",kgm:"kgm-latn-br",kgo:"kgo-latn-sd",kgp:"kgp-latn-br",kgq:"kgq-latn-id",kgr:"kgr-latn-id",kgs:"kgs-latn-au",kgt:"kgt-latn-ng",kgu:"kgu-latn-pg",kgv:"kgv-latn-id",kgw:"kgw-latn-id",kgx:"kgx-latn-id",kgy:"kgy-deva-np",kha:"kha-latn-in",khb:"khb-talu-cn",khc:"khc-latn-id",khd:"khd-latn-id",khe:"khe-latn-id",khf:"khf-thai-la",khg:"khg-tibt-cn",khh:"khh-latn-id",khj:"khj-latn-ng",khl:"khl-latn-pg",khn:"khn-deva-in",khp:"khp-latn-id",khq:"khq-latn-ml",khr:"khr-latn-in","khr-deva":"khr-deva-in",khs:"khs-latn-zz",kht:"kht-mymr-in",khu:"khu-latn-ao",khv:"khv-cyrl-ru",khw:"khw-arab-pk",khx:"khx-latn-cd",khy:"khy-latn-cd",khz:"khz-latn-zz",ki:"ki-latn-ke",kia:"kia-latn-td",kib:"kib-latn-sd",kic:"kic-latn-us",kid:"kid-latn-cm",kie:"kie-latn-td",kif:"kif-deva-np",kig:"kig-latn-id",kih:"kih-latn-pg",kij:"kij-latn-zz",kil:"kil-latn-ng",kim:"kim-cyrl-ru",kio:"kio-latn-us",kip:"kip-deva-np",kiq:"kiq-latn-id",kis:"kis-latn-pg",kit:"kit-latn-pg",kiu:"kiu-latn-tr",kiv:"kiv-latn-tz",kiw:"kiw-latn-zz",kix:"kix-latn-in",kiy:"kiy-latn-id",kiz:"kiz-latn-tz",kj:"kj-latn-na",kja:"kja-latn-id",kjb:"kjb-latn-gt",kjc:"kjc-latn-id",kjd:"kjd-latn-zz",kje:"kje-latn-id",kjg:"kjg-laoo-la",kjh:"kjh-cyrl-ru",kji:"kji-latn-sb",kjj:"kjj-latn-az",kjk:"kjk-latn-id",kjl:"kjl-deva-np",kjm:"kjm-latn-vn",kjn:"kjn-latn-au",kjo:"kjo-deva-in",kjp:"kjp-mymr-mm","kjp-thai":"kjp-thai-th",kjq:"kjq-latn-us",kjr:"kjr-latn-id",kjs:"kjs-latn-zz",kjt:"kjt-thai-th",kju:"kju-latn-us",kjx:"kjx-latn-pg",kjy:"kjy-latn-zz",kk:"kk-cyrl-kz","kk-af":"kk-arab-af","kk-arab":"kk-arab-cn","kk-cn":"kk-arab-cn","kk-ir":"kk-arab-ir","kk-mn":"kk-arab-mn",kka:"kka-latn-ng",kkb:"kkb-latn-id",kkc:"kkc-latn-zz",kkd:"kkd-latn-ng",kke:"kke-latn-gn","kke-arab":"kke-arab-gn",kkf:"kkf-tibt-in",kkg:"kkg-latn-ph",kkh:"kkh-lana-mm",kki:"kki-latn-tz",kkj:"kkj-latn-cm",kkk:"kkk-latn-sb",kkl:"kkl-latn-id",kkm:"kkm-latn-ng",kko:"kko-latn-sd",kkp:"kkp-latn-au",kkq:"kkq-latn-cd",kkr:"kkr-latn-ng",kks:"kks-latn-ng",kkt:"kkt-deva-np",kku:"kku-latn-ng",kkv:"kkv-latn-id",kkw:"kkw-latn-cg",kkx:"kkx-latn-id",kky:"kky-latn-au",kkz:"kkz-latn-ca",kl:"kl-latn-gl",kla:"kla-latn-us",klb:"klb-latn-mx",klc:"klc-latn-cm",kld:"kld-latn-au",kle:"kle-deva-np",klf:"klf-latn-td",klg:"klg-latn-ph",klh:"klh-latn-pg",kli:"kli-latn-id",klj:"klj-arab-ir",klk:"klk-latn-ng",kll:"kll-latn-ph",klm:"klm-latn-pg",kln:"kln-latn-ke",klo:"klo-latn-ng",klp:"klp-latn-pg",klq:"klq-latn-zz",klr:"klr-deva-np",kls:"kls-latn-pk","kls-arab":"kls-arab-pk",klt:"klt-latn-zz",klu:"klu-latn-lr",klv:"klv-latn-vu",klw:"klw-latn-id",klx:"klx-latn-zz",kly:"kly-latn-id",klz:"klz-latn-id",km:"km-khmr-kh",kma:"kma-latn-gh",kmb:"kmb-latn-ao",kmc:"kmc-latn-cn","kmc-hani":"kmc-hani-cn",kmd:"kmd-latn-ph",kme:"kme-latn-cm",kmf:"kmf-latn-pg",kmg:"kmg-latn-pg",kmh:"kmh-latn-zz",kmi:"kmi-latn-ng",kmj:"kmj-deva-in",kmk:"kmk-latn-ph",kml:"kml-latn-ph",kmm:"kmm-latn-in",kmn:"kmn-latn-pg",kmo:"kmo-latn-zz",kmp:"kmp-latn-cm",kmq:"kmq-latn-et",kms:"kms-latn-zz",kmt:"kmt-latn-id",kmu:"kmu-latn-zz",kmv:"kmv-latn-br",kmw:"kmw-latn-zz",kmx:"kmx-latn-pg",kmy:"kmy-latn-ng",kmz:"kmz-arab-ir",kn:"kn-knda-in",kna:"kna-latn-ng",knb:"knb-latn-ph",knd:"knd-latn-id",kne:"kne-latn-ph",knf:"knf-latn-gw",kni:"kni-latn-ng",knj:"knj-latn-gt",knk:"knk-latn-sl","knk-arab":"knk-arab-sl",knl:"knl-latn-id",knm:"knm-latn-br",kno:"kno-latn-sl",knp:"knp-latn-zz",knq:"knq-latn-my",knr:"knr-latn-pg",kns:"kns-latn-my","kns-thai":"kns-thai-th",knt:"knt-latn-br",knu:"knu-latn-gn",knv:"knv-latn-pg",knw:"knw-latn-na",knx:"knx-latn-id",kny:"kny-latn-cd",knz:"knz-latn-bf",ko:"ko-kore-kr",koa:"koa-latn-pg",koc:"koc-latn-ng",kod:"kod-latn-id",koe:"koe-latn-ss",kof:"kof-latn-ng",kog:"kog-latn-co",koh:"koh-latn-cg",koi:"koi-cyrl-ru",kok:"kok-deva-in",kol:"kol-latn-zz",koo:"koo-latn-ug",kop:"kop-latn-pg",koq:"koq-latn-ga",kos:"kos-latn-fm",kot:"kot-latn-cm",kou:"kou-latn-td",kov:"kov-latn-ng",kow:"kow-latn-ng",koy:"koy-latn-us",koz:"koz-latn-zz",kpa:"kpa-latn-ng",kpc:"kpc-latn-co",kpd:"kpd-latn-id",kpe:"kpe-latn-lr",kpf:"kpf-latn-zz",kpg:"kpg-latn-fm",kph:"kph-latn-gh",kpi:"kpi-latn-id",kpj:"kpj-latn-br",kpk:"kpk-latn-ng",kpl:"kpl-latn-cd",kpm:"kpm-latn-vn",kpn:"kpn-latn-br",kpo:"kpo-latn-zz",kpq:"kpq-latn-id",kpr:"kpr-latn-zz",kps:"kps-latn-id",kpt:"kpt-cyrl-ru",kpu:"kpu-latn-id",kpw:"kpw-latn-pg",kpx:"kpx-latn-zz",kpy:"kpy-cyrl-ru",kpz:"kpz-latn-ug",kqa:"kqa-latn-pg",kqb:"kqb-latn-zz",kqc:"kqc-latn-pg",kqd:"kqd-syrc-iq",kqe:"kqe-latn-ph",kqf:"kqf-latn-zz",kqg:"kqg-latn-bf",kqh:"kqh-latn-tz",kqi:"kqi-latn-pg",kqj:"kqj-latn-pg",kqk:"kqk-latn-bj",kql:"kql-latn-pg",kqm:"kqm-latn-ci",kqn:"kqn-latn-zm",kqo:"kqo-latn-lr",kqp:"kqp-latn-td",kqq:"kqq-latn-br",kqr:"kqr-latn-my",kqs:"kqs-latn-zz",kqt:"kqt-latn-my",kqu:"kqu-latn-za",kqv:"kqv-latn-id",kqw:"kqw-latn-pg",kqx:"kqx-latn-cm",kqy:"kqy-ethi-zz",kqz:"kqz-latn-za",kr:"kr-latn-zz",kra:"kra-deva-np",krb:"krb-latn-us",krc:"krc-cyrl-ru",krd:"krd-latn-tl",kre:"kre-latn-br",krf:"krf-latn-vu",krh:"krh-latn-ng",kri:"kri-latn-sl",krj:"krj-latn-ph",krk:"krk-cyrl-ru",krl:"krl-latn-ru",krn:"krn-latn-lr",krp:"krp-latn-ng",krr:"krr-khmr-kh",krs:"krs-latn-zz",krt:"krt-latn-ne",kru:"kru-deva-in",krv:"krv-khmr-kh",krw:"krw-latn-lr",krx:"krx-latn-sn",kry:"kry-latn-az",krz:"krz-latn-id",ks:"ks-arab-in",ksa:"ksa-latn-ng",ksb:"ksb-latn-tz",ksc:"ksc-latn-ph",ksd:"ksd-latn-zz",kse:"kse-latn-pg",ksf:"ksf-latn-cm",ksg:"ksg-latn-sb",ksh:"ksh-latn-de",ksi:"ksi-latn-pg",ksj:"ksj-latn-zz",ksk:"ksk-latn-us",ksl:"ksl-latn-pg",ksm:"ksm-latn-ng",ksn:"ksn-latn-ph",kso:"kso-latn-ng",ksp:"ksp-latn-cf",ksq:"ksq-latn-ng",ksr:"ksr-latn-zz",kss:"kss-latn-lr",kst:"kst-latn-bf",ksu:"ksu-mymr-in",ksv:"ksv-latn-cd",ksw:"ksw-mymr-mm","ksw-latn":"ksw-latn-mm",ksx:"ksx-latn-id",ksz:"ksz-deva-in",kta:"kta-latn-vn",ktb:"ktb-ethi-zz",ktc:"ktc-latn-ng",ktd:"ktd-latn-au",ktf:"ktf-latn-cd",ktg:"ktg-latn-au",kth:"kth-latn-td",kti:"kti-latn-id",ktj:"ktj-latn-ci",ktk:"ktk-latn-pg",ktl:"ktl-arab-ir",ktm:"ktm-latn-zz",ktn:"ktn-latn-br",kto:"kto-latn-zz",ktp:"ktp-plrd-cn",ktq:"ktq-latn-ph",ktr:"ktr-latn-my",kts:"kts-latn-id",ktt:"ktt-latn-id",ktu:"ktu-latn-cd",ktv:"ktv-latn-vn",ktw:"ktw-latn-us",ktx:"ktx-latn-br",kty:"kty-latn-cd",ktz:"ktz-latn-na",ku:"ku-latn-tr","ku-arab":"ku-arab-iq","ku-lb":"ku-arab-lb","ku-yezi":"ku-yezi-ge",kub:"kub-latn-zz",kuc:"kuc-latn-id",kud:"kud-latn-zz",kue:"kue-latn-zz",kuf:"kuf-laoo-la",kug:"kug-latn-ng",kuh:"kuh-latn-ng",kui:"kui-latn-br",kuj:"kuj-latn-zz",kuk:"kuk-latn-id",kul:"kul-latn-ng",kum:"kum-cyrl-ru",kun:"kun-latn-zz",kuo:"kuo-latn-pg",kup:"kup-latn-zz",kuq:"kuq-latn-br",kus:"kus-latn-zz",kut:"kut-latn-ca",kuu:"kuu-latn-us",kuv:"kuv-latn-id",kuw:"kuw-latn-cf",kux:"kux-latn-au",kuy:"kuy-latn-au",kuz:"kuz-latn-cl",kv:"kv-cyrl-ru",kva:"kva-cyrl-ru",kvb:"kvb-latn-id",kvc:"kvc-latn-pg",kvd:"kvd-latn-id",kve:"kve-latn-my",kvf:"kvf-latn-td",kvg:"kvg-latn-zz",kvh:"kvh-latn-id",kvi:"kvi-latn-td",kvj:"kvj-latn-cm",kvl:"kvl-latn-mm",kvm:"kvm-latn-cm",kvn:"kvn-latn-co",kvo:"kvo-latn-id",kvp:"kvp-latn-id",kvq:"kvq-mymr-mm","kvq-latn":"kvq-latn-mm",kvr:"kvr-latn-id",kvt:"kvt-mymr-mm",kvv:"kvv-latn-id",kvw:"kvw-latn-id",kvx:"kvx-arab-pk",kvy:"kvy-kali-mm",kvz:"kvz-latn-id",kw:"kw-latn-gb",kwa:"kwa-latn-br",kwb:"kwb-latn-ng",kwc:"kwc-latn-cg",kwd:"kwd-latn-sb",kwe:"kwe-latn-id",kwf:"kwf-latn-sb",kwg:"kwg-latn-td",kwh:"kwh-latn-id",kwi:"kwi-latn-co",kwj:"kwj-latn-zz",kwk:"kwk-latn-ca",kwl:"kwl-latn-ng",kwm:"kwm-latn-na",kwn:"kwn-latn-na",kwo:"kwo-latn-zz",kwp:"kwp-latn-ci",kwq:"kwq-latn-zz",kwr:"kwr-latn-id",kws:"kws-latn-cd",kwt:"kwt-latn-id",kwu:"kwu-latn-cm",kwv:"kwv-latn-td",kww:"kww-latn-sr",kwy:"kwy-latn-cd",kwz:"kwz-latn-ao",kxa:"kxa-latn-zz",kxb:"kxb-latn-ci",kxc:"kxc-ethi-zz",kxd:"kxd-latn-bn","kxd-arab":"kxd-arab-bn",kxe:"kxe-latn-zz",kxf:"kxf-mymr-mm","kxf-latn":"kxf-latn-mm",kxi:"kxi-latn-my",kxj:"kxj-latn-td",kxk:"kxk-mymr-mm",kxl:"kxl-deva-in",kxm:"kxm-thai-th",kxn:"kxn-latn-my",kxo:"kxo-latn-br",kxp:"kxp-arab-pk",kxq:"kxq-latn-id",kxr:"kxr-latn-pg",kxt:"kxt-latn-pg",kxv:"kxv-orya-in","kxv-latn":"kxv-latn-in","kxv-telu":"kxv-telu-in",kxw:"kxw-latn-zz",kxx:"kxx-latn-cg",kxy:"kxy-latn-vn",kxz:"kxz-latn-zz",ky:"ky-cyrl-kg","ky-arab":"ky-arab-cn","ky-cn":"ky-arab-cn","ky-latn":"ky-latn-tr","ky-tr":"ky-latn-tr",kya:"kya-latn-tz",kyb:"kyb-latn-ph",kyc:"kyc-latn-pg",kyd:"kyd-latn-id",kye:"kye-latn-zz",kyf:"kyf-latn-ci",kyg:"kyg-latn-pg",kyh:"kyh-latn-us",kyi:"kyi-latn-my",kyj:"kyj-latn-ph",kyk:"kyk-latn-ph",kyl:"kyl-latn-us",kym:"kym-latn-cf",kyn:"kyn-latn-ph",kyo:"kyo-latn-id",kyq:"kyq-latn-td",kyr:"kyr-latn-br",kys:"kys-latn-my",kyt:"kyt-latn-id",kyu:"kyu-kali-mm","kyu-latn":"kyu-latn-mm","kyu-mymr":"kyu-mymr-mm",kyv:"kyv-deva-np",kyw:"kyw-deva-in","kyw-beng":"kyw-beng-in","kyw-orya":"kyw-orya-in",kyx:"kyx-latn-zz",kyy:"kyy-latn-pg",kyz:"kyz-latn-br",kza:"kza-latn-bf",kzb:"kzb-latn-id",kzc:"kzc-latn-ci",kzd:"kzd-latn-id",kze:"kze-latn-pg",kzf:"kzf-latn-id",kzh:"kzh-arab-zz",kzi:"kzi-latn-my",kzj:"kzj-latn-my",kzk:"kzk-latn-sb",kzl:"kzl-latn-id",kzm:"kzm-latn-id",kzn:"kzn-latn-mw",kzo:"kzo-latn-ga",kzp:"kzp-latn-id",kzr:"kzr-latn-zz",kzs:"kzs-latn-my",kzt:"kzt-latn-my",kzu:"kzu-latn-id",kzv:"kzv-latn-id",kzw:"kzw-latn-br",kzx:"kzx-latn-id",kzy:"kzy-latn-cd",kzz:"kzz-latn-id",la:"la-latn-va",laa:"laa-latn-ph",lab:"lab-lina-gr",lac:"lac-latn-mx",lad:"lad-hebr-il",lae:"lae-deva-in","lae-tibt":"lae-tibt-in",lag:"lag-latn-tz",lah:"lah-arab-pk",lai:"lai-latn-mw",laj:"laj-latn-ug",lal:"lal-latn-cd",lam:"lam-latn-zm",lan:"lan-latn-ng",lap:"lap-latn-td",laq:"laq-latn-vn",lar:"lar-latn-gh",las:"las-latn-zz",lau:"lau-latn-id",law:"law-latn-id",lax:"lax-latn-in","lax-beng":"lax-beng-in",laz:"laz-latn-pg",lb:"lb-latn-lu",lbb:"lbb-latn-pg",lbc:"lbc-lisu-cn",lbe:"lbe-cyrl-ru",lbf:"lbf-deva-in","lbf-tibt":"lbf-tibt-cn",lbi:"lbi-latn-cm",lbj:"lbj-tibt-in","lbj-arab":"lbj-arab-in",lbl:"lbl-latn-ph",lbm:"lbm-deva-in",lbn:"lbn-latn-la","lbn-laoo":"lbn-laoo-la",lbo:"lbo-laoo-la","lbo-latn":"lbo-latn-us",lbq:"lbq-latn-pg",lbr:"lbr-deva-np",lbt:"lbt-latn-vn",lbu:"lbu-latn-zz",lbv:"lbv-latn-pg",lbw:"lbw-latn-id",lbx:"lbx-latn-id",lby:"lby-latn-au",lbz:"lbz-latn-au",lcc:"lcc-latn-id",lcd:"lcd-latn-id",lce:"lce-latn-id",lcf:"lcf-latn-id",lch:"lch-latn-ao",lcl:"lcl-latn-id",lcm:"lcm-latn-zz",lcp:"lcp-thai-cn",lcq:"lcq-latn-id",lcs:"lcs-latn-id",lda:"lda-latn-ci",ldb:"ldb-latn-zz",ldd:"ldd-latn-ng",ldg:"ldg-latn-ng",ldh:"ldh-latn-ng",ldi:"ldi-latn-cg",ldj:"ldj-latn-ng",ldk:"ldk-latn-ng",ldl:"ldl-latn-ng",ldm:"ldm-latn-gn",ldn:"ldn-latn-001",ldo:"ldo-latn-ng",ldp:"ldp-latn-ng",ldq:"ldq-latn-ng",lea:"lea-latn-cd",leb:"leb-latn-zm",lec:"lec-latn-bo",led:"led-latn-zz",lee:"lee-latn-zz",lef:"lef-latn-gh",leh:"leh-latn-zm",lei:"lei-latn-pg",lej:"lej-latn-cd",lek:"lek-latn-pg",lel:"lel-latn-cd",lem:"lem-latn-zz",len:"len-latn-hn",leo:"leo-latn-cm",lep:"lep-lepc-in",leq:"leq-latn-zz",ler:"ler-latn-pg",les:"les-latn-cd",let:"let-latn-pg",leu:"leu-latn-zz",lev:"lev-latn-id",lew:"lew-latn-id",lex:"lex-latn-id",ley:"ley-latn-id",lez:"lez-cyrl-ru",lfa:"lfa-latn-cm",lfn:"lfn-latn-001","lfn-cyrl":"lfn-cyrl-001",lg:"lg-latn-ug",lga:"lga-latn-sb",lgb:"lgb-latn-sb",lgg:"lgg-latn-zz",lgh:"lgh-latn-vn",lgi:"lgi-latn-id",lgk:"lgk-latn-vu",lgl:"lgl-latn-sb",lgm:"lgm-latn-cd",lgn:"lgn-latn-et",lgo:"lgo-latn-ss",lgq:"lgq-latn-gh",lgr:"lgr-latn-sb",lgt:"lgt-latn-pg",lgu:"lgu-latn-sb",lgz:"lgz-latn-cd",lha:"lha-latn-vn",lhh:"lhh-latn-id",lhi:"lhi-latn-cn",lhm:"lhm-deva-np",lhn:"lhn-latn-my",lhs:"lhs-syrc-sy",lht:"lht-latn-vu",lhu:"lhu-latn-cn",li:"li-latn-nl",lia:"lia-latn-zz",lib:"lib-latn-pg",lic:"lic-latn-cn",lid:"lid-latn-zz",lie:"lie-latn-cd",lif:"lif-deva-np","lif-limb":"lif-limb-in",lig:"lig-latn-zz",lih:"lih-latn-zz",lij:"lij-latn-it",lik:"lik-latn-cd",lil:"lil-latn-ca",lio:"lio-latn-id",lip:"lip-latn-gh",liq:"liq-latn-et",lir:"lir-latn-lr",lis:"lis-lisu-cn",liu:"liu-latn-sd",liv:"liv-latn-lv",liw:"liw-latn-id",lix:"lix-latn-id",liy:"liy-latn-cf",liz:"liz-latn-cd",lja:"lja-latn-au",lje:"lje-latn-id",lji:"lji-latn-id",ljl:"ljl-latn-id",ljp:"ljp-latn-id",ljw:"ljw-latn-au",ljx:"ljx-latn-au",lka:"lka-latn-tl",lkb:"lkb-latn-ke",lkc:"lkc-latn-vn",lkd:"lkd-latn-br",lke:"lke-latn-ug",lkh:"lkh-tibt-bt",lki:"lki-arab-ir",lkj:"lkj-latn-my",lkl:"lkl-latn-pg",lkm:"lkm-latn-au",lkn:"lkn-latn-vu",lko:"lko-latn-ke",lkr:"lkr-latn-ss",lks:"lks-latn-ke",lkt:"lkt-latn-us",lku:"lku-latn-au",lky:"lky-latn-ss",lla:"lla-latn-ng",llb:"llb-latn-mz",llc:"llc-latn-gn",lld:"lld-latn-it",lle:"lle-latn-zz",llf:"llf-latn-pg",llg:"llg-latn-id",lli:"lli-latn-cg",llj:"llj-latn-au",llk:"llk-latn-my",lll:"lll-latn-pg",llm:"llm-latn-id",lln:"lln-latn-zz",llp:"llp-latn-vu",llq:"llq-latn-id",llu:"llu-latn-sb",llx:"llx-latn-fj",lma:"lma-latn-gn",lmb:"lmb-latn-vu",lmc:"lmc-latn-au",lmd:"lmd-latn-sd",lme:"lme-latn-td",lmf:"lmf-latn-id",lmg:"lmg-latn-pg",lmh:"lmh-deva-np",lmi:"lmi-latn-cd",lmj:"lmj-latn-id",lmk:"lmk-latn-in","lmk-mymr":"lmk-mymr-in",lml:"lml-latn-vu",lmn:"lmn-telu-in",lmo:"lmo-latn-it",lmp:"lmp-latn-zz",lmq:"lmq-latn-id",lmr:"lmr-latn-id",lmu:"lmu-latn-vu",lmv:"lmv-latn-fj",lmw:"lmw-latn-us",lmx:"lmx-latn-cm",lmy:"lmy-latn-id",ln:"ln-latn-cd",lna:"lna-latn-cf",lnb:"lnb-latn-na",lnd:"lnd-latn-id",lnh:"lnh-latn-my",lni:"lni-latn-pg",lnj:"lnj-latn-au",lnl:"lnl-latn-cf",lnm:"lnm-latn-pg",lnn:"lnn-latn-vu",lns:"lns-latn-zz",lnu:"lnu-latn-zz",lnw:"lnw-latn-au",lnz:"lnz-latn-cd",lo:"lo-laoo-la",loa:"loa-latn-id",lob:"lob-latn-bf",loc:"loc-latn-ph",loe:"loe-latn-id",log:"log-latn-cd",loh:"loh-latn-ss",loi:"loi-latn-ci",loj:"loj-latn-zz",lok:"lok-latn-zz",lol:"lol-latn-cd",lom:"lom-latn-lr",lon:"lon-latn-mw",loo:"loo-latn-cd",lop:"lop-latn-ng",loq:"loq-latn-cd",lor:"lor-latn-zz",los:"los-latn-zz",lot:"lot-latn-ss","lot-arab":"lot-arab-ss",lou:"lou-latn-us",low:"low-latn-my",lox:"lox-latn-id",loy:"loy-deva-np","loy-tibt":"loy-tibt-np",loz:"loz-latn-zm",lpa:"lpa-latn-vu",lpe:"lpe-latn-id",lpn:"lpn-latn-mm",lpo:"lpo-plrd-cn","lpo-lisu":"lpo-lisu-cn",lpx:"lpx-latn-ss",lqr:"lqr-latn-ss",lra:"lra-latn-my",lrc:"lrc-arab-ir",lrg:"lrg-latn-au",lri:"lri-latn-ke",lrk:"lrk-arab-pk",lrl:"lrl-arab-ir",lrm:"lrm-latn-ke",lrn:"lrn-latn-id",lro:"lro-latn-sd",lrt:"lrt-latn-id",lrv:"lrv-latn-vu",lrz:"lrz-latn-vu",lsa:"lsa-arab-ir",lsd:"lsd-hebr-il",lse:"lse-latn-cd",lsi:"lsi-latn-mm",lsm:"lsm-latn-ug",lsr:"lsr-latn-pg",lss:"lss-arab-pk",lt:"lt-latn-lt",ltg:"ltg-latn-lv",lth:"lth-latn-ug",lti:"lti-latn-id",ltn:"ltn-latn-br",lto:"lto-latn-ke",lts:"lts-latn-ke",ltu:"ltu-latn-id",lu:"lu-latn-cd",lua:"lua-latn-cd",luc:"luc-latn-ug",lud:"lud-latn-ru",lue:"lue-latn-zm",luf:"luf-latn-pg",lui:"lui-latn-us",luj:"luj-latn-cd",luk:"luk-tibt-bt",lul:"lul-latn-ss",lum:"lum-latn-ao",lun:"lun-latn-zm",luo:"luo-latn-ke",lup:"lup-latn-ga",luq:"luq-latn-cu",lur:"lur-latn-id",lus:"lus-latn-in","lus-beng":"lus-beng-bd","lus-brai":"lus-brai-in",lut:"lut-latn-us",luu:"luu-deva-np",luv:"luv-arab-om",luw:"luw-latn-cm",luy:"luy-latn-ke",luz:"luz-arab-ir",lv:"lv-latn-lv",lva:"lva-latn-tl",lvi:"lvi-latn-la",lvk:"lvk-latn-sb",lvu:"lvu-latn-id",lwa:"lwa-latn-cd",lwe:"lwe-latn-id",lwg:"lwg-latn-ke",lwh:"lwh-latn-vn",lwl:"lwl-thai-th",lwm:"lwm-thai-cn",lwo:"lwo-latn-ss","lwo-za":"lwo-latn-za",lwt:"lwt-latn-id",lww:"lww-latn-vu",lxm:"lxm-latn-pg",lya:"lya-tibt-bt",lyn:"lyn-latn-zm",lzh:"lzh-hans-cn",lzl:"lzl-latn-vu",lzn:"lzn-latn-mm",lzz:"lzz-latn-tr",maa:"maa-latn-mx",mab:"mab-latn-mx",mad:"mad-latn-id",mae:"mae-latn-ng",maf:"maf-latn-cm",mag:"mag-deva-in",mai:"mai-deva-in",maj:"maj-latn-mx",mak:"mak-latn-id",mam:"mam-latn-gt",man:"man-latn-gm","man-gn":"man-nkoo-gn","man-nkoo":"man-nkoo-gn",maq:"maq-latn-mx",mas:"mas-latn-ke",mat:"mat-latn-mx",mau:"mau-latn-mx",mav:"mav-latn-br",maw:"maw-latn-zz",max:"max-latn-id",maz:"maz-latn-mx",mba:"mba-latn-ph",mbb:"mbb-latn-ph",mbc:"mbc-latn-br",mbd:"mbd-latn-ph",mbf:"mbf-latn-sg",mbh:"mbh-latn-zz",mbi:"mbi-latn-ph",mbj:"mbj-latn-br",mbk:"mbk-latn-pg",mbl:"mbl-latn-br",mbm:"mbm-latn-cg",mbn:"mbn-latn-co",mbo:"mbo-latn-zz",mbp:"mbp-latn-co",mbq:"mbq-latn-zz",mbr:"mbr-latn-co",mbs:"mbs-latn-ph",mbt:"mbt-latn-ph",mbu:"mbu-latn-zz",mbv:"mbv-latn-gn",mbw:"mbw-latn-zz",mbx:"mbx-latn-pg",mby:"mby-arab-pk",mbz:"mbz-latn-mx",mca:"mca-latn-py",mcb:"mcb-latn-pe",mcc:"mcc-latn-pg",mcd:"mcd-latn-pe",mce:"mce-latn-mx",mcf:"mcf-latn-pe",mcg:"mcg-latn-ve",mch:"mch-latn-ve",mci:"mci-latn-zz",mcj:"mcj-latn-ng",mck:"mck-latn-ao",mcl:"mcl-latn-co",mcm:"mcm-latn-my",mcn:"mcn-latn-td",mco:"mco-latn-mx",mcp:"mcp-latn-zz",mcq:"mcq-latn-zz",mcr:"mcr-latn-zz",mcs:"mcs-latn-cm",mct:"mct-latn-cm",mcu:"mcu-latn-zz",mcv:"mcv-latn-pg",mcw:"mcw-latn-td",mcx:"mcx-latn-cf",mcy:"mcy-latn-pg",mcz:"mcz-latn-pg",mda:"mda-latn-zz",mdb:"mdb-latn-pg",mdc:"mdc-latn-pg",mdd:"mdd-latn-cm",mde:"mde-arab-zz",mdf:"mdf-cyrl-ru",mdg:"mdg-latn-td",mdh:"mdh-latn-ph",mdi:"mdi-latn-cd",mdj:"mdj-latn-zz",mdk:"mdk-latn-cd",mdm:"mdm-latn-cd",mdn:"mdn-latn-cf",mdp:"mdp-latn-cd",mdq:"mdq-latn-cd",mdr:"mdr-latn-id",mds:"mds-latn-pg",mdt:"mdt-latn-cg",mdu:"mdu-latn-cg",mdv:"mdv-latn-mx",mdw:"mdw-latn-cg",mdx:"mdx-ethi-zz",mdy:"mdy-ethi-et","mdy-latn":"mdy-latn-et",mdz:"mdz-latn-br",mea:"mea-latn-cm",meb:"meb-latn-pg",mec:"mec-latn-au",med:"med-latn-zz",mee:"mee-latn-zz",meh:"meh-latn-mx",mej:"mej-latn-id",mek:"mek-latn-zz",mel:"mel-latn-my",mem:"mem-latn-au",men:"men-latn-sl",meo:"meo-latn-my","meo-arab":"meo-arab-my",mep:"mep-latn-au",meq:"meq-latn-cm",mer:"mer-latn-ke",mes:"mes-latn-td",met:"met-latn-zz",meu:"meu-latn-zz",mev:"mev-latn-lr",mew:"mew-latn-ng",mey:"mey-latn-mr","mey-arab":"mey-arab-mr",mez:"mez-latn-us",mfa:"mfa-arab-th",mfb:"mfb-latn-id",mfc:"mfc-latn-cd",mfd:"mfd-latn-cm",mfe:"mfe-latn-mu",mff:"mff-latn-cm",mfg:"mfg-latn-gn","mfg-arab":"mfg-arab-gn",mfh:"mfh-latn-cm",mfi:"mfi-arab-cm","mfi-latn":"mfi-latn-cm",mfj:"mfj-latn-cm",mfk:"mfk-latn-cm",mfl:"mfl-latn-ng",mfm:"mfm-latn-ng",mfn:"mfn-latn-zz",mfo:"mfo-latn-zz",mfp:"mfp-latn-id",mfq:"mfq-latn-zz",mfr:"mfr-latn-au",mft:"mft-latn-pg",mfu:"mfu-latn-ao",mfv:"mfv-latn-gw",mfw:"mfw-latn-pg",mfx:"mfx-latn-et","mfx-ethi":"mfx-ethi-et",mfy:"mfy-latn-mx",mfz:"mfz-latn-ss",mg:"mg-latn-mg",mgb:"mgb-latn-td",mgc:"mgc-latn-ss",mgd:"mgd-latn-ss","mgd-arab":"mgd-arab-ss",mge:"mge-latn-td",mgf:"mgf-latn-id",mgg:"mgg-latn-cm",mgh:"mgh-latn-mz",mgi:"mgi-latn-ng",mgj:"mgj-latn-ng",mgk:"mgk-latn-id",mgl:"mgl-latn-zz",mgm:"mgm-latn-tl",mgn:"mgn-latn-cf",mgo:"mgo-latn-cm",mgp:"mgp-deva-np",mgq:"mgq-latn-tz",mgr:"mgr-latn-zm",mgs:"mgs-latn-tz",mgt:"mgt-latn-pg",mgu:"mgu-latn-pg",mgv:"mgv-latn-tz",mgw:"mgw-latn-tz",mgy:"mgy-latn-tz",mgz:"mgz-latn-tz",mh:"mh-latn-mh",mhb:"mhb-latn-ga",mhc:"mhc-latn-mx",mhd:"mhd-latn-tz",mhe:"mhe-latn-my",mhf:"mhf-latn-pg",mhg:"mhg-latn-au",mhi:"mhi-latn-zz",mhj:"mhj-arab-af",mhk:"mhk-latn-cm",mhl:"mhl-latn-zz",mhm:"mhm-latn-mz",mhn:"mhn-latn-it",mho:"mho-latn-zm",mhp:"mhp-latn-id",mhq:"mhq-latn-us",mhs:"mhs-latn-id",mht:"mht-latn-ve",mhu:"mhu-latn-in",mhw:"mhw-latn-bw",mhx:"mhx-latn-mm",mhy:"mhy-latn-id",mhz:"mhz-latn-id",mi:"mi-latn-nz",mia:"mia-latn-us",mib:"mib-latn-mx",mic:"mic-latn-ca",mid:"mid-mand-iq",mie:"mie-latn-mx",mif:"mif-latn-zz",mig:"mig-latn-mx",mih:"mih-latn-mx",mii:"mii-latn-mx",mij:"mij-latn-cm",mik:"mik-latn-us",mil:"mil-latn-mx",mim:"mim-latn-mx",min:"min-latn-id",mio:"mio-latn-mx",mip:"mip-latn-mx",miq:"miq-latn-ni",mir:"mir-latn-mx",mit:"mit-latn-mx",miu:"miu-latn-mx",miw:"miw-latn-zz",mix:"mix-latn-mx",miy:"miy-latn-mx",miz:"miz-latn-mx",mjb:"mjb-latn-tl",mjc:"mjc-latn-mx",mjd:"mjd-latn-us",mje:"mje-latn-td",mjg:"mjg-latn-cn",mjh:"mjh-latn-tz",mji:"mji-latn-cn",mjj:"mjj-latn-pg",mjk:"mjk-latn-pg",mjl:"mjl-deva-in","mjl-takr":"mjl-takr-in",mjm:"mjm-latn-pg",mjn:"mjn-latn-pg",mjq:"mjq-mlym-in",mjr:"mjr-mlym-in",mjs:"mjs-latn-ng",mjt:"mjt-deva-in","mjt-beng":"mjt-beng-bd",mju:"mju-telu-in",mjv:"mjv-mlym-in",mjw:"mjw-latn-in",mjx:"mjx-latn-bd","mjx-beng":"mjx-beng-bd",mjy:"mjy-latn-us",mjz:"mjz-deva-np",mk:"mk-cyrl-mk",mka:"mka-latn-ci",mkb:"mkb-deva-in",mkc:"mkc-latn-pg",mke:"mke-deva-in",mkf:"mkf-latn-ng",mki:"mki-arab-zz",mkj:"mkj-latn-fm",mkk:"mkk-latn-cm",mkl:"mkl-latn-zz",mkm:"mkm-thai-th",mkn:"mkn-latn-id",mko:"mko-latn-ng",mkp:"mkp-latn-zz",mkr:"mkr-latn-pg",mks:"mks-latn-mx",mkt:"mkt-latn-nc",mku:"mku-latn-gn",mkv:"mkv-latn-vu",mkw:"mkw-latn-zz",mkx:"mkx-latn-ph",mky:"mky-latn-id",mkz:"mkz-latn-tl",ml:"ml-mlym-in",mla:"mla-latn-vu",mlb:"mlb-latn-cm",mlc:"mlc-latn-vn",mle:"mle-latn-zz",mlf:"mlf-thai-la","mlf-latn":"mlf-latn-la",mlh:"mlh-latn-pg",mli:"mli-latn-id",mlj:"mlj-latn-td",mlk:"mlk-latn-ke",mll:"mll-latn-vu",mln:"mln-latn-sb",mlo:"mlo-latn-sn",mlp:"mlp-latn-zz",mlq:"mlq-latn-sn","mlq-arab":"mlq-arab-sn",mlr:"mlr-latn-cm",mls:"mls-latn-sd",mlu:"mlu-latn-sb",mlv:"mlv-latn-vu",mlw:"mlw-latn-cm",mlx:"mlx-latn-vu",mlz:"mlz-latn-ph",mma:"mma-latn-ng",mmb:"mmb-latn-id",mmc:"mmc-latn-mx",mmd:"mmd-latn-cn","mmd-hans":"mmd-hans-cn","mmd-hant":"mmd-hant-cn",mme:"mme-latn-vu",mmf:"mmf-latn-ng",mmg:"mmg-latn-vu",mmh:"mmh-latn-br",mmi:"mmi-latn-pg",mmm:"mmm-latn-vu",mmn:"mmn-latn-ph",mmo:"mmo-latn-zz",mmp:"mmp-latn-pg",mmq:"mmq-latn-pg",mmr:"mmr-latn-cn",mmt:"mmt-latn-pg",mmu:"mmu-latn-zz",mmv:"mmv-latn-br",mmw:"mmw-latn-vu",mmx:"mmx-latn-zz",mmy:"mmy-latn-td",mmz:"mmz-latn-cd",mn:"mn-cyrl-mn","mn-cn":"mn-mong-cn","mn-mong":"mn-mong-cn",mna:"mna-latn-zz",mnb:"mnb-latn-id",mnd:"mnd-latn-br",mne:"mne-latn-td",mnf:"mnf-latn-zz",mng:"mng-latn-vn",mnh:"mnh-latn-cd",mni:"mni-beng-in",mnj:"mnj-arab-af",mnl:"mnl-latn-vu",mnm:"mnm-latn-pg",mnn:"mnn-latn-vn",mnp:"mnp-latn-cn",mnq:"mnq-latn-my",mnr:"mnr-latn-us",mns:"mns-cyrl-ru",mnu:"mnu-latn-id",mnv:"mnv-latn-sb",mnw:"mnw-mymr-mm",mnx:"mnx-latn-id",mny:"mny-latn-mz",mnz:"mnz-latn-id",mo:"mo-latn-ro",moa:"moa-latn-zz",moc:"moc-latn-ar",mod:"mod-latn-us",moe:"moe-latn-ca",mog:"mog-latn-id",moh:"moh-latn-ca",moi:"moi-latn-ng",moj:"moj-latn-cg",mok:"mok-latn-id",mom:"mom-latn-ni",moo:"moo-latn-vn",mop:"mop-latn-bz",moq:"moq-latn-id",mor:"mor-latn-sd",mos:"mos-latn-bf",mot:"mot-latn-co",mou:"mou-latn-td",mov:"mov-latn-us",mow:"mow-latn-cg",mox:"mox-latn-zz",moy:"moy-latn-et","moy-ethi":"moy-ethi-et",moz:"moz-latn-td",mpa:"mpa-latn-tz",mpb:"mpb-latn-au",mpc:"mpc-latn-au",mpd:"mpd-latn-br",mpe:"mpe-latn-et","mpe-ethi":"mpe-ethi-et",mpg:"mpg-latn-td",mph:"mph-latn-au",mpi:"mpi-latn-cm",mpj:"mpj-latn-au",mpk:"mpk-latn-td",mpl:"mpl-latn-pg",mpm:"mpm-latn-mx",mpn:"mpn-latn-pg",mpo:"mpo-latn-pg",mpp:"mpp-latn-zz",mpq:"mpq-latn-br",mpr:"mpr-latn-sb",mps:"mps-latn-zz",mpt:"mpt-latn-zz",mpu:"mpu-latn-br",mpv:"mpv-latn-pg",mpw:"mpw-latn-br",mpx:"mpx-latn-zz",mpy:"mpy-latn-id",mpz:"mpz-thai-th",mqa:"mqa-latn-id",mqb:"mqb-latn-cm",mqc:"mqc-latn-id",mqe:"mqe-latn-pg",mqf:"mqf-latn-id",mqg:"mqg-latn-id",mqh:"mqh-latn-mx",mqi:"mqi-latn-id",mqj:"mqj-latn-id",mqk:"mqk-latn-ph",mql:"mql-latn-zz",mqm:"mqm-latn-pf",mqn:"mqn-latn-id",mqo:"mqo-latn-id",mqp:"mqp-latn-id",mqq:"mqq-latn-my",mqr:"mqr-latn-id",mqs:"mqs-latn-id",mqu:"mqu-latn-ss",mqv:"mqv-latn-pg",mqw:"mqw-latn-pg",mqx:"mqx-latn-id","mqx-bugi":"mqx-bugi-id",mqy:"mqy-latn-id",mqz:"mqz-latn-pg",mr:"mr-deva-in",mra:"mra-thai-th",mrb:"mrb-latn-vu",mrc:"mrc-latn-us",mrd:"mrd-deva-np",mrf:"mrf-latn-id",mrg:"mrg-latn-in","mrg-beng":"mrg-beng-in","mrg-deva":"mrg-deva-in",mrh:"mrh-latn-in",mrj:"mrj-cyrl-ru",mrk:"mrk-latn-nc",mrl:"mrl-latn-fm",mrm:"mrm-latn-vu",mrn:"mrn-latn-sb",mro:"mro-mroo-bd",mrp:"mrp-latn-vu",mrq:"mrq-latn-pf",mrr:"mrr-deva-in",mrs:"mrs-latn-vu",mrt:"mrt-latn-ng",mru:"mru-latn-cm",mrv:"mrv-latn-pf",mrw:"mrw-latn-ph","mrw-arab":"mrw-arab-ph",mrx:"mrx-latn-id",mry:"mry-latn-ph",mrz:"mrz-latn-id",ms:"ms-latn-my","ms-cc":"ms-arab-cc",msb:"msb-latn-ph",msc:"msc-latn-gn",mse:"mse-latn-td",msf:"msf-latn-id",msg:"msg-latn-id",msh:"msh-latn-mg",msi:"msi-latn-my",msj:"msj-latn-cd",msk:"msk-latn-ph",msl:"msl-latn-id",msm:"msm-latn-ph",msn:"msn-latn-vu",mso:"mso-latn-id",msp:"msp-latn-br",msq:"msq-latn-nc",mss:"mss-latn-id",msu:"msu-latn-pg",msv:"msv-latn-cm",msw:"msw-latn-gw",msx:"msx-latn-pg",msy:"msy-latn-pg",msz:"msz-latn-pg",mt:"mt-latn-mt",mta:"mta-latn-ph",mtb:"mtb-latn-ci",mtc:"mtc-latn-zz",mtd:"mtd-latn-id",mte:"mte-latn-sb",mtf:"mtf-latn-zz",mtg:"mtg-latn-id",mth:"mth-latn-id",mti:"mti-latn-zz",mtj:"mtj-latn-id",mtk:"mtk-latn-cm",mtl:"mtl-latn-ng",mtm:"mtm-cyrl-ru",mtn:"mtn-latn-ni",mto:"mto-latn-mx",mtp:"mtp-latn-bo",mtq:"mtq-latn-vn",mtr:"mtr-deva-in",mts:"mts-latn-pe",mtt:"mtt-latn-vu",mtu:"mtu-latn-mx",mtv:"mtv-latn-pg",mtw:"mtw-latn-ph",mtx:"mtx-latn-mx",mty:"mty-latn-pg",mua:"mua-latn-cm",mub:"mub-latn-td",muc:"muc-latn-cm",mud:"mud-cyrl-ru",mue:"mue-latn-ec",mug:"mug-latn-cm",muh:"muh-latn-ss",mui:"mui-latn-id",muj:"muj-latn-td",muk:"muk-tibt-np",mum:"mum-latn-pg",muo:"muo-latn-cm",muq:"muq-latn-cn",mur:"mur-latn-zz",mus:"mus-latn-us",mut:"mut-deva-in",muu:"muu-latn-ke",muv:"muv-taml-in",mux:"mux-latn-pg",muy:"muy-latn-cm",muz:"muz-ethi-et","muz-latn":"muz-latn-et",mva:"mva-latn-zz",mvd:"mvd-latn-id",mvf:"mvf-mong-cn","mvf-phag":"mvf-phag-cn",mvg:"mvg-latn-mx",mvh:"mvh-latn-td",mvk:"mvk-latn-pg",mvl:"mvl-latn-au",mvn:"mvn-latn-zz",mvo:"mvo-latn-sb",mvp:"mvp-latn-id",mvq:"mvq-latn-pg",mvr:"mvr-latn-id",mvs:"mvs-latn-id",mvt:"mvt-latn-vu",mvu:"mvu-latn-td",mvv:"mvv-latn-my",mvw:"mvw-latn-tz",mvx:"mvx-latn-id",mvy:"mvy-arab-pk",mvz:"mvz-ethi-et","mvz-arab":"mvz-arab-et",mwa:"mwa-latn-pg",mwb:"mwb-latn-pg",mwc:"mwc-latn-pg",mwe:"mwe-latn-tz",mwf:"mwf-latn-au",mwg:"mwg-latn-pg",mwh:"mwh-latn-pg",mwi:"mwi-latn-vu",mwk:"mwk-latn-ml",mwl:"mwl-latn-pt",mwm:"mwm-latn-td",mwn:"mwn-latn-zm",mwo:"mwo-latn-vu",mwp:"mwp-latn-au",mwq:"mwq-latn-mm",mwr:"mwr-deva-in",mws:"mws-latn-ke",mwt:"mwt-mymr-mm","mwt-thai":"mwt-thai-th",mwu:"mwu-latn-ss",mwv:"mwv-latn-id",mww:"mww-hmnp-us",mwz:"mwz-latn-cd",mxa:"mxa-latn-mx",mxb:"mxb-latn-mx",mxc:"mxc-latn-zw",mxd:"mxd-latn-id",mxe:"mxe-latn-vu",mxf:"mxf-latn-cm",mxg:"mxg-latn-ao",mxh:"mxh-latn-cd",mxi:"mxi-latn-es",mxj:"mxj-latn-in",mxk:"mxk-latn-pg",mxl:"mxl-latn-bj",mxm:"mxm-latn-zz",mxn:"mxn-latn-id",mxo:"mxo-latn-zm",mxp:"mxp-latn-mx",mxq:"mxq-latn-mx",mxr:"mxr-latn-my",mxs:"mxs-latn-mx",mxt:"mxt-latn-mx",mxu:"mxu-latn-cm",mxv:"mxv-latn-mx",mxw:"mxw-latn-pg",mxx:"mxx-latn-ci",mxy:"mxy-latn-mx",mxz:"mxz-latn-id",my:"my-mymr-mm",myb:"myb-latn-td",myc:"myc-latn-cd",mye:"mye-latn-ga",myf:"myf-latn-et",myg:"myg-latn-cm",myh:"myh-latn-us",myj:"myj-latn-ss",myk:"myk-latn-zz",myl:"myl-latn-id",mym:"mym-ethi-zz",myp:"myp-latn-br",myr:"myr-latn-pe",myu:"myu-latn-br",myv:"myv-cyrl-ru",myw:"myw-latn-zz",myx:"myx-latn-ug",myy:"myy-latn-co",myz:"myz-mand-ir",mza:"mza-latn-mx",mzd:"mzd-latn-cm",mze:"mze-latn-pg",mzh:"mzh-latn-ar",mzi:"mzi-latn-mx",mzj:"mzj-latn-lr",mzk:"mzk-latn-zz",mzl:"mzl-latn-mx",mzm:"mzm-latn-zz",mzn:"mzn-arab-ir",mzo:"mzo-latn-br",mzp:"mzp-latn-zz",mzq:"mzq-latn-id",mzr:"mzr-latn-br",mzt:"mzt-latn-my",mzu:"mzu-latn-pg",mzv:"mzv-latn-cf",mzw:"mzw-latn-zz",mzx:"mzx-latn-gy",mzz:"mzz-latn-zz",na:"na-latn-nr",naa:"naa-latn-id",nab:"nab-latn-br",nac:"nac-latn-zz",nae:"nae-latn-id",naf:"naf-latn-zz",nag:"nag-latn-in",naj:"naj-latn-gn",nak:"nak-latn-zz",nal:"nal-latn-pg",nam:"nam-latn-au",nan:"nan-hans-cn",nao:"nao-deva-np",nap:"nap-latn-it",naq:"naq-latn-na",nar:"nar-latn-ng",nas:"nas-latn-zz",nat:"nat-latn-ng",naw:"naw-latn-gh",nax:"nax-latn-pg",nay:"nay-latn-au",naz:"naz-latn-mx",nb:"nb-latn-no",nba:"nba-latn-ao",nbb:"nbb-latn-ng",nbc:"nbc-latn-in",nbd:"nbd-latn-cd",nbe:"nbe-latn-in",nbh:"nbh-latn-ng",nbi:"nbi-latn-in",nbj:"nbj-latn-au",nbk:"nbk-latn-pg",nbm:"nbm-latn-cf",nbn:"nbn-latn-id",nbo:"nbo-latn-ng",nbp:"nbp-latn-ng",nbq:"nbq-latn-id",nbr:"nbr-latn-ng",nbt:"nbt-latn-in","nbt-deva":"nbt-deva-in",nbu:"nbu-latn-in",nbv:"nbv-latn-cm",nbw:"nbw-latn-cd",nby:"nby-latn-pg",nca:"nca-latn-zz",ncb:"ncb-latn-in","ncb-deva":"ncb-deva-in",ncc:"ncc-latn-pg",ncd:"ncd-deva-np",nce:"nce-latn-zz",ncf:"ncf-latn-zz",ncg:"ncg-latn-ca",nch:"nch-latn-mx",nci:"nci-latn-mx",ncj:"ncj-latn-mx",nck:"nck-latn-au",ncl:"ncl-latn-mx",ncm:"ncm-latn-pg",ncn:"ncn-latn-pg",nco:"nco-latn-zz",ncq:"ncq-laoo-la","ncq-thai":"ncq-thai-la",ncr:"ncr-latn-cm",nct:"nct-latn-in","nct-beng":"nct-beng-in",ncu:"ncu-latn-zz",ncx:"ncx-latn-mx",ncz:"ncz-latn-us",nd:"nd-latn-zw",nda:"nda-latn-cg",ndb:"ndb-latn-cm",ndc:"ndc-latn-mz",ndd:"ndd-latn-ng",ndf:"ndf-cyrl-ru",ndg:"ndg-latn-tz",ndh:"ndh-latn-tz",ndi:"ndi-latn-ng",ndj:"ndj-latn-tz",ndk:"ndk-latn-cd",ndl:"ndl-latn-cd",ndm:"ndm-latn-td",ndn:"ndn-latn-cg",ndp:"ndp-latn-ug",ndq:"ndq-latn-ao",ndr:"ndr-latn-ng",nds:"nds-latn-de",ndt:"ndt-latn-cd",ndu:"ndu-latn-cm",ndv:"ndv-latn-sn",ndw:"ndw-latn-cd",ndx:"ndx-latn-id",ndy:"ndy-latn-cf","ndy-td":"ndy-latn-td",ndz:"ndz-latn-ss",ne:"ne-deva-np",nea:"nea-latn-id",neb:"neb-latn-zz",nec:"nec-latn-id",ned:"ned-latn-ng",nee:"nee-latn-nc",neg:"neg-cyrl-ru",neh:"neh-tibt-bt",nei:"nei-xsux-tr",nej:"nej-latn-pg",nek:"nek-latn-nc",nem:"nem-latn-nc",nen:"nen-latn-nc",neo:"neo-latn-vn",neq:"neq-latn-mx",ner:"ner-latn-id",net:"net-latn-pg",neu:"neu-latn-001",new:"new-deva-np",nex:"nex-latn-zz",ney:"ney-latn-ci",nez:"nez-latn-us",nfa:"nfa-latn-id",nfd:"nfd-latn-ng",nfl:"nfl-latn-sb",nfr:"nfr-latn-zz",nfu:"nfu-latn-cm",ng:"ng-latn-na",nga:"nga-latn-zz",ngb:"ngb-latn-zz",ngc:"ngc-latn-cd",ngd:"ngd-latn-cf",nge:"nge-latn-cm",ngg:"ngg-latn-cf",ngh:"ngh-latn-za",ngi:"ngi-latn-ng",ngj:"ngj-latn-cm",ngk:"ngk-latn-au",ngl:"ngl-latn-mz",ngm:"ngm-latn-fm",ngn:"ngn-latn-cm",ngp:"ngp-latn-tz",ngq:"ngq-latn-tz",ngr:"ngr-latn-sb",ngs:"ngs-latn-ng",ngt:"ngt-laoo-la",ngu:"ngu-latn-mx",ngv:"ngv-latn-cm",ngw:"ngw-latn-ng",ngx:"ngx-latn-ng",ngy:"ngy-latn-cm",ngz:"ngz-latn-cg",nha:"nha-latn-au",nhb:"nhb-latn-zz",nhc:"nhc-latn-mx",nhd:"nhd-latn-py",nhe:"nhe-latn-mx",nhf:"nhf-latn-au",nhg:"nhg-latn-mx",nhi:"nhi-latn-mx",nhk:"nhk-latn-mx",nhm:"nhm-latn-mx",nhn:"nhn-latn-mx",nho:"nho-latn-pg",nhp:"nhp-latn-mx",nhq:"nhq-latn-mx",nhr:"nhr-latn-bw",nht:"nht-latn-mx",nhu:"nhu-latn-cm",nhv:"nhv-latn-mx",nhw:"nhw-latn-mx",nhx:"nhx-latn-mx",nhy:"nhy-latn-mx",nhz:"nhz-latn-mx",nia:"nia-latn-id",nib:"nib-latn-pg",nid:"nid-latn-au",nie:"nie-latn-td",nif:"nif-latn-zz",nig:"nig-latn-au",nih:"nih-latn-tz",nii:"nii-latn-zz",nij:"nij-latn-id",nil:"nil-latn-id",nim:"nim-latn-tz",nin:"nin-latn-zz",nio:"nio-cyrl-ru",niq:"niq-latn-ke",nir:"nir-latn-id",nis:"nis-latn-pg",nit:"nit-telu-in",niu:"niu-latn-nu",niv:"niv-cyrl-ru","niv-latn":"niv-latn-ru",niw:"niw-latn-pg",nix:"nix-latn-cd",niy:"niy-latn-zz",niz:"niz-latn-zz",nja:"nja-latn-ng",njb:"njb-latn-in",njd:"njd-latn-tz",njh:"njh-latn-in",nji:"nji-latn-au",njj:"njj-latn-cm",njl:"njl-latn-ss",njm:"njm-latn-in",njn:"njn-latn-in",njo:"njo-latn-in",njr:"njr-latn-ng",njs:"njs-latn-id",njt:"njt-latn-sr",nju:"nju-latn-au",njx:"njx-latn-cg",njy:"njy-latn-cm",njz:"njz-latn-in","njz-beng":"njz-beng-in",nka:"nka-latn-zm",nkb:"nkb-latn-in",nkc:"nkc-latn-cm",nkd:"nkd-latn-in",nke:"nke-latn-sb",nkf:"nkf-latn-in",nkg:"nkg-latn-zz",nkh:"nkh-latn-in",nki:"nki-latn-in","nki-beng":"nki-beng-in",nkj:"nkj-latn-id",nkk:"nkk-latn-vu",nkm:"nkm-latn-pg",nkn:"nkn-latn-ao",nko:"nko-latn-zz",nkq:"nkq-latn-gh",nkr:"nkr-latn-fm",nks:"nks-latn-id",nkt:"nkt-latn-tz",nku:"nku-latn-ci",nkv:"nkv-latn-mw",nkw:"nkw-latn-cd",nkx:"nkx-latn-ng",nkz:"nkz-latn-ng",nl:"nl-latn-nl",nla:"nla-latn-cm",nlc:"nlc-latn-id",nle:"nle-latn-ke",nlg:"nlg-latn-sb",nli:"nli-arab-af",nlj:"nlj-latn-cd",nlk:"nlk-latn-id",nlm:"nlm-arab-pk",nlo:"nlo-latn-cd",nlq:"nlq-latn-mm",nlu:"nlu-latn-gh",nlv:"nlv-latn-mx",nlw:"nlw-latn-au",nlx:"nlx-deva-in",nly:"nly-latn-au",nlz:"nlz-latn-sb",nma:"nma-latn-in",nmb:"nmb-latn-vu",nmc:"nmc-latn-td",nmd:"nmd-latn-ga",nme:"nme-latn-in",nmf:"nmf-latn-in",nmg:"nmg-latn-cm",nmh:"nmh-latn-in",nmi:"nmi-latn-ng",nmj:"nmj-latn-cf",nmk:"nmk-latn-vu",nml:"nml-latn-cm",nmm:"nmm-deva-np","nmm-tibt":"nmm-tibt-np",nmn:"nmn-latn-bw",nmo:"nmo-latn-in","nmo-beng":"nmo-beng-in",nmp:"nmp-latn-au",nmq:"nmq-latn-zw",nmr:"nmr-latn-cm",nms:"nms-latn-vu",nmt:"nmt-latn-fm",nmu:"nmu-latn-us",nmv:"nmv-latn-au",nmw:"nmw-latn-pg",nmx:"nmx-latn-pg",nmz:"nmz-latn-zz",nn:"nn-latn-no",nna:"nna-latn-au",nnb:"nnb-latn-cd",nnc:"nnc-latn-td",nnd:"nnd-latn-vu",nne:"nne-latn-ao",nnf:"nnf-latn-zz",nng:"nng-latn-in","nng-beng":"nng-beng-in",nnh:"nnh-latn-cm",nni:"nni-latn-id",nnj:"nnj-latn-et",nnk:"nnk-latn-zz",nnl:"nnl-latn-in",nnm:"nnm-latn-zz",nnn:"nnn-latn-td",nnp:"nnp-wcho-in",nnq:"nnq-latn-tz",nnr:"nnr-latn-au",nnt:"nnt-latn-us",nnu:"nnu-latn-gh",nnv:"nnv-latn-au",nnw:"nnw-latn-bf",nny:"nny-latn-au",nnz:"nnz-latn-cm",no:"no-latn-no",noa:"noa-latn-co",noc:"noc-latn-pg",nod:"nod-lana-th",noe:"noe-deva-in",nof:"nof-latn-pg",nog:"nog-cyrl-ru",noh:"noh-latn-pg",noi:"noi-deva-in",noj:"noj-latn-co",nok:"nok-latn-us",nom:"nom-latn-pe",non:"non-runr-se",nop:"nop-latn-zz",noq:"noq-latn-cd",nos:"nos-yiii-cn",not:"not-latn-pe",nou:"nou-latn-zz",nov:"nov-latn-001",now:"now-latn-tz",noy:"noy-latn-td",npb:"npb-tibt-bt",npg:"npg-latn-mm",nph:"nph-latn-in",npl:"npl-latn-mx",npn:"npn-latn-pg",npo:"npo-latn-in",nps:"nps-latn-id",npu:"npu-latn-in",npx:"npx-latn-sb",npy:"npy-latn-id",nqg:"nqg-latn-bj",nqk:"nqk-latn-bj",nql:"nql-latn-ao",nqm:"nqm-latn-id",nqn:"nqn-latn-pg",nqo:"nqo-nkoo-gn",nqq:"nqq-latn-mm",nqt:"nqt-latn-ng",nqy:"nqy-latn-mm",nr:"nr-latn-za",nra:"nra-latn-ga",nrb:"nrb-latn-zz",nre:"nre-latn-in",nrf:"nrf-latn-je",nrg:"nrg-latn-vu",nri:"nri-latn-in",nrk:"nrk-latn-au",nrl:"nrl-latn-au",nrm:"nrm-latn-my",nrp:"nrp-latn-it",nru:"nru-latn-cn","nru-hans":"nru-hans-cn","nru-hant":"nru-hant-cn",nrx:"nrx-latn-au",nrz:"nrz-latn-pg",nsa:"nsa-latn-in",nsb:"nsb-latn-za",nsc:"nsc-latn-ng",nsd:"nsd-yiii-cn",nse:"nse-latn-zm",nsf:"nsf-yiii-cn",nsg:"nsg-latn-tz",nsh:"nsh-latn-cm",nsk:"nsk-cans-ca",nsm:"nsm-latn-in",nsn:"nsn-latn-zz",nso:"nso-latn-za",nsq:"nsq-latn-us",nss:"nss-latn-zz",nst:"nst-tnsa-in",nsu:"nsu-latn-mx",nsv:"nsv-yiii-cn",nsw:"nsw-latn-vu",nsx:"nsx-latn-ao",nsy:"nsy-latn-id",nsz:"nsz-latn-us",ntd:"ntd-latn-my",nte:"nte-latn-mz",ntg:"ntg-latn-au",nti:"nti-latn-bf",ntj:"ntj-latn-au",ntk:"ntk-latn-tz",ntm:"ntm-latn-zz",nto:"nto-latn-cd",ntp:"ntp-latn-mx",ntr:"ntr-latn-zz",ntu:"ntu-latn-sb",ntx:"ntx-latn-mm",nty:"nty-yiii-vn",ntz:"ntz-arab-ir",nua:"nua-latn-nc",nuc:"nuc-latn-br",nud:"nud-latn-pg",nue:"nue-latn-cd",nuf:"nuf-latn-cn",nug:"nug-latn-au",nuh:"nuh-latn-ng",nui:"nui-latn-zz",nuj:"nuj-latn-ug",nuk:"nuk-latn-ca",num:"num-latn-to",nun:"nun-latn-mm",nuo:"nuo-latn-vn",nup:"nup-latn-zz",nuq:"nuq-latn-pg",nur:"nur-latn-pg",nus:"nus-latn-ss",nut:"nut-latn-vn",nuu:"nuu-latn-cd",nuv:"nuv-latn-zz",nuw:"nuw-latn-fm",nux:"nux-latn-zz",nuy:"nuy-latn-au",nuz:"nuz-latn-mx",nv:"nv-latn-us",nvh:"nvh-latn-vu",nvm:"nvm-latn-pg",nvo:"nvo-latn-cm",nwb:"nwb-latn-zz",nwc:"nwc-newa-np","nwc-brah":"nwc-brah-np","nwc-deva":"nwc-deva-np","nwc-sidd":"nwc-sidd-np",nwe:"nwe-latn-cm",nwg:"nwg-latn-au",nwi:"nwi-latn-vu",nwm:"nwm-latn-ss",nwo:"nwo-latn-au",nwr:"nwr-latn-pg",nww:"nww-latn-tz",nwx:"nwx-deva-np",nxa:"nxa-latn-tl",nxd:"nxd-latn-cd",nxe:"nxe-latn-id",nxg:"nxg-latn-id",nxi:"nxi-latn-tz",nxl:"nxl-latn-id",nxn:"nxn-latn-au",nxo:"nxo-latn-ga",nxq:"nxq-latn-cn",nxr:"nxr-latn-zz",nxx:"nxx-latn-id",ny:"ny-latn-mw",nyb:"nyb-latn-gh",nyc:"nyc-latn-cd",nyd:"nyd-latn-ke",nye:"nye-latn-ao",nyf:"nyf-latn-ke",nyg:"nyg-latn-cd",nyh:"nyh-latn-au",nyi:"nyi-latn-sd",nyj:"nyj-latn-cd",nyk:"nyk-latn-ao",nyl:"nyl-thai-th",nym:"nym-latn-tz",nyn:"nyn-latn-ug",nyo:"nyo-latn-ug",nyp:"nyp-latn-ug",nyq:"nyq-arab-ir",nyr:"nyr-latn-mw",nys:"nys-latn-au",nyt:"nyt-latn-au",nyu:"nyu-latn-mz",nyv:"nyv-latn-au",nyx:"nyx-latn-au",nyy:"nyy-latn-tz",nza:"nza-latn-cm",nzb:"nzb-latn-ga",nzd:"nzd-latn-cd",nzi:"nzi-latn-gh",nzk:"nzk-latn-cf",nzm:"nzm-latn-in",nzu:"nzu-latn-cg",nzy:"nzy-latn-td",nzz:"nzz-latn-ml",oaa:"oaa-cyrl-ru",oac:"oac-cyrl-ru",oar:"oar-syrc-sy",oav:"oav-geor-ge",obi:"obi-latn-us",obk:"obk-latn-ph",obl:"obl-latn-cm",obm:"obm-phnx-jo",obo:"obo-latn-ph",obr:"obr-mymr-mm",obt:"obt-latn-fr",obu:"obu-latn-ng",oc:"oc-latn-fr",oca:"oca-latn-pe",oco:"oco-latn-gb",ocu:"ocu-latn-mx",oda:"oda-latn-ng",odk:"odk-arab-pk",odt:"odt-latn-nl",odu:"odu-latn-ng",ofu:"ofu-latn-ng",ogb:"ogb-latn-ng",ogc:"ogc-latn-zz",ogg:"ogg-latn-ng",ogo:"ogo-latn-ng",ogu:"ogu-latn-ng",oht:"oht-xsux-tr",oia:"oia-latn-id",oie:"oie-latn-ss",oin:"oin-latn-pg",oj:"oj-cans-ca",ojb:"ojb-latn-ca","ojb-cans":"ojb-cans-ca",ojc:"ojc-latn-ca",ojs:"ojs-cans-ca",ojv:"ojv-latn-sb",ojw:"ojw-latn-ca","ojw-cans":"ojw-cans-ca",oka:"oka-latn-ca",okb:"okb-latn-ng",okc:"okc-latn-cd",okd:"okd-latn-ng",oke:"oke-latn-ng",okg:"okg-latn-au",oki:"oki-latn-ke",okk:"okk-latn-pg",okm:"okm-hang-kr",oko:"oko-hani-kr",okr:"okr-latn-zz",oks:"oks-latn-ng",oku:"oku-latn-cm",okv:"okv-latn-zz",okx:"okx-latn-ng",okz:"okz-khmr-kh",ola:"ola-deva-np","ola-tibt":"ola-tibt-cn",old:"old-latn-tz",ole:"ole-tibt-bt",olk:"olk-latn-au",olm:"olm-latn-ng",olo:"olo-latn-ru",olr:"olr-latn-vu",olt:"olt-latn-lt",olu:"olu-latn-ao",om:"om-latn-et",oma:"oma-latn-us",omb:"omb-latn-vu",omc:"omc-latn-pe",omg:"omg-latn-pe",omi:"omi-latn-cd",omk:"omk-cyrl-ru",oml:"oml-latn-cd",omo:"omo-latn-pg",omp:"omp-mtei-in",omr:"omr-modi-in",omt:"omt-latn-ke",omu:"omu-latn-pe",omw:"omw-latn-pg",ona:"ona-latn-ar",one:"one-latn-ca",ong:"ong-latn-zz",oni:"oni-latn-id",onj:"onj-latn-pg",onk:"onk-latn-pg",onn:"onn-latn-zz",ono:"ono-latn-ca",onp:"onp-latn-in","onp-deva":"onp-deva-in",onr:"onr-latn-pg",ons:"ons-latn-zz",ont:"ont-latn-pg",onu:"onu-latn-vu",onx:"onx-latn-id",ood:"ood-latn-us",oon:"oon-deva-in",oor:"oor-latn-za",opa:"opa-latn-ng",opk:"opk-latn-id",opm:"opm-latn-zz",opo:"opo-latn-pg",opt:"opt-latn-mx",opy:"opy-latn-br",or:"or-orya-in",ora:"ora-latn-sb",orc:"orc-latn-ke",ore:"ore-latn-pe",org:"org-latn-ng",orn:"orn-latn-my",oro:"oro-latn-zz",orr:"orr-latn-ng",ors:"ors-latn-my",ort:"ort-telu-in",oru:"oru-arab-zz",orv:"orv-cyrl-ru",orw:"orw-latn-br",orx:"orx-latn-ng",orz:"orz-latn-id",os:"os-cyrl-ge",osa:"osa-osge-us",osc:"osc-ital-it","osc-latn":"osc-latn-it",osi:"osi-java-id",oso:"oso-latn-ng",osp:"osp-latn-es",ost:"ost-latn-cm",osu:"osu-latn-pg",osx:"osx-latn-de",ota:"ota-arab-zz",otb:"otb-tibt-cn",otd:"otd-latn-id",ote:"ote-latn-mx",oti:"oti-latn-br",otk:"otk-orkh-mn",otl:"otl-latn-mx",otm:"otm-latn-mx",otn:"otn-latn-mx",otq:"otq-latn-mx",otr:"otr-latn-sd",ots:"ots-latn-mx",ott:"ott-latn-mx",otu:"otu-latn-br",otw:"otw-latn-ca",otx:"otx-latn-mx",oty:"oty-gran-in",otz:"otz-latn-mx",oub:"oub-latn-lr",oue:"oue-latn-pg",oui:"oui-ougr-143",oum:"oum-latn-pg",ovd:"ovd-latn-se",owi:"owi-latn-pg",owl:"owl-latn-gb",oyd:"oyd-latn-et",oym:"oym-latn-br",oyy:"oyy-latn-pg",ozm:"ozm-latn-zz",pa:"pa-guru-in","pa-arab":"pa-arab-pk","pa-pk":"pa-arab-pk",pab:"pab-latn-br",pac:"pac-latn-vn",pad:"pad-latn-br",pae:"pae-latn-cd",paf:"paf-latn-br",pag:"pag-latn-ph",pah:"pah-latn-br",pai:"pai-latn-ng",pak:"pak-latn-br",pal:"pal-phli-ir","pal-phlp":"pal-phlp-cn",pam:"pam-latn-ph",pao:"pao-latn-us",pap:"pap-latn-cw",paq:"paq-cyrl-tj",par:"par-latn-us",pas:"pas-latn-id",pau:"pau-latn-pw",pav:"pav-latn-br",paw:"paw-latn-us",pax:"pax-latn-br",pay:"pay-latn-hn",paz:"paz-latn-br",pbb:"pbb-latn-co",pbc:"pbc-latn-gy",pbe:"pbe-latn-mx",pbf:"pbf-latn-mx",pbg:"pbg-latn-ve",pbh:"pbh-latn-ve",pbi:"pbi-latn-zz",pbl:"pbl-latn-ng",pbm:"pbm-latn-mx",pbn:"pbn-latn-ng",pbo:"pbo-latn-gw",pbp:"pbp-latn-gn",pbr:"pbr-latn-tz",pbs:"pbs-latn-mx",pbt:"pbt-arab-af",pbv:"pbv-latn-in",pby:"pby-latn-pg",pca:"pca-latn-mx",pcb:"pcb-khmr-kh",pcc:"pcc-latn-cn","pcc-hani":"pcc-hani-cn",pcd:"pcd-latn-fr",pce:"pce-mymr-mm","pce-thai":"pce-thai-th",pcf:"pcf-mlym-in",pcg:"pcg-mlym-in","pcg-knda":"pcg-knda-in","pcg-taml":"pcg-taml-in",pch:"pch-deva-in",pci:"pci-deva-in","pci-orya":"pci-orya-in",pcj:"pcj-telu-in",pck:"pck-latn-in",pcm:"pcm-latn-ng",pcn:"pcn-latn-ng",pcp:"pcp-latn-bo",pcw:"pcw-latn-ng",pda:"pda-latn-pg",pdc:"pdc-latn-us",pdn:"pdn-latn-id",pdo:"pdo-latn-id",pdt:"pdt-latn-ca",pdu:"pdu-latn-mm","pdu-mymr":"pdu-mymr-mm",pea:"pea-latn-id",peb:"peb-latn-us",ped:"ped-latn-zz",pee:"pee-latn-id",peg:"peg-orya-in",pei:"pei-latn-mx",pek:"pek-latn-pg",pel:"pel-latn-id",pem:"pem-latn-cd",peo:"peo-xpeo-ir",pep:"pep-latn-pg",peq:"peq-latn-us",pev:"pev-latn-ve",pex:"pex-latn-zz",pey:"pey-latn-id",pez:"pez-latn-my",pfa:"pfa-latn-fm",pfe:"pfe-latn-cm",pfl:"pfl-latn-de",pga:"pga-latn-ss",pgd:"pgd-khar-pk",pgg:"pgg-deva-in",pgi:"pgi-latn-pg",pgk:"pgk-latn-vu",pgl:"pgl-ogam-ie",pgn:"pgn-ital-it",pgs:"pgs-latn-ng",pgu:"pgu-latn-id",phd:"phd-deva-in",phg:"phg-latn-vn",phh:"phh-latn-vn",phk:"phk-mymr-in",phl:"phl-arab-zz",phm:"phm-latn-mz",phn:"phn-phnx-lb",pho:"pho-laoo-la",phr:"phr-arab-pk",pht:"pht-thai-th",phv:"phv-arab-af",phw:"phw-deva-np",pi:"pi-sinh-in","pi-brah":"pi-brah-in","pi-deva":"pi-deva-in","pi-khar":"pi-khar-in","pi-khmr":"pi-khmr-in","pi-mymr":"pi-mymr-in","pi-thai":"pi-thai-in",pia:"pia-latn-mx",pib:"pib-latn-pe",pic:"pic-latn-ga",pid:"pid-latn-ve",pif:"pif-latn-fm",pig:"pig-latn-pe",pih:"pih-latn-nf",pij:"pij-latn-co",pil:"pil-latn-zz",pim:"pim-latn-us",pin:"pin-latn-pg",pio:"pio-latn-co",pip:"pip-latn-zz",pir:"pir-latn-br",pis:"pis-latn-sb",pit:"pit-latn-au",piu:"piu-latn-au",piv:"piv-latn-sb",piw:"piw-latn-tz",pix:"pix-latn-pg",piy:"piy-latn-ng",piz:"piz-latn-nc",pjt:"pjt-latn-au",pka:"pka-brah-in",pkb:"pkb-latn-ke",pkg:"pkg-latn-pg",pkh:"pkh-latn-bd","pkh-deva":"pkh-deva-bd",pkn:"pkn-latn-au",pko:"pko-latn-ke",pkp:"pkp-latn-ck",pkr:"pkr-mlym-in",pku:"pku-latn-id",pl:"pl-latn-pl",pla:"pla-latn-zz",plb:"plb-latn-vu",plc:"plc-latn-ph",pld:"pld-latn-gb",ple:"ple-latn-id",plg:"plg-latn-ar",plh:"plh-latn-id",plj:"plj-latn-ng",plk:"plk-arab-pk",pll:"pll-mymr-mm",pln:"pln-latn-co",plo:"plo-latn-mx",plr:"plr-latn-ci",pls:"pls-latn-mx",plu:"plu-latn-br",plv:"plv-latn-ph",plw:"plw-latn-ph",plz:"plz-latn-my",pma:"pma-latn-vu",pmb:"pmb-latn-cd",pmd:"pmd-latn-au",pme:"pme-latn-nc",pmf:"pmf-latn-id",pmh:"pmh-brah-in",pmi:"pmi-latn-cn",pmj:"pmj-latn-cn",pml:"pml-latn-tn",pmm:"pmm-latn-cm",pmn:"pmn-latn-cm",pmo:"pmo-latn-id",pmq:"pmq-latn-mx",pmr:"pmr-latn-pg",pms:"pms-latn-it",pmt:"pmt-latn-pf",pmw:"pmw-latn-us",pmx:"pmx-latn-in",pmy:"pmy-latn-id",pmz:"pmz-latn-mx",pna:"pna-latn-my",pnc:"pnc-latn-id",pnd:"pnd-latn-ao",pne:"pne-latn-my",png:"png-latn-zz",pnh:"pnh-latn-ck",pni:"pni-latn-id",pnj:"pnj-latn-au",pnk:"pnk-latn-bo",pnl:"pnl-latn-bf",pnm:"pnm-latn-my",pnn:"pnn-latn-zz",pno:"pno-latn-pe",pnp:"pnp-latn-id",pnq:"pnq-latn-bf",pnr:"pnr-latn-pg",pns:"pns-latn-id",pnt:"pnt-grek-gr",pnv:"pnv-latn-au",pnw:"pnw-latn-au",pny:"pny-latn-cm",pnz:"pnz-latn-cf",poc:"poc-latn-gt",poe:"poe-latn-mx",pof:"pof-latn-cd",pog:"pog-latn-br",poh:"poh-latn-gt",poi:"poi-latn-mx",pok:"pok-latn-br",pom:"pom-latn-us",pon:"pon-latn-fm",poo:"poo-latn-us",pop:"pop-latn-nc",poq:"poq-latn-mx",pos:"pos-latn-mx",pot:"pot-latn-us",pov:"pov-latn-gw",pow:"pow-latn-mx",poy:"poy-latn-tz",ppa:"ppa-deva-in",ppe:"ppe-latn-pg",ppi:"ppi-latn-mx",ppk:"ppk-latn-id",ppl:"ppl-latn-sv",ppm:"ppm-latn-id",ppn:"ppn-latn-pg",ppo:"ppo-latn-zz",ppp:"ppp-latn-cd",ppq:"ppq-latn-pg",pps:"pps-latn-mx",ppt:"ppt-latn-pg",pqa:"pqa-latn-ng",pqm:"pqm-latn-ca",pra:"pra-khar-pk",prc:"prc-arab-af",prd:"prd-arab-ir",pre:"pre-latn-st",prf:"prf-latn-ph",prg:"prg-latn-001",prh:"prh-latn-ph",pri:"pri-latn-nc",prk:"prk-latn-mm",prm:"prm-latn-pg",pro:"pro-latn-fr",prp:"prp-gujr-in",prq:"prq-latn-pe",prr:"prr-latn-br",prt:"prt-thai-th",pru:"pru-latn-id",prw:"prw-latn-pg",prx:"prx-arab-in","prx-tibt":"prx-tibt-in",ps:"ps-arab-af",psa:"psa-latn-id",pse:"pse-latn-id",psh:"psh-arab-af",psi:"psi-arab-af",psm:"psm-latn-bo",psn:"psn-latn-id",psq:"psq-latn-pg",pss:"pss-latn-zz",pst:"pst-arab-pk",psw:"psw-latn-vu",pt:"pt-latn-br",pta:"pta-latn-py",pth:"pth-latn-br",pti:"pti-latn-au",ptn:"ptn-latn-id",pto:"pto-latn-br",ptp:"ptp-latn-zz",ptr:"ptr-latn-vu",ptt:"ptt-latn-id",ptu:"ptu-latn-id",ptv:"ptv-latn-vu",pua:"pua-latn-mx",pub:"pub-latn-in",puc:"puc-latn-id",pud:"pud-latn-id",pue:"pue-latn-ar",puf:"puf-latn-id",pug:"pug-latn-bf",pui:"pui-latn-co",puj:"puj-latn-id",pum:"pum-deva-np",puo:"puo-latn-vn",pup:"pup-latn-pg",puq:"puq-latn-pe",pur:"pur-latn-br",put:"put-latn-id",puu:"puu-latn-ga",puw:"puw-latn-fm",pux:"pux-latn-pg",puy:"puy-latn-us",pwa:"pwa-latn-zz",pwb:"pwb-latn-ng",pwg:"pwg-latn-pg",pwm:"pwm-latn-ph",pwn:"pwn-latn-tw",pwo:"pwo-mymr-mm",pwr:"pwr-deva-in",pww:"pww-thai-th",pxm:"pxm-latn-mx",pye:"pye-latn-ci",pym:"pym-latn-ng",pyn:"pyn-latn-br",pyu:"pyu-latn-tw","pyu-hani":"pyu-hani-tw",pyx:"pyx-mymr-mm",pyy:"pyy-latn-mm",pzh:"pzh-latn-tw",pzn:"pzn-latn-mm",qu:"qu-latn-pe",qua:"qua-latn-us",qub:"qub-latn-pe",quc:"quc-latn-gt",qud:"qud-latn-ec",quf:"quf-latn-pe",qug:"qug-latn-ec",qui:"qui-latn-us",quk:"quk-latn-pe",qul:"qul-latn-bo",qum:"qum-latn-gt",qun:"qun-latn-us",qup:"qup-latn-pe",quq:"quq-latn-es",qur:"qur-latn-pe",qus:"qus-latn-ar",quv:"quv-latn-gt",quw:"quw-latn-ec",qux:"qux-latn-pe",quy:"quy-latn-pe",qva:"qva-latn-pe",qvc:"qvc-latn-pe",qve:"qve-latn-pe",qvh:"qvh-latn-pe",qvi:"qvi-latn-ec",qvj:"qvj-latn-ec",qvl:"qvl-latn-pe",qvm:"qvm-latn-pe",qvn:"qvn-latn-pe",qvo:"qvo-latn-pe",qvp:"qvp-latn-pe",qvs:"qvs-latn-pe",qvw:"qvw-latn-pe",qvz:"qvz-latn-ec",qwa:"qwa-latn-pe",qwc:"qwc-latn-pe",qwh:"qwh-latn-pe",qwm:"qwm-latn-ru","qwm-cyrl":"qwm-cyrl-ru","qwm-runr":"qwm-runr-ru",qws:"qws-latn-pe",qwt:"qwt-latn-us",qxa:"qxa-latn-pe",qxc:"qxc-latn-pe",qxh:"qxh-latn-pe",qxl:"qxl-latn-ec",qxn:"qxn-latn-pe",qxo:"qxo-latn-pe",qxp:"qxp-latn-pe",qxq:"qxq-arab-ir",qxr:"qxr-latn-ec",qxt:"qxt-latn-pe",qxu:"qxu-latn-pe",qxw:"qxw-latn-pe",qya:"qya-latn-001",qyp:"qyp-latn-us",raa:"raa-deva-np",rab:"rab-deva-np",rac:"rac-latn-id",rad:"rad-latn-vn",raf:"raf-deva-np",rag:"rag-latn-ke",rah:"rah-beng-in","rah-latn":"rah-latn-in",rai:"rai-latn-zz",raj:"raj-deva-in",rak:"rak-latn-pg",ram:"ram-latn-br",ran:"ran-latn-id",rao:"rao-latn-zz",rap:"rap-latn-cl",rar:"rar-latn-ck",rav:"rav-deva-np",raw:"raw-latn-mm",rax:"rax-latn-ng",ray:"ray-latn-pf",raz:"raz-latn-id",rbb:"rbb-mymr-mm",rbk:"rbk-latn-ph",rbl:"rbl-latn-ph",rbp:"rbp-latn-au",rcf:"rcf-latn-re",rdb:"rdb-arab-ir",rea:"rea-latn-pg",reb:"reb-latn-id",ree:"ree-latn-my",reg:"reg-latn-tz",rei:"rei-orya-in","rei-telu":"rei-telu-in",rej:"rej-latn-id",rel:"rel-latn-zz",rem:"rem-latn-pe",ren:"ren-latn-vn",res:"res-latn-zz",ret:"ret-latn-id",rey:"rey-latn-bo",rga:"rga-latn-vu",rgn:"rgn-latn-it",rgr:"rgr-latn-pe",rgs:"rgs-latn-vn",rgu:"rgu-latn-id",rhg:"rhg-rohg-mm",rhp:"rhp-latn-pg",ria:"ria-latn-in",rif:"rif-latn-ma",ril:"ril-latn-mm",rim:"rim-latn-tz",rin:"rin-latn-ng",rir:"rir-latn-id",rit:"rit-latn-au",riu:"riu-latn-id",rjg:"rjg-latn-id",rji:"rji-deva-np",rjs:"rjs-deva-np",rka:"rka-khmr-kh",rkb:"rkb-latn-br",rkh:"rkh-latn-ck",rki:"rki-mymr-mm",rkm:"rkm-latn-bf",rkt:"rkt-beng-bd",rkw:"rkw-latn-au",rm:"rm-latn-ch",rma:"rma-latn-ni",rmb:"rmb-latn-au",rmc:"rmc-latn-sk",rmd:"rmd-latn-dk",rme:"rme-latn-gb",rmf:"rmf-latn-fi",rmg:"rmg-latn-no",rmh:"rmh-latn-id",rmi:"rmi-armn-am",rmk:"rmk-latn-pg",rml:"rml-latn-pl","rml-cyrl":"rml-cyrl-by",rmm:"rmm-latn-id",rmn:"rmn-latn-rs","rmn-cyrl":"rmn-cyrl-bg","rmn-grek":"rmn-grek-gr",rmo:"rmo-latn-ch",rmp:"rmp-latn-pg",rmq:"rmq-latn-es",rmt:"rmt-arab-ir",rmu:"rmu-latn-se",rmw:"rmw-latn-gb",rmx:"rmx-latn-vn",rmz:"rmz-mymr-in",rn:"rn-latn-bi",rna:"rna-latn-zz",rnd:"rnd-latn-cd",rng:"rng-latn-mz",rnl:"rnl-latn-in",rnn:"rnn-latn-id",rnr:"rnr-latn-au",rnw:"rnw-latn-tz",ro:"ro-latn-ro",rob:"rob-latn-id",roc:"roc-latn-vn",rod:"rod-latn-ng",roe:"roe-latn-pg",rof:"rof-latn-tz",rog:"rog-latn-vn",rol:"rol-latn-ph",rom:"rom-latn-ro","rom-cyrl":"rom-cyrl-ro",roo:"roo-latn-zz",rop:"rop-latn-au",ror:"ror-latn-id",rou:"rou-latn-td",row:"row-latn-id",rpn:"rpn-latn-vu",rpt:"rpt-latn-pg",rri:"rri-latn-sb",rro:"rro-latn-zz",rrt:"rrt-latn-au",rsk:"rsk-cyrl-rs",rtc:"rtc-latn-mm",rth:"rth-latn-id",rtm:"rtm-latn-fj",rtw:"rtw-deva-in",ru:"ru-cyrl-ru",rub:"rub-latn-ug",ruc:"ruc-latn-ug",rue:"rue-cyrl-ua",ruf:"ruf-latn-tz",rug:"rug-latn-sb",rui:"rui-latn-tz",ruk:"ruk-latn-ng",ruo:"ruo-latn-hr",rup:"rup-latn-ro","rup-grek":"rup-grek-gr",ruq:"ruq-latn-gr",rut:"rut-cyrl-ru","rut-latn":"rut-latn-az",ruu:"ruu-latn-my",ruy:"ruy-latn-ng",ruz:"ruz-latn-ng",rw:"rw-latn-rw",rwa:"rwa-latn-pg",rwk:"rwk-latn-tz",rwl:"rwl-latn-tz",rwm:"rwm-latn-ug",rwo:"rwo-latn-zz",rwr:"rwr-deva-in",rxd:"rxd-latn-au",rxw:"rxw-latn-au",ryu:"ryu-kana-jp",sa:"sa-deva-in",saa:"saa-latn-td",sab:"sab-latn-pa",sac:"sac-latn-us",sad:"sad-latn-tz",sae:"sae-latn-br",saf:"saf-latn-gh",sah:"sah-cyrl-ru",saj:"saj-latn-id",sak:"sak-latn-ga",sam:"sam-samr-ps","sam-hebr":"sam-hebr-ps","sam-syrc":"sam-syrc-ps",sao:"sao-latn-id",saq:"saq-latn-ke",sar:"sar-latn-bo",sas:"sas-latn-id",sat:"sat-olck-in",sau:"sau-latn-id",sav:"sav-latn-sn",saw:"saw-latn-id",sax:"sax-latn-vu",say:"say-latn-ng",saz:"saz-saur-in",sba:"sba-latn-zz",sbb:"sbb-latn-sb",sbc:"sbc-latn-pg",sbd:"sbd-latn-bf",sbe:"sbe-latn-zz",sbg:"sbg-latn-id",sbh:"sbh-latn-pg",sbi:"sbi-latn-pg",sbj:"sbj-latn-td",sbk:"sbk-latn-tz",sbl:"sbl-latn-ph",sbm:"sbm-latn-tz",sbn:"sbn-arab-pk",sbo:"sbo-latn-my",sbp:"sbp-latn-tz",sbq:"sbq-latn-pg",sbr:"sbr-latn-id",sbs:"sbs-latn-na",sbt:"sbt-latn-id",sbu:"sbu-tibt-in","sbu-deva":"sbu-deva-in",sbv:"sbv-latn-it",sbw:"sbw-latn-ga",sbx:"sbx-latn-id",sby:"sby-latn-zm",sbz:"sbz-latn-cf",sc:"sc-latn-it",scb:"scb-latn-vn",sce:"sce-latn-cn","sce-arab":"sce-arab-cn",scf:"scf-latn-pa",scg:"scg-latn-id",sch:"sch-latn-in",sci:"sci-latn-lk",sck:"sck-deva-in",scl:"scl-arab-zz",scn:"scn-latn-it",sco:"sco-latn-gb",scp:"scp-deva-np",scs:"scs-latn-ca","scs-cans":"scs-cans-ca",sct:"sct-laoo-la",scu:"scu-takr-in",scv:"scv-latn-ng",scw:"scw-latn-ng",scx:"scx-grek-it",sd:"sd-arab-pk","sd-deva":"sd-deva-in","sd-in":"sd-deva-in","sd-khoj":"sd-khoj-in","sd-sind":"sd-sind-in",sda:"sda-latn-id",sdb:"sdb-arab-iq",sdc:"sdc-latn-it",sde:"sde-latn-ng",sdf:"sdf-arab-iq",sdg:"sdg-arab-af",sdh:"sdh-arab-ir",sdj:"sdj-latn-cg",sdk:"sdk-latn-pg",sdn:"sdn-latn-it",sdo:"sdo-latn-my",sdq:"sdq-latn-id",sds:"sds-arab-tn",sdu:"sdu-latn-id",sdx:"sdx-latn-my",se:"se-latn-no",sea:"sea-latn-my",seb:"seb-latn-ci",sec:"sec-latn-ca",sed:"sed-latn-vn",see:"see-latn-us",sef:"sef-latn-ci",seg:"seg-latn-tz",seh:"seh-latn-mz",sei:"sei-latn-mx",sej:"sej-latn-pg",sek:"sek-latn-ca","sek-cans":"sek-cans-ca",sel:"sel-cyrl-ru",sen:"sen-latn-bf",seo:"seo-latn-pg",sep:"sep-latn-bf",seq:"seq-latn-bf",ser:"ser-latn-us",ses:"ses-latn-ml",set:"set-latn-id",seu:"seu-latn-id",sev:"sev-latn-ci",sew:"sew-latn-pg",sey:"sey-latn-ec",sez:"sez-latn-mm",sfe:"sfe-latn-ph",sfm:"sfm-plrd-cn",sfw:"sfw-latn-gh",sg:"sg-latn-cf",sga:"sga-ogam-ie",sgb:"sgb-latn-ph",sgc:"sgc-latn-ke",sgd:"sgd-latn-ph",sge:"sge-latn-id",sgh:"sgh-cyrl-tj","sgh-arab":"sgh-arab-af","sgh-latn":"sgh-latn-tj",sgi:"sgi-latn-cm",sgj:"sgj-deva-in",sgm:"sgm-latn-ke",sgp:"sgp-latn-in",sgr:"sgr-arab-ir",sgs:"sgs-latn-lt",sgt:"sgt-tibt-bt",sgu:"sgu-latn-id",sgw:"sgw-ethi-zz",sgy:"sgy-arab-af",sgz:"sgz-latn-zz",sha:"sha-latn-ng",shb:"shb-latn-br",shc:"shc-latn-cd",shd:"shd-arab-pk",she:"she-latn-et",shg:"shg-latn-bw",shh:"shh-latn-us",shi:"shi-tfng-ma",shj:"shj-latn-sd",shk:"shk-latn-zz",shm:"shm-arab-ir",shn:"shn-mymr-mm",sho:"sho-latn-ng",shp:"shp-latn-pe",shq:"shq-latn-zm",shr:"shr-latn-cd",shs:"shs-latn-ca",sht:"sht-latn-us",shu:"shu-arab-zz",shv:"shv-arab-om",shw:"shw-latn-sd",shy:"shy-latn-dz","shy-arab":"shy-arab-dz","shy-tfng":"shy-tfng-dz",shz:"shz-latn-ml",si:"si-sinh-lk",sia:"sia-cyrl-ru",sib:"sib-latn-my",sid:"sid-latn-et",sie:"sie-latn-zm",sif:"sif-latn-bf",sig:"sig-latn-zz",sih:"sih-latn-nc",sii:"sii-latn-in",sij:"sij-latn-pg",sik:"sik-latn-br",sil:"sil-latn-zz",sim:"sim-latn-zz",sip:"sip-tibt-in",siq:"siq-latn-pg",sir:"sir-latn-ng",sis:"sis-latn-us",siu:"siu-latn-pg",siv:"siv-latn-pg",siw:"siw-latn-pg",six:"six-latn-pg",siy:"siy-arab-ir",siz:"siz-arab-eg",sja:"sja-latn-co",sjb:"sjb-latn-id",sjd:"sjd-cyrl-ru",sje:"sje-latn-se",sjg:"sjg-latn-td",sjl:"sjl-latn-in",sjm:"sjm-latn-ph",sjp:"sjp-deva-in","sjp-beng":"sjp-beng-in",sjr:"sjr-latn-zz",sjt:"sjt-cyrl-ru",sju:"sju-latn-se",sjw:"sjw-latn-us",sk:"sk-latn-sk",ska:"ska-latn-us",skb:"skb-thai-th",skc:"skc-latn-zz",skd:"skd-latn-us",ske:"ske-latn-vu",skf:"skf-latn-br",skg:"skg-latn-mg",skh:"skh-latn-id",ski:"ski-latn-id",skj:"skj-deva-np",skm:"skm-latn-pg",skn:"skn-latn-ph",sko:"sko-latn-id",skp:"skp-latn-my",skq:"skq-latn-bf",skr:"skr-arab-pk",sks:"sks-latn-zz",skt:"skt-latn-cd",sku:"sku-latn-vu",skv:"skv-latn-id",skw:"skw-latn-gy",skx:"skx-latn-id",sky:"sky-latn-sb",skz:"skz-latn-id",sl:"sl-latn-si",slc:"slc-latn-co",sld:"sld-latn-zz",slg:"slg-latn-id",slh:"slh-latn-us",sli:"sli-latn-pl",slj:"slj-latn-br",sll:"sll-latn-zz",slm:"slm-latn-ph",sln:"sln-latn-us",slp:"slp-latn-id",slq:"slq-arab-ir",slr:"slr-latn-cn",slu:"slu-latn-id",slw:"slw-latn-pg",slx:"slx-latn-cd",sly:"sly-latn-id",slz:"slz-latn-id",sm:"sm-latn-ws",sma:"sma-latn-se",smb:"smb-latn-pg",smc:"smc-latn-pg",smd:"smd-latn-ao",smf:"smf-latn-pg",smg:"smg-latn-pg",smh:"smh-yiii-cn",smj:"smj-latn-se",smk:"smk-latn-ph",sml:"sml-latn-ph",smn:"smn-latn-fi",smp:"smp-samr-il",smq:"smq-latn-zz",smr:"smr-latn-id",sms:"sms-latn-fi",smt:"smt-latn-in",smu:"smu-khmr-kh",smw:"smw-latn-id",smx:"smx-latn-cd",smy:"smy-arab-ir",smz:"smz-latn-pg",sn:"sn-latn-zw",snb:"snb-latn-my",snc:"snc-latn-zz",sne:"sne-latn-my",snf:"snf-latn-sn",sng:"sng-latn-cd","sng-brai":"sng-brai-cd",sni:"sni-latn-pe",snj:"snj-latn-cf",snk:"snk-latn-ml",snl:"snl-latn-ph",snm:"snm-latn-ug",snn:"snn-latn-co",sno:"sno-latn-us",snp:"snp-latn-zz",snq:"snq-latn-ga",snr:"snr-latn-pg",sns:"sns-latn-vu",snu:"snu-latn-id",snv:"snv-latn-my",snw:"snw-latn-gh",snx:"snx-latn-zz",sny:"sny-latn-zz",snz:"snz-latn-pg",so:"so-latn-so",soa:"soa-tavt-th","soa-thai":"soa-thai-th",sob:"sob-latn-id",soc:"soc-latn-cd",sod:"sod-latn-cd",soe:"soe-latn-cd",sog:"sog-sogd-uz",soi:"soi-deva-np",sok:"sok-latn-zz",sol:"sol-latn-pg",soo:"soo-latn-cd",sop:"sop-latn-cd",soq:"soq-latn-zz",sor:"sor-latn-td",sos:"sos-latn-bf",sou:"sou-thai-th",sov:"sov-latn-pw",sow:"sow-latn-pg",sox:"sox-latn-cm",soy:"soy-latn-zz",soz:"soz-latn-tz",spb:"spb-latn-id",spc:"spc-latn-ve",spd:"spd-latn-zz",spe:"spe-latn-pg",spg:"spg-latn-my",spi:"spi-latn-id",spk:"spk-latn-pg",spl:"spl-latn-zz",spm:"spm-latn-pg",spn:"spn-latn-py",spo:"spo-latn-us",spp:"spp-latn-ml",spq:"spq-latn-pe",spr:"spr-latn-id",sps:"sps-latn-zz",spt:"spt-tibt-in",spv:"spv-orya-in",sq:"sq-latn-al",sqa:"sqa-latn-ng",sqh:"sqh-latn-ng",sqm:"sqm-latn-cf",sqo:"sqo-arab-ir",sqq:"sqq-laoo-la",sqt:"sqt-arab-ye","sqt-latn":"sqt-latn-ye",squ:"squ-latn-ca",sr:"sr-cyrl-rs","sr-me":"sr-latn-me","sr-ro":"sr-latn-ro","sr-ru":"sr-latn-ru","sr-tr":"sr-latn-tr",sra:"sra-latn-pg",srb:"srb-sora-in",sre:"sre-latn-id",srf:"srf-latn-pg",srg:"srg-latn-ph",srh:"srh-arab-cn",sri:"sri-latn-co",srk:"srk-latn-my",srl:"srl-latn-id",srm:"srm-latn-sr",srn:"srn-latn-sr",sro:"sro-latn-it",srq:"srq-latn-bo",srr:"srr-latn-sn",srs:"srs-latn-ca",srt:"srt-latn-id",sru:"sru-latn-br",srv:"srv-latn-ph",srw:"srw-latn-id",srx:"srx-deva-in",sry:"sry-latn-pg",srz:"srz-arab-ir",ss:"ss-latn-za",ssb:"ssb-latn-ph",ssc:"ssc-latn-tz",ssd:"ssd-latn-zz",sse:"sse-latn-ph","sse-arab":"sse-arab-ph",ssf:"ssf-latn-tw",ssg:"ssg-latn-zz",ssh:"ssh-arab-ae",ssj:"ssj-latn-pg",ssl:"ssl-latn-gh",ssm:"ssm-latn-my",ssn:"ssn-latn-ke",sso:"sso-latn-pg",ssq:"ssq-latn-id",sss:"sss-laoo-la","sss-thai":"sss-thai-th",sst:"sst-latn-pg",ssu:"ssu-latn-pg",ssv:"ssv-latn-vu",ssx:"ssx-latn-pg",ssy:"ssy-latn-er",ssz:"ssz-latn-pg",st:"st-latn-za",sta:"sta-latn-zm",stb:"stb-latn-ph",ste:"ste-latn-id",stf:"stf-latn-pg",stg:"stg-latn-vn",sth:"sth-latn-ie",sti:"sti-latn-vn","sti-kh":"sti-latn-kh",stj:"stj-latn-bf",stk:"stk-latn-zz",stl:"stl-latn-nl",stm:"stm-latn-pg",stn:"stn-latn-sb",sto:"sto-latn-ca",stp:"stp-latn-mx",stq:"stq-latn-de",str:"str-latn-ca",sts:"sts-arab-af",stt:"stt-latn-vn",stv:"stv-ethi-et","stv-arab":"stv-arab-et",stw:"stw-latn-fm",sty:"sty-cyrl-ru",su:"su-latn-id",sua:"sua-latn-zz",sub:"sub-latn-cd",suc:"suc-latn-ph",sue:"sue-latn-zz",sug:"sug-latn-pg",sui:"sui-latn-pg",suj:"suj-latn-tz",suk:"suk-latn-tz",suo:"suo-latn-pg",suq:"suq-latn-et","suq-ethi":"suq-ethi-et",sur:"sur-latn-zz",sus:"sus-latn-gn",sut:"sut-latn-ni",suv:"suv-latn-in","suv-beng":"suv-beng-in","suv-deva":"suv-deva-in",suw:"suw-latn-tz",suy:"suy-latn-br",suz:"suz-deva-np",sv:"sv-latn-se",sva:"sva-geor-ge","sva-cyrl":"sva-cyrl-ge","sva-latn":"sva-latn-ge",svb:"svb-latn-pg",svc:"svc-latn-vc",sve:"sve-latn-id",svm:"svm-latn-it",svs:"svs-latn-sb",sw:"sw-latn-tz",swb:"swb-arab-yt",swc:"swc-latn-cd",swf:"swf-latn-cd",swg:"swg-latn-de",swi:"swi-hani-cn",swj:"swj-latn-ga",swk:"swk-latn-mw",swm:"swm-latn-pg",swo:"swo-latn-br",swp:"swp-latn-zz",swq:"swq-latn-cm",swr:"swr-latn-id",sws:"sws-latn-id",swt:"swt-latn-id",swu:"swu-latn-id",swv:"swv-deva-in",sww:"sww-latn-vu",swx:"swx-latn-br",swy:"swy-latn-td",sxb:"sxb-latn-ke",sxe:"sxe-latn-ga",sxn:"sxn-latn-id",sxr:"sxr-latn-tw",sxs:"sxs-latn-ng",sxu:"sxu-latn-de","sxu-runr":"sxu-runr-de",sxw:"sxw-latn-zz",sya:"sya-latn-id",syb:"syb-latn-ph",syc:"syc-syrc-tr",syi:"syi-latn-ga",syk:"syk-latn-ng",syl:"syl-beng-bd",sym:"sym-latn-bf",syn:"syn-syrc-ir",syo:"syo-latn-kh",syr:"syr-syrc-iq",sys:"sys-latn-td",syw:"syw-deva-np",syx:"syx-latn-ga",sza:"sza-latn-my",szb:"szb-latn-id",szc:"szc-latn-my",szd:"szd-latn-my",szg:"szg-latn-cd",szl:"szl-latn-pl",szn:"szn-latn-id",szp:"szp-latn-id",szv:"szv-latn-cm",szw:"szw-latn-id",szy:"szy-latn-tw",ta:"ta-taml-in",taa:"taa-latn-us",tab:"tab-cyrl-ru",tac:"tac-latn-mx",tad:"tad-latn-id",tae:"tae-latn-br",taf:"taf-latn-br",tag:"tag-latn-sd",taj:"taj-deva-np",tak:"tak-latn-ng",tal:"tal-latn-zz",tan:"tan-latn-zz",tao:"tao-latn-tw",tap:"tap-latn-cd",taq:"taq-latn-zz",tar:"tar-latn-mx",tas:"tas-latn-vn",tau:"tau-latn-us",tav:"tav-latn-co",taw:"taw-latn-pg",tax:"tax-latn-td",tay:"tay-latn-tw","tay-hans":"tay-hans-tw","tay-hant":"tay-hant-tw",taz:"taz-latn-sd",tba:"tba-latn-br",tbc:"tbc-latn-zz",tbd:"tbd-latn-zz",tbe:"tbe-latn-sb",tbf:"tbf-latn-zz",tbg:"tbg-latn-zz",tbh:"tbh-latn-au",tbi:"tbi-latn-sd",tbj:"tbj-latn-pg",tbk:"tbk-tagb-ph","tbk-hano":"tbk-hano-ph","tbk-latn":"tbk-latn-ph",tbl:"tbl-latn-ph",tbm:"tbm-latn-cd",tbn:"tbn-latn-co",tbo:"tbo-latn-zz",tbp:"tbp-latn-id",tbs:"tbs-latn-pg",tbt:"tbt-latn-cd",tbu:"tbu-latn-mx",tbv:"tbv-latn-pg",tbw:"tbw-latn-ph",tbx:"tbx-latn-pg",tby:"tby-latn-id",tbz:"tbz-latn-zz",tca:"tca-latn-br",tcb:"tcb-latn-us",tcc:"tcc-latn-tz",tcd:"tcd-latn-gh",tce:"tce-latn-ca",tcf:"tcf-latn-mx",tcg:"tcg-latn-id",tch:"tch-latn-tc",tci:"tci-latn-zz",tck:"tck-latn-ga",tcm:"tcm-latn-id",tcn:"tcn-tibt-np",tco:"tco-mymr-mm",tcp:"tcp-latn-mm",tcq:"tcq-latn-id",tcs:"tcs-latn-au",tcu:"tcu-latn-mx",tcw:"tcw-latn-mx",tcx:"tcx-taml-in",tcy:"tcy-knda-in",tcz:"tcz-latn-in",tda:"tda-tfng-ne","tda-arab":"tda-arab-ne","tda-latn":"tda-latn-ne",tdb:"tdb-deva-in","tdb-beng":"tdb-beng-in","tdb-kthi":"tdb-kthi-in",tdc:"tdc-latn-co",tdd:"tdd-tale-cn",tde:"tde-latn-ml",tdg:"tdg-deva-np",tdh:"tdh-deva-np",tdi:"tdi-latn-id",tdj:"tdj-latn-id",tdk:"tdk-latn-ng",tdl:"tdl-latn-ng",tdm:"tdm-latn-gy",tdn:"tdn-latn-id",tdo:"tdo-latn-ng",tdq:"tdq-latn-ng",tdr:"tdr-latn-vn",tds:"tds-latn-id",tdt:"tdt-latn-tl",tdu:"tdu-latn-my",tdv:"tdv-latn-ng",tdx:"tdx-latn-mg",tdy:"tdy-latn-ph",te:"te-telu-in",tea:"tea-latn-my",teb:"teb-latn-ec",tec:"tec-latn-ke",ted:"ted-latn-zz",tee:"tee-latn-mx",teg:"teg-latn-ga",teh:"teh-latn-ar",tei:"tei-latn-pg",tek:"tek-latn-cd",tem:"tem-latn-sl",ten:"ten-latn-co",teo:"teo-latn-ug",tep:"tep-latn-mx",teq:"teq-latn-sd",ter:"ter-latn-br",tes:"tes-java-id",tet:"tet-latn-tl",teu:"teu-latn-ug",tev:"tev-latn-id",tew:"tew-latn-us",tex:"tex-latn-ss",tey:"tey-latn-sd",tfi:"tfi-latn-zz",tfn:"tfn-latn-us",tfo:"tfo-latn-id",tfr:"tfr-latn-pa",tft:"tft-latn-id",tg:"tg-cyrl-tj","tg-arab":"tg-arab-pk","tg-pk":"tg-arab-pk",tga:"tga-latn-ke",tgb:"tgb-latn-my",tgc:"tgc-latn-zz",tgd:"tgd-latn-ng",tge:"tge-deva-np",tgf:"tgf-tibt-bt",tgh:"tgh-latn-tt",tgi:"tgi-latn-pg",tgj:"tgj-latn-in",tgn:"tgn-latn-ph",tgo:"tgo-latn-zz",tgp:"tgp-latn-vu",tgq:"tgq-latn-my",tgs:"tgs-latn-vu",tgt:"tgt-latn-ph","tgt-hano":"tgt-hano-ph","tgt-tagb":"tgt-tagb-ph",tgu:"tgu-latn-zz",tgv:"tgv-latn-br",tgw:"tgw-latn-ci",tgx:"tgx-latn-ca",tgy:"tgy-latn-ss",tgz:"tgz-latn-au",th:"th-thai-th",thd:"thd-latn-au",the:"the-deva-np",thf:"thf-deva-np",thh:"thh-latn-mx",thi:"thi-tale-la",thk:"thk-latn-ke",thl:"thl-deva-np",thm:"thm-thai-th",thp:"thp-latn-ca","thp-dupl":"thp-dupl-ca",thq:"thq-deva-np",thr:"thr-deva-np",ths:"ths-deva-np",tht:"tht-latn-ca",thu:"thu-latn-ss",thv:"thv-latn-dz","thv-arab":"thv-arab-dz","thv-tfng":"thv-tfng-dz",thy:"thy-latn-ng",thz:"thz-latn-ne","thz-tfng":"thz-tfng-ne",ti:"ti-ethi-et",tic:"tic-latn-sd",tif:"tif-latn-zz",tig:"tig-ethi-er",tih:"tih-latn-my",tii:"tii-latn-cd",tij:"tij-deva-np",tik:"tik-latn-zz",til:"til-latn-us",tim:"tim-latn-zz",tin:"tin-cyrl-ru",tio:"tio-latn-zz",tip:"tip-latn-id",tiq:"tiq-latn-bf",tis:"tis-latn-ph",tit:"tit-latn-co",tiu:"tiu-latn-ph",tiv:"tiv-latn-ng",tiw:"tiw-latn-au",tix:"tix-latn-us",tiy:"tiy-latn-ph",tja:"tja-latn-lr",tjg:"tjg-latn-id",tji:"tji-latn-cn",tjj:"tjj-latn-au",tjl:"tjl-mymr-mm",tjn:"tjn-latn-ci",tjo:"tjo-arab-dz",tjp:"tjp-latn-au",tjs:"tjs-latn-cn",tju:"tju-latn-au",tjw:"tjw-latn-au",tk:"tk-latn-tm",tka:"tka-latn-br",tkb:"tkb-deva-in",tkd:"tkd-latn-tl",tke:"tke-latn-mz",tkf:"tkf-latn-br",tkg:"tkg-latn-mg",tkl:"tkl-latn-tk",tkp:"tkp-latn-sb",tkq:"tkq-latn-ng",tkr:"tkr-latn-az",tks:"tks-arab-ir",tkt:"tkt-deva-np",tku:"tku-latn-mx",tkv:"tkv-latn-pg",tkw:"tkw-latn-sb",tkx:"tkx-latn-id",tkz:"tkz-latn-vn",tl:"tl-latn-ph",tla:"tla-latn-mx",tlb:"tlb-latn-id",tlc:"tlc-latn-mx",tld:"tld-latn-id",tlf:"tlf-latn-zz",tlg:"tlg-latn-id",tli:"tli-latn-us","tli-cyrl":"tli-cyrl-us",tlj:"tlj-latn-ug",tlk:"tlk-latn-id",tll:"tll-latn-cd",tlm:"tlm-latn-vu",tln:"tln-latn-id",tlp:"tlp-latn-mx",tlq:"tlq-latn-mm",tlr:"tlr-latn-sb",tls:"tls-latn-vu",tlt:"tlt-latn-id",tlu:"tlu-latn-id",tlv:"tlv-latn-id",tlx:"tlx-latn-zz",tly:"tly-latn-az",tma:"tma-latn-td",tmb:"tmb-latn-vu",tmc:"tmc-latn-td",tmd:"tmd-latn-pg",tme:"tme-latn-br",tmf:"tmf-latn-py",tmg:"tmg-latn-id",tmh:"tmh-latn-ne",tmi:"tmi-latn-vu",tmj:"tmj-latn-id",tmk:"tmk-deva-np",tml:"tml-latn-id",tmm:"tmm-latn-vn",tmn:"tmn-latn-id",tmo:"tmo-latn-my",tmq:"tmq-latn-pg",tmr:"tmr-syrc-il",tmt:"tmt-latn-vu",tmu:"tmu-latn-id",tmv:"tmv-latn-cd",tmw:"tmw-latn-my",tmy:"tmy-latn-zz",tmz:"tmz-latn-ve",tn:"tn-latn-za",tna:"tna-latn-bo",tnb:"tnb-latn-co",tnc:"tnc-latn-co",tnd:"tnd-latn-co",tng:"tng-latn-td",tnh:"tnh-latn-zz",tni:"tni-latn-id",tnk:"tnk-latn-vu",tnl:"tnl-latn-vu",tnm:"tnm-latn-id",tnn:"tnn-latn-vu",tno:"tno-latn-bo",tnp:"tnp-latn-vu",tnq:"tnq-latn-pr",tnr:"tnr-latn-sn",tns:"tns-latn-pg",tnt:"tnt-latn-id",tnv:"tnv-cakm-bd",tnw:"tnw-latn-id",tnx:"tnx-latn-sb",tny:"tny-latn-tz",to:"to-latn-to",tob:"tob-latn-ar",toc:"toc-latn-mx",tod:"tod-latn-gn",tof:"tof-latn-zz",tog:"tog-latn-mw",toh:"toh-latn-mz",toi:"toi-latn-zm",toj:"toj-latn-mx",tok:"tok-latn-001",tol:"tol-latn-us",tom:"tom-latn-id",too:"too-latn-mx",top:"top-latn-mx",toq:"toq-latn-zz",tor:"tor-latn-cd",tos:"tos-latn-mx",tou:"tou-latn-vn",tov:"tov-arab-ir",tow:"tow-latn-us",tox:"tox-latn-pw",toy:"toy-latn-id",toz:"toz-latn-cm",tpa:"tpa-latn-pg",tpc:"tpc-latn-mx",tpe:"tpe-latn-bd","tpe-beng":"tpe-beng-bd",tpf:"tpf-latn-id",tpg:"tpg-latn-id",tpi:"tpi-latn-pg",tpj:"tpj-latn-py",tpk:"tpk-latn-br",tpl:"tpl-latn-mx",tpm:"tpm-latn-zz",tpn:"tpn-latn-br",tpp:"tpp-latn-mx",tpr:"tpr-latn-br",tpt:"tpt-latn-mx",tpu:"tpu-khmr-kh",tpv:"tpv-latn-mp",tpx:"tpx-latn-mx",tpy:"tpy-latn-br",tpz:"tpz-latn-zz",tqb:"tqb-latn-br",tql:"tql-latn-vu",tqm:"tqm-latn-pg",tqn:"tqn-latn-us",tqo:"tqo-latn-zz",tqp:"tqp-latn-pg",tqt:"tqt-latn-mx",tqu:"tqu-latn-sb",tqw:"tqw-latn-us",tr:"tr-latn-tr",tra:"tra-arab-af",trb:"trb-latn-pg",trc:"trc-latn-mx",tre:"tre-latn-id",trf:"trf-latn-tt",trg:"trg-hebr-il",trh:"trh-latn-pg",tri:"tri-latn-sr",trj:"trj-latn-td",trl:"trl-latn-gb",trm:"trm-arab-af",trn:"trn-latn-bo",tro:"tro-latn-in",trp:"trp-latn-in","trp-beng":"trp-beng-in",trq:"trq-latn-mx",trr:"trr-latn-pe",trs:"trs-latn-mx",trt:"trt-latn-id",tru:"tru-latn-tr",trv:"trv-latn-tw",trw:"trw-arab-pk",trx:"trx-latn-my",try:"try-latn-in",trz:"trz-latn-br",ts:"ts-latn-za",tsa:"tsa-latn-cg",tsb:"tsb-latn-et",tsc:"tsc-latn-mz",tsd:"tsd-grek-gr",tsf:"tsf-deva-np",tsg:"tsg-latn-ph",tsh:"tsh-latn-cm",tsi:"tsi-latn-ca",tsj:"tsj-tibt-bt",tsl:"tsl-latn-vn",tsp:"tsp-latn-bf",tsr:"tsr-latn-vu",tst:"tst-latn-ml",tsu:"tsu-latn-tw",tsv:"tsv-latn-ga",tsw:"tsw-latn-zz",tsx:"tsx-latn-pg",tsz:"tsz-latn-mx",tt:"tt-cyrl-ru",ttb:"ttb-latn-ng",ttc:"ttc-latn-gt",ttd:"ttd-latn-zz",tte:"tte-latn-zz",ttf:"ttf-latn-cm",tth:"tth-laoo-la",tti:"tti-latn-id",ttj:"ttj-latn-ug",ttk:"ttk-latn-co",ttl:"ttl-latn-zm",ttm:"ttm-latn-ca",ttn:"ttn-latn-id",tto:"tto-laoo-la",ttp:"ttp-latn-id",ttr:"ttr-latn-zz",tts:"tts-thai-th",ttt:"ttt-latn-az",ttu:"ttu-latn-pg",ttv:"ttv-latn-pg",ttw:"ttw-latn-my",tty:"tty-latn-id",tua:"tua-latn-pg",tub:"tub-latn-us",tuc:"tuc-latn-pg",tud:"tud-latn-br",tue:"tue-latn-co",tuf:"tuf-latn-co",tug:"tug-latn-td",tuh:"tuh-latn-zz",tui:"tui-latn-cm",tuj:"tuj-latn-id",tul:"tul-latn-zz",tum:"tum-latn-mw",tun:"tun-latn-us",tuo:"tuo-latn-br",tuq:"tuq-latn-zz",tus:"tus-latn-ca",tuu:"tuu-latn-us",tuv:"tuv-latn-ke",tux:"tux-latn-br",tuy:"tuy-latn-ke",tuz:"tuz-latn-bf",tva:"tva-latn-sb",tvd:"tvd-latn-zz",tve:"tve-latn-id",tvk:"tvk-latn-vu",tvl:"tvl-latn-tv",tvm:"tvm-latn-id",tvn:"tvn-mymr-mm",tvo:"tvo-latn-id",tvs:"tvs-latn-ke",tvt:"tvt-latn-in",tvu:"tvu-latn-zz",tvw:"tvw-latn-id",tvx:"tvx-latn-tw",twa:"twa-latn-us",twb:"twb-latn-ph",twd:"twd-latn-nl",twe:"twe-latn-id",twf:"twf-latn-us",twg:"twg-latn-id",twh:"twh-latn-zz",twl:"twl-latn-mz",twm:"twm-deva-in",twn:"twn-latn-cm",two:"two-latn-bw",twp:"twp-latn-pg",twq:"twq-latn-ne",twr:"twr-latn-mx",twt:"twt-latn-br",twu:"twu-latn-id",tww:"tww-latn-pg",twx:"twx-latn-mz",twy:"twy-latn-id",txa:"txa-latn-my",txe:"txe-latn-id",txg:"txg-tang-cn",txi:"txi-latn-br",txj:"txj-latn-ng",txm:"txm-latn-id",txn:"txn-latn-id",txo:"txo-toto-in",txq:"txq-latn-id",txs:"txs-latn-id",txt:"txt-latn-id",txu:"txu-latn-br",txx:"txx-latn-my",txy:"txy-latn-mg",ty:"ty-latn-pf",tya:"tya-latn-zz",tye:"tye-latn-ng",tyh:"tyh-latn-vn",tyi:"tyi-latn-cg",tyj:"tyj-latn-vn",tyl:"tyl-latn-vn",tyn:"tyn-latn-id",typ:"typ-latn-au",tyr:"tyr-tavt-vn",tys:"tys-latn-vn",tyt:"tyt-latn-vn","tyt-tavt":"tyt-tavt-vn",tyu:"tyu-latn-bw",tyv:"tyv-cyrl-ru",tyx:"tyx-latn-cg",tyy:"tyy-latn-ng",tyz:"tyz-latn-vn",tzh:"tzh-latn-mx",tzj:"tzj-latn-gt",tzl:"tzl-latn-001",tzm:"tzm-latn-ma",tzn:"tzn-latn-id",tzo:"tzo-latn-mx",tzx:"tzx-latn-pg",uam:"uam-latn-br",uar:"uar-latn-pg",uba:"uba-latn-ng",ubi:"ubi-latn-td",ubl:"ubl-latn-ph",ubr:"ubr-latn-pg",ubu:"ubu-latn-zz",uda:"uda-latn-ng",ude:"ude-cyrl-ru",udg:"udg-mlym-in",udi:"udi-aghb-ru",udj:"udj-latn-id",udl:"udl-latn-cm",udm:"udm-cyrl-ru",udu:"udu-latn-sd",ues:"ues-latn-id",ufi:"ufi-latn-pg",ug:"ug-arab-cn","ug-cyrl":"ug-cyrl-kz","ug-kz":"ug-cyrl-kz","ug-mn":"ug-cyrl-mn",uga:"uga-ugar-sy",ugb:"ugb-latn-au",uge:"uge-latn-sb",ugh:"ugh-cyrl-ru",ugo:"ugo-thai-th",uha:"uha-latn-ng",uhn:"uhn-latn-id",uis:"uis-latn-pg",uiv:"uiv-latn-cm",uji:"uji-latn-ng",uk:"uk-cyrl-ua",uka:"uka-latn-id",ukg:"ukg-latn-pg",ukh:"ukh-latn-cf",uki:"uki-orya-in",ukk:"ukk-latn-mm",ukp:"ukp-latn-ng",ukq:"ukq-latn-ng",uku:"uku-latn-ng",ukv:"ukv-latn-ss",ukw:"ukw-latn-ng",uky:"uky-latn-au",ula:"ula-latn-ng",ulb:"ulb-latn-ng",ulc:"ulc-cyrl-ru",ule:"ule-latn-ar",ulf:"ulf-latn-id",uli:"uli-latn-fm",ulk:"ulk-latn-au",ulm:"ulm-latn-id",uln:"uln-latn-pg",ulu:"ulu-latn-id",ulw:"ulw-latn-ni",uma:"uma-latn-us",umb:"umb-latn-ao",umd:"umd-latn-au",umg:"umg-latn-au",umi:"umi-latn-my",umm:"umm-latn-ng",umn:"umn-latn-mm",umo:"umo-latn-br",ump:"ump-latn-au",umr:"umr-latn-au",ums:"ums-latn-id",una:"una-latn-pg",und:"en-latn-us","und-002":"en-latn-ng","und-003":"en-latn-us","und-005":"pt-latn-br","und-009":"en-latn-au","und-011":"en-latn-ng","und-013":"es-latn-mx","und-014":"sw-latn-tz","und-015":"ar-arab-eg","und-017":"sw-latn-cd","und-018":"en-latn-za","und-019":"en-latn-us","und-021":"en-latn-us","und-029":"es-latn-cu","und-030":"zh-hans-cn","und-034":"hi-deva-in","und-035":"id-latn-id","und-039":"it-latn-it","und-053":"en-latn-au","und-054":"en-latn-pg","und-057":"en-latn-gu","und-061":"sm-latn-ws","und-142":"zh-hans-cn","und-143":"uz-latn-uz","und-145":"ar-arab-sa","und-150":"ru-cyrl-ru","und-151":"ru-cyrl-ru","und-154":"en-latn-gb","und-155":"de-latn-de","und-202":"en-latn-ng","und-419":"es-latn-419","und-ad":"ca-latn-ad","und-adlm":"ff-adlm-gn","und-ae":"ar-arab-ae","und-af":"fa-arab-af","und-aghb":"udi-aghb-ru","und-ahom":"aho-ahom-in","und-al":"sq-latn-al","und-am":"hy-armn-am","und-ao":"pt-latn-ao","und-aq":"und-latn-aq","und-ar":"es-latn-ar","und-arab":"ar-arab-eg","und-arab-cc":"ms-arab-cc","und-arab-cn":"ug-arab-cn","und-arab-gb":"ur-arab-gb","und-arab-id":"ms-arab-id","und-arab-in":"ur-arab-in","und-arab-kh":"cja-arab-kh","und-arab-mm":"rhg-arab-mm","und-arab-mn":"kk-arab-mn","und-arab-mu":"ur-arab-mu","und-arab-ng":"ha-arab-ng","und-arab-pk":"ur-arab-pk","und-arab-tg":"apd-arab-tg","und-arab-th":"mfa-arab-th","und-arab-tj":"fa-arab-tj","und-arab-tr":"apc-arab-tr","und-arab-yt":"swb-arab-yt","und-armi":"arc-armi-ir","und-armn":"hy-armn-am","und-as":"sm-latn-as","und-at":"de-latn-at","und-avst":"ae-avst-ir","und-aw":"nl-latn-aw","und-ax":"sv-latn-ax","und-az":"az-latn-az","und-ba":"bs-latn-ba","und-bali":"ban-bali-id","und-bamu":"bax-bamu-cm","und-bass":"bsq-bass-lr","und-batk":"bbc-batk-id","und-bd":"bn-beng-bd","und-be":"nl-latn-be","und-beng":"bn-beng-bd","und-bf":"fr-latn-bf","und-bg":"bg-cyrl-bg","und-bh":"ar-arab-bh","und-bhks":"sa-bhks-in","und-bi":"rn-latn-bi","und-bj":"fr-latn-bj","und-bl":"fr-latn-bl","und-bn":"ms-latn-bn","und-bo":"es-latn-bo","und-bopo":"zh-bopo-tw","und-bq":"pap-latn-bq","und-br":"pt-latn-br","und-brah":"pka-brah-in","und-brai":"fr-brai-fr","und-bt":"dz-tibt-bt","und-bugi":"bug-bugi-id","und-buhd":"bku-buhd-ph","und-bv":"und-latn-bv","und-by":"be-cyrl-by","und-cakm":"ccp-cakm-bd","und-cans":"iu-cans-ca","und-cari":"xcr-cari-tr","und-cd":"sw-latn-cd","und-cf":"fr-latn-cf","und-cg":"fr-latn-cg","und-ch":"de-latn-ch","und-cham":"cjm-cham-vn","und-cher":"chr-cher-us","und-chrs":"xco-chrs-uz","und-ci":"fr-latn-ci","und-cl":"es-latn-cl","und-cm":"fr-latn-cm","und-cn":"zh-hans-cn","und-co":"es-latn-co","und-copt":"cop-copt-eg","und-cp":"und-latn-cp","und-cpmn":"und-cpmn-cy","und-cpmn-cy":"und-cpmn-cy","und-cprt":"grc-cprt-cy","und-cr":"es-latn-cr","und-cu":"es-latn-cu","und-cv":"pt-latn-cv","und-cw":"pap-latn-cw","und-cy":"el-grek-cy","und-cyrl":"ru-cyrl-ru","und-cyrl-al":"mk-cyrl-al","und-cyrl-ba":"sr-cyrl-ba","und-cyrl-ge":"ab-cyrl-ge","und-cyrl-gr":"mk-cyrl-gr","und-cyrl-md":"uk-cyrl-md","und-cyrl-ro":"bg-cyrl-ro","und-cyrl-sk":"uk-cyrl-sk","und-cyrl-tr":"kbd-cyrl-tr","und-cyrl-xk":"sr-cyrl-xk","und-cz":"cs-latn-cz","und-de":"de-latn-de","und-deva":"hi-deva-in","und-deva-bt":"ne-deva-bt","und-deva-fj":"hif-deva-fj","und-deva-mu":"bho-deva-mu","und-deva-pk":"btv-deva-pk","und-diak":"dv-diak-mv","und-dj":"aa-latn-dj","und-dk":"da-latn-dk","und-do":"es-latn-do","und-dogr":"doi-dogr-in","und-dupl":"fr-dupl-fr","und-dz":"ar-arab-dz","und-ea":"es-latn-ea","und-ec":"es-latn-ec","und-ee":"et-latn-ee","und-eg":"ar-arab-eg","und-egyp":"egy-egyp-eg","und-eh":"ar-arab-eh","und-elba":"sq-elba-al","und-elym":"arc-elym-ir","und-er":"ti-ethi-er","und-es":"es-latn-es","und-et":"am-ethi-et","und-ethi":"am-ethi-et","und-eu":"en-latn-ie","und-ez":"de-latn-ez","und-fi":"fi-latn-fi","und-fo":"fo-latn-fo","und-fr":"fr-latn-fr","und-ga":"fr-latn-ga","und-ge":"ka-geor-ge","und-geor":"ka-geor-ge","und-gf":"fr-latn-gf","und-gh":"ak-latn-gh","und-gl":"kl-latn-gl","und-glag":"cu-glag-bg","und-gn":"fr-latn-gn","und-gong":"wsg-gong-in","und-gonm":"esg-gonm-in","und-goth":"got-goth-ua","und-gp":"fr-latn-gp","und-gq":"es-latn-gq","und-gr":"el-grek-gr","und-gran":"sa-gran-in","und-grek":"el-grek-gr","und-grek-tr":"bgx-grek-tr","und-gs":"und-latn-gs","und-gt":"es-latn-gt","und-gujr":"gu-gujr-in","und-guru":"pa-guru-in","und-gw":"pt-latn-gw","und-hanb":"zh-hanb-tw","und-hang":"ko-hang-kr","und-hani":"zh-hani-cn","und-hano":"hnn-hano-ph","und-hans":"zh-hans-cn","und-hant":"zh-hant-tw","und-hant-ca":"yue-hant-ca","und-hebr":"he-hebr-il","und-hebr-se":"yi-hebr-se","und-hebr-ua":"yi-hebr-ua","und-hebr-us":"yi-hebr-us","und-hira":"ja-hira-jp","und-hk":"zh-hant-hk","und-hluw":"hlu-hluw-tr","und-hm":"und-latn-hm","und-hmng":"hnj-hmng-la","und-hmnp":"hnj-hmnp-us","und-hn":"es-latn-hn","und-hr":"hr-latn-hr","und-ht":"ht-latn-ht","und-hu":"hu-latn-hu","und-hung":"hu-hung-hu","und-ic":"es-latn-ic","und-id":"id-latn-id","und-il":"he-hebr-il","und-in":"hi-deva-in","und-iq":"ar-arab-iq","und-ir":"fa-arab-ir","und-is":"is-latn-is","und-it":"it-latn-it","und-ital":"ett-ital-it","und-jamo":"ko-jamo-kr","und-java":"jv-java-id","und-jo":"ar-arab-jo","und-jp":"ja-jpan-jp","und-jpan":"ja-jpan-jp","und-kali":"eky-kali-mm","und-kana":"ja-kana-jp","und-kawi":"kaw-kawi-id","und-ke":"sw-latn-ke","und-kg":"ky-cyrl-kg","und-kh":"km-khmr-kh","und-khar":"pra-khar-pk","und-khmr":"km-khmr-kh","und-khoj":"sd-khoj-in","und-kits":"zkt-kits-cn","und-km":"ar-arab-km","und-knda":"kn-knda-in","und-kore":"ko-kore-kr","und-kp":"ko-kore-kp","und-kr":"ko-kore-kr","und-kthi":"bho-kthi-in","und-kw":"ar-arab-kw","und-kz":"ru-cyrl-kz","und-la":"lo-laoo-la","und-lana":"nod-lana-th","und-laoo":"lo-laoo-la","und-laoo-au":"hnj-laoo-au","und-laoo-cn":"hnj-laoo-cn","und-laoo-fr":"hnj-laoo-fr","und-laoo-gf":"hnj-laoo-gf","und-laoo-mm":"hnj-laoo-mm","und-laoo-sr":"hnj-laoo-sr","und-laoo-th":"hnj-laoo-th","und-laoo-us":"hnj-laoo-us","und-laoo-vn":"hnj-laoo-vn","und-latn-af":"tk-latn-af","und-latn-am":"ku-latn-am","und-latn-cn":"za-latn-cn","und-latn-cy":"tr-latn-cy","und-latn-dz":"fr-latn-dz","und-latn-et":"en-latn-et","und-latn-ge":"ku-latn-ge","und-latn-ir":"tk-latn-ir","und-latn-km":"fr-latn-km","und-latn-ma":"fr-latn-ma","und-latn-mk":"sq-latn-mk","und-latn-mm":"kac-latn-mm","und-latn-mo":"pt-latn-mo","und-latn-mr":"fr-latn-mr","und-latn-ru":"krl-latn-ru","und-latn-sy":"fr-latn-sy","und-latn-tn":"fr-latn-tn","und-latn-tw":"trv-latn-tw","und-latn-ua":"pl-latn-ua","und-lb":"ar-arab-lb","und-lepc":"lep-lepc-in","und-li":"de-latn-li","und-limb":"lif-limb-in","und-lina":"lab-lina-gr","und-linb":"grc-linb-gr","und-lisu":"lis-lisu-cn","und-lk":"si-sinh-lk","und-ls":"st-latn-ls","und-lt":"lt-latn-lt","und-lu":"fr-latn-lu","und-lv":"lv-latn-lv","und-ly":"ar-arab-ly","und-lyci":"xlc-lyci-tr","und-lydi":"xld-lydi-tr","und-ma":"ar-arab-ma","und-mahj":"hi-mahj-in","und-maka":"mak-maka-id","und-mand":"myz-mand-ir","und-mani":"xmn-mani-cn","und-marc":"bo-marc-cn","und-mc":"fr-latn-mc","und-md":"ro-latn-md","und-me":"sr-latn-me","und-medf":"dmf-medf-ng","und-mend":"men-mend-sl","und-merc":"xmr-merc-sd","und-mero":"xmr-mero-sd","und-mf":"fr-latn-mf","und-mg":"mg-latn-mg","und-mk":"mk-cyrl-mk","und-ml":"bm-latn-ml","und-mlym":"ml-mlym-in","und-mm":"my-mymr-mm","und-mn":"mn-cyrl-mn","und-mo":"zh-hant-mo","und-modi":"mr-modi-in","und-mong":"mn-mong-cn","und-mq":"fr-latn-mq","und-mr":"ar-arab-mr","und-mroo":"mro-mroo-bd","und-mt":"mt-latn-mt","und-mtei":"mni-mtei-in","und-mu":"mfe-latn-mu","und-mult":"skr-mult-pk","und-mv":"dv-thaa-mv","und-mx":"es-latn-mx","und-my":"ms-latn-my","und-mymr":"my-mymr-mm","und-mymr-in":"kht-mymr-in","und-mymr-th":"mnw-mymr-th","und-mz":"pt-latn-mz","und-na":"af-latn-na","und-nagm":"unr-nagm-in","und-nand":"sa-nand-in","und-narb":"xna-narb-sa","und-nbat":"arc-nbat-jo","und-nc":"fr-latn-nc","und-ne":"ha-latn-ne","und-newa":"new-newa-np","und-ni":"es-latn-ni","und-nkoo":"man-nkoo-gn","und-nl":"nl-latn-nl","und-no":"nb-latn-no","und-np":"ne-deva-np","und-nshu":"zhx-nshu-cn","und-ogam":"sga-ogam-ie","und-olck":"sat-olck-in","und-om":"ar-arab-om","und-orkh":"otk-orkh-mn","und-orya":"or-orya-in","und-osge":"osa-osge-us","und-osma":"so-osma-so","und-ougr":"oui-ougr-143","und-pa":"es-latn-pa","und-palm":"arc-palm-sy","und-pauc":"ctd-pauc-mm","und-pe":"es-latn-pe","und-perm":"kv-perm-ru","und-pf":"fr-latn-pf","und-pg":"tpi-latn-pg","und-ph":"fil-latn-ph","und-phag":"lzh-phag-cn","und-phli":"pal-phli-ir","und-phlp":"pal-phlp-cn","und-phnx":"phn-phnx-lb","und-pk":"ur-arab-pk","und-pl":"pl-latn-pl","und-plrd":"hmd-plrd-cn","und-pm":"fr-latn-pm","und-pr":"es-latn-pr","und-prti":"xpr-prti-ir","und-ps":"ar-arab-ps","und-pt":"pt-latn-pt","und-pw":"pau-latn-pw","und-py":"gn-latn-py","und-qa":"ar-arab-qa","und-qo":"en-latn-dg","und-re":"fr-latn-re","und-rjng":"rej-rjng-id","und-ro":"ro-latn-ro","und-rohg":"rhg-rohg-mm","und-rs":"sr-cyrl-rs","und-ru":"ru-cyrl-ru","und-runr":"non-runr-se","und-rw":"rw-latn-rw","und-sa":"ar-arab-sa","und-samr":"smp-samr-il","und-sarb":"xsa-sarb-ye","und-saur":"saz-saur-in","und-sc":"fr-latn-sc","und-sd":"ar-arab-sd","und-se":"sv-latn-se","und-sgnw":"ase-sgnw-us","und-shaw":"en-shaw-gb","und-shrd":"sa-shrd-in","und-si":"sl-latn-si","und-sidd":"sa-sidd-in","und-sind":"sd-sind-in","und-sinh":"si-sinh-lk","und-sj":"nb-latn-sj","und-sk":"sk-latn-sk","und-sm":"it-latn-sm","und-sn":"fr-latn-sn","und-so":"so-latn-so","und-sogd":"sog-sogd-uz","und-sogo":"sog-sogo-uz","und-sora":"srb-sora-in","und-soyo":"cmg-soyo-mn","und-sr":"nl-latn-sr","und-st":"pt-latn-st","und-sund":"su-sund-id","und-sv":"es-latn-sv","und-sy":"ar-arab-sy","und-sylo":"syl-sylo-bd","und-syrc":"syr-syrc-iq","und-tagb":"tbw-tagb-ph","und-takr":"doi-takr-in","und-tale":"tdd-tale-cn","und-talu":"khb-talu-cn","und-taml":"ta-taml-in","und-tang":"txg-tang-cn","und-tavt":"blt-tavt-vn","und-td":"fr-latn-td","und-telu":"te-telu-in","und-tf":"fr-latn-tf","und-tfng":"zgh-tfng-ma","und-tg":"fr-latn-tg","und-tglg":"fil-tglg-ph","und-th":"th-thai-th","und-thaa":"dv-thaa-mv","und-thai":"th-thai-th","und-thai-cn":"lcp-thai-cn","und-thai-kh":"kdt-thai-kh","und-thai-la":"kdt-thai-la","und-tibt":"bo-tibt-cn","und-tirh":"mai-tirh-in","und-tj":"tg-cyrl-tj","und-tk":"tkl-latn-tk","und-tl":"pt-latn-tl","und-tm":"tk-latn-tm","und-tn":"ar-arab-tn","und-tnsa":"nst-tnsa-in","und-to":"to-latn-to","und-toto":"txo-toto-in","und-tr":"tr-latn-tr","und-tv":"tvl-latn-tv","und-tw":"zh-hant-tw","und-tz":"sw-latn-tz","und-ua":"uk-cyrl-ua","und-ug":"sw-latn-ug","und-ugar":"uga-ugar-sy","und-uy":"es-latn-uy","und-uz":"uz-latn-uz","und-va":"it-latn-va","und-vaii":"vai-vaii-lr","und-ve":"es-latn-ve","und-vith":"sq-vith-al","und-vn":"vi-latn-vn","und-vu":"bi-latn-vu","und-wara":"hoc-wara-in","und-wcho":"nnp-wcho-in","und-wf":"fr-latn-wf","und-ws":"sm-latn-ws","und-xk":"sq-latn-xk","und-xpeo":"peo-xpeo-ir","und-xsux":"akk-xsux-iq","und-ye":"ar-arab-ye","und-yezi":"ku-yezi-ge","und-yiii":"ii-yiii-cn","und-yt":"fr-latn-yt","und-zanb":"cmg-zanb-mn","und-zw":"sn-latn-zw",une:"une-latn-ng",ung:"ung-latn-au",uni:"uni-latn-pg",unk:"unk-latn-br",unm:"unm-latn-us",unn:"unn-latn-au",unr:"unr-beng-in","unr-deva":"unr-deva-np","unr-np":"unr-deva-np",unu:"unu-latn-pg",unx:"unx-beng-in",unz:"unz-latn-id",uok:"uok-latn-zz",uon:"uon-latn-tw",upi:"upi-latn-pg",upv:"upv-latn-vu",ur:"ur-arab-pk",ura:"ura-latn-pe",urb:"urb-latn-br",urc:"urc-latn-au",ure:"ure-latn-bo",urf:"urf-latn-au",urg:"urg-latn-pg",urh:"urh-latn-ng",uri:"uri-latn-zz",urk:"urk-thai-th",urm:"urm-latn-pg",urn:"urn-latn-id",uro:"uro-latn-pg",urp:"urp-latn-br",urr:"urr-latn-vu",urt:"urt-latn-zz",uru:"uru-latn-br",urv:"urv-latn-pg",urw:"urw-latn-zz",urx:"urx-latn-pg",ury:"ury-latn-id",urz:"urz-latn-br",usa:"usa-latn-zz",ush:"ush-arab-pk",usi:"usi-latn-bd","usi-beng":"usi-beng-bd",usk:"usk-latn-cm",usp:"usp-latn-gt",uss:"uss-latn-ng",usu:"usu-latn-pg",uta:"uta-latn-ng",ute:"ute-latn-us",uth:"uth-latn-zz",utp:"utp-latn-sb",utr:"utr-latn-zz",utu:"utu-latn-pg",uum:"uum-grek-ge","uum-cyrl":"uum-cyrl-ge",uur:"uur-latn-vu",uve:"uve-latn-nc",uvh:"uvh-latn-zz",uvl:"uvl-latn-zz",uwa:"uwa-latn-au",uya:"uya-latn-ng",uz:"uz-latn-uz","uz-af":"uz-arab-af","uz-arab":"uz-arab-af","uz-cn":"uz-cyrl-cn",uzs:"uzs-arab-af",vaa:"vaa-taml-in",vae:"vae-latn-cf",vaf:"vaf-arab-ir",vag:"vag-latn-zz",vah:"vah-deva-in",vai:"vai-vaii-lr",vaj:"vaj-latn-na",val:"val-latn-pg",vam:"vam-latn-pg",van:"van-latn-zz",vao:"vao-latn-vu",vap:"vap-latn-in",var:"var-latn-mx",vas:"vas-deva-in","vas-gujr":"vas-gujr-in",vau:"vau-latn-cd",vav:"vav-deva-in","vav-gujr":"vav-gujr-in",vay:"vay-deva-np",vbb:"vbb-latn-id",vbk:"vbk-latn-ph",ve:"ve-latn-za",vec:"vec-latn-it",vem:"vem-latn-ng",veo:"veo-latn-us",vep:"vep-latn-ru",ver:"ver-latn-ng",vgr:"vgr-arab-pk",vi:"vi-latn-vn",vic:"vic-latn-sx",vid:"vid-latn-tz",vif:"vif-latn-cg",vig:"vig-latn-bf",vil:"vil-latn-ar",vin:"vin-latn-tz",vit:"vit-latn-ng",viv:"viv-latn-zz",vka:"vka-latn-au",vkj:"vkj-latn-td",vkk:"vkk-latn-id",vkl:"vkl-latn-id",vkm:"vkm-latn-br",vkn:"vkn-latn-ng",vko:"vko-latn-id",vkp:"vkp-latn-in","vkp-deva":"vkp-deva-in",vkt:"vkt-latn-id",vku:"vku-latn-au",vkz:"vkz-latn-ng",vlp:"vlp-latn-vu",vls:"vls-latn-be",vma:"vma-latn-au",vmb:"vmb-latn-au",vmc:"vmc-latn-mx",vmd:"vmd-knda-in",vme:"vme-latn-id",vmf:"vmf-latn-de",vmg:"vmg-latn-pg",vmh:"vmh-arab-ir",vmi:"vmi-latn-au",vmj:"vmj-latn-mx",vmk:"vmk-latn-mz",vml:"vml-latn-au",vmm:"vmm-latn-mx",vmp:"vmp-latn-mx",vmq:"vmq-latn-mx",vmr:"vmr-latn-mz",vms:"vms-latn-id",vmu:"vmu-latn-au",vmw:"vmw-latn-mz",vmx:"vmx-latn-mx",vmy:"vmy-latn-mx",vmz:"vmz-latn-mx",vnk:"vnk-latn-sb",vnm:"vnm-latn-vu",vnp:"vnp-latn-vu",vo:"vo-latn-001",vor:"vor-latn-ng",vot:"vot-latn-ru",vra:"vra-latn-vu",vro:"vro-latn-ee",vrs:"vrs-latn-sb",vrt:"vrt-latn-vu",vto:"vto-latn-id",vum:"vum-latn-ga",vun:"vun-latn-tz",vut:"vut-latn-zz",vwa:"vwa-latn-cn","vwa-mymr":"vwa-mymr-cn",wa:"wa-latn-be",waa:"waa-latn-us",wab:"wab-latn-pg",wac:"wac-latn-us",wad:"wad-latn-id",wae:"wae-latn-ch",waf:"waf-latn-br",wag:"wag-latn-pg",wah:"wah-latn-id",wai:"wai-latn-id",waj:"waj-latn-zz",wal:"wal-ethi-et",wam:"wam-latn-us",wan:"wan-latn-zz",wap:"wap-latn-gy",waq:"waq-latn-au",war:"war-latn-ph",was:"was-latn-us",wat:"wat-latn-pg",wau:"wau-latn-br",wav:"wav-latn-ng",waw:"waw-latn-br",wax:"wax-latn-pg",way:"way-latn-sr",waz:"waz-latn-pg",wba:"wba-latn-ve",wbb:"wbb-latn-id",wbe:"wbe-latn-id",wbf:"wbf-latn-bf",wbh:"wbh-latn-tz",wbi:"wbi-latn-tz",wbj:"wbj-latn-tz",wbk:"wbk-arab-af",wbl:"wbl-latn-pk","wbl-arab":"wbl-arab-af","wbl-cyrl":"wbl-cyrl-tj",wbm:"wbm-latn-cn",wbp:"wbp-latn-au",wbq:"wbq-telu-in",wbr:"wbr-deva-in",wbt:"wbt-latn-au",wbv:"wbv-latn-au",wbw:"wbw-latn-id",wca:"wca-latn-br",wci:"wci-latn-zz",wdd:"wdd-latn-ga",wdg:"wdg-latn-pg",wdj:"wdj-latn-au",wdk:"wdk-latn-au",wdt:"wdt-latn-ca",wdu:"wdu-latn-au",wdy:"wdy-latn-au",wec:"wec-latn-ci",wed:"wed-latn-pg",weg:"weg-latn-au",weh:"weh-latn-cm",wei:"wei-latn-pg",wem:"wem-latn-bj",weo:"weo-latn-id",wep:"wep-latn-de",wer:"wer-latn-zz",wes:"wes-latn-cm",wet:"wet-latn-id",weu:"weu-latn-mm",wew:"wew-latn-id",wfg:"wfg-latn-id",wga:"wga-latn-au",wgb:"wgb-latn-pg",wgg:"wgg-latn-au",wgi:"wgi-latn-zz",wgo:"wgo-latn-id",wgu:"wgu-latn-au",wgy:"wgy-latn-au",wha:"wha-latn-id",whg:"whg-latn-zz",whk:"whk-latn-id",whu:"whu-latn-id",wib:"wib-latn-zz",wic:"wic-latn-us",wie:"wie-latn-au",wif:"wif-latn-au",wig:"wig-latn-au",wih:"wih-latn-au",wii:"wii-latn-pg",wij:"wij-latn-au",wik:"wik-latn-au",wil:"wil-latn-au",wim:"wim-latn-au",win:"win-latn-us",wir:"wir-latn-br",wiu:"wiu-latn-zz",wiv:"wiv-latn-zz",wiy:"wiy-latn-us",wja:"wja-latn-zz",wji:"wji-latn-zz",wka:"wka-latn-tz",wkd:"wkd-latn-id",wkr:"wkr-latn-au",wkw:"wkw-latn-au",wky:"wky-latn-au",wla:"wla-latn-pg",wlg:"wlg-latn-au",wlh:"wlh-latn-tl",wli:"wli-latn-id",wlm:"wlm-latn-gb",wlo:"wlo-arab-id",wlr:"wlr-latn-vu",wls:"wls-latn-wf",wlu:"wlu-latn-au",wlv:"wlv-latn-ar",wlw:"wlw-latn-id",wlx:"wlx-latn-gh",wma:"wma-latn-ng",wmb:"wmb-latn-au",wmc:"wmc-latn-pg",wmd:"wmd-latn-br",wme:"wme-deva-np",wmh:"wmh-latn-tl",wmi:"wmi-latn-au",wmm:"wmm-latn-id",wmn:"wmn-latn-nc",wmo:"wmo-latn-zz",wms:"wms-latn-id",wmt:"wmt-latn-au",wmw:"wmw-latn-mz","wmw-arab":"wmw-arab-mz",wmx:"wmx-latn-pg",wnb:"wnb-latn-pg",wnc:"wnc-latn-zz",wnd:"wnd-latn-au",wne:"wne-arab-pk",wng:"wng-latn-id",wni:"wni-arab-km",wnk:"wnk-latn-id",wnm:"wnm-latn-au",wnn:"wnn-latn-au",wno:"wno-latn-id",wnp:"wnp-latn-pg",wnu:"wnu-latn-zz",wnw:"wnw-latn-us",wny:"wny-latn-au",wo:"wo-latn-sn",woa:"woa-latn-au",wob:"wob-latn-zz",woc:"woc-latn-pg",wod:"wod-latn-id",woe:"woe-latn-fm",wof:"wof-latn-gm","wof-arab":"wof-arab-gm",wog:"wog-latn-pg",woi:"woi-latn-id",wok:"wok-latn-cm",wom:"wom-latn-ng",won:"won-latn-cd",woo:"woo-latn-id",wor:"wor-latn-id",wos:"wos-latn-zz",wow:"wow-latn-id",wpc:"wpc-latn-ve",wrb:"wrb-latn-au",wrg:"wrg-latn-au",wrh:"wrh-latn-au",wri:"wri-latn-au",wrk:"wrk-latn-au",wrl:"wrl-latn-au",wrm:"wrm-latn-au",wro:"wro-latn-au",wrp:"wrp-latn-id",wrr:"wrr-latn-au",wrs:"wrs-latn-zz",wru:"wru-latn-id",wrv:"wrv-latn-pg",wrw:"wrw-latn-au",wrx:"wrx-latn-id",wrz:"wrz-latn-au",wsa:"wsa-latn-id",wsg:"wsg-gong-in",wsi:"wsi-latn-vu",wsk:"wsk-latn-zz",wsr:"wsr-latn-pg",wss:"wss-latn-gh",wsu:"wsu-latn-br",wsv:"wsv-arab-af",wtf:"wtf-latn-pg",wth:"wth-latn-au",wti:"wti-latn-et",wtk:"wtk-latn-pg",wtm:"wtm-deva-in",wtw:"wtw-latn-id","wtw-bugi":"wtw-bugi-id",wua:"wua-latn-au",wub:"wub-latn-au",wud:"wud-latn-tg",wul:"wul-latn-id",wum:"wum-latn-ga",wun:"wun-latn-tz",wur:"wur-latn-au",wut:"wut-latn-pg",wuu:"wuu-hans-cn",wuv:"wuv-latn-zz",wux:"wux-latn-au",wuy:"wuy-latn-id",wwa:"wwa-latn-zz",wwb:"wwb-latn-au",wwo:"wwo-latn-vu",wwr:"wwr-latn-au",www:"www-latn-cm",wxw:"wxw-latn-au",wyb:"wyb-latn-au",wyi:"wyi-latn-au",wym:"wym-latn-pl",wyn:"wyn-latn-us",wyr:"wyr-latn-br",wyy:"wyy-latn-fj",xaa:"xaa-latn-es",xab:"xab-latn-ng",xai:"xai-latn-br",xaj:"xaj-latn-br",xak:"xak-latn-ve",xal:"xal-cyrl-ru",xam:"xam-latn-za",xan:"xan-ethi-et",xao:"xao-latn-vn",xar:"xar-latn-pg",xas:"xas-cyrl-ru",xat:"xat-latn-br",xau:"xau-latn-id",xav:"xav-latn-br",xaw:"xaw-latn-us",xay:"xay-latn-id",xbb:"xbb-latn-au",xbd:"xbd-latn-au",xbe:"xbe-latn-au",xbg:"xbg-latn-au",xbi:"xbi-latn-zz",xbj:"xbj-latn-au",xbm:"xbm-latn-fr",xbn:"xbn-latn-my",xbp:"xbp-latn-au",xbr:"xbr-latn-id",xbw:"xbw-latn-br",xby:"xby-latn-au",xch:"xch-latn-us",xco:"xco-chrs-uz",xcr:"xcr-cari-tr",xda:"xda-latn-au",xdk:"xdk-latn-au",xdo:"xdo-latn-ao",xdq:"xdq-cyrl-ru",xdy:"xdy-latn-id",xed:"xed-latn-cm",xeg:"xeg-latn-za",xem:"xem-latn-id",xer:"xer-latn-br",xes:"xes-latn-zz",xet:"xet-latn-br",xeu:"xeu-latn-pg",xgb:"xgb-latn-ci",xgd:"xgd-latn-au",xgg:"xgg-latn-au",xgi:"xgi-latn-au",xgm:"xgm-latn-au",xgu:"xgu-latn-au",xgw:"xgw-latn-au",xh:"xh-latn-za",xhe:"xhe-arab-pk",xhm:"xhm-khmr-kh",xhv:"xhv-latn-vn",xii:"xii-latn-za",xin:"xin-latn-gt",xir:"xir-latn-br",xis:"xis-orya-in",xiy:"xiy-latn-br",xjb:"xjb-latn-au",xjt:"xjt-latn-au",xka:"xka-arab-pk",xkb:"xkb-latn-bj",xkc:"xkc-arab-ir",xkd:"xkd-latn-id",xke:"xke-latn-id",xkg:"xkg-latn-ml",xkj:"xkj-arab-ir",xkl:"xkl-latn-id",xkn:"xkn-latn-id",xkp:"xkp-arab-ir",xkq:"xkq-latn-id",xkr:"xkr-latn-br",xks:"xks-latn-id",xkt:"xkt-latn-gh",xku:"xku-latn-cg",xkv:"xkv-latn-bw",xkw:"xkw-latn-id",xkx:"xkx-latn-pg",xky:"xky-latn-my",xkz:"xkz-latn-bt",xla:"xla-latn-zz",xlc:"xlc-lyci-tr",xld:"xld-lydi-tr",xly:"xly-elym-ir",xma:"xma-latn-so",xmb:"xmb-latn-cm",xmc:"xmc-latn-mz",xmd:"xmd-latn-cm",xmf:"xmf-geor-ge",xmg:"xmg-latn-cm",xmh:"xmh-latn-au",xmj:"xmj-latn-cm",xmm:"xmm-latn-id",xmn:"xmn-mani-cn",xmo:"xmo-latn-br",xmp:"xmp-latn-au",xmq:"xmq-latn-au",xmr:"xmr-merc-sd",xmt:"xmt-latn-id",xmu:"xmu-latn-au",xmv:"xmv-latn-mg",xmw:"xmw-latn-mg",xmx:"xmx-latn-id",xmy:"xmy-latn-au",xmz:"xmz-latn-id",xna:"xna-narb-sa",xnb:"xnb-latn-tw",xni:"xni-latn-au",xnj:"xnj-latn-tz",xnk:"xnk-latn-au",xnm:"xnm-latn-au",xnn:"xnn-latn-ph",xnq:"xnq-latn-mz",xnr:"xnr-deva-in",xnt:"xnt-latn-us",xnu:"xnu-latn-au",xny:"xny-latn-au",xnz:"xnz-latn-eg","xnz-arab":"xnz-arab-eg",xoc:"xoc-latn-ng",xod:"xod-latn-id",xog:"xog-latn-ug",xoi:"xoi-latn-pg",xok:"xok-latn-br",xom:"xom-latn-sd","xom-ethi":"xom-ethi-et",xon:"xon-latn-zz",xoo:"xoo-latn-br",xop:"xop-latn-pg",xor:"xor-latn-br",xow:"xow-latn-pg",xpa:"xpa-latn-au",xpb:"xpb-latn-au",xpd:"xpd-latn-au",xpf:"xpf-latn-au",xpg:"xpg-grek-tr",xph:"xph-latn-au",xpi:"xpi-ogam-gb",xpj:"xpj-latn-au",xpk:"xpk-latn-br",xpl:"xpl-latn-au",xpm:"xpm-cyrl-ru",xpn:"xpn-latn-br",xpo:"xpo-latn-mx",xpq:"xpq-latn-us",xpr:"xpr-prti-ir",xpt:"xpt-latn-au",xpv:"xpv-latn-au",xpw:"xpw-latn-au",xpx:"xpx-latn-au",xpz:"xpz-latn-au",xra:"xra-latn-br",xrb:"xrb-latn-zz",xrd:"xrd-latn-au",xre:"xre-latn-br",xrg:"xrg-latn-au",xri:"xri-latn-br",xrm:"xrm-cyrl-ru",xrn:"xrn-cyrl-ru",xrr:"xrr-latn-it",xru:"xru-latn-au",xrw:"xrw-latn-pg",xsa:"xsa-sarb-ye",xsb:"xsb-latn-ph",xse:"xse-latn-id",xsh:"xsh-latn-ng",xsi:"xsi-latn-zz",xsm:"xsm-latn-zz",xsn:"xsn-latn-ng",xsp:"xsp-latn-pg",xsq:"xsq-latn-mz",xsr:"xsr-deva-np",xss:"xss-cyrl-ru",xsu:"xsu-latn-ve",xsy:"xsy-latn-tw",xta:"xta-latn-mx",xtb:"xtb-latn-mx",xtc:"xtc-latn-sd",xtd:"xtd-latn-mx",xte:"xte-latn-id",xth:"xth-latn-au",xti:"xti-latn-mx",xtj:"xtj-latn-mx",xtl:"xtl-latn-mx",xtm:"xtm-latn-mx",xtn:"xtn-latn-mx",xtp:"xtp-latn-mx",xts:"xts-latn-mx",xtt:"xtt-latn-mx",xtu:"xtu-latn-mx",xtv:"xtv-latn-au",xtw:"xtw-latn-br",xty:"xty-latn-mx",xub:"xub-taml-in","xub-knda":"xub-knda-in","xub-mlym":"xub-mlym-in",xud:"xud-latn-au",xuj:"xuj-taml-in",xul:"xul-latn-au",xum:"xum-latn-it","xum-ital":"xum-ital-it",xun:"xun-latn-au",xuo:"xuo-latn-td",xut:"xut-latn-au",xuu:"xuu-latn-na",xve:"xve-ital-it",xvi:"xvi-arab-af",xvn:"xvn-latn-es",xvo:"xvo-latn-it",xvs:"xvs-latn-it",xwa:"xwa-latn-br",xwd:"xwd-latn-au",xwe:"xwe-latn-zz",xwj:"xwj-latn-au",xwk:"xwk-latn-au",xwl:"xwl-latn-bj",xwo:"xwo-cyrl-ru",xwr:"xwr-latn-id",xwt:"xwt-latn-au",xww:"xww-latn-au",xxb:"xxb-latn-gh",xxk:"xxk-latn-id",xxm:"xxm-latn-au",xxr:"xxr-latn-br",xxt:"xxt-latn-id",xya:"xya-latn-au",xyb:"xyb-latn-au",xyj:"xyj-latn-au",xyk:"xyk-latn-au",xyl:"xyl-latn-br",xyt:"xyt-latn-au",xyy:"xyy-latn-au",xzh:"xzh-marc-cn",xzp:"xzp-latn-mx",yaa:"yaa-latn-pe",yab:"yab-latn-br",yac:"yac-latn-id",yad:"yad-latn-pe",yae:"yae-latn-ve",yaf:"yaf-latn-cd",yag:"yag-latn-cl",yai:"yai-cyrl-tj",yaj:"yaj-latn-cf",yak:"yak-latn-us",yal:"yal-latn-gn","yal-arab":"yal-arab-gn",yam:"yam-latn-zz",yan:"yan-latn-ni",yao:"yao-latn-mz",yap:"yap-latn-fm",yaq:"yaq-latn-mx",yar:"yar-latn-ve",yas:"yas-latn-zz",yat:"yat-latn-zz",yau:"yau-latn-ve",yav:"yav-latn-cm",yaw:"yaw-latn-br",yax:"yax-latn-ao",yay:"yay-latn-zz",yaz:"yaz-latn-zz",yba:"yba-latn-zz",ybb:"ybb-latn-cm",ybe:"ybe-latn-cn","ybe-ougr":"ybe-ougr-cn",ybh:"ybh-deva-np",ybi:"ybi-deva-np",ybj:"ybj-latn-ng",ybl:"ybl-latn-ng",ybm:"ybm-latn-pg",ybn:"ybn-latn-br",ybo:"ybo-latn-pg",ybx:"ybx-latn-pg",yby:"yby-latn-zz",ycl:"ycl-latn-cn",ycn:"ycn-latn-co",yda:"yda-latn-au",yde:"yde-latn-pg",ydg:"ydg-arab-pk",ydk:"ydk-latn-pg",yea:"yea-mlym-in","yea-knda":"yea-knda-in",yec:"yec-latn-de",yee:"yee-latn-pg",yei:"yei-latn-cm",yej:"yej-grek-il",yel:"yel-latn-cd",yer:"yer-latn-zz",yes:"yes-latn-ng",yet:"yet-latn-id",yeu:"yeu-telu-in",yev:"yev-latn-pg",yey:"yey-latn-bw",yga:"yga-latn-au",ygi:"ygi-latn-au",ygl:"ygl-latn-pg",ygm:"ygm-latn-pg",ygp:"ygp-plrd-cn",ygr:"ygr-latn-zz",ygu:"ygu-latn-au",ygw:"ygw-latn-zz",yhd:"yhd-hebr-il",yi:"yi-hebr-001",yia:"yia-latn-au",yig:"yig-yiii-cn",yih:"yih-hebr-de",yii:"yii-latn-au",yij:"yij-latn-au",yil:"yil-latn-au",yim:"yim-latn-in",yir:"yir-latn-id",yis:"yis-latn-pg",yiv:"yiv-yiii-cn",yka:"yka-latn-ph","yka-arab":"yka-arab-ph",ykg:"ykg-cyrl-ru",yki:"yki-latn-id",ykk:"ykk-latn-pg",ykm:"ykm-latn-pg",yko:"yko-latn-zz",ykr:"ykr-latn-pg",yky:"yky-latn-cf",yla:"yla-latn-pg",ylb:"ylb-latn-pg",yle:"yle-latn-zz",ylg:"ylg-latn-zz",yli:"yli-latn-id",yll:"yll-latn-zz",ylr:"ylr-latn-au",ylu:"ylu-latn-pg",yly:"yly-latn-nc",ymb:"ymb-latn-pg",yme:"yme-latn-pe",ymg:"ymg-latn-cd",ymk:"ymk-latn-mz","ymk-arab":"ymk-arab-mz",yml:"yml-latn-zz",ymm:"ymm-latn-so",ymn:"ymn-latn-id",ymo:"ymo-latn-pg",ymp:"ymp-latn-pg",yna:"yna-plrd-cn",ynd:"ynd-latn-au",yng:"yng-latn-cd",ynk:"ynk-cyrl-ru",ynl:"ynl-latn-pg",ynq:"ynq-latn-ng",yns:"yns-latn-cd",ynu:"ynu-latn-co",yo:"yo-latn-ng",yob:"yob-latn-pg",yog:"yog-latn-ph",yoi:"yoi-jpan-jp",yok:"yok-latn-us",yol:"yol-latn-gb",yom:"yom-latn-cd",yon:"yon-latn-zz",yot:"yot-latn-ng",yoy:"yoy-thai-th",yra:"yra-latn-pg",yrb:"yrb-latn-zz",yre:"yre-latn-zz",yrk:"yrk-cyrl-ru",yrl:"yrl-latn-br",yrm:"yrm-latn-au",yro:"yro-latn-br",yrs:"yrs-latn-id",yrw:"yrw-latn-pg",yry:"yry-latn-au",ysd:"ysd-yiii-cn",ysn:"ysn-yiii-cn",ysp:"ysp-yiii-cn",ysr:"ysr-cyrl-ru",yss:"yss-latn-zz",ysy:"ysy-plrd-cn",ytw:"ytw-latn-pg",yty:"yty-latn-au",yua:"yua-latn-mx",yub:"yub-latn-au",yuc:"yuc-latn-us",yud:"yud-hebr-il",yue:"yue-hant-hk","yue-cn":"yue-hans-cn","yue-hans":"yue-hans-cn",yuf:"yuf-latn-us",yug:"yug-cyrl-ru",yui:"yui-latn-co",yuj:"yuj-latn-zz",yul:"yul-latn-cf",yum:"yum-latn-us",yun:"yun-latn-ng",yup:"yup-latn-co",yuq:"yuq-latn-bo",yur:"yur-latn-us",yut:"yut-latn-zz",yuw:"yuw-latn-zz",yux:"yux-cyrl-ru",yuz:"yuz-latn-bo",yva:"yva-latn-id",yvt:"yvt-latn-ve",ywa:"ywa-latn-pg",ywg:"ywg-latn-au",ywn:"ywn-latn-br",ywq:"ywq-plrd-cn","ywq-yiii":"ywq-yiii-cn",ywr:"ywr-latn-au",ywu:"ywu-plrd-cn","ywu-yiii":"ywu-yiii-cn",yww:"yww-latn-au",yxa:"yxa-latn-au",yxg:"yxg-latn-au",yxl:"yxl-latn-au",yxm:"yxm-latn-au",yxu:"yxu-latn-au",yxy:"yxy-latn-au",yyr:"yyr-latn-au",yyu:"yyu-latn-pg",za:"za-latn-cn",zaa:"zaa-latn-mx",zab:"zab-latn-mx",zac:"zac-latn-mx",zad:"zad-latn-mx",zae:"zae-latn-mx",zaf:"zaf-latn-mx",zag:"zag-latn-sd",zah:"zah-latn-ng",zaj:"zaj-latn-tz",zak:"zak-latn-tz",zam:"zam-latn-mx",zao:"zao-latn-mx",zap:"zap-latn-mx",zaq:"zaq-latn-mx",zar:"zar-latn-mx",zas:"zas-latn-mx",zat:"zat-latn-mx",zau:"zau-tibt-in","zau-arab":"zau-arab-in",zav:"zav-latn-mx",zaw:"zaw-latn-mx",zax:"zax-latn-mx",zay:"zay-latn-et","zay-ethi":"zay-ethi-et",zaz:"zaz-latn-ng",zba:"zba-arab-001",zbc:"zbc-latn-my",zbe:"zbe-latn-my",zbt:"zbt-latn-id",zbu:"zbu-latn-ng",zbw:"zbw-latn-my",zca:"zca-latn-mx",zch:"zch-hani-cn",zdj:"zdj-arab-km",zea:"zea-latn-nl",zeg:"zeg-latn-pg",zeh:"zeh-hani-cn",zen:"zen-tfng-mr","zen-arab":"zen-arab-mr",zga:"zga-latn-tz",zgb:"zgb-hani-cn",zgh:"zgh-tfng-ma",zgm:"zgm-hani-cn",zgn:"zgn-hani-cn",zgr:"zgr-latn-pg",zh:"zh-hans-cn","zh-au":"zh-hant-au","zh-bn":"zh-hant-bn","zh-bopo":"zh-bopo-tw","zh-gb":"zh-hant-gb","zh-gf":"zh-hant-gf","zh-hanb":"zh-hanb-tw","zh-hant":"zh-hant-tw","zh-hk":"zh-hant-hk","zh-id":"zh-hant-id","zh-mo":"zh-hant-mo","zh-pa":"zh-hant-pa","zh-pf":"zh-hant-pf","zh-ph":"zh-hant-ph","zh-sr":"zh-hant-sr","zh-th":"zh-hant-th","zh-tw":"zh-hant-tw","zh-us":"zh-hant-us","zh-vn":"zh-hant-vn",zhd:"zhd-hani-cn","zhd-latn":"zhd-latn-vn",zhi:"zhi-latn-ng",zhn:"zhn-latn-cn","zhn-hani":"zhn-hani-cn",zhw:"zhw-latn-cm",zhx:"zhx-nshu-cn",zia:"zia-latn-zz",zik:"zik-latn-pg",zil:"zil-latn-gn",zim:"zim-latn-td",zin:"zin-latn-tz",ziw:"ziw-latn-tz",ziz:"ziz-latn-ng",zka:"zka-latn-id",zkb:"zkb-cyrl-ru",zkd:"zkd-latn-mm",zko:"zko-cyrl-ru",zkp:"zkp-latn-br",zkt:"zkt-kits-cn",zku:"zku-latn-au",zkz:"zkz-cyrl-ru",zla:"zla-latn-cd",zlj:"zlj-hani-cn","zlj-latn":"zlj-latn-cn",zlm:"zlm-latn-tg",zln:"zln-hani-cn",zlq:"zlq-hani-cn",zma:"zma-latn-au",zmb:"zmb-latn-cd",zmc:"zmc-latn-au",zmd:"zmd-latn-au",zme:"zme-latn-au",zmf:"zmf-latn-cd",zmg:"zmg-latn-au",zmh:"zmh-latn-pg",zmi:"zmi-latn-my",zmj:"zmj-latn-au",zmk:"zmk-latn-au",zml:"zml-latn-au",zmm:"zmm-latn-au",zmn:"zmn-latn-ga",zmo:"zmo-latn-sd",zmp:"zmp-latn-cd",zmq:"zmq-latn-cd",zmr:"zmr-latn-au",zms:"zms-latn-cd",zmt:"zmt-latn-au",zmu:"zmu-latn-au",zmv:"zmv-latn-au",zmw:"zmw-latn-cd",zmx:"zmx-latn-cg",zmy:"zmy-latn-au",zmz:"zmz-latn-cd",zna:"zna-latn-td",zne:"zne-latn-zz",zng:"zng-latn-vn",znk:"znk-latn-au",zns:"zns-latn-ng",zoc:"zoc-latn-mx",zoh:"zoh-latn-mx",zom:"zom-latn-in",zoo:"zoo-latn-mx",zoq:"zoq-latn-mx",zor:"zor-latn-mx",zos:"zos-latn-mx",zpa:"zpa-latn-mx",zpb:"zpb-latn-mx",zpc:"zpc-latn-mx",zpd:"zpd-latn-mx",zpe:"zpe-latn-mx",zpf:"zpf-latn-mx",zpg:"zpg-latn-mx",zph:"zph-latn-mx",zpi:"zpi-latn-mx",zpj:"zpj-latn-mx",zpk:"zpk-latn-mx",zpl:"zpl-latn-mx",zpm:"zpm-latn-mx",zpn:"zpn-latn-mx",zpo:"zpo-latn-mx",zpp:"zpp-latn-mx",zpq:"zpq-latn-mx",zpr:"zpr-latn-mx",zps:"zps-latn-mx",zpt:"zpt-latn-mx",zpu:"zpu-latn-mx",zpv:"zpv-latn-mx",zpw:"zpw-latn-mx",zpx:"zpx-latn-mx",zpy:"zpy-latn-mx",zpz:"zpz-latn-mx",zqe:"zqe-hani-cn","zqe-latn":"zqe-latn-cn",zrn:"zrn-latn-td",zro:"zro-latn-ec",zrp:"zrp-hebr-fr",zrs:"zrs-latn-id",zsa:"zsa-latn-pg",zsr:"zsr-latn-mx",zsu:"zsu-latn-pg",zte:"zte-latn-mx",ztg:"ztg-latn-mx",ztl:"ztl-latn-mx",ztm:"ztm-latn-mx",ztn:"ztn-latn-mx",ztp:"ztp-latn-mx",ztq:"ztq-latn-mx",zts:"zts-latn-mx",ztt:"ztt-latn-mx",ztu:"ztu-latn-mx",ztx:"ztx-latn-mx",zty:"zty-latn-mx",zu:"zu-latn-za",zua:"zua-latn-ng",zuh:"zuh-latn-pg",zum:"zum-arab-om",zun:"zun-latn-us",zuy:"zuy-latn-cm",zyg:"zyg-hani-cn",zyj:"zyj-latn-cn","zyj-hani":"zyj-hani-cn",zyn:"zyn-hani-cn",zyp:"zyp-latn-mm",zza:"zza-latn-tr",zzj:"zzj-hani-cn"},hi={}.hasOwnProperty;function bi(d){const{language:o,script:g,region:m}=d;let v;var w,C;return g&&m&&(v=pi[sr({language:o,script:g,region:m})])?(d.script=void 0,d.region=void 0):g&&(v=pi[sr({language:o,script:g})])?d.script=void 0:m&&(v=pi[sr({language:o,region:m})])?d.region=void 0:o&&(v=pi[o]),v&&(d.language=void 0,w=d,C=Ga(v),w.language||(w.language=C.language),w.script||(w.script=C.script),w.region||(w.region=C.region),C.variants&&w.variants.push(...C.variants)),sr(d)}function yi(d,o){const g={},m=Ga(String(d||"").toLowerCase(),g),v=sr(m);if(!v)return v;let w=-1;for(;++w<ro.length;){let C=ro[w].from;C.slice(0,4)==="und-"&&m.language&&(C=m.language+C.slice(3)),ao(v,C).length>0&&wd(m,C,ro[w].to)}for(w=-1;++w<Yr.length;)Vl(m,Yr[w].from.field,Yr[w].from.value)&&Kl(m,Yr[w].to.field,Yr[w].to.value);if(function(C){bi(C);const{language:N,script:T,region:j}=C;if(!N)return C;const z=sr({language:N,script:T,region:j});z===bi(Ga(N))?(C.script=void 0,C.region=void 0):j&&z===bi(Ga(N+"-"+j))?C.script=void 0:T&&z===bi(Ga(N+"-"+T))&&(C.region=void 0)}(m),m.variants.sort(),m.extensions.sort(Sd),g.warning){let C;for(C in io)if(hi.call(io,C)){const N=io[C],T=m[C];if(T&&hi.call(N,T)){const j=N[T];g.warning("Deprecated "+C+" `"+T+"`, expected one of `"+j.join("`, `")+"`",-1,7)}}}return m.script&&(m.script=m.script.charAt(0).toUpperCase()+m.script.slice(1)),m.region&&(m.region=m.region.toUpperCase()),sr(m)}function wd(d,o,g){const m=Ga(o),v=Ga(g),w=[],C=m.language;let N;for(N in m)if(hi.call(m,N)){const T=m[N];T&&Vl(d,N,T)&&w.push(N)}for(N in v)if(hi.call(v,N)){const T=v[N];C&&T&&(w.includes(N)||!d[N])&&Kl(d,N,N==="language"&&T==="und"?C:T)}}function Vl(d,o,g){let m,v=!1;if(g){const w=d[o];if(m=w,Array.isArray(w)){m=[];let C=-1;for(;++C<w.length;){const N=w[C];g.includes(N)?v=!0:m.push(N)}}else w===g&&(m=null,v=!0);d[o]=m}return v}function Kl(d,o,g){const m=d[o];if(Array.isArray(m)){const v=Array.isArray(g)?g:[g];let w=-1;for(;++w<v.length;){const C=v[w];m.includes(C)||m.push(C)}}else d[o]=g}function Sd(d,o){return d.singleton>o.singleton?1:d.singleton<o.singleton?-1:0}function oo(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v,w,C,N,T,j,z,k,A;function x(G){if(!(G&&G.currentRepresentation&&G.currentRepresentation.mediaInfo&&G.currentRepresentation.mediaInfo.type))return;const ne=G.currentRepresentation.mediaInfo.type;T[ne]=G.currentRepresentation}function K(G,ne){return G&&v[ne]&&v[ne][G]?v[ne][G].list:[]}function W(G,ne){return G&&v[ne]&&v[ne][G]?v[ne][G].current:null}function J(G){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!G||!G.streamInfo)return;const Ee=G.type,ke=G.streamInfo.id,Re=W(Ee,ke);if(v[ke]&&v[ke][Ee]&&(v[ke][Ee].current=G,v[ke][Ee].current&&(Ee!==M.default.TEXT&&!ie(G,Re)||Ee===M.default.TEXT&&G.isFragmented)&&o.trigger(P.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Re,newMediaInfo:G,switchMode:w.get().streaming.trackSwitchMode[Ee],options:ne},{streamId:ke}),!ne.hasOwnProperty("noSettingsSave")||!ne.noSettingsSave)){let $e=function(Be){const tt={lang:Be.lang,viewpoint:Be.viewpoint,roles:Be.roles,accessibility:Be.accessibility,audioChannelConfiguration:Be.audioChannelConfiguration,codec:Be.codec};return tt.lang||tt.viewpoint||tt.role&&tt.role.length>0||tt.accessibility&&tt.accessibility.length>0||tt.audioChannelConfiguration&&tt.audioChannelConfiguration.length>0?tt:null}(G);if(!$e||!v[ke][Ee].storeLastSettings)return;$e.roles&&($e.role=$e.roles[0],delete $e.roles),$e.accessibility&&($e.accessibility=$e.accessibility[0]),$e.audioChannelConfiguration&&($e.audioChannelConfiguration=$e.audioChannelConfiguration[0]),N[Ee]=$e,A.setSavedMediaSettings(Ee,$e)}}function Q(G,ne){G&&ne&&(C[G]=ne)}function Z(G){return G?C[G]:null}function ie(G,ne){if(!G&&!ne)return!0;if(!G||!ne)return!1;const Ee=G.id===ne.id,ke=JSON.stringify(G.viewpoint)===JSON.stringify(ne.viewpoint),Re=G.lang===ne.lang,$e=G.codec===ne.codec,Be=JSON.stringify(G.roles)===JSON.stringify(ne.roles),tt=JSON.stringify(G.accessibility)===JSON.stringify(ne.accessibility),vt=JSON.stringify(G.audioChannelConfiguration)===JSON.stringify(ne.audioChannelConfiguration);return Ee&&$e&&ke&&Re&&Be&&tt&&vt}function ye(){v={},N={},T={},C={audio:null,video:null,text:null},o.off($.default.REPRESENTATION_SWITCH,x,g)}function V(G,ne,Ee){let ke=[];return G.forEach(function(Re){ne(Ee,Re)&&ke.push(Re)}),ke.length!==0?ke:(m.info("Filter-Function ("+ne.name+") resulted in no tracks; setting ignored"),G)}function D(G,ne){try{return!G.lang||G.lang instanceof RegExp?ne.lang.match(G.lang):ne.lang!==""&&ao(ne.lang,yi(G.lang)).length>0}catch{return!1}}function U(G,ne){return G.index===void 0||G.index===null||ne.index===G.index}function H(G,ne){return G.id===void 0||G.id===null||ne.id===G.id}function le(G,ne){return!G.viewpoint||!!ne.viewpoint.filter(function(Ee){return ue(Ee,G.viewpoint)})[0]}function pe(G,ne){let Ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return!G.role||!!ne.roles.filter(function(ke){return ue(ke,G.role)})[0]||ne.type===M.default.AUDIO&&Ee}function ge(G,ne){let Ee;return Ee=G.accessibility?!!ne.accessibility.filter(function(ke){return ue(ke,G.accessibility)})[0]:!ne.accessibility.length,Ee}function he(G,ne){return!G.audioChannelConfiguration||!!ne.audioChannelConfiguration.filter(function(Ee){return ue(Ee,G.audioChannelConfiguration)})[0]}function Se(G,ne){return!G.codec||G.codec===ne.codec}function O(G){let ne=0,Ee=[];return G.forEach(ke=>{isNaN(ke.selectionPriority)||(ke.selectionPriority>ne?(ne=ke.selectionPriority,Ee=[ke]):ke.selectionPriority===ne&&Ee.push(ke))}),Ee}function me(G){let ne,Ee=0,ke=[];return G.forEach(function(Re){ne=Math.max.apply(Math,Re.bitrateList.map(function($e){return $e.bandwidth})),ne>Ee?(Ee=ne,ke=[Re]):ne===Ee&&ke.push(Re)}),ke}function re(G){let ne,Ee=1/0,ke=[];return G.forEach(function(Re){ne=Re.bitrateList.reduce(function(Be,tt){const vt=Math.max(1,tt.width*tt.height);return Be+tt.bandwidth/vt},0)/Re.bitrateList.length,ne<Ee?(Ee=ne,ke=[Re]):ne===Ee&&ke.push(Re)}),ke}function be(G){let ne,Ee=0,ke=[];return G.forEach(function(Re){ne=Re.representationCount,ne>Ee?(Ee=ne,ke=[Re]):ne===Ee&&ke.push(Re)}),ke}function ce(G,ne){if(G===M.default.TEXT)return function(Re){if(!Re||Re.length===0)return null;const $e=Re.filter(Be=>!(Be&&Be.roles&&Be.roles.length>0)||Be.roles.every(tt=>tt.schemeIdUri!==M.default.DASH_ROLE_SCHEME_ID||tt.value!==S.default.FORCED_SUBTITLE));return $e.length>0?$e[0]:Re[0]}(ne);let Ee;const ke=j.getCustomInitialTrackSelectionFunction();if(Ee=function(Re){try{let $e;return $e=function(Be){try{const tt=Be.filter(vt=>{const yt=vt.type;return vt.bitrateList.some(Ht=>{const Kt=z.getAbrBitrateParameter("maxBitrate",yt),sn=z.getAbrBitrateParameter("minBitrate",yt);return!(Kt>-1&&Ht.bandwidth>1e3*Kt||sn>-1&&Ht.bandwidth<1e3*sn)})});return tt.length>0?tt:Be}catch(tt){return m.error(tt),Be}}(Re),$e=function(Be){try{if(!w.get().streaming.abr.limitBitrateByPortal)return Be;const{elementWidth:tt}=k.getVideoElementSize(),vt=Be.filter(yt=>yt.type!==M.default.VIDEO||yt.bitrateList.some(Ht=>Ht.width<=tt));return vt.length>0?vt:Be}catch(tt){return m.error(tt),Be}}($e),$e}catch($e){return m.error($e),Re}}(ne),ke&&typeof ke=="function")Ee=ke(Ee);else if(T[G])Ee=function(Re,$e){if(!Re||Re.length===0||!$e||!T[$e])return Re;const Be=T[$e].bandwidth;if(!Be||isNaN(Be))return Re;let tt={min:NaN,track:null};return Re.forEach(vt=>{vt.bitrateList.forEach(yt=>{const Ht=Math.abs(yt.bandwidth-Be);(isNaN(tt.min)||Ht<tt.min)&&(tt.min=Ht,tt.track=vt)})}),tt.track?[tt.track]:Re}(Ee,G);else{let Re=w.get().streaming.selectionModeForInitialTrack;switch(Re){case M.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Ee=function($e){let Be=O($e);return Be.length>1&&(Be=re(Be)),Be.length>1&&(Be=me(Be)),Be.length>1&&(Be=be(Be)),Be}(Ee);break;case M.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Ee=function($e){let Be=me($e);return Be.length>1&&(Be=be(Be)),Be}(Ee);break;case M.default.TRACK_SELECTION_MODE_FIRST_TRACK:Ee=oe(Ee);break;case M.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Ee=function($e){let Be=re($e);return Be.length>1&&(Be=me(Be)),Be}(Ee);break;case M.default.TRACK_SELECTION_MODE_WIDEST_RANGE:Ee=function($e){let Be=be($e);return Be.length>1&&(Be=me($e)),Be}(Ee);break;default:m.warn(`Track selection mode ${Re} is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK`),Ee=oe(Ee)}}return Ee.length>0?Ee[0]:ne[0]}function oe(G){return G[0]}function ue(G,ne){return!(!G||!ne)&&JSON.stringify({schemeIdUri:G.schemeIdUri,value:G.value})===JSON.stringify({schemeIdUri:ne.schemeIdUri,value:ne.value})}return g={addTrack:function(G){if(!G)return;const ne=G.type;if((Ee=ne)!==M.default.AUDIO&&Ee!==M.default.VIDEO&&Ee!==M.default.TEXT&&Ee!==M.default.IMAGE)return;var Ee;let ke=G.streamInfo.id;v[ke]||(v[ke]=function(){const $e=w.get().streaming.saveLastMediaSettingsForCurrentStreamingSession;return{audio:{list:[],storeLastSettings:$e,current:null},video:{list:[],storeLastSettings:$e,current:null},text:{list:[],storeLastSettings:$e,current:null},image:{list:[],storeLastSettings:$e,current:null}}}());const Re=v[ke][ne].list;for(let $e=0,Be=Re.length;$e<Be;++$e)if(ie(Re[$e],G))return;Re.push(G)},areTracksEqual:ie,clearDataForStream:function(G){v[G]&&delete v[G]},getCurrentTrackFor:W,getInitialSettings:Z,getTracksFor:K,getTracksWithHighestSelectionPriority:O,getTracksWithHighestBitrate:me,getTracksWithHighestEfficiency:re,getTracksWithWidestRange:be,initialize:function(){o.on($.default.REPRESENTATION_SWITCH,x,g)},isCurrentTrack:function(G){if(!G)return!1;const ne=G.type,Ee=G.streamInfo.id;return v[Ee]&&v[Ee][ne]&&ie(v[Ee][ne].current,G)},matchSettings:function(G,ne){let Ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{let ke=!1;if(G.lang){if(G.lang instanceof RegExp)ke=ne.lang.match(G.lang);else if(ne.lang!==""){const yt=yi(G.lang);yt&&(ke=ao(ne.lang,yt).length>0)}}else ke=!0;const Re=G.index===void 0||G.index===null||ne.index===G.index,$e=!G.viewpoint||!!ne.viewpoint.filter(function(yt){return ue(yt,G.viewpoint)})[0],Be=!G.role||!!ne.roles.filter(function(yt){return ue(yt,G.role)})[0];let tt=!G.accessibility||!!ne.accessibility.filter(function(yt){return ue(yt,G.accessibility)})[0],vt=!G.audioChannelConfiguration||!!ne.audioChannelConfiguration.filter(function(yt){return ue(yt,G.audioChannelConfiguration)})[0];return ke&&Re&&$e&&(Be||ne.type===M.default.AUDIO&&Ee)&&tt&&vt}catch{return!1}},matchSettingsAccessibility:ge,matchSettingsAudioChannelConfig:he,matchSettingsIndex:U,matchSettingsLang:D,matchSettingsRole:pe,matchSettingsViewPoint:le,reset:ye,saveTextSettingsDisabled:function(){A.setSavedMediaSettings(M.default.TEXT,null)},selectInitialTrack:ce,setConfig:function(G){G&&(G.domStorage&&(A=G.domStorage),G.settings&&(w=G.settings),G.customParametersModel&&(j=G.customParametersModel),G.mediaPlayerModel&&(z=G.mediaPlayerModel),G.videoModel&&(k=G.videoModel))},setInitialMediaSettingsForType:function(G,ne){let Ee=N[G]||Z(G);const ke=K(G,ne.id);let Re=[];Ee&&Object.keys(Ee).length!==0||(Ee=A.getSavedMediaSettings(G),Ee&&delete Ee.codec,Q(G,Ee)),ke&&ke.length!==0&&(Ee&&(Re=Array.from(ke),m.info("Filtering "+Re.length+" "+G+" tracks based on settings"),Re=V(Re,H,Ee),Re=V(Re,D,Ee),Re=V(Re,U,Ee),Re=V(Re,le,Ee),G===M.default.AUDIO&&N[G]||(Re=V(Re,pe,Ee)),Re=V(Re,ge,Ee),Re=V(Re,he,Ee),Re=V(Re,Se,Ee),m.info("Filtering "+G+" tracks ended, found "+Re.length+" matching track(s).")),Re.length===0?J(ce(G,ke)):Re.length>1?J(ce(G,Re)):J(Re[0]))},setInitialSettings:Q,setTrack:J},m=(0,we.default)(d).getInstance().getLogger(g),ye(),g}oo.__dashjs_factory_name="MediaController";const $l=ae.default.getSingletonFactory(oo);ae.default.updateSingletonFactory(oo.__dashjs_factory_name,$l);var kd=$l;const Ei=NaN;class Wl{constructor(o,g){this.data={baseUrls:o||null,selectedIdx:g||Ei},this.children=[]}}function Xl(){let d,o,g,m;const v=this.context,w=(0,Fn.default)(v).getInstance();function C(z,k,A){const x=N(A);z[k]?w.areEqual(x,z[k].data.baseUrls)||(z[k].data.baseUrls=x,z[k].data.selectedIdx=Ei):z[k]=new Wl(x)}function N(z){let k=g.getBaseURLsFromElement(z);const A=m.getSynthesizedBaseUrlElements(k);return A&&A.length>0&&(k=k.concat(A)),k}function T(z,k){const A=k||o;z(A.data),A.children&&A.children.forEach(x=>T(z,x))}function j(){o=new Wl}return d={reset:j,update:function(z){(function(k){(function(){if(!g||!g.hasOwnProperty("getBaseURLsFromElement")||!g.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();const A=N(k);w.areEqual(A,o.data.baseUrls)||(o.data.baseUrls=A,o.data.selectedIdx=Ei),k&&k.Period&&k.Period.forEach((x,K)=>{C(o.children,K,x),x.AdaptationSet&&x.AdaptationSet.forEach((W,J)=>{C(o.children[K].children,J,W),W.Representation&&W.Representation.sort(g.getRepresentationSortFunction()).forEach((Q,Z)=>{C(o.children[K].children[J].children,Z,Q)})})})})(z)},getForPath:function(z){let k=o;const A=[k.data];return z&&z.forEach(x=>{k=k.children[x],k&&A.push(k.data)}),A.filter(x=>x.baseUrls.length)},invalidateSelectedIndexes:function(z){T(k=>{isNaN(k.selectedIdx)||z===k.baseUrls[k.selectedIdx].serviceLocation&&(k.selectedIdx=Ei)})},setConfig:function(z){z.adapter&&(g=z.adapter),z.contentSteeringController&&(m=z.contentSteeringController)},getBaseUrls:function(z){return N(z)}},j(),d}Xl.__dashjs_factory_name="BaseURLTreeModel";var Id=ae.default.getClassFactory(Xl);function Ql(d){let o;const g=(d=d||{}).blacklistController;return o={select:function(m){return m&&function(v){let w,C,N=0,T=[],j=0;if(C=v.sort(function(z,k){let A=z.dvbPriority-k.dvbPriority;return isNaN(A)?0:A}).filter(function(z,k,A){return!k||A[0].dvbPriority&&z.dvbPriority&&A[0].dvbPriority===z.dvbPriority}),C.length)return C.length>1&&(C.forEach(z=>{N+=z.dvbWeight,T.push(N)}),w=Math.floor(Math.random()*(N-1)),T.every((z,k)=>(j=k,!(w<z)))),C[j]}(function(v){let w=[];return v.filter(function(C){return!g.contains(C.serviceLocation)||(C.dvbPriority&&w.push(C.dvbPriority),!1)}).filter(function(C){return!w.length||!C.dvbPriority||w.indexOf(C.dvbPriority)===-1})}(m))}},o}Ql.__dashjs_factory_name="DVBSelector";var Ad=ae.default.getClassFactory(Ql);function Zl(d){let o;const g=(d=d||{}).blacklistController;return o={select:function(m){let v,w=0;return m&&m.some((C,N)=>(w=N,!g.contains(C.serviceLocation)))&&(v=m[w]),v}},o}Zl.__dashjs_factory_name="BasicSelector";var Rd=ae.default.getClassFactory(Zl);function Jl(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v,w=[];function C(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=0,k=NaN;for(;z<T.length;){const A=T[z],x=j.findIndex(K=>K.serviceLocation&&K.serviceLocation===A);if(x!==-1&&!v.contains(j[x].serviceLocation)){k=x;break}z+=1}return k}function N(T){const j=m.getCurrentSteeringResponseData();if(!j)return;const z=T.entry,k=setTimeout(()=>{v.remove(z),w.splice(w.indexOf(k,1))},1e3*j.ttl);w.push(k)}return g={selectBaseUrlIndex:function(T){let j=NaN;if(isNaN(T.selectedIdx)){const k=m.getSteeringDataFromManifest();k&&k.defaultServiceLocationArray.length>0&&(j=C(k.defaultServiceLocationArray,T.baseUrls))}const z=m.getCurrentSteeringResponseData();return T.baseUrls&&T.baseUrls.length&&z&&z.pathwayPriority&&z.pathwayPriority.length&&(j=C(z.pathwayPriority,T.baseUrls)),j},setConfig:function(T){T.blacklistController&&(v=T.blacklistController),T.contentSteeringController&&(m=T.contentSteeringController),o.on(T.addBlacklistEventName,N,g)},reset:function(){w.forEach(T=>clearTimeout(T)),w=[]}},m=eo(d).getInstance(),g}Jl.__dashjs_factory_name="ContentSteeringSelector";var Cd=ae.default.getClassFactory(Jl);function es(){const d=this.context,o=(0,se.default)(d).getInstance(),g=(0,Y.default)(d).getInstance();let m,v,w,C,N,T;function j(){N.reset(),v.reset()}return m={chooseSelector:function(z){(0,it.checkParameterType)(z,"boolean"),T=z?C:w},select:function(z){if(!z)return;if(g.get().streaming.applyContentSteering){const A=N.selectBaseUrlIndex(z);isNaN(A)||A===-1||(z.selectedIdx=A)}if(!isNaN(z.selectedIdx))return z.baseUrls[z.selectedIdx];let k=T.select(z.baseUrls);return k?(z.selectedIdx=z.baseUrls.indexOf(k),k):(o.trigger(P.default.URL_RESOLUTION_FAILED,{error:new Ie.default(B.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,B.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(T===w&&j()))},reset:j,setConfig:function(z){z.selector&&(T=z.selector),z.contentSteeringSelector&&(N=z.contentSteeringSelector)}},v=Ji(d).create({updateEventName:P.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:P.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),w=Rd(d).create({blacklistController:v}),C=Ad(d).create({blacklistController:v}),N=Cd(d).create(),N.setConfig({blacklistController:v,addBlacklistEventName:P.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),T=w,m}es.__dashjs_factory_name="BaseURLSelector";var Nd=ae.default.getClassFactory(es);function ts(){let d,o;const g=this.context,m=(0,se.default)(g).getInstance(),v=pt(g).getInstance();let w,C,N;function T(z){w.update(z),C.chooseSelector(o.getIsDVB(z)),m.trigger($.default.BASE_URLS_UPDATED,{baseUrls:j(z)})}function j(z){return w.getBaseUrls(z)}return d={reset:function(){w.reset(),C.reset()},initialize:function(z){w.setConfig({adapter:o,contentSteeringController:N}),T(z)},resolve:function(z){const k=w.getForPath(z).reduce((A,x)=>{const K=C.select(x);return K?(v.isRelative(K.url)?A.url=v.resolve(K.url,A.url):(A.url=K.url,A.serviceLocation=K.serviceLocation),A.availabilityTimeOffset=K.availabilityTimeOffset,A.availabilityTimeComplete=K.availabilityTimeComplete,A.queryParams=K.queryParams,A):new rr},new rr);if(!v.isRelative(k.url))return k},setConfig:function(z){z.baseURLTreeModel&&(w=z.baseURLTreeModel),z.baseURLSelector&&(C=z.baseURLSelector),z.adapter&&(o=z.adapter),z.contentSteeringController&&(N=z.contentSteeringController)},getBaseUrls:j,update:T},w=Id(g).create(),C=Nd(g).create(),m.on(P.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(z){w.invalidateSelectedIndexes(z.entry)},d),d}ts.__dashjs_factory_name="BaseURLController";var xd=ae.default.getClassFactory(ts),ns=class extends Ue{constructor(d,o){super(),this.url=d||null,this.type=o||null,this.mediaType=M.default.STREAM,this.responseType=""}};function as(d){d=d||{};const o=this.context,g=(0,se.default)(o).getInstance();let m,v=mr(o).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,errors:B});return m={load:function(w,C,N){const T=function(j,z){C.resolved=!0,C.resolvedContent=j||null,g.trigger(P.default.XLINK_ELEMENT_LOADED,{element:C,resolveObject:N,error:j||z?null:new Ie.default(B.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,B.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+w)})};if(w==="urn:mpeg:dash:resolve-to-zero:2013")T(null,!0);else{const j=new ns(w,Te.HTTPRequest.XLINK_EXPANSION_TYPE);v.load({request:j,success:function(z){T(z)},error:function(){T(null)}})}},reset:function(){v&&(v.abort(),v=null)}},m}as.__dashjs_factory_name="XlinkLoader";var Dd=ae.default.getClassFactory(as);const br="onLoad";function rs(d){d=d||{};let o=this.context,g=(0,se.default)(o).getInstance();const m=pt(o).getInstance();let v,w,C,N;function T(x,K,W){let J,Q,Z={};Z.elements=x,Z.type=K,Z.resolveType=W,Z.elements.length===0&&z(Z);for(let ie=0;ie<Z.elements.length;ie++)J=Z.elements[ie],Q=m.isHTTPURL(J.url)?J.url:J.originalContent.BaseURL+J.url,N.load(Q,J,Z)}function j(x){let K,W,J="";if(K=x.element,W=x.resolveObject,K.resolvedContent){let Q=0;K.resolvedContent.indexOf("<?xml")===0&&(Q=K.resolvedContent.indexOf("?>")+2),J=K.resolvedContent.substr(0,Q)+"<response>"+K.resolvedContent.substr(Q)+"</response>",K.resolvedContent=w.parseXml(J).response}(function(Q){let Z,ie;for(Z=0;Z<Q.elements.length;Z++)if(ie=Q.elements[Z],ie.resolved===!1)return!1;return!0})(W)&&z(W)}function z(x){let K,W,J=[];if(function(Q){let Z,ie,ye,V,D,U,H=[];for(V=Q.elements.length-1;V>=0;V--){if(Z=Q.elements[V],ie=Z.type,Z.resolvedContent){if(Z.resolvedContent)for(D=0;D<Z.resolvedContent[ie].length;D++)ye=Z.resolvedContent[ie][D],H.push(ye)}else delete Z.originalContent["xlink:actuate"],delete Z.originalContent["xlink:href"],H.push(Z.originalContent);for(Z.parentElement[ie].splice(Z.index,1),U=0;U<H.length;U++)Z.parentElement[ie].splice(Z.index+U,0,H[U]);H=[]}Q.elements.length>0&&w.getIron().run(C)}(x),x.resolveType==="onActuate"&&g.trigger(P.default.XLINK_READY,{manifest:C}),x.resolveType===br)switch(x.type){case S.default.PERIOD:for(K=0;K<C[S.default.PERIOD].length;K++)W=C[S.default.PERIOD][K],W.hasOwnProperty(S.default.ADAPTATION_SET)&&(J=J.concat(k(W[S.default.ADAPTATION_SET],W,S.default.ADAPTATION_SET,br))),W.hasOwnProperty(S.default.EVENT_STREAM)&&(J=J.concat(k(W[S.default.EVENT_STREAM],W,S.default.EVENT_STREAM,br)));T(J,S.default.ADAPTATION_SET,br);break;case S.default.ADAPTATION_SET:g.trigger(P.default.XLINK_READY,{manifest:C})}}function k(x,K,W,J){let Q,Z,ie,ye=[];for(Z=x.length-1;Z>=0;Z--)Q=x[Z],Q.hasOwnProperty("xlink:href")&&Q["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&x.splice(Z,1);for(Z=0;Z<x.length;Z++)Q=x[Z],Q.hasOwnProperty("xlink:href")&&Q.hasOwnProperty("xlink:actuate")&&Q["xlink:actuate"]===J&&(ie=A(Q["xlink:href"],K,W,Z,J,Q),ye.push(ie));return ye}function A(x,K,W,J,Q,Z){return{url:x,parentElement:K,type:W,index:J,resolveType:Q,originalContent:Z,resolvedContent:null,resolved:!1}}return v={resolveManifestOnLoad:function(x){let K;C=x,C.Period?(K=k(C.Period,C,S.default.PERIOD,br),T(K,S.default.PERIOD,br)):g.trigger(P.default.XLINK_READY,{manifest:C})},setParser:function(x){x&&(w=x)},reset:function(){g.off(P.default.XLINK_ELEMENT_LOADED,j,v),N&&(N.reset(),N=null)}},g.on(P.default.XLINK_ELEMENT_LOADED,j,v),N=Dd(o).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,settings:d.settings}),v}rs.__dashjs_factory_name="XlinkController";var Md=ae.default.getClassFactory(rs);function is(d){function o(v,w){for(let C in v)w.hasOwnProperty(C)||(w[C]=v[C])}function g(v,w,C){for(let N=0,T=v.length;N<T;++N){const j=v[N];if(w[j.name])if(C[j.name]){if(j.merge){const z=w[j.name],k=C[j.name];typeof z=="object"&&typeof k=="object"?o(z,k):C[j.name]=z+k}}else C[j.name]=w[j.name]}}function m(v,w){for(let C=0,N=v.children.length;C<N;++C){const T=v.children[C],j=w[T.name];if(j)for(let z=0,k=j.length;z<k;++z){const A=j[z];g(v.properties,w,A),m(T,A)}}}return{run:function(v){if(v===null||typeof v!="object")return v;if(v.Period&&"period"in d){const w=d.period,C=v.Period;for(let N=0,T=C.length;N<T;++N){const j=C[N];if(m(w,j),"adaptationset"in d){const z=j.AdaptationSet;if(z){const k=d.adaptationset;for(let A=0,x=z.length;A<x;++A)m(k,z[A])}}}}return v}}}is.__dashjs_factory_name="ObjectIron";var Pd=ae.default.getClassFactory(is),vi=class{constructor(d,o){this._test=d,this._converter=o}get test(){return this._test}get converter(){return this._converter}};const os=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;var zd=class extends vi{constructor(){super((d,o,g)=>{const m=[S.default.MIN_BUFFER_TIME,S.default.MEDIA_PRESENTATION_DURATION,S.default.MINIMUM_UPDATE_PERIOD,S.default.TIMESHIFT_BUFFER_DEPTH,S.default.MAX_SEGMENT_DURATION,S.default.MAX_SUBSEGMENT_DURATION,S.default.SUGGESTED_PRESENTATION_DELAY,S.default.START,M.default.START_TIME,S.default.DURATION],v=m.length;for(let w=0;w<v;w++)if(o===m[w])return os.test(g);return!1},d=>{const o=os.exec(d);let g=31536e3*parseFloat(o[3]||0)+2592e3*parseFloat(o[5]||0)+86400*parseFloat(o[7]||0)+3600*parseFloat(o[9]||0)+60*parseFloat(o[11]||0)+parseFloat(o[13]||0);return o[1]!==void 0&&(g=-g),g})}};const ls=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;var Ld=class extends vi{constructor(){super((d,o,g)=>ls.test(g),d=>{const o=ls.exec(d);let g;if(g=Date.UTC(parseInt(o[1],10),parseInt(o[2],10)-1,parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10),o[6]&&parseInt(o[6],10)||0,o[7]&&1e3*parseFloat(o[7])||0),o[9]&&o[10]){const m=60*parseInt(o[9],10)+parseInt(o[10],10);g+=(o[8]==="+"?-1:1)*m*60*1e3}return new Date(g)})}};const Od=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,Fd=[S.default.ID];var jd=class extends vi{constructor(){super((d,o,g)=>Od.test(g)&&Fd.indexOf(o)===-1,d=>parseFloat(d))}},Ud=class extends vi{constructor(){super((d,o)=>{const g={[S.default.ADAPTATION_SET]:[S.default.LANG],[S.default.REPRESENTATION]:[S.default.LANG],[S.default.CONTENT_COMPONENT]:[S.default.LANG],[S.default.LABEL]:[S.default.LANG],[S.default.GROUP_LABEL]:[S.default.LANG]};if(g.hasOwnProperty(d)){let m=g[d];return m!==void 0&&m.indexOf(o)>=0}return!1},d=>yi(d)||String(d))}},Bd=class{constructor(d){var o;this._name=d,this._merge=(o=d)&&o.length&&o.charAt(0)===o.charAt(0).toUpperCase()}get name(){return this._name}get merge(){return this._merge}},yr=class{constructor(d,o,g){this._name=d||"",this._properties=[],this._children=g||[],Array.isArray(o)&&o.forEach(m=>{this._properties.push(new Bd(m))})}get name(){return this._name}get children(){return this._children}get properties(){return this._properties}},qd=class extends yr{constructor(){const d=[S.default.PROFILES,S.default.WIDTH,S.default.HEIGHT,S.default.SAR,S.default.FRAMERATE,S.default.AUDIO_SAMPLING_RATE,S.default.MIME_TYPE,S.default.SEGMENT_PROFILES,S.default.CODECS,S.default.MAXIMUM_SAP_PERIOD,S.default.START_WITH_SAP,S.default.MAX_PLAYOUT_RATE,S.default.CODING_DEPENDENCY,S.default.SCAN_TYPE,S.default.FRAME_PACKING,S.default.AUDIO_CHANNEL_CONFIGURATION,S.default.CONTENT_PROTECTION,S.default.INBAND_EVENT_STREAM];super(S.default.ADAPTATION_SET,d,[new yr(S.default.REPRESENTATION,d,[new yr(S.default.SUB_REPRESENTATION,d)])])}},Hd=class extends yr{constructor(){const d=[S.default.SEGMENT_BASE,S.default.SEGMENT_TEMPLATE,S.default.SEGMENT_LIST];super(S.default.PERIOD,d,[new yr(S.default.ADAPTATION_SET,d,[new yr(S.default.REPRESENTATION,d)])])}};const ss={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&apos;":"'"};function us(d,o){const g=o.split(/(&[#a-zA-Z0-9]+;)/);if(g.length<=1)return o;for(let m=1;m<g.length;m+=2){const v=g[m];if(v.charAt(1)==="#"){let w;w=v.charAt(2)==="x"?parseInt(v.substring(3,v.length-1),16):parseInt(v.substring(2,v.length-1),10),!isNaN(w)&&w>=0&&w<=1114111&&(g[m]=String.fromCodePoint(w))}else d.hasOwnProperty(v)&&(g[m]=d[v])}return g.join("")}function Gd(d,o){var g=(o=o||{}).pos||0,m=!!o.keepComments,v=!!o.keepWhitespace,w=o.attrMatchers||[],C=o.nodesAsArray||[],N="<",T=60,j=">",z=62,k=45,A=47,x=33,K=39,W=34,J=91,Q=93;function Z(pe,ge){for(var he=[];d[g];)if(d.charCodeAt(g)==T){if(d.charCodeAt(g+1)===A){var Se=g+2;if(g=d.indexOf(j,g),d.substring(Se,g).indexOf(pe)==-1){var O=d.substring(0,g).split(`
`);throw new Error(`Unexpected close tag
Line: `+(O.length-1)+`
Column: `+(O[O.length-1].length+1)+`
Char: `+d[g])}return g+1&&(g+=1),he}if(d.charCodeAt(g+1)===x){if(d.charCodeAt(g+2)==k){const ue=g;for(;g!==-1&&(d.charCodeAt(g)!==z||d.charCodeAt(g-1)!=k||d.charCodeAt(g-2)!=k||g==-1);)g=d.indexOf(j,g+1);g===-1&&(g=d.length),m&&he.push(d.substring(ue,g+1))}else{if(d.charCodeAt(g+2)===J&&d.charCodeAt(g+8)===J&&d.substr(g+3,5).toLowerCase()==="cdata"){var me=d.indexOf("]]>",g);me==-1?(he.push(d.substr(g+9)),g=d.length):(he.push(d.substring(g+9,me)),g=me+3);continue}{const ue=g+1;g+=2;for(var re=!1;(d.charCodeAt(g)!==z||re===!0)&&d[g];)d.charCodeAt(g)===J?re=!0:re===!0&&d.charCodeAt(g)===Q&&(re=!1),g++;he.push(d.substring(ue,g))}}g++;continue}var be=U();if(he.push(be),be.tagName[0]==="?"&&(he.push(...be.children),be.children=[]),ge){let ue=be.tagName;C.indexOf(ue)!==-1?(ge[ue]||(ge[ue]=[]),ge[ue].push(be)):ge[ue]=be}}else{var ce=(oe=void 0,oe=g,(g=d.indexOf(N,g)-1)==-2&&(g=d.length),us(ss,d.slice(oe,g+1)));v||(ce=ce.trim()),ge?ge.__text=ce:he.push(ce),g++}var oe;return he}function ie(pe,ge,he){if(pe==="S")return parseInt(he);let Se=us(ss,he);return w.forEach(O=>{O.test(pe,ge,he)&&(Se=O.converter(he))}),Se}var ye=`\r
	>/= `;function V(){for(var pe=g;ye.indexOf(d[g])===-1&&d[g];)g++;return d.slice(pe,g)}var D=o.noChildNodes||["img","br","input","meta","link","hr"];function U(){g++;const pe=V();let ge=[],he={tagName:pe},Se=he.tagName.indexOf(":");for(Se!==-1&&(he.__prefix=he.tagName.substr(0,Se),he.tagName=he.tagName.substr(Se+1));d.charCodeAt(g)!==z&&d[g];){var O=d.charCodeAt(g);if(O>64&&O<91||O>96&&O<123){for(var me=V(),re=d.charCodeAt(g);re&&re!==K&&re!==W&&!(re>64&&re<91||re>96&&re<123)&&re!==z;)g++,re=d.charCodeAt(g);if(re===K||re===W){var be=(ce=void 0,oe=void 0,ce=d[g],oe=g+1,g=d.indexOf(ce,oe),d.slice(oe,g));if(g===-1)return he}else be=null,g--;be=ie(he.tagName,me,be),he[me]=be}g++}var ce,oe;if(d.charCodeAt(g-1)!==A)if(pe=="script"){var ue=g+1;g=d.indexOf("<\/script>",g),ge=[d.slice(ue,g)],g+=9}else pe=="style"?(ue=g+1,g=d.indexOf("</style>",g),ge=[d.slice(ue,g)],g+=8):D.indexOf(pe)===-1?(g++,ge=Z(pe,he)):g++;else g++;return he.__children=ge,he}var H,le=null;if(o.attrValue!==void 0)for(o.attrName=o.attrName||"id",le=[];H=new RegExp("\\s"+o.attrName+`\\s*=['"]`+o.attrValue+`['"]`).exec(d),(g=H?H.index:-1)!==-1;)(g=d.lastIndexOf("<",g))!==-1&&le.push(U()),d=d.substr(g),g=0;else le=o.parseNode?U():Z("");return o.filter&&(le=ds(le,o.filter)),o.simplify?cs(Array.isArray(le)?le:[le]):(o.setPos&&(le.pos=g),le)}function cs(d){var o={};if(!d.length)return"";if(d.length===1&&typeof d[0]=="string")return d[0];for(var g in d.forEach(function(m){if(typeof m=="object"){o[m.tagName]||(o[m.tagName]=[]);var v=cs(m.children);o[m.tagName].push(v),Object.keys(m.attributes).length&&typeof v!="string"&&(v._attributes=m.attributes)}}),o)o[g].length==1&&(o[g]=o[g][0]);return o}function ds(d,o){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";var v=[];return d.forEach(function(w,C){if(typeof w=="object"&&o(w,C,g,m)&&v.push(w),w.children){var N=ds(w.children,o,g+1,(m?m+".":"")+C+"."+w.tagName);v=v.concat(N)}}),v}const Yd=[S.default.PERIOD,S.default.BASE_URL,S.default.ADAPTATION_SET,S.default.REPRESENTATION,S.default.CONTENT_PROTECTION,S.default.ROLE,S.default.ACCESSIBILITY,S.default.AUDIO_CHANNEL_CONFIGURATION,S.default.CONTENT_COMPONENT,S.default.ESSENTIAL_PROPERTY,S.default.LABEL,S.default.S,S.default.SEGMENT_URL,S.default.EVENT,S.default.EVENT_STREAM,S.default.LOCATION,S.default.SERVICE_DESCRIPTION,S.default.SUPPLEMENTAL_PROPERTY,S.default.METRICS,S.default.REPORTING,S.default.PATCH_LOCATION,S.default.REPLACE,S.default.ADD,S.default.REMOVE,S.default.UTC_TIMING,S.default.INBAND_EVENT_STREAM,S.default.PRODUCER_REFERENCE_TIME,S.default.CONTENT_STEERING];function fs(d){d=d||{};const o=this.context,g=d.debug;let m,v,w,C;function N(T){try{let j=Gd(T,{parseNode:!0,attrMatchers:w,nodesAsArray:Yd}),z={};if(j.tagName.toLowerCase().indexOf("xml")!==-1)for(let k in j){if(Array.isArray(j[k])){z[k]=j[k][0];break}if(typeof j[k]=="object"){z[k]=j[k];break}}else z[j.tagName]=j,delete j.tagName;return z}catch{return null}}return m={getIron:function(){return C},parseXml:N,parse:function(T){let j;const z=window.performance.now();if(j=N(T),!j)throw new Error("failed to parse the manifest");j.Patch?(j=j.Patch,j.add&&j.add.forEach(A=>C.run(A)),j.replace&&j.replace.forEach(A=>C.run(A))):(j=j.MPD,C.run(j));const k=window.performance.now();return v.info("Parsing complete: "+(k-z).toPrecision(3)+"ms"),j.protocol="DASH",j}},v=g.getLogger(m),w=[new zd,new Ld,new jd,new Ud],C=Pd(o).create({adaptationset:new qd,period:new Hd}),m}fs.__dashjs_factory_name="DashParser";var Vd=ae.default.getClassFactory(fs);function gs(d){d=d||{};const o=this.context,g=d.debug,m=d.settings,v=(0,se.default)(o).getInstance(),w=pt(o).getInstance();let C,N,T,j,z,k=d.mssHandler,A=d.errHandler;function x(K){v.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:K.manifest})}return C={load:function(K){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const Q=new Date,Z=new ns(K,Te.HTTPRequest.MPD_TYPE);W&&(Z.serviceLocation=W),J&&(Z.queryParams=J),Z.startDate||(Z.startDate=Q),v.trigger(P.default.MANIFEST_LOADING_STARTED,{request:Z}),T.load({request:Z,success:function(ie,ye,V){if(!j)return;let D,U,H;if(V&&V!==K?(U=w.parseBaseUrl(V),D=V):(w.isRelative(K)&&(K=w.resolve(K,window.location.href)),U=w.parseBaseUrl(K)),ye!="No Content")if(z===null&&(z=function(le){let pe=null;return le.indexOf("SmoothStreamingMedia")>-1?(k&&(pe=k.createMssParser(),k.createMssFragmentProcessor(),k.registerEvents()),pe):le.indexOf("MPD")>-1||le.indexOf("Patch")>-1?Vd(o).create({debug:g}):pe}(ie)),z!==null){j.setParser(z);try{H=z.parse(ie)}catch{return void v.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new Ie.default(B.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,B.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${K}`)})}if(H){if(H.url=D||K,H.originalUrl||(H.originalUrl=H.url),m&&m.get().streaming.enableManifestDurationMismatchFix&&H.mediaPresentationDuration&&H.Period.length>1){const le=H.Period.reduce((pe,ge)=>pe+ge.duration,0);!isNaN(le)&&H.mediaPresentationDuration>le&&(N.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),H.mediaPresentationDuration=le)}H.baseUri=U,H.loadedTime=new Date,j.resolveManifestOnLoad(H),v.trigger(P.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:ie})}else v.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new Ie.default(B.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,B.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${K}`)})}else v.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new Ie.default(B.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,B.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${K}`)});else v.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(ie,ye,V){v.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new Ie.default(B.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,B.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+`${K}, ${V}`)})}})},reset:function(){v.off(P.default.XLINK_READY,x,C),k&&k.reset(),j&&(j.reset(),j=null),T&&(T.abort(),T=null)}},N=g.getLogger(C),v.on(P.default.XLINK_READY,x,C),T=mr(o).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,urlUtils:w,constants:M.default,dashConstants:S.default,errors:B,requestTimeout:d.settings.get().streaming.manifestRequestTimeout}),j=Md(o).create({errHandler:A,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,settings:d.settings}),z=null,C}gs.__dashjs_factory_name="ManifestLoader";var Kd=ae.default.getClassFactory(gs);function ms(){let d;const o=this.context,g=(0,se.default)(o).getInstance();return d={error:function(m){g.trigger(P.default.ERROR,{error:m})}},d}ms.__dashjs_factory_name="ErrorHandler";var $d=ae.default.getSingletonFactory(ms),ps=t(559);function hs(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v,w,C,N,T;function j(x,K,W){const J=k(x,K,W);return v.isCodecSupportedBasedOnTestedConfigurations(J,x)}function z(x,K,W,J,Q){const Z=k(x,K,W),ie=JSON.stringify(Z);J.has(ie)||(J.add(ie),Q.push(Z))}function k(x,K,W){let J=null;switch(x){case M.default.VIDEO:J=function(Q,Z){let ie={codec:Z,width:Q.width||null,height:Q.height||null,framerate:Q.frameRate||null,bitrate:Q.bandwidth||null,isSupported:!0};w.get().streaming.capabilities.filterVideoColorimetryEssentialProperties&&Object.assign(ie,function(D){let U={colorGamut:null,transferFunction:null,isSupported:!0};for(const H of D.EssentialProperty||[])H.schemeIdUri===M.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["1","5","6","7"].includes(H.value.toString())?U.colorGamut=M.default.MEDIA_CAPABILITIES_API.COLORGAMUT.SRGB:H.schemeIdUri===M.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["11","12"].includes(H.value.toString())?U.colorGamut=M.default.MEDIA_CAPABILITIES_API.COLORGAMUT.P3:H.schemeIdUri===M.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["9"].includes(H.value.toString())?U.colorGamut=M.default.MEDIA_CAPABILITIES_API.COLORGAMUT.REC2020:H.schemeIdUri===M.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["2"].includes(H.value.toString())?U.colorGamut=null:H.schemeIdUri===M.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&(U.isSupported=!1),H.schemeIdUri===M.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["1","6","13","14","15"].includes(H.value.toString())?U.transferFunction=M.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.SRGB:H.schemeIdUri===M.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["16"].includes(H.value.toString())?U.transferFunction=M.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.PQ:H.schemeIdUri===M.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["18"].includes(H.value.toString())?U.transferFunction=M.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.HLG:H.schemeIdUri===M.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["2"].includes(H.value.toString())?U.transferFunction=null:H.schemeIdUri===M.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&(U.isSupported=!1);return U}(Q));let ye=ie.isSupported;w.get().streaming.capabilities.filterHDRMetadataFormatEssentialProperties&&Object.assign(ie,function(D){let U={isSupported:!0,hdrMetadataType:null};for(const H of D.EssentialProperty||[])H.schemeIdUri===M.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&H.value===M.default.HDR_METADATA_FORMAT_VALUES.ST2094_10?U.hdrMetadataType=M.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SMPTE_ST_2094_10:H.schemeIdUri===M.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&H.value===M.default.HDR_METADATA_FORMAT_VALUES.SL_HDR2?U.hdrMetadataType=M.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SLHDR2:H.schemeIdUri===M.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&H.value===M.default.HDR_METADATA_FORMAT_VALUES.ST2094_40?U.hdrMetadataType=M.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SMPTE_ST_2094_40:H.schemeIdUri===M.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&(U.isSupported=!1);return U}(Q));let V=ie.isSupported;return ye&&V||(ie.isSupported=!1),ie}(K,W);break;case M.default.AUDIO:J=function(Q,Z){const ie=Q.audioSamplingRate||null;return{codec:Z,bitrate:Q.bandwidth||null,samplerate:ie,isSupported:!0}}(K,W);break;default:return J}return function(Q,Z){return Q&&Q[S.default.CONTENT_PROTECTION]&&Q[S.default.CONTENT_PROTECTION].length>0&&(Z.keySystemsMetadata=N.getSupportedKeySystemMetadataFromContentProtection(Q[S.default.CONTENT_PROTECTION])),Z}(K,J)}function A(x){if(!x||x.length===0)return!0;let K=0;for(;K<x.length;){if(!v.supportsEssentialProperty(x[K]))return T.debug("[Stream] EssentialProperty not supported: "+x[K].schemeIdUri),!1;K+=1}return!0}return g={setConfig:function(x){x&&(x.adapter&&(m=x.adapter),x.capabilities&&(v=x.capabilities),x.settings&&(w=x.settings),x.protectionController&&(N=x.protectionController),x.customParametersModel&&(C=x.customParametersModel))},filterUnsupportedFeatures:function(x){return new Promise(K=>{const W=[M.default.VIDEO,M.default.AUDIO],J=[];W.forEach(Q=>{(function(ie,ye){if(!ie||!ie.Period||ie.Period.length===0)return[];const V=new Set,D=[];return ie.Period.forEach(U=>{U.AdaptationSet.forEach(H=>{m.getIsTypeOf(H,ye)&&H.Representation.forEach((le,pe)=>{const ge=m.getCodec(H,pe,!1);z(ye,le,ge,V,D);const he=m.getSupplementalCodecs(le);he.length>0&&z(ye,le,he[0],V,D)})})}),D})(x,Q).forEach(ie=>{J.push(v.runCodecSupportCheck(ie,Q))})}),Promise.allSettled(J).then(()=>(W.forEach(Q=>{(function(Z,ie){ie&&ie.Period&&ie.Period.length!==0&&ie.Period.forEach(ye=>{(function(V,D){V&&V.AdaptationSet&&V.AdaptationSet.length!==0&&(V.AdaptationSet=V.AdaptationSet.filter(U=>{m.getIsTypeOf(U,D)&&function(le,pe){le.Representation&&le.Representation.length!==0&&(le.Representation=le.Representation.filter((ge,he)=>{const Se=m.getCodec(le,he,!1),O=j(pe,ge,Se);let me=function(re,be){let ce=!1;const oe=m.getSupplementalCodecs(re);return oe.length>0&&(oe.length>1&&T.warn("[CapabilitiesFilter] Multiple supplemental codecs not supported; using the first in list"),ce=j(be,re,oe[0])),ce}(ge,pe);return me&&(T.debug(`[CapabilitiesFilter] Codec supported. Upgrading codecs string of Representation with ID ${ge.id}`),ge.codecs=ge[S.default.SUPPLEMENTAL_CODECS]),O||me||T.warn(`[CapabilitiesFilter] Codec ${Se} not supported. Removing Representation with ID ${ge.id}`),O||me}))}(U,D);const H=U.Representation&&U.Representation.length>0;return H||(o.trigger(P.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:U}),T.warn(`[CapabilitiesFilter] AdaptationSet with ID ${U.id?U.id:"undefined"} and codec ${U.codecs?U.codecs:"undefined"} has been removed because of no supported Representation`)),H}))})(ye,Z)})})(Q,x)}),w.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(Q){Q&&Q.Period&&Q.Period.length!==0&&Q.Period.forEach(Z=>{Z.AdaptationSet=Z.AdaptationSet.filter(ie=>!ie.Representation||ie.Representation.length===0||!!A(m.getEssentialPropertiesForAdaptationSet(ie))&&(ie.Representation=ie.Representation.filter(ye=>A(m.getEssentialPropertiesForRepresentation(ye))),ie.Representation&&ie.Representation.length>0))})}(x),function(Q){if(!Q||!Q.Period||Q.Period.length===0)return Promise.resolve();const Z=[];return Q.Period.forEach(ie=>{Z.push(function(ye){return new Promise(V=>{if(!ye||!ye.AdaptationSet||ye.AdaptationSet.length===0)return void V();const D=[];ye.AdaptationSet.forEach(U=>{D.push(function(H){return new Promise(le=>{if(!H.Representation||H.Representation.length===0)return void le();const pe=[];H.Representation.forEach(ge=>{pe.push(function(he){const Se=[],O=C.getCustomCapabilitiesFilters();return O&&O.length!==0?O.forEach(me=>{Se.push(new Promise(re=>re(me(he))))}):Se.push(Promise.resolve(!0)),Promise.all(Se)}(ge))}),Promise.all(pe).then(ge=>{H.Representation=H.Representation.filter((he,Se)=>{let O=ge[Se].every(me=>me);return O||T.debug("[Stream] Representation "+he.id+" has been removed because of unsupported CustomFilter"),O}),le()}).catch(ge=>{T.warn("[Stream] at least one promise rejected in CustomFilter with error: ",ge),le()})})}(U))}),Promise.all(D).then(()=>{ye.AdaptationSet=ye.AdaptationSet.filter(U=>U.Representation&&U.Representation.length>0),V()}).catch(()=>{V()})})}(ie))}),Promise.all(Z)}(x))).then(()=>{K()}).catch(Q=>{T.error(Q),K()})})}},T=(0,we.default)(d).getInstance().getLogger(g),g}hs.__dashjs_factory_name="CapabilitiesFilter";var Wd=ae.default.getSingletonFactory(hs),Xd=class{constructor(){this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null}};function bs(){let d,o;return d={initialize:function(g){if(o=new Xd,!g)return null;const m=g.indexOf("#");if(m!==-1){const v=g.substr(m+1).split("&");for(let w=0,C=v.length;w<C;++w){const N=v[w],T=N.indexOf("=");if(T!==-1){const j=N.substring(0,T);o.hasOwnProperty(j)&&(o[j]=N.substr(T+1))}}}},getURIFragmentData:function(){return o}},d}bs.__dashjs_factory_name="URIFragmentModel";var Qd=ae.default.getSingletonFactory(bs);function ys(){let d,o,g=this.context,m=(0,se.default)(g).getInstance();return d={getValue:function(){return o},setValue:function(v){o=v,v&&m.trigger(P.default.MANIFEST_LOADED,{data:v})}},d}ys.__dashjs_factory_name="ManifestModel";var Zd=ae.default.getSingletonFactory(ys);function Es(){let d,o,g,m;const v=this.context,w=(0,Y.default)(v).getInstance();function C(k,A){return isNaN(k)?0:k>0?(A&&o.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):k<-.5?(A&&o.warn("Supplied minimum playback rate is out of range and will be limited to -0.5: -50% playback speed."),-.5):k}function N(k,A){return isNaN(k)?0:k<0?(A&&o.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):k>1?(A&&o.warn("Supplied maximum playback rate is out of range and will be limited to 1: 200% playback speed."),1):k}function T(){const k=j(),A=g.getLiveDelay();return!isNaN(A)&&A>0?Math.min(k,A):k}function j(){return w.get().streaming.buffer.bufferTimeDefault>0?w.get().streaming.buffer.bufferTimeDefault:z()?20:12}function z(){return w.get().streaming.buffer.fastSwitchEnabled!==null?w.get().streaming.buffer.fastSwitchEnabled:!g.getLowLatencyModeEnabled()}return d={getCatchupMaxDrift:function(){if(!isNaN(w.get().streaming.liveCatchup.maxDrift)&&w.get().streaming.liveCatchup.maxDrift>=0)return w.get().streaming.liveCatchup.maxDrift;const k=m.getServiceDescriptionSettings();return k&&k.liveCatchup&&!isNaN(k.liveCatchup.maxDrift)&&k.liveCatchup.maxDrift>=0?k.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return w.get().streaming.liveCatchup.enabled!==null?w.get().streaming.liveCatchup.enabled:g.getInitialCatchupModeActivated()},getBufferTimeDefault:T,getBufferTimeDefaultUnadjusted:j,getFastSwitchEnabled:z,getInitialBufferLevel:function(){const k=w.get().streaming.buffer.initialBufferLevel;return isNaN(k)||k<0?0:Math.min(T(),k)},getRetryAttemptsForType:function(k){const A=isNaN(w.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:w.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return g.getLowLatencyModeEnabled()?w.get().streaming.retryAttempts[k]*A:w.get().streaming.retryAttempts[k]},getRetryIntervalsForType:function(k){const A=isNaN(w.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:w.get().streaming.retryIntervals.lowLatencyReductionFactor;return g.getLowLatencyModeEnabled()?w.get().streaming.retryIntervals[k]/A:w.get().streaming.retryIntervals[k]},getCatchupPlaybackRates:function(k){const A=w.get().streaming.liveCatchup.playbackRate;if(!isNaN(A.min)||!isNaN(A.max))return{min:C(A.min,k),max:N(A.max,k)};const x=m.getServiceDescriptionSettings();if(x&&x.liveCatchup&&(!isNaN(x.liveCatchup.playbackRate.min)||!isNaN(x.liveCatchup.playbackRate.max))){const K=x.liveCatchup.playbackRate;return{min:C(K.min,k),max:N(K.max,k)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(k,A){try{const x=w.get().streaming.abr[k][A];if(!isNaN(x)&&x!==-1)return x;const K=m.getServiceDescriptionSettings();return K&&K[k]&&!isNaN(K[k][A])?K[k][A]:-1}catch{return-1}},setConfig:function(k){k.playbackController&&(g=k.playbackController),k.serviceDescriptionController&&(m=k.serviceDescriptionController)},reset:function(){}},o=(0,we.default)(v).getInstance().getLogger(d),d}Es.__dashjs_factory_name="MediaPlayerModel";var Jd=ae.default.getSingletonFactory(Es);const Vr={DEFAULT:.5,STRONG:1,WEAK:0};function lo(d,o,g,m){let v,w,C,N,T;return w=d===void 0?null:d,C=function(j){let z=Vr.DEFAULT;return j!==Vr.DEFAULT&&j!==Vr.STRONG&&j!==Vr.WEAK||(z=j),z}(g),N=o===void 0?null:o,T=m===void 0?null:m,v={representation:w,reason:N,rule:T,priority:C},v}lo.__dashjs_factory_name="SwitchRequest";const _i=ae.default.getClassFactory(lo);_i.NO_CHANGE=null,_i.PRIORITY=Vr,ae.default.updateClassFactory(lo.__dashjs_factory_name,_i);var Mn=_i;function vs(d){d=d||{};const o=this.context,g=d.dashMetrics;let m,v;return m={getSwitchRequest:function(w){try{const C=Mn(o).create();C.rule=this.getClassName();const N=w.getMediaInfo(),T=w.getMediaType(),j=g.getCurrentBufferState(T),z=w.getScheduleController(),k=w.getAbrController(),A=w.getStreamInfo(),x=A?A.id:null,K=A&&A.manifestInfo?A.manifestInfo.isDynamic:null,W=w.getThroughputController(),J=W.getSafeAverageThroughput(T),Q=W.getAverageLatency(T);return isNaN(J)||!j||k.getAbandonmentStateFor(x,T)===q.ALLOW_LOAD&&(j.state===q.BUFFER_LOADED||K)&&(C.representation=k.getOptimalRepresentationForBitrate(N,J,!0),C.reason={throughput:J,latency:Q,message:`[ThroughputRule]: Switching to Representation with bitrate ${C.representation?C.representation.bitrateInKbit:"n/a"} kbit/s. Throughput: ${J}`},z.setTimeToLoadDelay(0)),C}catch(C){return v.error(C),Mn(o).create()}},reset:function(){}},v=(0,we.default)(o).getInstance().getLogger(m),m}vs.__dashjs_factory_name="ThroughputRule";var _s=ae.default.getClassFactory(vs);function Ts(d){d=d||{};const o=this.context,g=(0,se.default)(o).getInstance(),m=d.dashMetrics,v=(0,Y.default)(o).getInstance();let w,C,N;function T(){const k=v.get().streaming.abr.rules.insufficientBufferRule.parameters.segmentIgnoreCount;N={},N[M.default.VIDEO]={ignoreCount:k},N[M.default.AUDIO]={ignoreCount:k}}function j(){T()}function z(k){isNaN(k.startTime)||k.mediaType!==M.default.AUDIO&&k.mediaType!==M.default.VIDEO||N[k.mediaType].ignoreCount>0&&N[k.mediaType].ignoreCount--}return w={getSwitchRequest:function(k){const A=Mn(o).create();if(A.rule=this.getClassName(),!k||!k.hasOwnProperty("getMediaType"))return A;const x=k.getMediaType(),K=m.getCurrentBufferState(x),W=k.getRepresentation().fragmentDuration;if(!function(Z,ie,ye){return!Z.getLowLatencyModeEnabled()&&N[ie].ignoreCount<=0&&ye}(k.getScheduleController().getPlaybackController(),x,W))return A;const J=k.getMediaInfo(),Q=k.getAbrController();if(K&&K.state===q.BUFFER_EMPTY)C.debug("["+x+"] Switch to index 0; buffer is empty."),A.representation=Q.getOptimalRepresentationForBitrate(J,0,!0),A.reason={message:"[InsufficientBufferRule]: Switching to lowest Representation because buffer is empty"};else{const Z=k.getThroughputController(),ie=m.getCurrentBufferLevel(x),ye=Z.getAverageThroughput(x,null,NaN)*v.get().streaming.abr.rules.insufficientBufferRule.parameters.throughputSafetyFactor*ie/W;if(isNaN(ye)||ye<=0)return A;A.representation=Q.getOptimalRepresentationForBitrate(J,ye,!0),A.reason={message:"[InsufficientBufferRule]: Limiting maximum bitrate to avoid a buffer underrun.",bitrate:ye}}return A},reset:function(){T(),g.off($.default.PLAYBACK_SEEKING,j,w),g.off(P.default.BYTES_APPENDED_END_FRAGMENT,z,w)}},C=(0,we.default)(o).getInstance().getLogger(w),T(),g.on($.default.PLAYBACK_SEEKING,j,w),g.on(P.default.BYTES_APPENDED_END_FRAGMENT,z,w),w}Ts.__dashjs_factory_name="InsufficientBufferRule";var ef=ae.default.getClassFactory(Ts);function ws(d){const o=(d=d||{}).mediaPlayerModel,g=d.dashMetrics,m=this.context,v=(0,Y.default)(m).getInstance();let w,C,N;function T(){N={}}return w={shouldAbandon:function(j){const z=Mn(m).create();z.rule=this.getClassName();try{if(!j)return z;const k=j.getCurrentRequest();if(!isNaN(k.index)){if(k.firstByteDate===null||N.hasOwnProperty(k.index))return z;const A=o.getBufferTimeDefault(),x=j.getMediaType();if(g.getCurrentBufferLevel(x)>A)return z;const K=Date.now()-k.firstByteDate.getTime();if(k.traces.length>=v.get().streaming.abr.rules.abandonRequestsRule.parameters.minThroughputSamplesThreshold&&K>v.get().streaming.abr.rules.abandonRequestsRule.parameters.minSegmentDownloadTimeThresholdInMs&&k.bytesLoaded<k.bytesTotal)return function(W,J,Q){const Z=W.getMediaInfo(),ie=W.getMediaType(),ye=J.traces.reduce((pe,ge)=>pe+ge.b[0],0)-J.traces[0].b[0],V=Math.max(J.traces.reduce((pe,ge)=>pe+ge.d,0)-J.traces[0].d,1),D=Math.round(8*ye/V),U=Number(8*J.bytesTotal/D/1e3).toFixed(2),H=W.getRepresentation(),le=W.getAbrController();if(U<J.duration*v.get().streaming.abr.rules.abandonRequestsRule.parameters.abandonDurationMultiplier||le.isPlayingAtLowestQuality(H))return Q;if(!N.hasOwnProperty(J.index)){const pe=W.getAbrController(),ge=J.bytesTotal-J.bytesLoaded,he=pe.getOptimalRepresentationForBitrate(Z,D,!0),Se=J.representation;ge>J.bytesTotal*he.bitrateInKbit/Se.bitrateInKbit&&(Q.representation=he,Q.reason={throughputInKbit:D,message:`[AbandonRequestRule][${ie} is asking to abandon and switch to quality to ${he.absoluteIndex}. The measured bandwidth was ${D} kbit/s`},N[J.index]=!0)}return Q}(j,k,z)}return z}catch(k){return C.error(k),z}},reset:T},C=(0,we.default)(m).getInstance().getLogger(w),T(),w}ws.__dashjs_factory_name="AbandonRequestsRule";var tf=ae.default.getClassFactory(ws);function Ss(){const d=this.context,o=(0,Y.default)(d).getInstance();let g;return g={getSwitchRequest:function(m){const v=Mn(d).create();if(v.rule=this.getClassName(),!m||!m.hasOwnProperty("getDroppedFramesHistory"))return v;const w=m.getDroppedFramesHistory();if(!w)return v;const C=m.getStreamInfo().id,N=m.getMediaInfo(),T=m.getAbrController(),j=w.getFrameHistory(C);if(!j||Object.keys(j).length===0)return v;let z=0,k=0;const A=T.getPossibleVoRepresentationsFilteredBySettings(N,!0);let x=null;for(let K=1;K<A.length;K++){const W=A[K];if(W&&j[W.id]&&(z=j[W.id].droppedVideoFrames,k=j[W.id].totalVideoFrames,k>o.get().streaming.abr.rules.droppedFramesRule.parameters.minimumSampleSize&&z/k>o.get().streaming.abr.rules.droppedFramesRule.parameters.droppedFramesPercentageThreshold)){x=A[K-1];break}}return x&&(v.representation=x,v.reason={droppedFrames:z,message:`[DroppedFramesRule]: Switching to index ${x.absoluteIndex}. Dropped Frames: ${z}, Total Frames: ${k}`}),v}},g}Ss.__dashjs_factory_name="DroppedFramesRule";var nf=ae.default.getClassFactory(Ss);function ks(){const d=this.context,o=(0,Y.default)(d).getInstance();let g;return g={getSwitchRequest:function(m){const v=Mn(d).create();if(v.rule=this.getClassName(),!m)return v;const w=m.getStreamInfo().id,C=m.getMediaType(),N=m?m.getSwitchRequestHistory():null,T=N?N.getSwitchRequests(w,C):{},j=m.getAbrController(),z=m.getMediaInfo(),k=j.getPossibleVoRepresentationsFilteredBySettings(z,!0);let A=0,x=0;for(let K=0;K<k.length;K++){const W=k[K];if(W&&T[W.id]&&(A+=T[W.id].drops,x+=T[W.id].noDrops,A+x>=o.get().streaming.abr.rules.switchHistoryRule.parameters.sampleSize&&A/x>o.get().streaming.abr.rules.switchHistoryRule.parameters.switchPercentageThreshold)){v.representation=K>0&&T[W.id].drops>0?k[K-1]:W,v.reason={drops:A,noDrops:x,message:`[SwitchHistoryRule]: Switch to index: ${v.representation.absoluteIndex} samples: ${A+x} drops:  ${A}`};break}}return v}},g}ks.__dashjs_factory_name="SwitchHistoryRule";var af=ae.default.getClassFactory(ks);const Ya="BOLA_STATE_ONE_BITRATE",Ti="BOLA_STATE_STARTUP",so="BOLA_STATE_STEADY",Er=10;function Is(d){d=d||{};const o=this.context,g=d.dashMetrics,m=d.mediaPlayerModel,v=(0,se.default)(o).getInstance(),w=Us(o).getInstance();let C,N,T;function j(U){const H=U.mediaType,le=U.streamId,pe=H===M.default.AUDIO?[M.default.AUDIO]:T[le];for(const ge in pe)T[le]&&T[le].hasOwnProperty(ge)&&T[le][ge].state===so&&(T[le][ge].placeholderBuffer=0)}function z(U){const H=U.streamId;for(const le in T[H])if(T[H].hasOwnProperty(le)){const pe=T[H][le];pe.state!==Ya&&(pe.state=Ti,k(pe))}}function k(U){U.placeholderBuffer=0,U.mostAdvancedSegmentStart=NaN,U.lastSegmentWasReplacement=!1,U.lastSegmentStart=NaN,U.lastSegmentDurationS=NaN,U.lastSegmentRequestTimeMs=NaN,U.lastSegmentFinishTimeMs=NaN}function A(U){try{if(U&&U.metric===q.HTTP_REQUEST&&U.value&&U.value.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&U.value.trace&&U.value.trace.length){const H=T[U.value._streamId]&&T[U.value._streamId][U.mediaType]?T[U.value._streamId][U.mediaType]:null;H&&H.state!==Ya&&(H.lastSegmentRequestTimeMs=U.value.trequest.getTime(),H.lastSegmentFinishTimeMs=U.value._tfinish.getTime(),x(H,U.mediaType))}}catch(H){N.error(H)}}function x(U,H){if(!isNaN(U.lastSegmentStart)&&!isNaN(U.lastSegmentRequestTimeMs)&&!isNaN(U.placeholderBuffer)){if(U.placeholderBuffer*=.99,!isNaN(U.lastSegmentFinishTimeMs)){const le=g.getCurrentBufferLevel(H)+.001*(U.lastSegmentFinishTimeMs-U.lastSegmentRequestTimeMs),pe=Q(U,U.currentRepresentation),ge=Math.max(0,pe-le);U.placeholderBuffer=Math.min(ge,U.placeholderBuffer)}U.lastSegmentWasReplacement&&!isNaN(U.lastSegmentDurationS)&&(U.placeholderBuffer+=U.lastSegmentDurationS),U.lastSegmentStart=NaN,U.lastSegmentRequestTimeMs=NaN}}function K(U){if(U&&T[U.streamId]&&T[U.streamId][U.mediaType]){const H=T[U.streamId][U.mediaType];H&&H.state!==Ya&&(H.currentRepresentation=U.newRepresentation)}}function W(U,H,le){const pe=le.reduce((Se,O,me)=>O>le[Se]?me:Se,0);if(pe===0)return null;const ge=Math.max(U,Er+2*H.length),he=(le[pe]-1)/(ge/Er-1);return{gp:he,Vp:Er/he}}function J(U,H){const le=m.getBufferTimeDefault();if(U.bufferTimeDefault!==le){const pe=W(le,U.representations,U.utilities);if(pe.Vp!==U.Vp||pe.gp!==U.gp){const ge=g.getCurrentBufferLevel(H);let he=ge+U.placeholderBuffer;he-=Er,he*=pe.Vp/U.Vp,he+=Er,U.bufferTimeDefault=le,U.Vp=pe.Vp,U.gp=pe.gp,U.placeholderBuffer=Math.max(0,he-ge)}}}function Q(U,H){return U.Vp*(U.utilities[H.absoluteIndex]+U.gp)}function Z(U){if(U&&U.chunk&&U.chunk.representation.mediaInfo&&T[U.streamId]){const H=T[U.streamId][U.chunk.representation.mediaInfo.type];if(H&&H.state!==Ya){const le=U.chunk.start;isNaN(H.mostAdvancedSegmentStart)||le>H.mostAdvancedSegmentStart?(H.mostAdvancedSegmentStart=le,H.lastSegmentWasReplacement=!1):H.lastSegmentWasReplacement=!0,H.lastSegmentStart=le,H.lastSegmentDurationS=U.chunk.duration,H.currentRepresentation=U.chunk.representation,x(H,U.chunk.representation.mediaInfo.type)}}}function ie(){D()}function ye(U,H){const le=H.absoluteIndex,pe=H.bandwidth,ge=U.utilities[le];let he=0;for(let Se=le-1;Se>=0;--Se)if(U.utilities[Se]<U.utilities[le]){const O=U.representations[Se].bandwidth,me=U.utilities[Se],re=U.Vp*(U.gp+(pe*me-O*ge)/(pe-O));he=Math.max(he,re)}return he}function V(U){if(U&&T[U.streamId]){const H=T[U.streamId][U.mediaType];if(H&&H.state!==Ya){const le=g.getCurrentBufferLevel(U.mediaType);let pe;pe=H.currentRepresentation.absoluteIndex>0?ye(H,H.currentRepresentation):Er;const ge=Math.max(0,pe-le);H.placeholderBuffer=Math.min(H.placeholderBuffer,ge)}}}function D(){T={}}return C={getSwitchRequest:function(U){try{const H=Mn(o).create();U.getScheduleController().setTimeToLoadDelay(0),H.rule=this.getClassName(),H.reason=H.reason||{};const le=function(pe){const ge=pe.getMediaType(),he=pe.getStreamInfo().id;T[he]||(T={},T[he]={});let Se=T[he][ge];return Se?Se.state!==Ya&&J(Se,ge):(Se=function(O){const me={},re=O.getMediaInfo(),be=w.getPossibleVoRepresentationsFilteredBySettings(re,!0);let ce=be.map(G=>G.bandwidth).map(G=>Math.log(G));ce=ce.map(G=>G-ce[0]+1);const oe=m.getBufferTimeDefault(),ue=W(oe,be,ce);return ue?(me.state=Ti,me.representations=be,me.utilities=ce,me.bufferTimeDefault=oe,me.Vp=ue.Vp,me.gp=ue.gp,me.currentRepresentation=null,k(me)):me.state=Ya,me}(pe),T[he][ge]=Se),Se}(U);switch(H.reason.state=le.state,le.state){case Ya:break;case Ti:(function(pe,ge,he){const Se=ge.getMediaType(),O=ge.getThroughputController().getSafeAverageThroughput(Se);if(isNaN(O))return;const me=ge.getMediaInfo(),re=w.getOptimalRepresentationForBitrate(me,O,!0),be=g.getCurrentBufferLevel(Se);pe.representation=re,pe.reason.throughput=O,he.placeholderBuffer=Math.max(0,ye(he,re)-be),he.currentRepresentation=re,!isNaN(he.lastSegmentDurationS)&&be>=he.lastSegmentDurationS&&(he.state=so)})(H,U,le);break;case so:(function(pe,ge,he){const Se=ge.getMediaType(),O=ge.getThroughputController(),me=ge.getMediaInfo(),re=O.getSafeAverageThroughput(Se),be=ge.getScheduleController();(function(ne,Ee){const ke=Date.now();if(isNaN(ne.lastSegmentFinishTimeMs)){if(!isNaN(ne.lastCallTimeMs)){const Re=.001*(ke-ne.lastCallTimeMs);ne.placeholderBuffer+=Math.max(0,Re)}}else{const Re=.001*(ke-ne.lastSegmentFinishTimeMs);ne.placeholderBuffer+=Math.max(0,Re)}ne.lastCallTimeMs=ke,ne.lastSegmentStart=NaN,ne.lastSegmentRequestTimeMs=NaN,ne.lastSegmentFinishTimeMs=NaN,J(ne,Ee)})(he,Se);const ce=g.getCurrentBufferLevel(Se);let oe=function(ne,Ee){const ke=ne.representations.length;let Re=NaN,$e=NaN;for(let Be=0;Be<ke;++Be){let tt=(ne.Vp*(ne.utilities[Be]-1+ne.gp)-Ee)/ne.representations[Be].bandwidth;(isNaN($e)||tt>=$e)&&($e=tt,Re=Be)}return ne.representations[Re]}(he,ce+he.placeholderBuffer);const ue=w.getOptimalRepresentationForBitrate(me,re,!0);oe.absoluteIndex>he.currentRepresentation.absoluteIndex&&oe.absoluteIndex>ue.absoluteIndex&&(oe=ue.absoluteIndex>he.currentRepresentation.absoluteIndex?ue:he.currentRepresentation);let G=Math.max(0,ce+he.placeholderBuffer-Q(he,oe));G<=he.placeholderBuffer?(he.placeholderBuffer-=G,G=0):(G-=he.placeholderBuffer,he.placeholderBuffer=0,w.isPlayingAtTopQuality(oe)?G=0:be.setTimeToLoadDelay(1e3*G)),pe.representation=oe,pe.reason.throughput=re,pe.reason.bufferLevel=ce,pe.reason.placeholderBuffer=he.placeholderBuffer,pe.reason.delay=G,he.currentRepresentation=oe})(H,U,le);break;default:(function(pe,ge,he){N.debug("BOLA ABR rule invoked in bad state.");const Se=ge.getMediaInfo(),O=ge.getMediaType(),me=ge.getThroughputController().getSafeAverageThroughput(O);pe.representation=w.getOptimalRepresentationForBitrate(Se,me,!0),pe.reason.state=he.state,pe.reason.throughput=me,he.state=Ti,k(he)})(H,U,le)}return H}catch(H){return N.error(H),Mn(o).create()}},handleNewMediaInfo:function(U){U&&U.streamInfo&&U.type&&T[U.streamInfo.id]&&T[U.streamInfo.id][U.type]&&delete T[U.streamInfo.id][U.type]},reset:function(){D(),v.off($.default.BUFFER_EMPTY,j,C),v.off($.default.PLAYBACK_SEEKING,z,C),v.off($.default.METRIC_ADDED,A,C),v.off($.default.QUALITY_CHANGE_REQUESTED,K,C),v.off($.default.FRAGMENT_LOADING_ABANDONED,V,C),v.off(P.default.MEDIA_FRAGMENT_LOADED,Z,C),v.off(P.default.SETTING_UPDATED_MAX_BITRATE,ie,C),v.off(P.default.SETTING_UPDATED_MIN_BITRATE,ie,C)}},N=(0,we.default)(o).getInstance().getLogger(C),D(),v.on($.default.BUFFER_EMPTY,j,C),v.on($.default.PLAYBACK_SEEKING,z,C),v.on($.default.METRIC_ADDED,A,C),v.on($.default.QUALITY_CHANGE_REQUESTED,K,C),v.on($.default.FRAGMENT_LOADING_ABANDONED,V,C),v.on(P.default.MEDIA_FRAGMENT_LOADED,Z,C),v.on(P.default.SETTING_UPDATED_MAX_BITRATE,ie,C),v.on(P.default.SETTING_UPDATED_MIN_BITRATE,ie,C),C}Is.__dashjs_factory_name="BolaRule";var As=ae.default.getClassFactory(Is);const wi="L2A_STATE_ONE_BITRATE",Si="L2A_STATE_STARTUP",Rs="L2A_STATE_STEADY",ki=Math.pow(4,.99);function Cs(d){d=d||{};const o=this.context,g=d.dashMetrics,m=(0,se.default)(o).getInstance();let v,w,C,N;function T(W){W.placeholderBuffer=0,W.mostAdvancedSegmentStart=NaN,W.lastSegmentWasReplacement=!1,W.lastSegmentStart=NaN,W.lastSegmentDurationS=NaN,W.lastSegmentRequestTimeMs=NaN,W.lastSegmentFinishTimeMs=NaN,W.lastSegmentUrl=""}function j(){for(const W in w)if(w.hasOwnProperty(W)){const J=w[W];J.state!==wi&&(J.state=Si,T(J))}}function z(W){if(W&&W.chunk&&W.chunk.representation&&W.chunk.representation.mediaInfo){const J=w[W.chunk.representation.mediaInfo.type],Q=C[W.chunk.representation.mediaInfo.type];if(J&&J.state!==wi){const Z=W.chunk.start;isNaN(J.mostAdvancedSegmentStart)||Z>J.mostAdvancedSegmentStart?(J.mostAdvancedSegmentStart=Z,J.lastSegmentWasReplacement=!1):J.lastSegmentWasReplacement=!0,J.lastSegmentStart=Z,J.lastSegmentDurationS=W.chunk.duration,J.currentRepresentation=W.chunk.representation,A(J,Q)}}}function k(W){if(W&&W.metric===q.HTTP_REQUEST&&W.value&&W.value.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&W.value.trace&&W.value.trace.length){const J=w[W.mediaType],Q=C[W.mediaType];J&&J.state!==wi&&(J.lastSegmentRequestTimeMs=W.value.trequest.getTime(),J.lastSegmentFinishTimeMs=W.value._tfinish.getTime(),A(J,Q))}}function A(W,J){isNaN(W.lastSegmentStart)||isNaN(W.lastSegmentRequestTimeMs)||(J.segment_request_start_s=.001*W.lastSegmentRequestTimeMs,J.segment_download_finish_s=.001*W.lastSegmentFinishTimeMs,W.lastSegmentStart=NaN,W.lastSegmentRequestTimeMs=NaN)}function x(W,J){if(W.length!==J.length)return-1;let Q=0;for(let Z=0;Z<W.length;Z++)Q+=W[Z]*J[Z];return Q}function K(){w={},C={}}return v={getSwitchRequest:function(W){try{const J=Mn(o).create();J.rule=this.getClassName();const Q=W.getMediaType(),Z=W.getScheduleController();if(J.reason=J.reason||{},Q===M.default.AUDIO)return J;Z.setTimeToLoadDelay(0);const ie=function(ye){const V=ye.getMediaType();let D=w[V];return D||(D=function(U){const H={},le=U.getMediaInfo();return H.state=Si,H.currentRepresentation=null,function(pe){pe&&pe.type&&(C[pe.type]={},C[pe.type].w=[],C[pe.type].prev_w=[],C[pe.type].Q=0,C[pe.type].segment_request_start_s=0,C[pe.type].segment_download_finish_s=0,C[pe.type].B_target=1.5)}(le),T(H),H}(ye),w[V]=D),D}(W);if(!C[Q])return J;switch(J.reason.state=ie.state,ie.state){case wi:break;case Si:(function(ye,V,D){const U=ye.getMediaInfo(),H=ye.getMediaType(),le=ye.getThroughputController().getSafeAverageThroughput(H);if(isNaN(le))return V;const pe=ye.getAbrController(),ge=pe.getOptimalRepresentationForBitrate(U,le,!0),he=g.getCurrentBufferLevel(H,!0),Se=C[H],O=pe.getPossibleVoRepresentationsFilteredBySettings(U,!0);if(V.representation=ge,V.reason.throughput=le,D.currentRepresentation=ge,!isNaN(D.lastSegmentDurationS)&&he>=Se.B_target){D.state=Rs,Se.Q=ki;for(let me=0;me<O.length;++me)O[me].id===D.currentRepresentation.id?Se.prev_w[me]=1:Se.prev_w[me]=0}})(W,J,ie);break;case Rs:(function(ye,V,D){let U=[];const H=ye.getThroughputController(),le=ye.getMediaType();let pe=H.getAverageThroughput(le,M.default.THROUGHPUT_CALCULATION_MODES.ARITHMETIC_MEAN,1),ge=g.getCurrentHttpRequest(le),he=null;const Se=C[le];if(pe<1&&(pe=1),ge.url===D.lastSegmentUrl||ge.type===Te.HTTPRequest.INIT_SEGMENT_TYPE)he=D.currentRepresentation;else{let O=D.lastSegmentDurationS,me=1;const re=ye.getAbrController(),be=ye.getMediaInfo(),ce=re.getPossibleVoRepresentationsFilteredBySettings(be,!0);let oe=ye.getVideoModel().getPlaybackRate();const ue=Math.max(Math.pow(4,1),ki*Math.sqrt(4));for(let ke=0;ke<ce.length;++ke){const Re=ce[ke];oe*Re.bitrateInKbit>pe&&(me=-1),Se.w[ke]=Se.prev_w[ke]+me*(O/(2*ue))*((Se.Q+ki)*(oe*Re.bitrateInKbit/pe))}Se.w=function(ke){const Re=ke.length;let $e=!1,Be=[];for(let Kt=0;Kt<Re;++Kt)Be[Kt]=ke[Kt];let tt=ke.sort(function(Kt,sn){return sn-Kt}),vt=0,yt=0,Ht=[];for(let Kt=0;Kt<Re-1;++Kt)if(vt+=tt[Kt],yt=(vt-1)/(Kt+1),yt>=tt[Kt+1]){$e=!0;break}$e||(yt=(vt+tt[Re-1]-1)/Re);for(let Kt=0;Kt<Re;++Kt)Ht[Kt]=Math.max(Be[Kt]-yt,0);return Ht}(Se.w);for(let ke=0;ke<ce.length;++ke)U[ke]=Se.w[ke]-Se.prev_w[ke],Se.prev_w[ke]=Se.w[ke];const G=ce.map(ke=>ke.bandwidth);Se.Q=Math.max(0,Se.Q-O+O*oe*((x(G,Se.prev_w)+x(G,U))/pe));let ne=[];for(let ke=0;ke<G.length;++ke)ne[ke]=Math.abs(G[ke]-x(Se.w,G));const Ee=ne.indexOf(Math.min(...ne));he=re.getRepresentationByAbsoluteIndex(Ee,be,!0),he.absoluteIndex>D.currentRepresentation.absoluteIndex&&G[D.currentRepresentation.absoluteIndex+1]<=pe&&(he=re.getRepresentationByAbsoluteIndex(D.currentRepresentation.absoluteIndex+1,be,!0)),he.bitrateInKbit>=pe&&(Se.Q=2*Math.max(ki,Se.Q)),D.lastSegmentUrl=ge.url}V.representation=he,D.currentRepresentation=V.representation})(W,J,ie);break;default:(function(ye,V,D){const U=ye.getAbrController(),H=ye.getMediaInfo(),le=ye.getMediaType(),pe=ye.getThroughputController().getSafeAverageThroughput(le);V.representation=U.getOptimalRepresentationForBitrate(H,pe,!0),V.reason.throughput=pe,D.state=Si,T(D)})(W,J,ie)}return J}catch(J){return N.error(J),Mn(o).create()}},reset:function(){K(),m.off(P.default.PLAYBACK_SEEKING,j,v),m.off(P.default.MEDIA_FRAGMENT_LOADED,z,v),m.off(P.default.METRIC_ADDED,k,v)}},N=(0,we.default)(o).getInstance().getLogger(v),K(),m.on(P.default.PLAYBACK_SEEKING,j,v),m.on(P.default.MEDIA_FRAGMENT_LOADED,z,v),m.on(P.default.METRIC_ADDED,k,v),v}Cs.__dashjs_factory_name="L2ARule";var rf=ae.default.getClassFactory(Cs);function Ns(){const d=this.context;let o,g,m,v,w,C,N,T,j;function z(){m=null,v=1,w=100,C=0,N=null,T=null,j="dynamic_weight_selection"}function k(){let J=0;if(m)for(let Q=0;Q<m.length;Q++){let Z=m[Q];Z.state.throughput>J&&(J=Z.state.throughput)}return J}function A(J,Q,Z){let ie=J.map((ye,V)=>Z[V]*Math.pow(ye-Q[V],2)).reduce((ye,V)=>ye+V);return(ie<0?-1:1)*Math.sqrt(Math.abs(ie))}function x(J,Q){return A([J.state.throughput,J.state.latency,J.state.rebuffer,J.state.switch],[Q.state.throughput,Q.state.latency,Q.state.rebuffer,Q.state.switch],[1,1,1,1])}function K(J,Q){for(let Z=0;Z<m.length;Z++){let ie=m[Z],ye=.1;const V=x(ie,J);W(ie,Q,Math.exp(-1*Math.pow(V,2)/(2*Math.pow(ye,2))))}}function W(J,Q,Z){let ie=J.state,ye=[.01,.01,.01,.01];ie.throughput=ie.throughput+(Q[0]-ie.throughput)*ye[0]*Z,ie.latency=ie.latency+(Q[1]-ie.latency)*ye[1]*Z,ie.rebuffer=ie.rebuffer+(Q[2]-ie.rebuffer)*ye[2]*Z,ie.switch=ie.switch+(Q[3]-ie.switch)*ye[3]*Z}return o={getNextQuality:function(J,Q,Z,ie,ye,V,D,U){let H=ie,le=Z;(function(ce,oe){if(!m){m=[];const ue=oe.getPossibleVoRepresentationsFilteredBySettings(ce,!0),G=ue.map(ne=>ne.bandwidth);C=Math.min(...G),v=function(ne){const Ee=ne.map(ke=>Math.pow(ke,2)).reduce((ke,Re)=>ke+Re);return Math.sqrt(Ee)}(G),ue.forEach(ne=>{let Ee={representation:ne,state:{throughput:ne.bandwidth/v,latency:0,rebuffer:0,switch:0}};m.push(Ee)}),T=function(ne){let Ee=[],ke=function(vt){let yt=[];for(let Ht=0;Ht<vt;Ht++){let Kt=[Math.random()*k(),Math.random(),Math.random(),Math.random()];yt.push(Kt)}return yt}(Math.pow(ne.length,2));Ee.push(ke[0]);let Re=[1,1,1,1];for(let vt=1;vt<ne.length;vt++){let yt=null,Ht=null;for(let Kt=0;Kt<ke.length;Kt++){let sn=ke[Kt],kt=null;for(let $t=0;$t<Ee.length;$t++){let en=A(sn,Ee[$t],Re);(kt===null||en<kt)&&(kt=en)}(Ht===null||kt>Ht)&&(yt=sn,Ht=kt)}Ee.push(yt)}let $e=null,Be=null;for(let vt=0;vt<Ee.length;vt++){let yt=0;for(let Ht=0;Ht<Ee.length;Ht++)vt!==Ht&&(yt+=A(Ee[vt],Ee[Ht],Re));($e===null||yt>$e)&&($e=yt,Be=vt)}let tt=[];for(tt.push(Ee[Be]),Ee.splice(Be,1);Ee.length>0;){let vt=null,yt=null;for(let Ht=0;Ht<Ee.length;Ht++){let Kt=A(tt[0],Ee[Ht],Re);(vt===null||Kt<vt)&&(vt=Kt,yt=Ht)}tt.push(Ee[yt]),Ee.splice(yt,1)}return tt}(m)}})(Q,J);let pe=Z/v;pe>1&&(pe=k()),ie/=w;let ge=m.find(ce=>ce.representation.id===D.id),he=ge.representation.bandwidth*U.getSegmentDuration()/le,Se=Math.max(0,he-ye);if(ye-he<U.getMinBuffer())return g.debug(`Buffer is low for bitrate= ${ge.representation.bandwidth} downloadTime=${he} currentBuffer=${ye} rebuffer=${Se}`),function(ce,oe){let ue=0,G=ce;if(m)for(let ne=0;ne<m.length;ne++){let Ee=m[ne];Ee.representation.bandwidth<ce.representation.bandwidth&&Ee.representation.bandwidth>ue&&oe>Ee.representation.bandwidth&&(ue=Ee.representation.bandwidth,G=Ee)}return G}(ge,le).representation;switch(j){case"manual_weight_selection":N=[.4,.4,.4,.4];break;case"random_weight_selection":N=function(ce){let oe=[],ue=Math.sqrt(2/ce);for(let G=0;G<4;G++)oe.push(Math.random()*ue);return N=oe,N}(m.length);break;default:(function(ce,oe,ue,G,ne,Ee){N||(N=T[T.length-1]);let ke=ce.findWeightVector(m,oe,ue,G,ne,Ee);ke!==null&&ke!==-1&&(N=ke)})(U,H,ye,Se,le,V)}let O=null,me=null,re=null;for(let ce=0;ce<m.length;ce++){let oe=m[ce],ue=oe.state,G=[ue.throughput,ue.latency,ue.rebuffer,ue.switch],ne=N.slice(),Ee=U.getNextBufferWithBitrate(oe.representation.bandwidth,ye,le),ke=Ee<U.getMinBuffer();ke&&g.debug(`Buffer is low for bitrate=${oe.representation.bandwidth} downloadTime=${he} currentBuffer=${ye} nextBuffer=${Ee}`),(oe.representation.bandwidth>Z-1e4||ke)&&oe.representation.bandwidth!==C&&(ne[0]=100);let Re=A(G,[pe,0,0,0],ne);(O===null||Re<O)&&(O=Re,me=oe.representation,re=oe)}let be=Math.abs(ge.representation.bandwidth-re.representation.bandwidth)/v;return K(ge,[pe,ie,Se,be]),K(re,[pe,0,0,be]),me},reset:function(){z()}},g=(0,we.default)(d).getInstance().getLogger(o),z(),o}Ns.__dashjs_factory_name="LearningAbrController";var of=ae.default.getClassFactory(Ns),lf=class{constructor(){this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}};function xs(){let d,o,g,m,v;function w(){o=null,g=null,m=null,v=null}function C(T,j,z,k){let A=new lf;return A.type=T,A.weights.bitrateReward=j||1,A.weights.bitrateSwitchPenalty=1,A.weights.rebufferPenalty=z||1e3,A.weights.latencyPenalty=[],A.weights.latencyPenalty.push({threshold:1.1,penalty:.05*k}),A.weights.latencyPenalty.push({threshold:1e8,penalty:.1*z}),A.weights.playbackSpeedPenalty=k||200,A}function N(T,j,z,k,A){A.bitrateWSum+=A.weights.bitrateReward*T,A.lastBitrate&&(A.bitrateSwitchWSum+=A.weights.bitrateSwitchPenalty*Math.abs(T-A.lastBitrate)),A.lastBitrate=T,A.rebufferWSum+=A.weights.rebufferPenalty*j;for(let x=0;x<A.weights.latencyPenalty.length;x++){let K=A.weights.latencyPenalty[x];if(z<=K.threshold){A.latencyWSum+=K.penalty*z;break}}A.playbackSpeedWSum+=A.weights.playbackSpeedPenalty*Math.abs(1-k),A.totalQoe=A.bitrateWSum-A.bitrateSwitchWSum-A.rebufferWSum-A.latencyWSum-A.playbackSpeedWSum}return d={setupPerSegmentQoe:function(T,j,z){o=C("segment",T,j,z),g=T,m=j,v=z},logSegmentMetrics:function(T,j,z,k){o&&N(T,j,z,k,o)},getPerSegmentQoe:function(){return o},calculateSingleUseQoe:function(T,j,z,k){let A=null;return g&&m&&v&&(A=C("segment",g,m,v)),A?(N(T,j,z,k,A),A.totalQoe):0},reset:function(){w()}},w(),d}xs.__dashjs_factory_name="LoLpQoeEvaluator";var sf=ae.default.getClassFactory(xs);function Ds(d){let o,g,m,v,w=d.targetLatency,C=d.bufferMin,N=d.segmentDuration,T=d.qoeEvaluator;function j(){return N}function z(k,A){const x=j();let K;return K=A>x?k-x:k+x-A,K}return o={getMinBuffer:function(){return C},getSegmentDuration:j,getNextBufferWithBitrate:function(k,A,x){return z(A,k*N/x)},getNextBuffer:z,findWeightVector:function(k,A,x,K,W,J){let Q=null,Z=null,ie=null,ye=Math.abs(A-v);return k.forEach(V=>{m.forEach(D=>{D[0];let U,H=D[1],le=D[2],pe=(D[3],V.representation.bandwidth*N/W),ge=z(x,pe);U=le===0?10:1/le;let he=U*Math.max(1e-5,pe-ge);U=H===0?10:1/H;let Se=U*V.state.latency,O=T.calculateSingleUseQoe(V.representation.bandwidth,he,Se,J);(Q===null||O>Q)&&function(me,re,be){return!(me>w+be)&&re>=C}(A,ge,ye)&&(Q=O,Z=D,ie=V.representation.bandwidth)})}),Z===null&&ie===null&&(Z=-1),v=A,Z}},g=[.2,.4,.6,.8,1],m=function(k){let A=k.map(function(K){return[K]}),x=function(K,W,J){if(J===W)return K;let Q=K.length;for(let Z=0;Z<Q;Z++){let ie=K.shift();for(let ye=0;ye<k.length;ye++)K.push(ie.concat(k[ye]))}return x(K,W,J+1)};return x(A,4,1)}(g),v=0,o}Ds.__dashjs_factory_name="LoLpWeightSelector";var uf=ae.default.getClassFactory(Ds);function Ms(d){let o,g,m,v,w=(d=d||{}).dashMetrics,C=this.context;return g={getSwitchRequest:function(N){try{let T=Mn(C).create();T.rule=this.getClassName();let j=N.getMediaInfo().type,z=N.getAbrController();const k=N.getStreamInfo();let A=N.getRepresentation();const x=N.getMediaInfo(),K=w.getCurrentBufferState(j),W=N.getScheduleController(),J=w.getCurrentBufferLevel(j,!0),Q=W.getPlaybackController();let Z=Q.getCurrentLiveLatency();if(j===M.default.AUDIO)return T;Z||(Z=0);const ie=Q.getPlaybackRate(),ye=N.getThroughputController().getSafeAverageThroughput(j);if(o.debug(`Throughput ${Math.round(ye)} kbps`),isNaN(ye)||!K||z.getAbandonmentStateFor(k.id,j)===q.ABANDON_LOAD)return T;let V=z.getPossibleVoRepresentationsFilteredBySettings(x,!0).map(O=>O.bandwidth),D=N.getRepresentation().fragmentDuration,U=Math.min(...V)/1e3,H=Math.max(...V)/1e3,le=A.bandwidth/1e3,pe=w.getCurrentHttpRequest(j,!0),ge=(pe.tresponse.getTime()-pe.trequest.getTime())/1e3,he=ge>D?ge-D:0;v.setupPerSegmentQoe(D,H,U),v.logSegmentMetrics(le,he,Z,ie);let Se=uf(C).create({targetLatency:1.5,bufferMin:.3,segmentDuration:D,qoeEvaluator:v});return T.representation=m.getNextQuality(z,x,1e3*ye,Z,J,ie,A,Se),T.reason={throughput:ye,latency:Z},T.priority=Mn.PRIORITY.STRONG,W.setTimeToLoadDelay(0),T}catch(T){throw T}},reset:function(){m.reset(),v.reset()}},o=(0,we.default)(C).getInstance().getLogger(g),m=of(C).create(),v=sf(C).create(),g}Ms.__dashjs_factory_name="LoLPRule";var cf=ae.default.getClassFactory(Ms);function uo(d){d=d||{};const o=this.context,g=d.mediaPlayerModel,m=d.customParametersModel,v=d.dashMetrics,w=d.settings,C=(0,se.default)(o).getInstance();let N,T,j,z;function k(){Object.values(M.default.QUALITY_SWITCH_RULES).forEach(Q=>{T=A(Q,T)});let J=Object.values(M.default.ABANDON_FRAGMENT_RULES);J.forEach(Q=>{j=A(Q,j)}),m.getAbrCustomRules().forEach(function(Q){Q.type===M.default.RULES_TYPES.QUALITY_SWITCH_RULES&&T.push(Q.rule(o).create()),Q.type===M.default.RULES_TYPES.ABANDON_FRAGMENT_RULES&&J.push(Q.rule(o).create())}),T.length===0&&(T.push(As(o).create({dashMetrics:v,mediaPlayerModel:g,settings:w})),T.push(_s(o).create({dashMetrics:v})))}function A(J,Q){const Z=J.charAt(0).toLowerCase()+J.slice(1);return w.get().streaming.abr.rules[Z].active&&!function(ie,ye){return ie.filter(V=>V.getClassName()===ye).length>0}(Q,J)?(Q.push(function(ie){switch(ie){case M.default.QUALITY_SWITCH_RULES.BOLA_RULE:return As(o).create({dashMetrics:v,mediaPlayerModel:g,settings:w});case M.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE:return _s(o).create({dashMetrics:v});case M.default.QUALITY_SWITCH_RULES.INSUFFICIENT_BUFFER_RULE:return ef(o).create({dashMetrics:v,settings:w});case M.default.QUALITY_SWITCH_RULES.SWITCH_HISTORY_RULE:return af(o).create();case M.default.QUALITY_SWITCH_RULES.DROPPED_FRAMES_RULE:return nf(o).create();case M.default.QUALITY_SWITCH_RULES.LEARN_TO_ADAPT_RULE:return rf(o).create({dashMetrics:v,settings:w});case M.default.QUALITY_SWITCH_RULES.LOL_PLUS_RULE:return cf(o).create({dashMetrics:v});case M.default.ABANDON_FRAGMENT_RULES.ABANDON_REQUEST_RULE:return tf(o).create({dashMetrics:v,mediaPlayerModel:g,settings:w})}}(J)),Q):w.get().streaming.abr.rules[Z].active?Q:function(ie,ye){return ie.filter(V=>V.getClassName()!==ye)}(Q,J)}function x(J){return J.filter(Q=>Q.representation!==Mn.NO_CHANGE)}function K(J){const Q={};let Z,ie,ye,V=null;if(J.length!==0){for(Q[Mn.PRIORITY.STRONG]=null,Q[Mn.PRIORITY.WEAK]=null,Q[Mn.PRIORITY.DEFAULT]=null,Z=0,ie=J.length;Z<ie;Z+=1)ye=J[Z],ye.representation!==Mn.NO_CHANGE&&(Q[ye.priority]===null||Q[ye.priority].representation!==Mn.NO_CHANGE&&ye.representation.bitrateInKbit<Q[ye.priority].representation.bitrateInKbit)&&(Q[ye.priority]=ye);return Q[Mn.PRIORITY.WEAK]&&Q[Mn.PRIORITY.WEAK].representation!==Mn.NO_CHANGE&&(V=Q[Mn.PRIORITY.WEAK]),Q[Mn.PRIORITY.DEFAULT]&&Q[Mn.PRIORITY.DEFAULT].representation!==Mn.NO_CHANGE&&(V=Q[Mn.PRIORITY.DEFAULT]),Q[Mn.PRIORITY.STRONG]&&Q[Mn.PRIORITY.STRONG].representation!==Mn.NO_CHANGE&&(V=Q[Mn.PRIORITY.STRONG]),V}}function W(){k()}return N={clearDataForStream:function(J){[T,j].forEach(Q=>{Q&&Q.length&&Q.forEach(Z=>Z.clearDataForStream&&typeof Z.clearDataForStream=="function"&&Z.clearDataForStream(J))})},getAbandonFragmentRules:function(){return j},getBestPossibleSwitchRequest:function(J){return J&&K(x(T.filter(Q=>{const Z=Q.getClassName();if(Z!==M.default.QUALITY_SWITCH_RULES.BOLA_RULE&&Z!==M.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE)return!0;const ie=J.getMediaType();return z[ie]&&Z===M.default.QUALITY_SWITCH_RULES.BOLA_RULE||!z[ie]&&Z===M.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE}).map(Q=>Q.getSwitchRequest(J))))||Mn(o).create()},getBolaState:function(J){return z[J]},getMinSwitchRequest:K,getQualitySwitchRules:function(){return T},handleNewMediaInfo:function(J){T.forEach(Q=>Q.handleNewMediaInfo&&Q.handleNewMediaInfo(J)),j.forEach(Q=>Q.handleNewMediaInfo&&Q.handleNewMediaInfo(J))},initialize:function(){T=[],j=[],z={},k(),C.on(P.default.SETTING_UPDATED_ABR_ACTIVE_RULES,W,N)},reset:function(){[T,j].forEach(J=>{J&&J.length&&J.forEach(Q=>Q.reset&&Q.reset())}),T=[],j=[],z={},C.off(P.default.SETTING_UPDATED_ABR_ACTIVE_RULES,W,N)},setBolaState:function(J,Q){z[J]=Q},shouldAbandonFragment:function(J){if(!J)return Mn(o).create();const Q=K(x(j.map(Z=>Z.shouldAbandon(J))));return Q&&(Q.reason.forceAbandon=!0),Q||Mn(o).create()}},N}uo.__dashjs_factory_name="ABRRulesCollection";const Ps=ae.default.getClassFactory(uo);ae.default.updateSingletonFactory(uo.__dashjs_factory_name,Ps);var df=Ps;function zs(d){let o;const g=(d=d||{}).abrController,m=d.throughputController,v=d.switchRequestHistory,w=d.droppedFramesHistory,C=d.currentRequest,N=d.streamProcessor?d.streamProcessor.getScheduleController():null,T=d.streamProcessor?d.streamProcessor.getRepresentation():null,j=d.videoModel?d.videoModel:null;function z(){return T?T.mediaInfo:null}return o={getAbrController:function(){return g},getCurrentRequest:function(){return C},getDroppedFramesHistory:function(){return w},getMediaInfo:z,getMediaType:function(){const k=z();return k?k.type:null},getRepresentation:function(){return T},getScheduleController:function(){return N},getStreamInfo:function(){const k=z();return k?k.streamInfo:null},getSwitchRequestHistory:function(){return v},getThroughputController:function(){return m},getVideoModel:function(){return j}},o}zs.__dashjs_factory_name="RulesContext";var Ls=ae.default.getClassFactory(zs);function Os(){let d={},o={};const g=this.context,m=(0,Y.default)(g).getInstance();return{clearForStream:function(v){delete d[v],delete o[v]},getSwitchRequests:function(v,w){return v!=null&&w!=null&&d[v]&&d[v][w]?d[v][w]:{}},push:function(v){const w=v.currentRepresentation,C=v.newRepresentation;if(w.mediaInfo.streamInfo.id!==C.mediaInfo.streamInfo.id||C.mediaInfo.id!==w.mediaInfo.id)return;const N=w.mediaInfo.streamInfo.id;d[N]||function(W){d[W]={},o[W]={}}(N);const T=w.mediaInfo.type;d[N][T]||function(W,J){d[W][J]={},o[W][J]=[]}(N,T);const j=v.currentRepresentation.id;d[N][T][j]||function(W,J,Q){d[W][J][Q]={noDrops:0,drops:0,dropSize:0}}(N,T,j);let z=v.newRepresentation.absoluteIndex-v.currentRepresentation.absoluteIndex,k=z<0?1:0,A=k?-z:0,x=k?0:1;d[N][T][v.currentRepresentation.id].drops+=k,d[N][T][v.currentRepresentation.id].dropSize+=A,d[N][T][v.currentRepresentation.id].noDrops+=x,o[N][T].push({id:v.currentRepresentation.id,noDrop:x,drop:k,dropSize:A});const K=function(W,J){return o[W][J].length>m.get().streaming.abr.rules.switchHistoryRule.parameters.sampleSize?o[W][J].shift():null}(N,T);K&&function(W,J,Q){d[W][J][Q.id].drops-=Q.drop,d[W][J][Q.id].dropSize-=Q.dropSize,d[W][J][Q.id].noDrops-=Q.noDrop}(N,T,K)},reset:function(){d={},o={}}}}Os.__dashjs_factory_name="SwitchRequestHistory";var ff=ae.default.getClassFactory(Os);function Fs(){let d={},o={},g={};return{clearForStream:function(m){delete d[m],delete o[m],delete g[m]},getFrameHistory:function(m){return d[m]},push:function(m,v,w){if(!v)return;d[m]||function(k){d[k]=[],o[k]=0,g[k]=0}(m);let C=w&&w.droppedVideoFrames?w.droppedVideoFrames:0,N=w&&w.totalVideoFrames?w.totalVideoFrames:0,T=C-o[m];o[m]=C;let j=N-g[m];g[m]=N;const z=d[m];z[v]?(z[v].droppedVideoFrames+=T,z[v].totalVideoFrames+=j):z[v]={droppedVideoFrames:T,totalVideoFrames:j}},reset:function(){d={},o={},g={}}}}Fs.__dashjs_factory_name="DroppedFramesHistory";var gf=ae.default.getClassFactory(Fs);function co(){const d=this.context,o=(0,we.default)(d).getInstance(),g=(0,se.default)(d).getInstance();let m,v,w,C,N,T,j,z,k,A,x,K,W,J,Q,Z,ie,ye,V,D;function U(){j={},T={},ie&&ie.reset(),Z&&Z.reset(),Q=void 0,ie=void 0,Z=void 0,clearTimeout(z),z=null}function H(re){let be=le(re,!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]);return be=function(ce){try{return function(oe){try{if(!D.get().streaming.cmsd.enabled||!D.get().streaming.cmsd.abr.applyMb)return oe;const ue=oe.filter(G=>{const ne=G.mediaInfo.type;let Ee=W.getMaxBitrate(ne);if(ne!==M.default.VIDEO||Ee<0)return!0;const ke=G.mediaInfo.streamInfo.id;return Ee-=T[ke][M.default.AUDIO].getRepresentation().bitrateInKbit||0,G.bitrateInKbit<=Ee});return ue.length>0?ue:oe}catch(ue){return v.error(ue),oe}}(ce=function(oe){try{if(!D.get().streaming.abr.limitBitrateByPortal)return oe;const{elementWidth:ue}=A.getVideoElementSize(),G=oe.filter(ne=>ne.mediaInfo.type!==M.default.VIDEO||ne.width<=ue);return G.length>0?G:oe}catch(ue){return v.error(ue),oe}}(ce=function(oe){try{const ue=oe.filter(G=>{const ne=G.mediaInfo.type,Ee=G.bitrateInKbit,ke=x.getAbrBitrateParameter("maxBitrate",ne),Re=x.getAbrBitrateParameter("minBitrate",ne);return!(ke>-1&&Ee>ke||Re>-1&&Ee<Re)});return ue.length>0?ue:oe}catch(ue){return v.error(ue),oe}}(ce)))}catch(oe){return v.error(oe),ce}}(be),be}function le(re,be){let ce=[];return re&&(function(ue){try{const G=[];if(ue&&G.push(ue),!D.get().streaming.abr.enableSupplementalPropertyAdaptationSetSwitching||!ue.adaptationSetSwitchingCompatibleIds||ue.adaptationSetSwitchingCompatibleIds.length===0)return G;const ne=T[ue.streamInfo.id][ue.type].getAllMediaInfos().filter(Ee=>ue.adaptationSetSwitchingCompatibleIds.includes(Ee.id));return G.concat(ne)}catch{return[ue]}}(re).forEach(ue=>{let G=k.getVoRepresentations(ue);G&&G.length>0&&(ce=ce.concat(G))}),ce=function(ue){return ue=function(G){let ne=null;return G.filter(Ee=>(ne||(ne=Ee.mediaInfo),!isNaN(Ee.qualityRanking)&&k.areMediaInfosEqual(ne,Ee.mediaInfo))).length===G.length}(ue)?function(G){return G.sort((ne,Ee)=>Ee.qualityRanking-ne.qualityRanking),G}(ue):function(G){return G.sort((ne,Ee)=>k.areMediaInfosEqual(ne.mediaInfo,Ee.mediaInfo)?isNaN(ne.pixelsPerSecond)||isNaN(Ee.pixelsPerSecond)||ne.pixelsPerSecond===Ee.pixelsPerSecond?ne.bandwidth-Ee.bandwidth:ne.pixelsPerSecond-Ee.pixelsPerSecond:isNaN(ne.pixelsPerSecond)||isNaN(Ee.pixelsPerSecond)||ne.pixelsPerSecond===Ee.pixelsPerSecond?isNaN(ne.bitsPerPixel)||isNaN(Ee.bitsPerPixel)?ne.bandwidth-Ee.bandwidth:Ee.bitsPerPixel-ne.bitsPerPixel:ne.pixelsPerSecond-Ee.pixelsPerSecond),G}(ue)}(ce),ce.forEach((ue,G)=>{ue.absoluteIndex=G}),ce=ce.filter(ue=>{const G=!!be||k.areMediaInfosEqual(ue.mediaInfo,re),ne=!ue||!ue.mediaInfo||N.areKeyIdsUsable(ue.mediaInfo);return G&&ne})),ce}function pe(re){const be=re.request.mediaType,ce=re.streamId;if(!(be&&ce&&T[ce]&&D.get().streaming.abr.autoSwitchBitrate[be]))return;const oe=T[ce][be];if(!oe)return;const ue=Ls(d).create({abrController:m,streamProcessor:oe,currentRequest:re.request,throughputController:ye,adapter:k,videoModel:A}),G=w.shouldAbandonFragment(ue);G&&G.representation!==Mn.NO_CHANGE&&function(ne,Ee,ke,Re,$e){if(Re.getFragmentModel().getRequests({state:Bt.FRAGMENT_MODEL_LOADING,index:ne.request.index})[0]){const Be=function(tt,vt){return j[tt]&&j[tt][vt]?j[tt][vt]:null}(Ee,ke);Be&&(Be.state=q.ABANDON_LOAD),Z.reset(),Se(ke,C.getActiveStreamInfo(),$e.representation,$e.reason),clearTimeout(z),z=setTimeout(()=>{Be&&(j[Ee][ke].state=q.ALLOW_LOAD),z=null},D.get().streaming.abandonLoadTimeout)}}(re,ce,be,oe,G)}function ge(re){re.mediaType===M.default.VIDEO&&(Q!==void 0&&ie.push(re.streamId,Q,A.getPlaybackQuality()),Q=re.newRepresentation.id)}function he(re){!me()||re.metric!==q.BUFFER_LEVEL||re.mediaType!==M.default.AUDIO&&re.mediaType!==M.default.VIDEO||function(be,ce){try{const oe=x.getBufferTimeDefault(),ue=oe,G=.5*oe,ne=w.getBolaState(be),Ee=ce>=(ne?G:ue);w.setBolaState(be,Ee),Ee!==ne&&(Ee?v.info("["+be+"] switching from throughput to buffer occupancy ABR rule (buffer: "+ce.toFixed(3)+")."):v.info("["+be+"] switching from buffer occupancy to throughput ABR rule (buffer: "+ce.toFixed(3)+")."))}catch(oe){v.error(oe)}}(re.mediaType,.001*re.value.level)}function Se(re,be,ce){let oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!(be&&be.id&&re&&T&&T[be.id]&&T[be.id][re]&&ce))return;const ue=T[be.id][re].getRepresentation();ue&&ce.id===ue.id||O(ue,ce,oe)}function O(re,be,ce){const oe=be.mediaInfo.streamInfo.id,ue=be.mediaInfo.type;if(ue&&T[oe]&&T[oe][ue]){const G=T[oe][ue].getStreamInfo(),ne=V.getCurrentBufferLevel(ue),Ee=re!==null&&!k.areMediaInfosEqual(re.mediaInfo,be.mediaInfo),ke=re?re.bitrateInKbit:0;v.info(`[AbrController]: Switching quality in period ${oe} for media type ${ue}. Switch from bitrate ${ke} to bitrate ${be.bitrateInKbit}. Current buffer level: ${ne}. Reason:`+(ce?JSON.stringify(ce):"/")),g.trigger(P.default.QUALITY_CHANGE_REQUESTED,{oldRepresentation:re,newRepresentation:be,reason:ce,streamInfo:G,mediaType:ue,isAdaptationSetSwitch:Ee},{streamId:G.id,mediaType:ue});const Re=ye.getAverageThroughput(ue);isNaN(Re)||J.setSavedBitrateSettings(ue,Re)}}function me(){return D.get().streaming.abr.rules.bolaRule.active&&D.get().streaming.abr.rules.throughputRule.active}return m={checkPlaybackQuality:function(re,be){try{if(!(re&&T&&T[be]&&T[be][re]))return!1;if(ie){const Ee=A.getPlaybackQuality();Ee&&ie.push(be,Q,Ee)}if(!D.get().streaming.abr.autoSwitchBitrate[re])return!1;const ce=T[be][re],oe=ce.getRepresentation(),ue=Ls(d).create({abrController:m,throughputController:ye,switchRequestHistory:Z,droppedFramesHistory:ie,streamProcessor:ce,adapter:k,videoModel:A}),G=w.getBestPossibleSwitchRequest(ue);if(!G||!G.representation)return!1;let ne=G.representation;return Z.push({currentRepresentation:oe,newRepresentation:ne}),ne.id!==oe.id&&(j[be][re].state===q.ALLOW_LOAD||ne.absoluteIndex<oe.absoluteIndex)&&(O(oe,ne,G.reason),!0)}catch(ce){return v.error(ce),!1}},clearDataForStream:function(re){ie&&ie.clearForStream(re),T[re]&&delete T[re],Z&&Z.clearForStream(re),j[re]&&delete j[re],w.clearDataForStream(re)},getAbandonmentStateFor:function(re,be){return j[re]&&j[re][be]?j[re][be].state:null},getInitialBitrateFor:function(re){if(re===M.default.TEXT)return NaN;let be=x.getAbrBitrateParameter("initialBitrate",re);if(be>0)return be;let ce=NaN;if(J&&J.hasOwnProperty("getSavedBitrateSettings")&&(ce=J.getSavedBitrateSettings(re)),!isNaN(ce))return ce;const oe=ye.getAverageThroughput(re);return!isNaN(oe)&&oe>0?oe:re===M.default.VIDEO?1e3:100},getOptimalRepresentationForBitrate:function(re,be){const ce=H(re,!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]);if(!ce||ce.length===0)return null;const oe=ce.reduce((G,ne)=>G.bandwidth<ne.bandwidth?G:ne);if(be<=0)return oe;const ue=ce.filter(G=>G.bitrateInKbit<=be);return ue&&ue.length!==0?ue.reduce((G,ne)=>ne.absoluteIndex>G.absoluteIndex?ne:G):oe},getPossibleVoRepresentations:function(re){return le(re,!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])},getPossibleVoRepresentationsFilteredBySettings:H,getRepresentationByAbsoluteIndex:function(re,be){let ce=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return isNaN(re)||re<0?null:H(be,ce).find(oe=>oe.absoluteIndex===re)},handleNewMediaInfo:function(re){w.handleNewMediaInfo(re)},initialize:function(){ie=gf(d).create(),Z=ff(d).create(),w=df(d).create({dashMetrics:V,customParametersModel:K,mediaPlayerModel:x,settings:D}),w.initialize(),g.on($.default.QUALITY_CHANGE_RENDERED,ge,m),g.on($.default.METRIC_ADDED,he,m),g.on(P.default.LOADING_PROGRESS,pe,m)},isPlayingAtLowestQuality:function(re){return H(re.mediaInfo,!0)[0].id===re.id},isPlayingAtTopQuality:function(re){if(!re)return!0;const be=H(re.mediaInfo,!0);return be[be.length-1].id===re.id},registerStreamType:function(re,be){const ce=be.getStreamInfo().id;T[ce]||(T[ce]={}),T[ce][re]=be,j[ce]||(j[ce]={}),j[ce][re]={},j[ce][re].state=q.ALLOW_LOAD,w.getBolaState(re)===void 0&&w.setBolaState(re,D.get().streaming.abr.rules.bolaRule.active&&!me())},reset:function(){U(),g.off($.default.QUALITY_CHANGE_RENDERED,ge,m),g.off($.default.METRIC_ADDED,he,m),g.off(P.default.LOADING_PROGRESS,pe,m),w&&w.reset()},setConfig:function(re){re&&(re.streamController&&(C=re.streamController),re.throughputController&&(ye=re.throughputController),re.domStorage&&(J=re.domStorage),re.mediaPlayerModel&&(x=re.mediaPlayerModel),re.customParametersModel&&(K=re.customParametersModel),re.cmsdModel&&(W=re.cmsdModel),re.dashMetrics&&(V=re.dashMetrics),re.adapter&&(k=re.adapter),re.videoModel&&(A=re.videoModel),re.settings&&(D=re.settings),re.capabilities&&(N=re.capabilities))},setPlaybackQuality:Se,setWindowResizeEventCalled:function(re){},unRegisterStreamType:function(re,be){try{T[re]&&T[re][be]&&delete T[re][be],j[re]&&j[re][be]&&delete j[re][be]}catch{}}},v=o.getLogger(m),U(),m}co.__dashjs_factory_name="AbrController";const js=ae.default.getSingletonFactory(co);ae.default.updateSingletonFactory(co.__dashjs_factory_name,js);var Us=js;const mf=new Map([[M.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[M.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[M.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[M.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Bs(){let d,o,g,m,v,w,C,N,T,j,z;const k=this.context,A=(0,se.default)(k).getInstance(),x=[];function K(pe){m&&(arguments.length>1&&arguments[1]!==void 0&&arguments[1]?m.playbackRate=pe:le(M.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,()=>{m.playbackRate=pe}))}function W(){return x.length>0}function J(pe){let ge=x.indexOf(pe);if(pe!==null&&(ge!==-1&&x.splice(ge,1),g.get().streaming.buffer.syntheticStallEvents.enabled&&m&&!W())){const he=()=>{if(K(j||1,g.get().streaming.buffer.syntheticStallEvents.ignoreReadyState),!m.paused){const Se=document.createEvent("Event");Se.initEvent("playing",!0,!1),m.dispatchEvent(Se)}};g.get().streaming.buffer.syntheticStallEvents.ignoreReadyState?he():(C&&C.func&&C.event&&ie(C.event,C.func),C=le(M.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,he))}}function Q(){if(m&&W()&&m.playbackRate===0){const pe=document.createEvent("Event");pe.initEvent("waiting",!0,!1),m.dispatchEvent(pe)}}function Z(pe,ge){m&&m.addEventListener(pe,ge)}function ie(pe,ge){m&&m.removeEventListener(pe,ge)}function ye(){return m?m.readyState:NaN}function V(){return m?m.buffered:null}function D(){return m?m.clientWidth:NaN}function U(){return m?m.clientHeight:NaN}function H(pe,ge,he,Se,O){if(m){for(let me=0;me<m.textTracks.length;me++)if(m.textTracks[me].kind===pe&&(!ge||m.textTracks[me].label==ge)&&m.textTracks[me].language===he&&m.textTracks[me].isTTML===Se&&m.textTracks[me].isEmbedded===O)return m.textTracks[me]}return null}function le(pe,ge){return pe===M.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||ye()>=pe?(ge(),null):function(he,Se){const O=()=>{ie(he,O),Se(he)};return Z(he,O),{func:O,event:he}}(mf.get(pe),ge)}return d={addEventListener:Z,addTextTrack:function(pe,ge,he,Se,O){if(!m)return null;let me=H(pe,ge,he,Se,O);return me||(me=m.addTextTrack(pe,ge,he),me.isEmbedded=O,me.isTTML=Se),me},appendChild:function(pe){m&&(m.appendChild(pe),pe.isTTML!==void 0&&(m.textTracks[m.textTracks.length-1].isTTML=pe.isTTML,m.textTracks[m.textTracks.length-1].isEmbedded=pe.isEmbedded))},getBufferRange:V,getClientHeight:U,getClientWidth:D,getElement:function(){return m},getEnded:function(){return m?m.ended:null},getPlaybackQuality:function(){if(!m)return null;let pe="webkitDroppedFrameCount"in m&&"webkitDecodedFrameCount"in m,ge=null;return"getVideoPlaybackQuality"in m?ge=m.getVideoPlaybackQuality():pe&&(ge={droppedVideoFrames:m.webkitDroppedFrameCount,totalVideoFrames:m.webkitDroppedFrameCount+m.webkitDecodedFrameCount,creationTime:new Date}),ge},getPlaybackRate:function(){return m?m.playbackRate:null},getPlayedRanges:function(){return m?m.played:null},getReadyState:ye,getSource:function(){return m?m.src:null},getTTMLRenderingDiv:function(){return N},getTextTrack:H,getTextTracks:function(){return m?m.textTracks:[]},getTime:function(){return m?isNaN(v)?m.currentTime:v:null},getVideoElementSize:function(){const pe=g.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;return{elementWidth:D()*pe,elementHeight:U()*pe}},getVideoHeight:function(){return m?m.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(m){const pe=m.parentNode.host||m.parentNode;return pe?m.getBoundingClientRect().left-pe.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(m){const pe=m.parentNode.host||m.parentNode;return pe?m.getBoundingClientRect().top-pe.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return m?m.videoWidth:NaN},getVttRenderingDiv:function(){return T},initialize:function(){A.on(P.default.PLAYBACK_PLAYING,Q,this)},isPaused:function(){return m?m.paused:null},isSeeking:function(){return m?m.seeking||!isNaN(v):null},isStalled:W,pause:function(){m&&(m.pause(),m.autoplay=!1)},play:function(){if(m){m.autoplay=!0;const pe=m.play();pe&&pe.catch&&typeof Promise<"u"&&pe.catch(ge=>{ge.name==="NotAllowedError"&&A.trigger(P.default.PLAYBACK_NOT_ALLOWED),o.warn(`Caught pending play exception - continuing (${ge})`)})}},removeChild:function(pe){m&&m.removeChild(pe)},removeEventListener:ie,reset:function(){clearTimeout(z),A.off(P.default.PLAYBACK_PLAYING,Q,this),x.length=0},setConfig:function(pe){pe&&pe.settings&&(g=pe.settings)},setCurrentTime:function(pe,ge){m&&(w&&w.func&&w.event&&ie(w.event,w.func),v=pe,w=le(M.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,()=>{if(m)if(m.currentTime!==v)try{v=ge?function(he){const Se=V();let O=he,me=9999999999;if(Se)for(let re=0;re<Se.length;re++){const be=Se.start(re),ce=Se.end(re),oe=Math.abs(be-he),ue=Math.abs(ce-he);if(he>=be&&he<=ce)return he;oe<me&&(me=oe,O=be),ue<me&&(me=ue,O=ce)}return O}(v):v,isNaN(v)||(m.currentTime=v),v=NaN}catch(he){m.readyState===0&&he.code===he.INVALID_STATE_ERR&&(z=setTimeout(function(){m.currentTime=v,v=NaN},400))}else v=NaN}))},setDisableRemotePlayback:function(pe){m&&(m.disableRemotePlayback=pe)},setElement:function(pe){if(!(pe==null||pe&&/^(VIDEO|AUDIO)$/i.test(pe.nodeName)))throw"element is not video or audio DOM type!";m=pe,m&&(m.preload="auto")},setPlaybackRate:K,setSource:function(pe){m&&(pe?m.src=pe:(m.removeAttribute("src"),m.load()))},setStallState:function(pe,ge){(function(he,Se){Se?function(O){if(O!==null&&m&&!m.seeking&&x.indexOf(O)===-1&&(x.push(O),g.get().streaming.buffer.syntheticStallEvents.enabled&&m&&x.length===1&&(g.get().streaming.buffer.syntheticStallEvents.ignoreReadyState||ye()>=M.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA))){j=m.playbackRate,K(0,!0);const me=document.createEvent("Event");me.initEvent("waiting",!0,!1),m.dispatchEvent(me)}}(he):J(he)})(pe,ge)},setTTMLRenderingDiv:function(pe){N=pe,N.style.position="absolute",N.style.display="flex",N.style.overflow="hidden",N.style.pointerEvents="none",N.style.top=0,N.style.left=0},setVttRenderingDiv:function(pe){T=pe},waitForReadyState:le},o=(0,we.default)(k).getInstance().getLogger(d),g=(0,Y.default)(k).getInstance(),v=NaN,d}Bs.__dashjs_factory_name="VideoModel";var pf=ae.default.getSingletonFactory(Bs);const hf=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],qs="dashjs_?_bitrate",Hs="dashjs_?_settings",vr="localStorage",Gs="lastBitrate",Ys="lastMediaSettings";function Vs(d){d=d||{};const o=this.context,g=d.settings;let m,v,w;function C(z){if(w!==void 0)return w;let k;w=!1;try{typeof window<"u"&&(k=window[z])}catch(A){return v.warn("DOMStorage access denied: "+A.message),w}if(!k||z!==vr)return w;try{k.setItem("1","1"),k.removeItem("1"),w=!0}catch(A){v.warn("DOMStorage is supported, but cannot be used: "+A.message)}return w}function N(){return Math.round(new Date().getTime()/6e5)*6e5}function T(z,k){return C(z)&&g.get().streaming[k+"CachingInfo"].enabled}function j(){if(!g)throw new Error(M.default.MISSING_CONFIG_ERROR)}return m={getSavedBitrateSettings:function(z){if(j(),!g.get().streaming.lastBitrateCachingInfo.enabled)return NaN;let k=NaN;if(T(vr,Gs)){const A=qs.replace(/\?/,z);try{const x=JSON.parse(localStorage.getItem(A))||{},K=new Date().getTime()-parseInt(x.timestamp,10)>=g.get().streaming.lastBitrateCachingInfo.ttl||!1,W=parseFloat(x.bitrate);isNaN(W)||K?K&&localStorage.removeItem(A):(k=W,v.debug("Last saved bitrate for "+z+" was "+W))}catch{return null}}return k},setSavedBitrateSettings:function(z,k){if(T(vr,Gs)&&k){const A=qs.replace(/\?/,z);try{localStorage.setItem(A,JSON.stringify({bitrate:k.toFixed(3),timestamp:N()}))}catch(x){v.error(x.message)}}},getSavedMediaSettings:function(z){if(j(),!g.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;let k=null;if(T(vr,Ys)){const A=Hs.replace(/\?/,z);try{const x=JSON.parse(localStorage.getItem(A))||{},K=new Date().getTime()-parseInt(x.timestamp,10)>=g.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;k=x.settings,K&&(localStorage.removeItem(A),k=null)}catch{return null}}return k},setSavedMediaSettings:function(z,k){if(T(vr,Ys)){const A=Hs.replace(/\?/,z);try{localStorage.setItem(A,JSON.stringify({settings:k,timestamp:N()}))}catch(x){v.error(x.message)}}}},v=(0,we.default)(o).getInstance().getLogger(m),C(vr)&&hf.forEach(z=>{const k=localStorage.getItem(z.oldKey);if(k){localStorage.removeItem(z.oldKey);try{localStorage.setItem(z.newKey,k)}catch(A){v.error(A.message)}}}),m}Vs.__dashjs_factory_name="DOMStorage";var bf=ae.default.getSingletonFactory(Vs),yf=t(8986);function Ks(){const d=this.context;let o,g,m,v,w,C,N,T,j,z,k,A;function x(Q,Z,ie,ye){let V=null;const D=Q?A.resolve(Q.path):null,U=ye||{init:!0,url:D?D.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:Z,representation:Q};g.debug("Start searching for initialization.");const H=J(U);N.load({request:H,success:function(le){if(U.bytesLoaded=U.range.end,V=v.findInitRange(le),!V)return U.range.end=U.bytesLoaded+U.bytesToLoad,x(Q,Z,ie,U);Q.range=V,ie(Q)},error:function(){ie(Q)}}),g.debug("Perform init search: "+U.url)}function K(Q,Z,ie,ye,V,D){if(ie&&(ie.start===void 0||ie.end===void 0)){const Se=ie?ie.toString().split("-"):null;ie=Se?{start:parseFloat(Se[0]),end:parseFloat(Se[1])}:null}V=V||W;let U=null,H=null;const le=!!ie,pe=Q?A.resolve(Q.path):null,ge={init:!1,url:pe?pe.url:void 0,range:le?ie:{start:0,end:1500},searching:!le,bytesLoaded:D?D.bytesLoaded:0,bytesToLoad:1500,mediaType:Z,representation:Q},he=J(ge);N.load({request:he,success:function(Se){const O=ge.bytesToLoad,me=Se.byteLength;if(ge.bytesLoaded=ge.range.end-ge.range.start,U=v.parse(Se),H=U.getBox("sidx"),H&&H.isComplete){const re=H.references;let be,ce;if(re!=null&&re.length>0&&(be=re[0].reference_type===1),be){let oe,ue,G,ne,Ee;g.debug("Initiate multiple SIDX load."),ge.range.end=ge.range.start+H.size;let ke=[],Re=0,$e=(H.offset||ge.range.start)+H.size;const Be=function(tt){tt?(ke=ke.concat(tt),Re++,Re>=ue&&(ke.sort(function(vt,yt){return vt.startTime-yt.startTime<0?-1:0}),V(ke,Q,ye))):V(null,Q,ye)};for(oe=0,ue=re.length;oe<ue;oe++)G=$e,ne=$e+re[oe].referenced_size-1,$e+=re[oe].referenced_size,Ee={start:G,end:ne},K(Q,Z,Ee,ye,Be,ge)}else g.debug("Parsing segments from SIDX. representation "+Z+" - id: "+Q.id+" for range : "+ge.range.start+" - "+ge.range.end),ce=function(oe,ue){const G=oe.references,ne=G.length,Ee=oe.timescale;let ke=oe.earliest_presentation_time,Re=ue.range.start+oe.offset+oe.first_offset+oe.size;const $e=[];let Be,tt,vt,yt;for(let Ht=0;Ht<ne;Ht++)vt=G[Ht].subsegment_duration,yt=G[Ht].referenced_size,Be=new Ut,Be.duration=vt,Be.startTime=ke,Be.timescale=Ee,tt=Re+yt-1,Be.mediaRange=Re+"-"+tt,$e.push(Be),ke+=vt,Re+=yt;return $e}(H,ge),V(ce,Q,ye)}else{if(H)ge.range.start=H.offset||ge.range.start,ge.range.end=ge.range.start+(H.size||O);else{if(me<ge.bytesLoaded)return void V(null,Q,ye);{const re=U.getLastBox();re&&re.size?(ge.range.start=re.offset+re.size,ge.range.end=ge.range.start+O):ge.range.end+=O}}K(Q,Z,ge.range,ye,null,ge)}},error:function(){V(null,Q,ye)}}),g.debug(`Perform SIDX load for type ${Z} : ${ge.url} with range ${ge.range.start} - ${ge.range.end}`)}function W(Q,Z,ie){ie({segments:Q,representation:Z,error:Q?void 0:new Ie.default(T.SEGMENT_BASE_LOADER_ERROR_CODE,T.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function J(Q){if(!Q.url)return;const Z=new Ue;return Z.setInfo(Q),Z}return o={setConfig:function(Q){Q.baseURLController&&(A=Q.baseURLController),Q.dashMetrics&&(w=Q.dashMetrics),Q.mediaPlayerModel&&(C=Q.mediaPlayerModel),Q.errHandler&&(m=Q.errHandler),Q.boxParser&&(v=Q.boxParser),Q.debug&&(g=Q.debug.getLogger(o)),Q.errors&&(T=Q.errors),Q.urlUtils&&(k=Q.urlUtils),Q.constants&&(j=Q.constants),Q.dashConstants&&(z=Q.dashConstants)},initialize:function(){N=mr(d).create({errHandler:m,dashMetrics:w,mediaPlayerModel:C,boxParser:v,errors:T,urlUtils:k,constants:j,dashConstants:z})},loadInitialization:function(Q,Z){return new Promise(ie=>{x(Q,Z,ie)})},loadSegments:function(Q,Z,ie){return new Promise(ye=>{K(Q,Z,ie,ye)})},reset:function(){N&&(N.abort(),N=null)}},o}Ks.__dashjs_factory_name="SegmentBaseLoader";var Ef=ae.default.getSingletonFactory(Ks);function $s(d){let o;d=d||{};let g=new DataView(d.data),m=0;function v(C,N){let T,j,z=!0,k=0;if(N===void 0&&(N=!1),C.tag>16777215?(g.getUint32(m)!==C.tag&&(z=!1),k=4):C.tag>65535?(T=g.getUint16(m),j=g.getUint8(m+2),256*T+j!==C.tag&&(z=!1),k=3):C.tag>255?(g.getUint16(m)!==C.tag&&(z=!1),k=2):(g.getUint8(m)!==C.tag&&(z=!1),k=1),!z&&C.required&&!N)throw new Error("required tag not found");return z&&(m+=k),z}function w(C){let N=1,T=128,j=-1,z=0,k=g.getUint8(m),A=0;for(A=0;A<8;A+=1){if((k&T)===T){z=C===void 0?k&~T:k,j=A;break}T>>=1}for(A=0;A<j;A+=1,N+=1)z=z<<8|255&g.getUint8(m+N);return m+=N,z}return o={getPos:function(){return m},setPos:function(C){m=C},consumeTag:v,consumeTagAndSize:function(C,N){let T=v(C,N);return T&&w(),T},parseTag:function(C){let N;return v(C),N=w(),o[C.parse](N)},skipOverElement:function(C,N){let T,j=v(C,N);return j&&(T=w(),m+=T),j},getMatroskaCodedNum:w,getMatroskaFloat:function(C){let N;switch(C){case 4:N=g.getFloat32(m),m+=4;break;case 8:N=g.getFloat64(m),m+=8}return N},getMatroskaUint:function(C){if(C>4)return function(T){const j=Math.floor(Number.MAX_SAFE_INTEGER/256);let z=0;for(let k=0;k<T;k+=1){if(z>j)throw new Error("Value exceeds safe integer limit");z*=256;const A=g.getUint8(m+k);if(z>Number.MAX_SAFE_INTEGER-A)throw new Error("Value exceeds safe integer limit");z+=A}return m+=T,z}(C);let N=0;for(let T=0;T<C;T+=1)N<<=8,N|=255&g.getUint8(m+T);return m+=C,N>>>0},moreData:function(){return m<g.byteLength}},o}$s.__dashjs_factory_name="EBMLParser";var Ws=ae.default.getClassFactory($s);function Xs(){const d=this.context;let o,g,m,v,w,C,N,T,j;function z(k){const A=new Ue;return A.setInfo(k),A}return o={setConfig:function(k){if(!(k.baseURLController&&k.dashMetrics&&k.mediaPlayerModel&&k.errHandler))throw new Error(M.default.MISSING_CONFIG_ERROR);j=k.baseURLController,w=k.dashMetrics,C=k.mediaPlayerModel,v=k.errHandler,T=k.errors,g=k.debug.getLogger(o)},initialize:function(){N=mr(d).create({errHandler:v,dashMetrics:w,mediaPlayerModel:C,errors:T})},loadInitialization:function(k,A){return new Promise(x=>{let K=null,W=k?j.resolve(k.path):null,J=k?k.range.split("-"):null,Q={range:{start:J?parseFloat(J[0]):null,end:J?parseFloat(J[1]):null},request:K,url:W?W.url:void 0,init:!0,mediaType:A};g.info("Start loading initialization."),K=z(Q),N.load({request:K,success:function(){x(k)},error:function(){x(k)}}),g.debug("Perform init load: "+Q.url)})},loadSegments:function(k,A,x){return new Promise(K=>{let W=null,J=k?j.resolve(k.path):null,Q=J?J.url:void 0;W=z({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:W,url:Q,init:!1,mediaType:A,representation:k}),g.debug("Parsing ebml header"),N.load({request:W,success:function(Z){(function(ie,ye,V,D){if(!ie||ie.byteLength===0)return void D(null);let U,H,le,pe,ge=Ws(d).create({data:ie}),he=V?V.split("-"):null,Se=null,O={url:ye,range:{start:he?parseFloat(he[0]):null,end:he?parseFloat(he[1]):null},request:Se};for(g.debug("Parse EBML header: "+O.url),ge.skipOverElement(m.EBML),ge.consumeTag(m.Segment),le=ge.getMatroskaCodedNum(),le+=ge.getPos(),pe=ge.getPos();ge.moreData()&&!ge.consumeTagAndSize(m.Segment.Info,!0);)if(!(ge.skipOverElement(m.Segment.SeekHead,!0)||ge.skipOverElement(m.Segment.Tracks,!0)||ge.skipOverElement(m.Segment.Cues,!0)||ge.skipOverElement(m.Void,!0)))throw new Error("no valid top level element found");for(;U===void 0;){let me=ge.getMatroskaCodedNum(!0),re=ge.getMatroskaCodedNum();me===m.Segment.Info.Duration.tag?U=ge[m.Segment.Info.Duration.parse](re):ge.setPos(ge.getPos()+re)}Se=z(O),N.load({request:Se,success:function(me){H=function(re,be,ce,oe){let ue,G,ne,Ee,ke,Re,$e,Be;for(G=function(tt){let vt,yt,Ht=[],Kt=Ws(d).create({data:tt});for(Kt.consumeTagAndSize(m.Segment.Cues);Kt.moreData()&&Kt.consumeTagAndSize(m.Segment.Cues.CuePoint,!0);){for(vt={},vt.CueTime=Kt.parseTag(m.Segment.Cues.CuePoint.CueTime),vt.CueTracks=[];Kt.moreData()&&Kt.consumeTag(m.Segment.Cues.CuePoint.CueTrackPositions,!0);){const sn=Kt.getMatroskaCodedNum(),kt=Kt.getPos();if(yt={},yt.Track=Kt.parseTag(m.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),yt.Track===0)throw new Error("Cue track cannot be 0");yt.ClusterPosition=Kt.parseTag(m.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),vt.CueTracks.push(yt),Kt.setPos(kt+sn)}if(vt.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");Ht.push(vt)}if(Ht.length===0)throw new Error("mandatory cuepoint not found");return Ht}(re),ne=[],ke=0,Re=G.length;ke<Re;ke+=1)Ee=new Ut,ue=0,ue=ke<G.length-1?G[ke+1].CueTime-G[ke].CueTime:oe-G[ke].CueTime,Ee.duration=ue,Ee.startTime=G[ke].CueTime,Ee.timescale=1e3,$e=G[ke].CueTracks[0].ClusterPosition+be,Be=ke<G.length-1?G[ke+1].CueTracks[0].ClusterPosition+be-1:ce-1,Ee.mediaRange=$e+"-"+Be,ne.push(Ee);return g.debug("Parsed cues: "+ne.length+" cues."),ne}(me,pe,le,U),D(H)},error:function(){g.error("Download Error: Cues "+O.url),D(null)}}),g.debug("Perform cues load: "+O.url+" bytes="+O.range.start+"-"+O.range.end)})(Z,Q,x,function(ie){K({segments:ie,representation:k,error:ie?void 0:new Ie.default(T.SEGMENT_BASE_LOADER_ERROR_CODE,T.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){K({representation:k,error:new Ie.default(T.SEGMENT_BASE_LOADER_ERROR_CODE,T.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){N&&(N.abort(),N=null)}},m={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},o}Xs.__dashjs_factory_name="WebmSegmentBaseLoader";var vf=ae.default.getSingletonFactory(Xs);function Qs(d){d=d||{};const o=this.context,g=d.eventBus,m=d.events,v=d.dashMetrics,w=d.mediaPlayerModel,C=d.errHandler,N=d.baseURLController,T=d.debug,j=d.boxParser,z=d.errors;let k,A,x;function K(W){return(W?W.split("/")[1]:"").toLowerCase()==="webm"}return k={initialize:function(){A.initialize(),x.initialize()},getSegmentBaseInitSegment:function(W){return K(W.representation.mimeType)?x.loadInitialization(W.representation,W.mediaType):A.loadInitialization(W.representation,W.mediaType)},getSegmentList:function(W){return K(W.mimeType)?x.loadSegments(W.representation,W.mediaType,W.representation?W.representation.indexRange:null):A.loadSegments(W.representation,W.mediaType,W.representation?W.representation.indexRange:null)},reset:function(){A.reset(),x.reset()}},A=Ef(o).getInstance(),x=vf(o).getInstance(),A.setConfig({baseURLController:N,dashMetrics:v,mediaPlayerModel:w,errHandler:C,eventBus:g,events:m,errors:z,debug:T,boxParser:j}),x.setConfig({baseURLController:N,dashMetrics:v,mediaPlayerModel:w,errHandler:C,eventBus:g,events:m,errors:z,debug:T}),k}Qs.__dashjs_factory_name="SegmentBaseController";var _f=ae.default.getSingletonFactory(Qs),fo=class{constructor(){this.accessibility=null,this.adaptationSetSwitchingCompatibleIds=[],this.audioChannelConfiguration=null,this.bitrateList=null,this.codec=null,this.contentProtection=null,this.essentialProperties=[],this.id=null,this.index=null,this.isEmbedded=null,this.isFragmented=null,this.isText=!1,this.labels=null,this.lang=null,this.mimeType=null,this.normalizedKeyIds=new Set,this.representationCount=0,this.roles=null,this.segmentAlignment=!1,this.selectionPriority=1,this.streamInfo=null,this.subSegmentAlignment=!1,this.supplementalProperties=[],this.type=null,this.viewpoint=null}},Zs=class{constructor(){this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isEncrypted=!1}},Tf=class{constructor(){this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null}},wf=class{constructor(d){this.valid=d[0]=="/",this.path=d.split("/").filter(o=>o.length!==0).map(o=>{let g={name:o},m=o.indexOf("[");if(m!=-1){g.name=o.substring(0,m);let v=o.substring(m+1,o.length-1);this.valid=this.valid&&v.indexOf("[")==-1;let w=v.indexOf("=");w!=-1?(g.attribute={name:v.substring(1,w),value:v.substring(w+1)},["'",'"'].indexOf(g.attribute.value[0])!=-1&&(g.attribute.value=g.attribute.value.substring(1,g.attribute.value.length-1))):g.position=parseInt(v,10)-1}return g})}isValid(){return this.valid}findsElement(){return!this.findsAttribute()}findsAttribute(){return this.path[this.path.length-1].name.startsWith("@")}findsTextReplace(){return this.path[this.path.length-1].name==="text()"}getMpdTarget(d,o){let g=null,m=d,v=1,w="MPD";for(;v<this.path.length&&m!==null;){g=m;let C=this.path[v];if(w=C.name,v!==this.path.length-1||!w.startsWith("@")&&w!=="text()"){let N=g[w]||[];if(N.length===0&&g[w]&&N.push(g[w]),C.position)m=N[C.position]||null;else if(C.attribute){let T=C.attribute;m=N.filter(j=>j[T.name]==T.value)[0]||null}else m=Array.isArray(N)?N[0]:N}v++}return m===null?null:w.startsWith("@")?{name:w.substring(1),leaf:m,target:m}:w==="text()"?{name:"__text",leaf:m,target:m}:{name:w,leaf:m,target:o?g:m}}},Sf=class{constructor(d,o,g){this.action=d,this.xpath=o,this.value=g,this.position=null}getMpdTarget(d){let o=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(d,o)}};function Js(){let d,o;const g=this.context;return d={getIsPatch:function(m){return m&&m.hasOwnProperty(S.default.ORIGINAL_MPD_ID)||!1},getMpdId:function(m){return m&&m[S.default.ORIGINAL_MPD_ID]||null},getOriginalPublishTime:function(m){return m&&m.hasOwnProperty(S.default.ORIGINAL_PUBLISH_TIME)?new Date(m[S.default.ORIGINAL_PUBLISH_TIME]):null},getPatchOperations:function(m){return m?(m.__children||[]).map(v=>{const w=v.tagName;if(w!=="add"&&w!=="remove"&&w!=="replace")return o.warn(`Ignoring node of invalid action: ${w}`),null;let C=v.sel;if(w==="add"&&v.type){if(!v.type.startsWith("@"))return o.warn(`Ignoring add action for prefixed namespace declaration: ${v.type}=${v.__text}`),null;C=`${C}/${v.type}`}let N=new wf(C);if(!N.isValid())return o.warn(`Ignoring action with invalid selector: ${w} - ${C}`),null;let T=null;N.findsAttribute()||N.findsTextReplace()?T=v.__text||"":w!=="remove"&&(T=v.__children.reduce((z,k)=>{let A=k.tagName;return A!=="#text"&&(z[A]=z[A]||[],z[A].push(k)),z},{}));let j=new Sf(w,N,T);return w==="add"&&(j.position=v.pos),j}).filter(v=>!!v):[]},getPublishTime:function(m){return m&&m.hasOwnProperty(S.default.PUBLISH_TIME)?new Date(m[S.default.PUBLISH_TIME]):null}},o=(0,we.default)(g).getInstance().getLogger(d),d}Js.__dashjs_factory_name="PatchManifestModel";var kf=ae.default.getSingletonFactory(Js);function Da(d){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof TextDecoder<"u"){const T=new TextDecoder("utf-8").decode(d);if(o){const j=T.indexOf("\0");return j!==-1?T.substring(0,j):T}return T.replace(/\0/g,"")}const g=d.length;let m,v,w,C="",N=0;for(;N<g;){if(m=d[N++],m===0&&o)return C;if(m!==0&&m!==3)switch(m>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:C+=String.fromCharCode(m);break;case 12:case 13:v=d[N++],C+=String.fromCharCode((31&m)<<6|63&v);break;case 14:v=d[N++],w=d[N++],C+=String.fromCharCode((15&m)<<12|(63&v)<<6|63&w)}}return C}function go(d){return function(o,g,m,v){const w=(C=o)instanceof ArrayBuffer?C:C.buffer;var C;let N=1;"BYTES_PER_ELEMENT"in v&&(N=v.BYTES_PER_ELEMENT);const T=(A=o)&&A.buffer instanceof ArrayBuffer&&A.byteLength!==void 0&&A.byteOffset!==void 0?o.byteOffset:0,j=(T+o.byteLength)/N,z=(T+g)/N,k=Math.floor(Math.max(0,Math.min(z,j)));var A;return new v(w,k,Math.floor(Math.min(k+Math.max(m,0),j))-k)}(d,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0,Uint8Array)}function If(d){return d.type==="PRIV"?function(o){if(o.size<2)return;const g=Da(o.data,!0),m=new Uint8Array(o.data.subarray(g.length+1));return{key:o.type,info:g,data:m.buffer}}(d):d.type[0]==="W"?function(o){if(o.type==="WXXX"){if(o.size<2)return;let m=1;const v=Da(o.data.subarray(m),!0);m+=v.length+1;const w=Da(o.data.subarray(m));return{key:o.type,info:v,data:w}}const g=Da(o.data);return{key:o.type,info:"",data:g}}(d):d.type==="APIC"?function(o){const g={key:o.type,description:"",data:"",mimeType:null,pictureType:null};if(o.size<2)return;if(o.data[0]!==3)return void console.log("Ignore frame with unrecognized character encoding");const m=o.data.subarray(1).indexOf(0);if(m===-1)return;const v=Da(go(o.data,1,m)),w=o.data[2+m],C=o.data.subarray(3+m).indexOf(0);if(C===-1)return;const N=Da(go(o.data,3+m,C));let T;return T=v==="-->"?Da(go(o.data,4+m+C)):(j=o.data.subarray(4+m+C))instanceof ArrayBuffer?j:j.byteOffset==0&&j.byteLength==j.buffer.byteLength?j.buffer:new Uint8Array(j).buffer,g.mimeType=v,g.pictureType=w,g.description=N,g.data=T,g;var j}(d):function(o){if(o.size<2)return;if(o.type==="TXXX"){let m=1;const v=Da(o.data.subarray(m),!0);m+=v.length+1;const w=Da(o.data.subarray(m));return{key:o.type,info:v,data:w}}const g=Da(o.data.subarray(1));return{key:o.type,info:"",data:g}}(d)}function eu(d,o){let g=0;return g=(127&d[o])<<21,g|=(127&d[o+1])<<14,g|=(127&d[o+2])<<7,g|=127&d[o+3],g}function Af(d){const o=String.fromCharCode(d[0],d[1],d[2],d[3]),g=eu(d,4);return{type:o,size:g,data:d.subarray(10,10+g)}}function Rf(d,o){return o+10<=d.length&&d[o]===51&&d[o+1]===68&&d[o+2]===73&&d[o+3]<255&&d[o+4]<255&&d[o+6]<128&&d[o+7]<128&&d[o+8]<128&&d[o+9]<128}function Cf(d,o){return o+10<=d.length&&d[o]===73&&d[o+1]===68&&d[o+2]===51&&d[o+3]<255&&d[o+4]<255&&d[o+6]<128&&d[o+7]<128&&d[o+8]<128&&d[o+9]<128}function tu(){let d,o,g,m,v,w;const C=this.context;function N(V,D){const U=D?D.index:0,H=o.getAdaptationsForType(m[U].mpd.manifest,U,V);if(!H||H.length===0)return null;if(H.length>1&&D){for(let pe=0,ge=H.length;pe<ge;pe++)if(le=H[pe],o.getRolesForAdaptation(le).filter(function(he){return he.value===S.default.MAIN})[0])return H[pe]}var le;return H[0]}function T(V,D,U,H,le,pe){let ge,he,Se,O,me,re,be=[];if(!H||H.length===0)return[];const ce=o.getAdaptationsForPeriod(D);for(O=0,re=H.length;O<re;O++)if(ge=H[O],Se=o.getIndexForAdaptation(ge,V,U.index),he=W(ce[Se]),pe){let oe=he.accessibility.length;for(me=0;me<oe;me++){if(!he)continue;let ue=he.accessibility[me];if(ue.schemeIdUri===v.ACCESSIBILITY_CEA608_SCHEME)if(ue.value&&ue.value!==""){let G=ue.value.split(";");if(G[0].substring(0,2)==="CC")for(me=0;me<G.length;me++)he||(he=W.call(this,ce[Se])),J(he,G[me].substring(0,3),G[me].substring(4)),be.push(he),he=null;else for(me=0;me<G.length;me++)he||(he=W.call(this,ce[Se])),J(he,"CC"+(me+1),G[me]),be.push(he),he=null}else J(he,v.CC1,"eng"),be.push(he),he=null}}else le===v.IMAGE?(he.type=v.IMAGE,be.push(he),he=null):he&&be.push(he);return be}function j(V){const D=z(V);return o.getRegularPeriods(D)}function z(V){const D=A(V);return o.getMpd(D)}function k(){m=[]}function A(V){return V||(m.length>0?m[0].mpd.manifest:null)}function x(V){try{const D=K(V.streamInfo,m),U=o.getAdaptationsForPeriod(D);return V&&V.streamInfo&&V.streamInfo.id!==void 0&&U?U[V.index]:null}catch{return null}}function K(V,D){const U=D.length;for(let H=0;H<U;H++){let le=D[H];if(V&&V.id===le.id)return le}return null}function W(V){if(!V)return null;let D=new fo;const U=V.period.mpd.manifest.Period[V.period.index].AdaptationSet[V.index];return D.id=V.id,D.index=V.index,D.type=V.type,D.streamInfo=Q(V.period),D.representationCount=o.getRepresentationCount(U),D.labels=o.getLabelsForAdaptation(U),D.lang=o.getLanguageForAdaptation(U),D.segmentAlignment=o.getSegmentAlignment(U),D.subSegmentAlignment=o.getSubSegmentAlignment(U),D.viewpoint=o.getViewpointForAdaptation(U),D.accessibility=o.getAccessibilityForAdaptation(U),D.accessibility.filter(function(H){if(H.schemeIdUri&&H.schemeIdUri.search("cea-608")>=0&&w!==void 0)return!0})[0]&&(D.embeddedCaptions=!0),D.audioChannelConfiguration=o.getAudioChannelConfigurationForAdaptation(U),D.audioChannelConfiguration.length===0&&U.Representation&&U.Representation.length>0&&(D.audioChannelConfiguration=o.getAudioChannelConfigurationForRepresentation(U.Representation[0])),D.roles=o.getRolesForAdaptation(U),D.codec=o.getCodec(U),D.mimeType=o.getMimeType(U),D.contentProtection=o.getContentProtectionByAdaptation(U),D.bitrateList=o.getBitrateListForAdaptation(U),D.selectionPriority=o.getSelectionPriority(U),D.contentProtection&&D.contentProtection.length>0&&(D.contentProtection=function(H,le){if(!H||!H.length||!le)return H;const pe=o.getContentProtectionByManifest(le);if(!pe||!pe.length)return H;const ge=pe.reduce((he,Se)=>(Se.refId&&he.set(Se.refId,Se),he),new Map);return H.map(he=>{if(he.ref){const Se=ge.get(he.ref);Se&&he.mergeAttributesFromReference(Se)}return he})}(D.contentProtection,V.period.mpd.manifest),D.contentProtection=function(H){const le=H.map(pe=>pe.cencDefaultKid).filter(pe=>pe!==null);if(le.length){const pe=le[0];H.forEach(ge=>{ge.keyId=pe})}return H}(D.contentProtection),D.normalizedKeyIds=function(H){const le=new Set;return H.forEach(pe=>{pe.cencDefaultKid&&typeof pe.cencDefaultKid=="string"&&le.add(pe.cencDefaultKid.replace(/-/g,"").toLowerCase())}),le}(D.contentProtection)),D.isText=o.getIsText(U),D.essentialProperties=o.getCombinedEssentialPropertiesForAdaptationSet(U),D.supplementalProperties=o.getCombinedSupplementalPropertiesForAdaptationSet(U),D.isFragmented=o.getIsFragmented(U),D.isEmbedded=!1,D.adaptationSetSwitchingCompatibleIds=function(H){if(!H||!H.supplementalProperties)return[];let le=[];const pe=H.supplementalProperties.filter(ge=>ge.schemeIdUri===S.default.ADAPTATION_SET_SWITCHING_SCHEME_ID_URI);return pe&&pe.length>0&&(le=pe[0].value.toString().split(",").map(ge=>ge)),le}(D),D}function J(V,D,U){V.id=D,V.index=100+parseInt(D.substring(2,3)),V.type=v.TEXT,V.codec="cea-608-in-SEI",V.isEmbedded=!0,V.isFragmented=!1,V.lang=yi(U),V.roles=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function Q(V){let D=new Zs;return D.id=V.id,D.index=V.index,D.start=V.start,D.duration=V.duration,D.manifestInfo=function(U){let H=new Tf;return H.dvrWindowSize=U.timeShiftBufferDepth,H.loadedTime=U.manifest.loadedTime,H.availableFrom=U.availabilityStartTime,H.minBufferTime=U.manifest.minBufferTime,H.maxFragmentDuration=U.maxSegmentDuration,H.duration=o.getDuration(U.manifest),H.isDynamic=o.getIsDynamic(U.manifest),H.serviceDescriptions=o.getServiceDescriptions(U.manifest),H.protocol=U.manifest.protocol,H}(V.mpd),D.isLast=V.mpd.manifest.Period.length===1||Math.abs(D.start+D.duration-D.manifestInfo.duration)<1,D.isEncrypted=V.isEncrypted,D}function Z(){if(!v)throw new Error("setConfig function has to be called previously")}function ie(V){return m.length>0?m[0].mpd.manifest.Period[V]:null}function ye(V,D,U){let H,le,pe,ge,he,Se;if(V){for(le=V.AdaptationSet,he=0;he<le.length;he+=1)for(H=le[he],ge=H.Representation,Se=0;Se<ge.length;Se+=1)if(pe=ge[Se],D===pe.id)return U?Se:pe}return null}return d={applyPatchToManifest:function(V,D){g.getPatchOperations(D).forEach(U=>{let H=U.getMpdTarget(V);if(H===null)return;let{name:le,target:pe,leaf:ge}=H;if(U.xpath.findsAttribute()||le==="__text"){switch(U.action){case"add":case"replace":pe[le]=U.value;break;case"remove":delete pe[le]}return}let he=(pe[le]||[]).indexOf(ge),Se=U.position==="prepend"||U.position==="before";if(U.action==="remove"||U.action==="replace")if(Array.isArray(pe[le])){if(he!=-1){let O=pe[le];O.splice(he,1),O.length>0?pe[le]=O:delete pe[le]}}else delete pe[le];U.action!=="add"&&U.action!=="replace"||Object.keys(U.value).forEach(O=>{let me=U.value[O],re=pe[O]||[];if(re.length===0&&pe[O]&&re.push(pe[O]),re.length===0)re=me;else{let be=re.length;be=O==le&&he!=-1?he+(Se?0:1)+(U.action==="replace"?-1:0):Se?0:re.length,re.splice.apply(re,[be,0].concat(me))}pe[O]=re})})},areMediaInfosEqual:function(V,D){if(!V||!D)return!1;const U=V.id===D.id,H=V.codec===D.codec,le=JSON.stringify(V.viewpoint)===JSON.stringify(D.viewpoint),pe=V.lang===D.lang,ge=JSON.stringify(V.roles)===JSON.stringify(D.roles),he=JSON.stringify(V.accessibility)===JSON.stringify(D.accessibility),Se=JSON.stringify(V.audioChannelConfiguration)===JSON.stringify(D.audioChannelConfiguration);return U&&H&&le&&pe&&ge&&he&&Se},getAllMediaInfoForType:function(V,D,U){let H=m,le=U,pe=[];if(le)Z(),H=j(le);else{if(!(m.length>0))return pe;le=m[0].mpd.manifest}const ge=K(V,H);let he=o.getAdaptationsForType(le,V?V.index:null,D);return pe=T(le,ge,V,he,D),D===v.TEXT&&(he=o.getAdaptationsForType(le,V?V.index:null,v.VIDEO),pe=pe.concat(T(le,ge,V,he,D,!0))),pe},getAvailabilityStartTime:function(V){const D=z(V);return o.getAvailabilityStartTime(D)},getBandwidthForRepresentation:function(V,D){let U;return U=ye(ie(D),V),U?U.bandwidth:null},getBaseURLsFromElement:function(V){return o.getBaseURLsFromElement(V)},getCodec:function(V,D,U){return o.getCodec(V,D,U)},getContentSteering:function(V){return o.getContentSteering(V)},getDuration:function(V){const D=A(V);return o.getDuration(D)},getEssentialPropertiesForAdaptationSet:function(V){try{return o.getEssentialPropertiesForRepresentation(V)}catch{return[]}},getEssentialPropertiesForRepresentation:function(V){try{return o.getEssentialPropertiesForRepresentation(V)}catch{return[]}},getEvent:function(V,D,U,H){try{if(!V||!D||isNaN(U)||!H)return null;const le=V.scheme_id_uri,pe=V.value;if(!D[le+"/"+pe])return null;const ge=new Rt,he=V.timescale||1,Se=H.adaptation.period.start,O=D[le+"/"+pe],me=isNaN(H.presentationTimeOffset)?isNaN(O.presentationTimeOffset)?0:O.presentationTimeOffset:H.presentationTimeOffset;let re,be=V.presentation_time_delta/he;re=V.version===0?Se+U-me+be:Se-me+be;const ce=V.event_duration/he,oe=V.id,ue=V.message_data;return ge.eventStream=O,ge.eventStream.value=pe,ge.eventStream.timescale=he,ge.duration=ce,ge.id=oe,ge.calculatedPresentationTime=re,ge.messageData=ue,ge.presentationTimeDelta=be,ge.parsedMessageData=le===M.default.ID3_SCHEME_ID_URI?function(G){let ne=0;const Ee=[];for(;Cf(G,ne);){const ke=eu(G,ne+6);G[ne+5]>>6&1&&(ne+=10),ne+=10;const Re=ne+ke;for(;ne+10<Re;){const $e=Af(G.subarray(ne)),Be=If($e);Be&&Ee.push(Be),ne+=$e.size+10}Rf(G,ne)&&(ne+=10)}return Ee}(ue):null,ge}catch{return null}},getEventsFor:function(V,D,U){let H=[];if(m.length>0){const le=m[0].mpd.manifest;if(V instanceof Zs){const pe=K(V,m);H=o.getEventsForPeriod(pe)}else if(V instanceof fo){const pe=K(U,m);H=o.getEventStreamForAdaptationSet(le,x(V),pe)}else if(V instanceof Cn){const pe=K(U,m);H=o.getEventStreamForRepresentation(le,D,pe)}}return H},getIndexForRepresentation:function(V,D){return function(U,H){const le=ye(U,H,!0);return le!==null?le:-1}(ie(D),V)},getIsDVB:function(V){return o.hasProfile(V,"urn:dvb:dash:profile:dvb-dash:2014")},getIsDynamic:function(V){const D=A(V);return o.getIsDynamic(D)},getIsPatch:function(V){return g.getIsPatch(V)},getIsTextTrack:function(V){return o.getIsText(V)},getIsTypeOf:function(V,D){return o.getIsTypeOf(V,D)},getLocation:function(V){return o.getLocation(V)},getMainAdaptationForType:N,getManifestUpdatePeriod:function(V){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return o.getManifestUpdatePeriod(V,D)},getMediaInfoForType:function(V,D){if(m.length===0||!V)return null;let U=K(V,m);if(!U)return null;const H=o.getAdaptationsForPeriod(U);let le=N(D,V);return le?W(H[o.getIndexForAdaptation(le,m[0].mpd.manifest,V.index)]):null},getMpd:z,getPatchLocation:function(V){const D=o.getPatchLocation(V),U=o.getPublishTime(V);return D&&D.length!==0&&U?D.filter(H=>isNaN(H.ttl)||U.getTime()+H.ttl>new Date().getTime()):[]},getPeriodById:function(V){if(!V||m.length===0)return null;const D=m.filter(U=>U.id===V);return D&&D.length>0?D[0]:null},getProducerReferenceTimes:function(V,D){let U,H;const le=K(V,m);return U=D?D.id:null,m.length>0&&le&&(H=U?o.getAdaptationForId(U,m[0].mpd.manifest,le.index):o.getAdaptationForIndex(D?D.index:null,m[0].mpd.manifest,le.index)),H?o.getProducerReferenceTimesForAdaptation(H):[]},getPublishTime:function(V){return o.getPublishTime(V)},getRealAdaptation:function(V,D){let U,H;const le=K(V,m);return U=D?D.id:null,m.length>0&&le&&(H=U?o.getAdaptationForId(U,m[0].mpd.manifest,le.index):o.getAdaptationForIndex(D?D.index:null,m[0].mpd.manifest,le.index)),H},getRealPeriodByIndex:function(V){return o.getRealPeriodForIndex(V,m[0].mpd.manifest)},getRegularPeriods:j,getRepresentationSortFunction:function(){return o.getRepresentationSortFunction()},getStreamsInfo:function(V,D){const U=[];let H=m;if(V&&(Z(),H=j(V)),H.length>0){(!D||D>H.length)&&(D=H.length);for(let le=0;le<D;le++)U.push(Q(H[le]))}return U},getSuggestedPresentationDelay:function(){const V=m.length>0?m[0].mpd:null;return o.getSuggestedPresentationDelay(V)},getSupplementalCodecs:function(V){const D=V[S.default.SUPPLEMENTAL_CODECS];return D?D.split(" ").map(U=>V.mimeType+';codecs="'+U+'"'):[]},getUTCTimingSources:function(){const V=A();return o.getUTCTimingSources(V)},getVoRepresentations:function(V){let D;const U=x(V);return D=o.getRepresentationsForAdaptation(U,V),D},isPatchValid:function(V,D){let U=o.getId(V),H=g.getMpdId(D),le=o.getPublishTime(V),pe=g.getPublishTime(D),ge=g.getOriginalPublishTime(D);return!!(U&&H&&U==H&&le&&ge&&le.getTime()==ge.getTime()&&pe&&le.getTime()<pe.getTime())},reset:k,setConfig:function(V){V&&(V.constants&&(v=V.constants),V.cea608parser&&(w=V.cea608parser),V.errHandler&&o.setConfig({errHandler:V.errHandler}),V.BASE64&&o.setConfig({BASE64:V.BASE64}))},updatePeriods:function(V){if(!V)return null;Z(),m=j(V)}},o=va(C).getInstance(),g=kf(C).getInstance(),k(),d}tu.__dashjs_factory_name="DashAdapter";var Nf=ae.default.getSingletonFactory(tu);class xf{static round10(o,g){return function(m,v,w){return w===void 0||+w==0?Math[m](v):(w=+w,(v=+v)===null||isNaN(v)||typeof w!="number"||w%1!=0?NaN:(v=v.toString().split("e"),+((v=(v=Math[m](+(v[0]+"e"+(v[1]?+v[1]-w:-w)))).toString().split("e"))[0]+"e"+(v[1]?+v[1]+w:w))))}("round",o,g)}}var Df=class{constructor(){this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]}},Mf=class{constructor(){this.t=null,this.mt=null,this.to=null,this.lto=null}},Pf=class{constructor(){this.t=null,this.level=null}},zf=class{constructor(){this.target=null,this.state=q.BUFFER_EMPTY}},Lf=class{constructor(){this.time=null,this.range=null,this.manifestInfo=null}},Of=class{constructor(){this.time=null,this.droppedFrames=null}};class Ff{constructor(){this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}}class jf{constructor(){this.id=null,this.index=null,this.start=null,this.duration=null}}class Uf{constructor(){this.id=null,this.index=null,this.mediaType=null,this.presentationTimeOffset=null,this.startNumber=null}}var Bf=class{constructor(){this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.bandwidth=null,this.range=null,this.state=null}},qf=class{constructor(){this.loadingRequests=[],this.executedRequests=[]}};function nu(d){const o=(d=d||{}).settings;let g,m,v=this.context,w=(0,se.default)(v).getInstance();function C(){w.trigger(P.default.METRICS_CHANGED)}function N(x){w.trigger(P.default.METRIC_CHANGED,{mediaType:x}),C()}function T(x,K,W){w.trigger(P.default.METRIC_UPDATED,{mediaType:x,metric:K,value:W}),N(x)}function j(x,K,W){w.trigger(P.default.METRIC_ADDED,{mediaType:x,metric:K,value:W}),N(x)}function z(x,K){let W=null;return x&&(m.hasOwnProperty(x)?W=m[x]:K||(W=new Df,m[x]=W)),W}function k(x,K,W){let J=z(x);J!==null&&(J[K].push(W),J[K].length>o.get().streaming.metrics.maxListDepth&&J[K].shift())}function A(x,K,W){k(x,K,W),j(x,K,W)}return g={addBufferLevel:function(x,K,W){let J=new Pf;J.t=K,J.level=W,A(x,q.BUFFER_LEVEL,J)},addBufferState:function(x,K,W){let J=new zf;J.target=W,J.state=K,A(x,q.BUFFER_STATE,J)},addDVBErrors:function(x){A(M.default.STREAM,q.DVB_ERRORS,x)},addDVRInfo:function(x,K,W,J){let Q=new Lf;Q.time=K,Q.range=J,Q.manifestInfo=W,A(x,q.DVR_INFO,Q)},addDroppedFrames:function(x,K){let W=new Of,J=z(x).DroppedFrames;K&&(W.time=K.creationTime,W.droppedFrames=K.droppedVideoFrames,J.length>0&&J[J.length-1]==W||A(x,q.DROPPED_FRAMES,W))},addHttpRequest:function x(K,W,J,Q){let Z=new Te.HTTPRequest;W.url&&W.url!==K.url&&(x({mediaType:K.mediaType,type:K.type,url:K.url,quality:K.quality,serviceLocation:null,range:K.range,startDate:K.startDate,firstByteDate:null,endDate:null,duration:K.duration,fileLoaderType:K.fileLoaderType,resourceTimingValues:K.resourceTimingValues},{url:null,status:null,headers:null},null,Q),Z.actualurl=W.url),Z.tcpid=null,Z.type=K.type,Z.url=K.url,Z.range=K.range||null,Z.trequest=K.startDate,Z.tresponse=K.firstByteDate,Z.responsecode=W.status,Z.cmsd=Q,Z._tfinish=K.endDate,Z._stream=K.mediaType,Z._mediaduration=K.duration,Z._quality=K.quality,Z._responseHeaders="";for(const ie in W.headers)Z._responseHeaders+=ie+": "+W.headers[ie]+`\r
`;Z._serviceLocation=K.serviceLocation||null,Z._fileLoaderType=K.fileLoaderType,Z._resourceTimingValues=K.resourceTimingValues,Z._streamId=K&&K.representation&&K.representation.mediaInfo&&K.representation.mediaInfo.streamInfo?K.representation.mediaInfo.streamInfo.id:null,J?J.forEach(ie=>{(function(ye,V,D,U){let H=new Te.HTTPRequestTrace;H.s=V,H.d=D,H.b=U,ye.trace.push(H),ye.interval||(ye.interval=0),ye.interval+=D})(Z,ie.s,ie.d,ie.b,ie.t)}):(delete Z.interval,delete Z.trace),A(K.mediaType,q.HTTP_REQUEST,Z)},addManifestUpdate:function(x,K,W,J){let Q=new Ff;Q.mediaType=x,Q.type=K,Q.requestTime=W,Q.fetchTime=J,k(M.default.STREAM,q.MANIFEST_UPDATE,Q),j(x,q.MANIFEST_UPDATE,Q)},addManifestUpdateRepresentationInfo:function(x,K,W){if(x&&x.representationInfo){const J=new Uf;J.id=K?K.id:null,J.index=K?K.index:null,J.mediaType=W,J.startNumber=K?K.startNumber:null,J.presentationTimeOffset=K?K.presentationTimeOffset:null,x.representationInfo.push(J),T(x.mediaType,q.MANIFEST_UPDATE_TRACK_INFO,x)}},addManifestUpdateStreamInfo:function(x,K,W,J,Q){if(x){let Z=new jf;Z.id=K,Z.index=W,Z.start=J,Z.duration=Q,x.streamInfo.push(Z),T(x.mediaType,q.MANIFEST_UPDATE_STREAM_INFO,x)}},addPlayList:function(x){x.trace&&Array.isArray(x.trace)?x.trace.forEach(K=>{K.hasOwnProperty("subreplevel")&&!K.subreplevel&&delete K.subreplevel}):delete x.trace,A(M.default.STREAM,q.PLAY_LIST,x)},addRepresentationSwitch:function(x,K,W,J,Q){let Z=new Mf;Z.t=K,Z.mt=W,Z.to=J,Q?Z.lto=Q:delete Z.lto,A(x,q.TRACK_SWITCH,Z)},addRequestsQueue:function(x,K,W){let J=new qf;J.loadingRequests=K,J.executedRequests=W,z(x).RequestsQueue=J,j(x,q.REQUESTS_QUEUE,J)},addSchedulingInfo:function(x,K,W,J,Q,Z,ie,ye,V){let D=new Bf;D.mediaType=x,D.t=K,D.type=W,D.startTime=J,D.availabilityStartTime=Q,D.duration=Z,D.bandwidth=ie,D.range=ye,D.state=V,A(x,q.SCHEDULING_INFO,D)},clearAllCurrentMetrics:function(){m={},C()},clearCurrentMetricsForType:function(x){delete m[x],N(x)},getMetricsFor:z,updateManifestUpdateInfo:function(x,K){if(x){for(let W in K)x[W]=K[W];T(x.mediaType,q.MANIFEST_UPDATE,x)}}},m={},g}nu.__dashjs_factory_name="MetricsModel";var Hf=ae.default.getSingletonFactory(nu);function au(d){d=d||{};const o=this.context;let g,m,v,w,C=d.metricsModel;function N(z){const k=C.getMetricsFor(z,!0);if(!k)return null;const A=k.HttpList;let x,K=null;if(!A||A.length<=0)return null;for(x=A.length-1;x>=0;){if(A[x].responsecode){K=A[x];break}x--}return K}function T(z){const k=C.getMetricsFor(z,!0);return k&&k.HttpList?k.HttpList:[]}function j(z,k){if(!z)return null;const A=z[k];return A&&A.length!==0?A[A.length-1]:null}return g={getCurrentRepresentationSwitch:function(z){return j(C.getMetricsFor(z,!0),q.TRACK_SWITCH)},getCurrentBufferState:function(z){return j(C.getMetricsFor(z,!0),q.BUFFER_STATE)},getCurrentBufferLevel:function(z){const k=j(C.getMetricsFor(z,!0),q.BUFFER_LEVEL);return k?xf.round10(k.level/1e3,-3):0},getCurrentHttpRequest:N,getHttpRequests:T,getCurrentDroppedFrames:function(){return j(C.getMetricsFor(M.default.VIDEO,!0),q.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(z){return j(C.getMetricsFor(z,!0),q.SCHEDULING_INFO)},getCurrentDVRInfo:function(z){return j(z?C.getMetricsFor(z,!0):C.getMetricsFor(M.default.VIDEO,!0)||C.getMetricsFor(M.default.AUDIO,!0),q.DVR_INFO)},getCurrentManifestUpdate:function(){return j(C.getMetricsFor(M.default.STREAM),q.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(z,k){if(!k)return null;let A={},x=N(z);x&&(A=xn.default.parseHttpHeaders(x._responseHeaders));const K=A[k.toLowerCase()];return K===void 0?null:K},getLatestMPDRequestHeaderValueByID:function(z){if(!z)return null;let k,A,x,K={};for(k=T(M.default.STREAM),x=k.length-1;x>=0;x--)if(A=k[x],A.type===Te.HTTPRequest.MPD_TYPE){K=xn.default.parseHttpHeaders(A._responseHeaders);break}const W=K[z.toLowerCase()];return W===void 0?null:W},addRepresentationSwitch:function(z,k,A,x,K){C.addRepresentationSwitch(z,k,A,x,K)},addDVRInfo:function(z,k,A,x){C.addDVRInfo(z,k,A,x)},updateManifestUpdateInfo:function(z){const k=this.getCurrentManifestUpdate();C.updateManifestUpdateInfo(k,z)},addManifestUpdateStreamInfo:function(z){if(z){const k=this.getCurrentManifestUpdate();C.addManifestUpdateStreamInfo(k,z.id,z.index,z.start,z.duration)}},addManifestUpdateRepresentationInfo:function(z,k){if(z){const A=this.getCurrentManifestUpdate();C.addManifestUpdateRepresentationInfo(A,z,k)}},addManifestUpdate:function(z){C.addManifestUpdate(M.default.STREAM,z.type,z.startDate,z.endDate)},addHttpRequest:function(z,k,A,x,K,W){const J={status:A,headers:x,url:k};C.addHttpRequest(z,J,K,W)},addSchedulingInfo:function(z,k){C.addSchedulingInfo(z.mediaType,new Date,z.type,z.startTime,z.availabilityStartTime,z.duration,z.bandwidth,z.range,k)},addRequestsQueue:function(z,k,A){C.addRequestsQueue(z,k,A)},addBufferLevel:function(z,k,A){C.addBufferLevel(z,k,A)},addBufferState:function(z,k,A){C.addBufferState(z,k,A)},addDroppedFrames:function(z){C.addDroppedFrames(M.default.VIDEO,z)},addPlayList:function(){w&&(C.addPlayList(w),w=null)},addDVBErrors:function(z){C.addDVBErrors(z)},createPlaylistMetrics:function(z,k){w=new Mt,w.start=new Date,w.mstart=z,w.starttype=k},createPlaylistTraceMetrics:function(z,k,A){m===!0&&(m=!1,v=new un,v.representationid=z,v.start=new Date,v.mstart=k,v.playbackspeed=A!==null?A.toString():null)},updatePlayListTraceMetrics:function(z){if(v)for(let k in v)v[k]=z[k]},pushPlayListTraceMetrics:function(z,k){if(m===!1&&w&&v&&v.start){const A=v.start;v.duration=z.getTime()-A.getTime(),v.stopreason=k,w.trace.push(v),m=!0}},clearAllCurrentMetrics:function(){C.clearAllCurrentMetrics()}},C=C||Hf(o).getInstance({settings:d.settings}),m=!0,v=null,w=null,g}au.__dashjs_factory_name="DashMetrics";var Gf=ae.default.getSingletonFactory(au);function ru(){const d=this.context,o=(0,se.default)(d).getInstance(),g=(0,Y.default)(d).getInstance();let m,v,w,C;function N(Q){C=Q}function T(Q,Z,ie,ye){let V,D=Z.adaptation.period.mpd;const U=D.availabilityStartTime;if(ye)V=ie&&D.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(U.getTime()+1e3*(Q+D.timeShiftBufferDepth)):D.availabilityEndTime;else if(ie){const H=Z.availabilityTimeOffset;V=new Date(U.getTime()+1e3*(Q-H))}else V=U;return V}function j(Q,Z){return(Q.getTime()-Z.mpd.availabilityStartTime.getTime()+1e3*C)/1e3}function z(Q,Z){return Q+(Z.adaptation.period.start-Z.presentationTimeOffset)}function k(Q){const Z={start:NaN,end:NaN},ie=Q[0].getAdapter().getRegularPeriods()[0],ye=j(new Date,ie);if(!Q||Q.length===0)return{range:Z,now:ye};Q.forEach(D=>{let U=D.getCurrentRepresentationForType(M.default.VIDEO);if(U||(U=D.getCurrentRepresentationForType(M.default.AUDIO)),!U){const le=D.getAdapter(),pe=le.getMediaInfoForType(D.getStreamInfo(),M.default.VIDEO)||le.getMediaInfoForType(D.getStreamInfo(),M.default.AUDIO);U=le.getVoRepresentations(pe)[0]}let H={start:NaN,end:NaN};if(U)if(U.segmentInfoType===S.default.SEGMENT_TIMELINE)H=function(le){const pe=le.adaptation.period.mpd.manifest.Period[le.adaptation.period.index].AdaptationSet[le.adaptation.index],ge=v.getRepresentationFor(le.index,pe),he=ge.SegmentTemplate||ge.SegmentList,Se=he.SegmentTimeline,O=he.timescale,me=Se.S,re={start:0,end:0},be=me[0].t,ce=!isNaN(be),oe=ce?be:0;let ue,G,ne,Ee,ke=0;for(ce&&(re.start=z(oe/O,le)),ne=0,Ee=me.length;ne<Ee;ne++)ue=me[ne],G=0,ue.hasOwnProperty("r")&&(G=ue.r),ke+=ue.d*(1+G);return re.end=z((oe+ke)/O,le),re}(U);else{const le=U.adaptation.period;H.start=le.start,H.end=Math.max(ye,le.start+le.duration)}!isNaN(H.start)&&(isNaN(Z.start)||Z.start>H.start)&&(Z.start=H.start),!isNaN(H.end)&&(isNaN(Z.end)||Z.end<H.end)&&(Z.end=H.end)}),Z.end=Math.min(ye,Z.end);const V=x(Q,Z.end,!0);return Z.end=isNaN(V)?Z.end:V,Z.start=ie&&ie.mpd&&ie.mpd.timeShiftBufferDepth&&!isNaN(ie.mpd.timeShiftBufferDepth)&&!isNaN(Z.end)?Math.max(Z.end-ie.mpd.timeShiftBufferDepth,Z.start):Z.start,Z.start=x(Q,Z.start),{range:Z,now:ye}}function A(Q,Z){w=Q-Z.end}function x(Q,Z){let ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{let ye=0,V=!1,D=NaN;for(;!V&&ye<Q.length;){const U=Q[ye].getStreamInfo();U.start<=Z&&(!isFinite(U.duration)||U.start+U.duration>=Z)?(D=Z,V=!0):!ie&&U.start>Z&&(isNaN(D)||U.start<D)?D=U.start:ie&&U.start+U.duration<Z&&(isNaN(D)||U.start+U.duration>D)&&(D=U.start+U.duration),ye+=1}return D}catch{return Z}}function K(Q){Q.offset===void 0||isNaN(Q.offset)||N(Q.offset/1e3)}function W(){C=0,w=0}function J(){o.off(P.default.UPDATE_TIME_SYNC_OFFSET,K,this),W()}return m={initialize:function(){W(),o.on(P.default.UPDATE_TIME_SYNC_OFFSET,K,this)},getClientTimeOffset:function(){return C},setClientTimeOffset:N,getClientReferenceTime:function(){return Date.now()-1e3*w+1e3*C},calcAvailabilityStartTimeFromPresentationTime:function(Q,Z,ie){return T(Q,Z,ie)},calcAvailabilityEndTimeFromPresentationTime:function(Q,Z,ie){return T(Q,Z,ie,!0)},calcPresentationTimeFromWallTime:j,calcPresentationTimeFromMediaTime:z,calcPeriodRelativeTimeFromMpdRelativeTime:function(Q,Z){return Z-Q.adaptation.period.start},calcMediaTimeFromPresentationTime:function(Q,Z){return Q-Z.adaptation.period.start+Z.presentationTimeOffset},calcWallTimeForSegment:function(Q,Z){let ie,ye,V;return Z&&(ie=Q.representation.adaptation.period.mpd.suggestedPresentationDelay,ye=Q.presentationStartTime+ie,V=new Date(Q.availabilityStartTime.getTime()+1e3*ye)),V},calcTimeShiftBufferWindow:function(Q,Z){if(!Z)return function(ie){const ye={start:NaN,end:NaN};let V=0,D=NaN;return ie.forEach(U=>{const H=U.getStreamInfo();V+=H.duration,(isNaN(D)||H.start<D)&&(D=H.start)}),ye.start=D,ye.end=D+V,ye}(Q);if(g.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){const ie=k(Q);return A(ie.now,ie.range),ie.range}return function(ie){const ye={start:NaN,end:NaN};if(!ie||ie.length===0)return ye;const V=ie[0].getAdapter().getRegularPeriods()[0],D=j(new Date,V),U=V.mpd.timeShiftBufferDepth,H=isNaN(U)?0:D-U;if(ye.start=x(ie,H),ye.end=!isNaN(ye.start)&&D<ye.start?D:x(ie,D,!0),!isNaN(U)&&ye.end<D-U&&(ye.end=NaN),g.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){const le=k(ie);if(le.range.end<ye.start)return o.trigger($.default.CONFORMANCE_VIOLATION,{level:pr.LEVELS.WARNING,event:pr.EVENTS.INVALID_DVR_WINDOW}),A(le.now,le.range),le.range}return ye}(Q)},reset:J},v=va(d).getInstance(),J(),m}ru.__dashjs_factory_name="TimelineConverter";var Aa,mo,Kr,Ii,po,Yf=ae.default.getSingletonFactory(ru),Vf=function(d){for(var o=[],g=0;g<d.length;++g){var m=d.charCodeAt(g);m<128?o.push(m):m<2048?(o.push(192|m>>6),o.push(128|63&m)):m<65536?(o.push(224|m>>12),o.push(128|63&m>>6),o.push(128|63&m)):(o.push(240|m>>18),o.push(128|63&m>>12),o.push(128|63&m>>6),o.push(128|63&m))}return o},Kf=function(d){for(var o=[],g=0;g<d.length;){var m=d[g++];m<128||(m<224?(m=(31&m)<<6,m|=63&d[g++]):m<240?(m=(15&m)<<12,m|=(63&d[g++])<<6,m|=63&d[g++]):(m=(7&m)<<18,m|=(63&d[g++])<<12,m|=(63&d[g++])<<6,m|=63&d[g++])),o.push(String.fromCharCode(m))}return o.join("")},Ma={};Aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mo=function(d){for(var o=0,g=[],m=0|d.length/3;0<m--;){var v=(d[o]<<16)+(d[o+1]<<8)+d[o+2];o+=3,g.push(Aa.charAt(63&v>>18)),g.push(Aa.charAt(63&v>>12)),g.push(Aa.charAt(63&v>>6)),g.push(Aa.charAt(63&v))}return d.length-o==2?(v=(d[o]<<16)+(d[o+1]<<8),g.push(Aa.charAt(63&v>>18)),g.push(Aa.charAt(63&v>>12)),g.push(Aa.charAt(63&v>>6)),g.push("=")):d.length-o==1&&(v=d[o]<<16,g.push(Aa.charAt(63&v>>18)),g.push(Aa.charAt(63&v>>12)),g.push("==")),g.join("")},Kr=function(){for(var d=[],o=0;o<64;++o)d[Aa.charCodeAt(o)]=o;return d[61]=0,d}(),Ii=function(d){for(var o=0,g=[],m=0|d.length/4;0<m--;){var v=(Kr[d.charCodeAt(o)]<<18)+(Kr[d.charCodeAt(o+1)]<<12)+(Kr[d.charCodeAt(o+2)]<<6)+Kr[d.charCodeAt(o+3)];g.push(255&v>>16),g.push(255&v>>8),g.push(255&v),o+=4}return g&&(d.charAt(o-2)=="="?(g.pop(),g.pop()):d.charAt(o-1)=="="&&g.pop()),g},po={encode:function(d){for(var o=[],g=0;g<d.length;++g)o.push(d.charCodeAt(g));return o},decode:function(d){for(var o=0;o<s.length;++o)a[o]=String.fromCharCode(a[o]);return a.join("")}},Ma.decodeArray=function(d){var o=Ii(d);return new Uint8Array(o)},Ma.encodeASCII=function(d){var o=po.encode(d);return mo(o)},Ma.decodeASCII=function(d){var o=Ii(d);return po.decode(o)},Ma.encode=function(d){var o=Vf(d);return mo(o)},Ma.decode=function(d){var o=Ii(d);return Kf(o)},typeof exports<"u"&&(exports.decode=Ma.decode,exports.decodeArray=Ma.decodeArray,exports.encode=Ma.encode,exports.encodeASCII=Ma.encodeASCII);var ho=Ma,$f=class extends fo{constructor(){super(),this.captionData=null,this.label=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1,this.isTTML=null}},Wf=t(7377);function iu(){let d,o=0;function g(T){let j="";for(let z=0;z<T.length;++z)j+=T[z].uchar;return j.length-j.replace(/^\s+/,"").length}function m(T){return"left: "+3.125*T.x+"%; top: "+6.66*T.y1+"%; width: "+(100-3.125*T.x)+"%; height: "+6.66*Math.max(T.y2-1-T.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function v(T){return T==="red"?"rgb(255, 0, 0)":T==="green"?"rgb(0, 255, 0)":T==="blue"?"rgb(0, 0, 255)":T==="cyan"?"rgb(0, 255, 255)":T==="magenta"?"rgb(255, 0, 255)":T==="yellow"?"rgb(255, 255, 0)":T==="white"?"rgb(255, 255, 255)":T==="black"?"rgb(0, 0, 0)":T}function w(T,j){const z=T.videoHeight/15;return j?"font-size: "+z+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(j.foreground?v(j.foreground):"rgb(255, 255, 255)")+"; font-style: "+(j.italics?"italic":"normal")+"; text-decoration: "+(j.underline?"underline":"none")+"; white-space: pre; background-color: "+(j.background?v(j.background):"transparent")+";":"font-size: "+z+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function C(T){return T.replace(/^\s+/g,"")}function N(T){return T.replace(/\s+$/g,"")}return d={createHTMLCaptionsFromScreen:function(T,j,z,k){let A=null,x=null,K=!1,W=-1,J={start:j,end:z,spans:[]},Q="style_cea608_white_black";const Z={},ie={},ye=[];let V,D;for(V=0;V<15;++V){const H=k.rows[V];let le="",pe=null;if(H.isEmpty()===!1){const ge=g(H.chars);A===null&&(A={x:ge,y1:V,y2:V+1,p:[]}),ge!==W&&K&&(A.p.push(J),J={start:j,end:z,spans:[]},A.y2=V,A.name="region_"+A.x+"_"+A.y1+"_"+A.y2,Z.hasOwnProperty(A.name)===!1?(ye.push(A),Z[A.name]=A):(x=Z[A.name],x.p.contat(A.p)),A={x:ge,y1:V,y2:V+1,p:[]});for(let he=0;he<H.chars.length;++he){const Se=H.chars[he],O=Se.penState;if(pe===null||!O.equals(pe)){le.trim().length>0&&(J.spans.push({name:Q,line:le,row:V}),le="");let me="style_cea608_"+O.foreground+"_"+O.background;O.underline&&(me+="_underline"),O.italics&&(me+="_italics"),ie.hasOwnProperty(me)||(ie[me]=JSON.parse(JSON.stringify(O))),pe=O,Q=me}le+=Se.uchar}le.trim().length>0&&J.spans.push({name:Q,line:le,row:V}),K=!0,W=ge}else K=!1,W=-1,A&&(A.p.push(J),J={start:j,end:z,spans:[]},A.y2=V,A.name="region_"+A.x+"_"+A.y1+"_"+A.y2,Z.hasOwnProperty(A.name)===!1?(ye.push(A),Z[A.name]=A):(x=Z[A.name],x.p.contat(A.p)),A=null)}A&&(A.p.push(J),A.y2=V+1,A.name="region_"+A.x+"_"+A.y1+"_"+A.y2,Z.hasOwnProperty(A.name)===!1?(ye.push(A),Z[A.name]=A):(x=Z[A.name],x.p.contat(A.p)),A=null);const U=[];for(V=0;V<ye.length;++V){const H=ye[V],le="sub_cea608_"+o++,pe=document.createElement("div");pe.id=le;const ge=m(H);pe.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ge;const he=document.createElement("div");he.className="paragraph bodyStyle",he.style.cssText=w(T);const Se=document.createElement("div");Se.className="cueUniWrapper",Se.style.cssText="unicode-bidi: normal; direction: ltr;";for(let me=0;me<H.p.length;++me){const re=H.p[me];let be=0;for(D=0;D<re.spans.length;++D){let ce=re.spans[D];if(ce.line.length>0){if(D!==0&&be!=ce.row){const ne=document.createElement("br");ne.className="lineBreak",Se.appendChild(ne)}let oe=!1;be===ce.row&&(oe=!0),be=ce.row;const ue=ie[ce.name],G=document.createElement("span");G.className="spanPadding "+ce.name+" customSpanColor",G.style.cssText=w(T,ue),D!==0&&oe?D===re.spans.length-1?G.textContent=N(ce.line):G.textContent=ce.line:re.spans.length>1&&D<re.spans.length-1&&ce.row===re.spans[D+1].row?G.textContent=C(ce.line):G.textContent=ce.line.trim(),Se.appendChild(G)}}}he.appendChild(Se),pe.appendChild(he);const O={bodyStyle:["%",90]};for(const me in ie)ie.hasOwnProperty(me)&&(O[me]=["%",90]);U.push({type:"html",start:j,end:z,cueHTMLElement:pe,cueID:le,cellResolution:[32,15],isFromCEA608:!0,fontSize:O,lineHeight:{},linePadding:{}})}return U}},d}iu.__dashjs_factory_name="EmbeddedTextHtmlRender";var Xf=ae.default.getSingletonFactory(iu);function Qf(d,o,g){const m=[];for(let v=o;v<g;v++)v+2<g&&d.getUint8(v)===0&&d.getUint8(v+1)===0&&d.getUint8(v+2)===3?(m.push(0),m.push(0),v+=2):m.push(d.getUint8(v));return new DataView(new Uint8Array(m).buffer)}function Zf(d,o,g,m){return!(d!==4||o<8)&&g.getUint8(m)===181&&g.getUint16(m+1)===49&&g.getUint32(m+3)===1195456820&&g.getUint8(m+7)===3}function Jf(d,o){return(127&d)>0||(127&o)>0}function eg(d,o){let g=0;for(;g<d.byteLength;){let v,w=0,C=0;do w+=v=d.getUint8(g++);while(v===255);do C+=v=d.getUint8(g++);while(v===255);if(Zf(w,C,d,g)){const N=g+10,T=N+3*(31&d.getUint8(N-2));for(let j=N;j<T;j+=3){const z=d.getUint8(j);if(4&z){const k=3&z;if((m=k)===0||m===1){const A=d.getUint8(j+1),x=d.getUint8(j+2);Jf(A,x)&&o[k].push(A,x)}}}}g+=C}var m}function tg(d,o,g){let m=0,v=0;const w=[[],[]];for(let C=o;C<o+g-5&&(m=d.getUint32(C),v=31&d.getUint8(C+4),!(C+5+m>o+g));C++)v===6&&C+5+m<=d.byteLength&&eg(Qf(d,C+5,C+5+m),w),C+=m+3;return w}function ou(d){const o=d.errHandler,g=d.manifestModel,m=d.mediaController,v=d.videoModel,w=d.textTracks,C=d.vttParser,N=d.vttCustomRenderingParser,T=d.ttmlParser,j=d.streamInfo,z=d.settings,k=this.context,A=(0,se.default)(k).getInstance();let x,K,W,J,Q,Z,ie,ye,V,D,U,H,le,pe,ge,he,Se,O=!1;function me(){Z=null,ye=NaN,V=[],D=null,ie=!1,Q=[],J=null}function re(ke){const Re={};Re[S.default.SUBTITLE]="subtitles",Re[S.default.CAPTION]="captions",Re[S.default.FORCED_SUBTITLE]="subtitles";const $e=new $f;for(let Be in ke)$e[Be]=ke[Be];$e.defaultTrack=function(Be){let tt=!1;return H.length>1&&Be.isEmbedded?tt=Be.id&&Be.id===M.default.CC1:H.length===1?Be.id&&typeof Be.id=="string"&&Be.id.substring(0,2)==="CC"&&(tt=!0):H.length===0&&(tt=Be.index===Q[0].index),tt}(ke),$e.isTTML=function(Be){return Be.codec&&Be.codec.search(M.default.STPP)>=0||Be.mimeType&&Be.mimeType.search(M.default.TTML)>=0}(ke),$e.kind=function(Be,tt){let vt=Be.roles&&Be.roles.length>0?tt[Be.roles[0].value]:tt.caption;return vt=Object.values(tt).includes(vt)?vt:tt.caption,vt}(ke,Re),w.addTextTrackInfo($e)}function be(ke){const Re=ke.chunk;Re.representation.mediaInfo.embeddedCaptions&&oe(Re.bytes,Re)}function ce(ke){U=ke}function oe(ke,Re){const $e=Re.representation.mediaInfo,Be=$e.type,tt=$e.mimeType,vt=$e.codec||tt;vt?$e.codec.indexOf("application/mp4")!==-1?function(yt,Ht,Kt){let sn,kt;if(Ht.segmentType==="InitializationSegment")ie=!0,ye=W.getMediaTimescaleFromMoov(yt);else{if(!ie)return;kt=W.getSamplesInfo(yt),sn=kt.sampleList,sn.length>0&&(D=sn[0].cts-Ht.start*ye),Kt.search(M.default.STPP)>=0?function($t,en,pn){let rn,on;for(J=J!==null?J:ne(pn),rn=0;rn<en.length;rn++){const Fe=en[rn],nt=Fe.cts,et=G(),st=et+nt/ye,He=st+Fe.duration/ye;x.buffered.add(st,He);const gt=new DataView($t,Fe.offset,Fe.subSizes[0]);let _t=Gr.Utils.dataViewToString(gt,M.default.UTF8);const Ft=[];let qt=Fe.offset+Fe.subSizes[0];for(on=1;on<Fe.subSizes.length;on++){const Xt=new Uint8Array($t,qt,Fe.subSizes[on]),Ge=String.fromCharCode.apply(null,Xt);Ft.push(Ge),qt+=Fe.subSizes[on]}try{const Xt=g.getValue().ttmlTimeIsRelative?nt/ye:0,Ge=J.parse(_t,Xt,nt/ye,(nt+Fe.duration)/ye,Ft);w.addCaptions(U,et,Ge)}catch(Xt){Z.removeExecutedRequestsBeforeTime(),this.remove(),K.error("TTML parser error: "+Xt.message)}}}(yt,sn,Kt):function($t,en){let pn,rn,on;const Fe=[];for(pn=0;pn<en.length;pn++){const nt=en[pn];nt.cts-=D;const et=G()+nt.cts/ye,st=et+nt.duration/ye;x.buffered.add(et,st);const He=$t.slice(nt.offset,nt.offset+nt.size),gt=Gr.parseBuffer(He);for(rn=0;rn<gt.boxes.length;rn++){const _t=gt.boxes[rn];if(K.debug("VTT box1: "+_t.type),_t.type!=="vtte"&&_t.type==="vttc"){K.debug("VTT vttc boxes.length = "+_t.boxes.length);let Ft={styles:{}};for(on=0;on<_t.boxes.length;on++){const qt=_t.boxes[on];if(K.debug("VTT box2: "+qt.type),qt.type==="payl")Ft.start=nt.cts/ye,Ft.end=(nt.cts+nt.duration)/ye,Ft.data=qt.cue_text;else if(qt.type==="sttg"&&qt.settings&&qt.settings!=="")try{const Xt=qt.settings.split(" ");Ft.styles=C.getCaptionStyles(Xt)}catch{}}Ft.data&&(Fe.push(Ft),K.debug(`VTT  ${Ft.start} - ${Ft.end} :  ${Ft.data}`))}}}Fe.length>0&&w.addCaptions(U,0,Fe)}(yt,sn)}}(ke,Re,vt):Be===M.default.VIDEO?function(yt,Ht){let Kt,sn;if(Ht.segmentType===Te.HTTPRequest.INIT_SEGMENT_TYPE)le===0&&(le=W.getMediaTimescaleFromMoov(yt));else if(Ht.segmentType===Te.HTTPRequest.MEDIA_SEGMENT_TYPE){if(le===0)return void K.warn("CEA-608: No timescale for embeddedTextTrack yet");sn=W.getSamplesInfo(yt);const kt=sn.lastSequenceNumber,$t=Math.trunc(Ht.start),en=Math.trunc(Ht.end);if(he[0]||he[1]||function(){let pn;for(let rn=0;rn<H.length;rn++){if(pn=w.getTrackIdxForId(H[rn].id),pn===-1)return void K.warn("CEA-608: data before track is ready.");const on=ue(pn);he[rn]=new Ae(rn+1,{newCue:on},null)}}(),le){if(function(rn,on,Fe,nt,et){return rn!==null&&on!==null&&nt!==null&&et!==null&&(on===rn?nt!==et:on!==rn+Fe)}(pe,kt,sn.numSequences,ge,$t))for(Kt=0;Kt<he.length;Kt++)he[Kt]&&he[Kt].reset();const pn=function(rn,on){if(on.length===0)return null;const Fe={splits:[],fields:[[],[]]},nt=new DataView(rn);for(let et=0;et<on.length;et++){const st=on[et],He=tg(nt,st.offset,st.size);let gt=null,_t=0;for(let Ft=0;Ft<2;Ft++)if(He[Ft].length>0){st.cts!==gt?_t=0:_t+=1;const qt=G();Fe.fields[Ft].push([st.cts+qt*le,He[Ft],_t]),gt=st.cts}}return Fe.fields.forEach(function(et){et.sort(function(st,He){return st[0]===He[0]?st[2]-He[2]:st[0]-He[0]})}),Fe}(yt,sn.sampleList);for(let rn=0;rn<he.length;rn++){const on=pn.fields[rn],Fe=he[rn];if(Fe)for(Kt=0;Kt<on.length;Kt++)Fe.addData(on[Kt][0]/le,on[Kt][1])}pe=kt,ge=en}}}(ke,Re):function(yt,Ht,Kt){let sn,kt;const $t=new DataView(yt,0,yt.byteLength);kt=Gr.Utils.dataViewToString($t,M.default.UTF8);try{sn=ne(Kt).parse(kt,0),w.addCaptions(w.getCurrentTrackIdx(),0,sn),x.buffered&&x.buffered.add(Ht.start,Ht.end)}catch(en){o.error(new Ie.default(B.TIMED_TEXT_ERROR_ID_PARSE_CODE,B.TIMED_TEXT_ERROR_MESSAGE_PARSE+en.message,kt))}}(ke,Re,vt):K.error("No text type defined")}function ue(ke){return function(Re,$e,Be){let tt;tt=v.getTTMLRenderingDiv()?Se.createHTMLCaptionsFromScreen(v.getElement(),Re,$e,Be):[{start:Re,end:$e,data:Be.getDisplayText(),styles:{}}],tt&&w.addCaptions(ke,0,tt)}}function G(){return isNaN(x.timestampOffset)?0:x.timestampOffset}function ne(ke){let Re;return ke.search(M.default.VTT)>=0?Re=z.get().streaming.text.webvtt.customRenderingEnabled&&N?N:C:(ke.search(M.default.TTML)>=0||ke.search(M.default.STPP)>=0)&&(Re=T),Re}function Ee(ke){H.forEach(function(Re){const $e=w.getTrackIdxForId(Re.id);$e>=0&&w.deleteCuesFromTrackIdx($e,ke.from,ke.to)})}return x={initialize:function(){O||(H=[],U=null,le=0,he=[],pe=null,ge=null,O=!0,Se=Xf(k).getInstance(),A.on(P.default.VIDEO_CHUNK_RECEIVED,be,x),A.on(P.default.BUFFER_CLEARED,Ee,x))},addMediaInfos:function(ke,Re,$e){if(Q=Q.concat(Re),ke===M.default.TEXT&&Re[0].isFragmented&&!Re[0].isEmbedded){Z=$e,x.buffered=(0,Wf.default)(k).create(),V=m.getTracksFor(M.default.TEXT,j.id).filter(tt=>tt.isFragmented);const Be=m.getCurrentTrackFor(M.default.TEXT,j.id);for(let tt=0;tt<V.length;tt++)if(V[tt]===Be){ce(tt);break}}for(let Be=0;Be<Re.length;Be++)re(Re[Be])},resetMediaInfos:function(){Q=[]},getStreamId:function(){return j.id},append:oe,abort:function(){},addEmbeddedTrack:function(ke){if(O&&ke)if(ke.id===M.default.CC1||ke.id===M.default.CC3){for(let Re=0;Re<H.length;Re++)if(H[Re].id===ke.id)return;H.push(ke)}else K.warn("Embedded track "+ke.id+" not supported!")},resetEmbedded:function(){A.off(P.default.VIDEO_CHUNK_RECEIVED,be,x),A.off(P.default.BUFFER_CLEARED,Ee,x),w&&w.deleteAllTextTracks(),O=!1,H=[],he=[null,null],pe=null,ge=null},getConfig:function(){return{fragmentModel:Z,fragmentedTracks:V,videoModel:v}},setCurrentFragmentedTrackIdx:ce,remove:function(ke,Re){ke===void 0&&ke===Re&&(ke=x.buffered.start(0),Re=x.buffered.end(x.buffered.length-1)),x.buffered.remove(ke,Re),w.deleteCuesFromTrackIdx(U,ke,Re)},reset:function(){me(),Q=[],W=null}},K=(0,we.default)(k).getInstance().getLogger(x),W=mi(k).getInstance(),me(),x}ou.__dashjs_factory_name="TextSourceBuffer";var ng=ae.default.getClassFactory(ou),bo=t(7640);const ag=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function lu(d){const o=this.context,g=(0,se.default)(o).getInstance(),m=d.videoModel,v=d.streamInfo,w=d.settings;let C,N,T,j,z,k,A,x,K,W,J,Q,Z,ie,ye,V,D,U,H,le;function pe(Fe){const nt=Fe.kind,et=Fe.id!==void 0?Fe.id:Fe.lang,st=Fe.lang,He=Fe.isTTML,gt=Fe.isEmbedded;return m.addTextTrack(nt,et,st,He,gt)}function ge(Fe,nt,et,st,He,gt){let _t=0,Ft=0;Fe/nt>et/st?(Ft=nt,_t=Ft/st*et):(_t=Fe,Ft=_t/et*st);let qt=0,Xt=0,Ge=0,ft=0;return _t/Ft>He?(ft=Ft,Ge=Ft*He):(Ge=_t,ft=_t/He),qt=(Fe-Ge)/2,Xt=(nt-ft)/2,gt?{x:qt+.1*Ge,y:Xt+.1*ft,w:.8*Ge,h:.8*ft}:{x:qt,y:Xt,w:Ge,h:ft}}function he(Fe,nt){const et=m.getClientWidth(),st=m.getClientHeight(),He=m.getVideoWidth(),gt=m.getVideoHeight(),_t=m.getVideoRelativeOffsetTop(),Ft=m.getVideoRelativeOffsetLeft();if(He!==0&&gt!==0){let qt=He/gt,Xt=!1;Fe.isFromCEA608&&(qt=3.5/3,Xt=!0);const Ge=ge.call(this,et,st,He,gt,qt,Xt),ft=Ge.w,St=Ge.h,Gt=Ge.x,at=Ge.y;if(ft!=K||St!=W||Gt!=A||at!=x||nt){if(A=Gt+Ft,x=at+_t,K=ft,W=St,J){const Oe=J.style;Oe&&(Oe.left=A+"px",Oe.top=x+"px",Oe.width=K+"px",Oe.height=W+"px",Oe.zIndex=ie&&document[ie]||ye?D:null,g.trigger($.default.CAPTION_CONTAINER_RESIZE))}const _e=Fe.activeCues;if(_e){const Oe=_e.length;for(let ot=0;ot<Oe;++ot){const je=_e[ot];je.scaleCue(je)}}}}}function Se(Fe){const nt=K,et=W;let st,He,gt,_t,Ft;if(Fe.cellResolution){const qt=[nt/Fe.cellResolution[0],et/Fe.cellResolution[1]];if(Fe.linePadding){for(st in Fe.linePadding)if(Fe.linePadding.hasOwnProperty(st)){He=(Fe.linePadding[st]*qt[0]).toString();const Xt=document.getElementsByClassName("spanPadding");for(let Ge=0;Ge<Xt.length;Ge++)Xt[Ge].style.cssText=Xt[Ge].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+He),Xt[Ge].style.cssText=Xt[Ge].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+He)}}if(Fe.fontSize){for(st in Fe.fontSize)if(Fe.fontSize.hasOwnProperty(st)){Fe.fontSize[st][0]==="%"?gt=Fe.fontSize[st][1]/100:Fe.fontSize[st][0]==="c"&&(gt=Fe.fontSize[st][1]),He=(gt*qt[1]).toString(),Ft=st!=="defaultFontSize"?document.getElementsByClassName(st):document.getElementsByClassName("paragraph");for(let Xt=0;Xt<Ft.length;Xt++)Ft[Xt].style.cssText=Ft[Xt].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+He)}if(Fe.lineHeight){for(st in Fe.lineHeight)if(Fe.lineHeight.hasOwnProperty(st)){Fe.lineHeight[st][0]==="%"?_t=Fe.lineHeight[st][1]/100:Fe.fontSize[st][0]==="c"&&(_t=Fe.lineHeight[st][1]),He=(_t*qt[1]).toString(),Ft=document.getElementsByClassName(st);for(let Xt=0;Xt<Ft.length;Xt++)Ft[Xt].style.cssText=Ft[Xt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+He)}}}}if(Fe.isd){let qt=document.getElementById(Fe.cueID);qt&&J.removeChild(qt),me(Fe)}}function O(Fe,nt){const et=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,st=/^#(.*)$/;if(et.test(nt)){const He=et.exec(nt),gt=parseInt(He[4],10)-1;return"data:image/png;base64,"+btoa(Fe.images[gt])}if(st.test(nt)){const He=st.exec(nt)[1];return"data:image/png;base64,"+Fe.embeddedImages[He]}return nt}function me(Fe){if(J){on.call(this);const nt=document.createElement("div");J.appendChild(nt),V=(0,bo.renderHTML)(Fe.isd,nt,function(et){return O(Fe,et)},J.clientHeight,J.clientWidth,w.get().streaming.text.imsc.displayForcedOnlyMode,function(et){N.info("renderCaption :",et)},V,w.get().streaming.text.imsc.enableRollUp),nt.id=Fe.cueID,g.trigger($.default.CAPTION_RENDERED,{captionDiv:nt,currentTrackIdx:k})}}function re(Fe,nt){return!!nt&&nt.endTime>=Fe.startTime}function be(Fe,nt){return!!w.get().streaming.text.extendSegmentedCues&&!!function(et,st,He){for(let gt=0;gt<He.length;gt++){const _t=He[gt];if(JSON.stringify(et[_t])!==JSON.stringify(st[_t]))return!1}return!0}(nt,Fe,ag)&&(nt.endTime=Math.max(nt.endTime,Fe.endTime),!0)}function ce(Fe,nt){nt&&nt.forEach(et=>{et.kind&&et.kind==="image"&&(et.src=O(Fe,et.src)),ce(Fe,et.contents)})}function oe(Fe,nt,et){const st=vt(Fe),He=w.get().streaming.text.dispatchForManualRendering;if(st&&Array.isArray(et)&&et.length!==0)for(let gt=0;gt<et.length;gt++){let _t=null;const Ft=et[gt];st.cellResolution=Ft.cellResolution,st.isFromCEA608=Ft.isFromCEA608,isNaN(Ft.start)||isNaN(Ft.end)||(He?_t=ue(Ft,nt):Re(Ft)&&J?_t=Ee(Ft,nt,st):Ft.data&&(_t=ke(Ft,nt,st)));try{if(_t){if(!Kt(st,_t))if(w.get().streaming.text.webvtt.customRenderingEnabled)st.manualCueList||(st.manualCueList=[]),st.manualCueList.push(_t);else{let Xt;st.cues&&st.cues.length!==0&&(Xt=st.cues[st.cues.length-1]),re(_t,Xt)?be(_t,Xt)||(Xt.isd&&(Xt.onexit=function(){}),st.mode!==M.default.TEXT_DISABLED&&st.addCue(_t)):st.mode!==M.default.TEXT_DISABLED&&st.addCue(_t)}const qt=w.get().streaming.buffer.bufferToKeep;kt(st,0,m.getTime()-qt)}else N.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(qt){throw $t(st),st.addCue(_t),qt}}}function ue(Fe,nt){let et=$e(Fe,nt);return et.onenter=function(){Re(Fe)&&le&&le.cueID!==et.cueID&&ne(le),delete et.type,le=et,G(et)},et.onexit=function(){ne(et),le=null},et}function G(Fe){g.trigger($.default.CUE_ENTER,Fe)}function ne(Fe){g.trigger($.default.CUE_EXIT,{cueID:Fe.cueID})}function Ee(Fe,nt,et){const st=this;let He=$e(Fe,nt);return J.style.left=A+"px",J.style.top=x+"px",J.style.width=K+"px",J.style.height=W+"px",He.onenter=function(){et.mode===M.default.TEXT_SHOWING&&(this.isd?(H?requestAnimationFrame(()=>me(this)):me(this),N.debug("Cue enter id:"+this.cueID)):(J.appendChild(this.cueHTMLElement),Se.call(st,this),g.trigger($.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:k})))},He.onexit=function(){if(J){const gt=J.childNodes;for(let _t=0;_t<gt.length;++_t)gt[_t].id===this.cueID&&(N.debug("Cue exit id:"+gt[_t].id),J.removeChild(gt[_t]),--_t)}},He}function ke(Fe,nt,et){let st=$e(Fe,nt);if(st.isActive=!1,Fe.styles)try{Fe.styles.align!==void 0&&"align"in st&&(st.align=Fe.styles.align),Fe.styles.line!==void 0&&"line"in st&&(st.line=Fe.styles.line),Fe.styles.snapToLines!==void 0&&"snapToLines"in st&&(st.snapToLines=Fe.styles.snapToLines),Fe.styles.position!==void 0&&"position"in st&&(st.position=Fe.styles.position),Fe.styles.size!==void 0&&"size"in st&&(st.size=Fe.styles.size)}catch(He){N.error(He)}return st.onenter=function(){et.mode===M.default.TEXT_SHOWING&&g.trigger($.default.CAPTION_RENDERED,{currentTrackIdx:k})},st}function Re(Fe){return Fe.type==="html"}function $e(Fe,nt){return Re(Fe)?function(et,st){let He=new T(et.start+st,et.end+st,"");return He.cueHTMLElement=et.cueHTMLElement,He.isd=et.isd,He.images=et.images,He.embeddedImages=et.embeddedImages,He.cueID=et.cueID,He.scaleCue=Se.bind(self),He.cellResolution=et.cellResolution,He.lineHeight=et.lineHeight,He.linePadding=et.linePadding,He.fontSize=et.fontSize,He.isd&&ce(He,He.isd.contents),He}(Fe,nt):function(et,st){let He=new T(et.start-st,et.end-st,et.data);return He.cueID=`${He.startTime}_${He.endTime}`,He}(Fe,nt)}function Be(Fe){if(Q){const nt=Q.childNodes;for(let et=0;et<nt.length;++et)nt[et].id===Fe.cueID&&(Q.removeChild(nt[et]),--et)}}function tt(){const Fe=m.getTextTracks(),nt=[];for(const et of Fe)et.manualMode===M.default.TEXT_SHOWING&&nt.push(et);return nt}function vt(Fe){return Fe>=0&&j[Fe]?m.getTextTrack(j[Fe].kind,j[Fe].id,j[Fe].lang,j[Fe].isTTML,j[Fe].isEmbedded):null}function yt(Fe){if(Fe===k)return;k=Fe;const nt=vt(k);Ht.call(this,nt),Z&&(clearInterval(Z),Z=null),nt&&nt.renderingType==="html"&&(he.call(this,nt,!0),window.ResizeObserver?(U=new window.ResizeObserver(()=>{he.call(this,nt,!0)}),U.observe(m.getElement())):Z=setInterval(he.bind(this,nt),500))}function Ht(Fe){on.call(this),Fe&&Fe.renderingType==="html"?pn.call(this):rn.call(this)}function Kt(Fe,nt){if(!Fe.cues)return!1;for(let et=0;et<Fe.cues.length;et++)if(Fe.cues[et].startTime===nt.startTime&&Fe.cues[et].endTime===nt.endTime)return!0;return!1}function sn(Fe,nt,et){let st=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return!!Fe&&(isNaN(nt)||(st?Fe.startTime:Fe.endTime)>=nt)&&(isNaN(et)||(st?Fe.endTime:Fe.startTime)<=et)}function kt(Fe,nt,et){if(!(et<nt)&&Fe&&(Fe.cues||Fe.manualCueList)){const st=Fe.cues&&Fe.cues.length>0?"native":"custom",He=st==="native"?Fe.cues:Fe.manualCueList;if(!He||He.length===0)return;for(let gt=He.length-1;gt>=0;gt--)sn(He[gt],nt,et,!0)&&!en(He[gt])&&(st==="native"?Fe.removeCue(He[gt]):(Be(He[gt]),delete Fe.manualCueList[gt]))}}function $t(Fe,nt,et){let st=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(Fe&&(Fe.cues||Fe.manualCueList)){const He=Fe.cues&&Fe.cues.length>0?"native":"custom",gt=He==="native"?Fe.cues:Fe.manualCueList;if(!gt||gt.length===0)return;for(let _t=gt.length-1;_t>=0;_t--)sn(gt[_t],nt,et,st)&&(He==="native"?(gt[_t].onexit&&gt[_t].onexit(),Fe.removeCue(gt[_t])):(Be(gt[_t]),delete Fe.manualCueList[_t]))}}function en(Fe){const nt=m.getTime();return nt>=Fe.startTime&&nt<=Fe.endTime}function pn(){let Fe=document.getElementById("native-cue-style");if(Fe)return;Fe=document.createElement("style"),Fe.id="native-cue-style",document.head.appendChild(Fe);const nt=Fe.sheet,et=m.getElement();try{et&&(et.id?nt.insertRule("#"+et.id+"::cue {background: transparent}",0):et.classList.length!==0?nt.insertRule("."+et.className+"::cue {background: transparent}",0):nt.insertRule("video::cue {background: transparent}",0))}catch(st){N.info(""+st.message)}}function rn(){const Fe=document.getElementById("native-cue-style");Fe&&document.head.removeChild(Fe)}function on(){if(J)for(;J.firstChild;)J.removeChild(J.firstChild)}return C={addCaptions:oe,addTextTrackInfo:function(Fe){j.push(Fe)},createTracks:function(){j.sort(function(nt,et){return nt.index-et.index}),J=m.getTTMLRenderingDiv(),Q=m.getVttRenderingDiv();let Fe=-1;for(let nt=0;nt<j.length;nt++){const et=pe(j[nt]);z.push(et),j[nt].defaultTrack&&(et.default=!0,Fe=nt);const st=vt(nt);st&&(st.mode=M.default.TEXT_SHOWING,J&&(j[nt].isTTML||j[nt].isEmbedded)?st.renderingType="html":st.renderingType="default"),oe(nt,0,j[nt].captionData),g.trigger($.default.TEXT_TRACK_ADDED)}if(yt.call(this,Fe),Fe>=0){let nt=function(){const et=vt(Fe);et&&et.renderingType==="html"&&he.call(this,et,!0),g.off($.default.PLAYBACK_METADATA_LOADED,nt,this)};g.on($.default.PLAYBACK_METADATA_LOADED,nt,this);for(let et=0;et<j.length;et++){const st=vt(et);if(st){const He=w.get().streaming.text.dispatchForManualRendering;st.mode=et!==Fe||He?M.default.TEXT_HIDDEN:M.default.TEXT_SHOWING,st.manualMode=et===Fe?M.default.TEXT_SHOWING:M.default.TEXT_HIDDEN}}}g.trigger(P.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:k,tracks:j,streamId:v.id})},deleteAllTextTracks:function(){const Fe=z?z.length:0;for(let nt=0;nt<Fe;nt++){const et=vt(nt);et&&$t.call(this,et,v.start,v.start+v.duration,!1)}z=[],j=[],Z&&(clearInterval(Z),Z=null),U&&m&&(U.unobserve(m.getElement()),U=null),k=-1,on.call(this)},deleteCuesFromTrackIdx:function(Fe,nt,et){const st=vt(Fe);st&&$t(st,nt,et)},disableManualTracks:function(){const Fe=tt();if(Fe&&Fe.length>0){const nt=Fe[0].manualCueList;nt&&nt.length>0&&nt.forEach(et=>{if(et.isActive){if(et.isActive=!1,w.get().streaming.text.dispatchForManualRendering)ne(et);else if(Q){const st=Q.childNodes;for(let He=0;He<st.length;++He)st[He].id===et.cueID&&(Q.removeChild(st[He]),--He)}}})}},getCurrentTrackIdx:function(){return k},getCurrentTextTrackInfo:function(){return j[k]},getStreamId:function(){return v.id},getTextTrackInfos:function(){return j},getTrackIdxForId:function(Fe){let nt=-1;for(let et=0;et<j.length;et++)if(j[et].id===Fe){nt=et;break}return nt},initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(T=window.VTTCue||window.TextTrackCue,j=[],z=[],k=-1,A=0,x=0,K=0,W=0,J=null,Q=null,Z=null,ye=!1,D=2147483647,V=null,H="requestAnimationFrame"in window,document.fullscreenElement!==void 0?ie="fullscreenElement":document.webkitIsFullScreen!==void 0?ie="webkitIsFullScreen":document.msFullscreenElement?ie="msFullscreenElement":document.mozFullScreen&&(ie="mozFullScreen"))},manualCueProcessing:function(Fe){const nt=tt();if(nt&&nt.length>0){const et=nt[0].manualCueList;et&&et.length>0&&et.forEach(st=>{st.startTime<=Fe&&st.endTime>=Fe&&!st.isActive?(st.isActive=!0,w.get().streaming.text.dispatchForManualRendering?G(st):WebVTT.processCues(window,[st],Q,st.cueID)):st.isActive&&(st.startTime>Fe||st.endTime<Fe)&&(st.isActive=!1,w.get().streaming.text.dispatchForManualRendering?ne(st):Be(st))})}},setCurrentTrackIdx:yt,setModeForTrackIdx:function(Fe,nt){const et=vt(Fe);et&&et.mode!==nt&&(et.mode=nt),et&&et.manualMode!==nt&&(et.manualMode=nt)}},N=(0,we.default)(o).getInstance().getLogger(C),C}lu.__dashjs_factory_name="TextTracks";var rg=ae.default.getClassFactory(lu);function su(){const d=this.context;let o,g,m,v,w,C;function N(k){const A=k.split(":"),x=A.length-1;return k=60*parseInt(A[x-1],10)+parseFloat(A[x]),x===2&&(k+=3600*parseInt(A[0],10)),k}function T(k){const A=k.split(v),x=A[1].split(C);return x.shift(),A[1]=x[0],x.shift(),{cuePoints:A,styles:j(x)}}function j(k){const A={};return k.forEach(function(x){if(x.split(/:/).length>1){let K=x.split(/:/)[1],W=!1;K&&K.search(/%/)!=-1&&(W=!0,K=parseInt(K.replace(/%/,""),10)),(x.match(/align/)||x.match(/A/))&&(A.align=K),(x.match(/line/)||x.match(/L/))&&(A.line=K==="auto"?K:parseInt(K,10),W&&(A.snapToLines=!1)),(x.match(/position/)||x.match(/P/))&&(A.position=K),(x.match(/size/)||x.match(/S/))&&(A.size=K)}}),A}function z(k,A){let x,K=A,W="",J="";for(;k[K]!==""&&K<k.length;)K++;if(x=K-A,x>1)for(let Q=0;Q<x;Q++){if(J=k[A+Q],J.match(v)){W="";break}W+=J,Q!==x-1&&(W+=`
`)}else J=k[A],J.match(v)||(W=J);return W}return o={parse:function(k){const A=[];let x,K;if(!k)return A;x=(k=k.split(m)).length,K=-1;for(let W=0;W<x;W++){let J=k[W];if(J.length>0&&J!=="WEBVTT"&&J.match(v)){const Q=T(J),Z=Q.cuePoints,ie=Q.styles,ye=z(k,W+1),V=N(Z[0].replace(w,"")),D=N(Z[1].replace(w,""));!isNaN(V)&&!isNaN(D)&&V>=K&&D>V?ye!==""?(K=V,A.push({start:V,end:D,data:ye,styles:ie})):g.error("Skipping cue due to empty/malformed cue text"):g.error("Skipping cue due to incorrect cue timing")}}return A},getCaptionStyles:j},g=(0,we.default)(d).getInstance().getLogger(o),m=/(?:\r\n|\r|\n)/gm,v=/-->/,w=/(^[\s]+|[\s]+$)/g,C=/\s\b/g,o}su.__dashjs_factory_name="VTTParser";var ig=ae.default.getSingletonFactory(su);function uu(){let d,o;return d={parse:function(g){let m=[];return o.oncue=function(v){v.start=v.startTime,v.end=v.endTime,v.data=v.text,v.styles={align:v.align,line:v.line,position:v.position,size:v.size},m.push(v)},o.parse(g),m}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(o=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),d}uu.__dashjs_factory_name="VttCustomRenderingParser";var og=ae.default.getSingletonFactory(uu);function cu(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v=0;function w(){const C="cue_TTML_"+v;return v++,C}return g={parse:function(C,N,T,j,z){let k="";const A=[];let x,K,W;const J={},Q={};let Z="",ie="",ye={onOpenTag:function(U,H,le){if(le[" imagetype"]&&!le[" imageType"]&&(o.trigger($.default.CONFORMANCE_VIOLATION,{level:pr.LEVELS.ERROR,event:pr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),le[" imageType"]=le[" imagetype"]),H==="image"&&(U==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||U==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!le[" imageType"]||le[" imageType"].value!=="PNG")return void m.warn("smpte-tt imageType != PNG. Discarded");Z=le["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Z&&(Q[Z]=ie.trim()),ie="",Z=""},onText:function(U){Z&&(ie+=U)}};if(!C)throw k="no ttml data to parse",new Error(k);J.data=C,o.trigger(P.default.TTML_TO_PARSE,J);let V=(0,bo.fromXML)(J.data,function(U){k=U},ye);o.trigger(P.default.TTML_PARSED,{ttmlString:J.data,ttmlDoc:V});const D=V.getMediaTimeEvents();for(W=0;W<D.length;W++){let U=(0,bo.generateISD)(V,D[W],function(H){k=H});U.contents.some(H=>H.contents.length)&&(x=D[W]+N,K=D[W+1]+N,x<K&&A.push({start:x,end:K,type:"html",cueID:w(),isd:U,images:z,embeddedImages:Q}))}if(k!=="")throw m.error(k),new Error(k);return A}},m=(0,we.default)(d).getInstance().getLogger(g),g}cu.__dashjs_factory_name="TTMLParser";var lg=ae.default.getSingletonFactory(cu);function du(d){let o=this.context;const g=(0,se.default)(o).getInstance(),m=pt(o).getInstance(),v=d.adapter,w=d.baseURLController,C="error",N="loaded",T="unloaded";let j,z,k;function A(W,J){let Q,Z,ie=!1;if(w.resolve()){const D=v.getVoRepresentations(W);D&&D.length>0&&(Q=w.resolve(D[0].path).url)}const ye=W.essentialProperties.filter(D=>D.schemeIdUri&&D.schemeIdUri===M.default.FONT_DOWNLOAD_DVB_SCHEME),V=W.supplementalProperties.filter(D=>D.schemeIdUri&&D.schemeIdUri===M.default.FONT_DOWNLOAD_DVB_SCHEME);ye.length>0?(ie=!0,Z=ye):Z=V,Z.forEach(D=>{if(function(le){return!(!(le.value&&parseInt(le.value)===1&&le.dvbUrl&&le.dvbUrl.length>0&&le.dvbFontFamily&&le.dvbFontFamily.length>0&&le.dvbMimeType)||le.dvbMimeType!==M.default.OFF_MIMETYPE&&le.dvbMimeType!==M.default.WOFF_MIMETYPE)}(D)){let le=(U=D.dvbUrl,H=Q,m.isPathAbsolute(U)?U:m.isRelative(U)?H?m.resolve(U,H):m.resolve(U):U);k.push({fontFamily:D.dvbFontFamily,url:le,mimeType:D.dvbMimeType,trackId:W.id,streamId:J,isEssential:ie,status:T,fontFace:new FontFace(D.dvbFontFamily,`url(${le})`,{display:"swap"})})}var U,H})}function x(W,J){const Q=k[W];k[W]={...Q,status:J}}function K(){k=[]}return j={addFontsFromTracks:function(W,J){if(W&&Array.isArray(W)&&J)for(let Q=0;Q<W.length;Q++)A(W[Q],J)},downloadFonts:function(){for(let W=0;W<k.length;W++){let J=k[W];document.fonts.add(J.fontFace),g.trigger($.default.DVB_FONT_DOWNLOAD_ADDED,J),J.fontFace.load().then(()=>{x(W,N),g.trigger($.default.DVB_FONT_DOWNLOAD_COMPLETE,J)},Q=>{x(W,C),z.debug("Font download error: ",Q),g.trigger($.default.DVB_FONT_DOWNLOAD_FAILED,J)})}},getFonts:function(){return k},getFontsForTrackId:function(W){return k.filter(J=>J.trackId&&J.trackId===W)},reset:function(){(function(){for(const W of k){let J=document.fonts.delete(W.fontFace);z.debug(`Removal of fontFamily: ${W.fontFamily} was ${J?"successful":"unsuccessful"}`)}})(),K()}},z=(0,we.default)(o).getInstance().getLogger(j),K(),j}du.__dashjs_factory_name="DVBFonts";var sg=ae.default.getClassFactory(du);function fu(d){let o=this.context;const g=d.adapter,m=d.errHandler,v=d.manifestModel,w=d.mediaController,C=d.baseURLController,N=d.videoModel,T=d.settings;let j,z,k,A,x,K,W,J,Q,Z,ie,ye,V,D;function U(oe){if(D.error(`Could not download ${oe.isEssential?"an essential":"a"} font - fontFamily: ${oe.fontFamily}, url: ${oe.url}`),oe.isEssential){let ue=A[oe.streamId].getTrackIdxForId(oe.trackId);A[oe.streamId].setModeForTrackIdx(ue,M.default.TEXT_DISABLED)}}function H(oe){if(D.debug(`Successfully downloaded ${oe.isEssential?"an essential":"a"} font - fontFamily: ${oe.fontFamily}, url: ${oe.url}`),oe.isEssential){let ue=A[oe.streamId].getTrackIdxForId(oe.trackId);ue===A[oe.streamId].getCurrentTrackIdx()?A[oe.streamId].setModeForTrackIdx(ue,M.default.TEXT_SHOWING):A[oe.streamId].setModeForTrackIdx(ue,M.default.TEXT_HIDDEN)}}function le(oe){let ue=oe.tracks,G=oe.index;const ne=oe.streamId;if(T.get().streaming.text.defaultEnabled===!1&&!Se()||ye)O(ne,-1);else{const Ee=w.getCurrentTrackFor(M.default.TEXT,ne);if(Ee){const ke={lang:Ee.lang,role:Ee.roles[0],index:Ee.index,codec:Ee.codec,accessibility:Ee.accessibility[0]};ue.some((Re,$e)=>{if(w.matchSettings(ke,Re))return O(ne,$e),G=$e,!0})}Q=!1}z[ne].lastEnabledIndex=G,J.trigger($.default.TEXT_TRACKS_ADDED,{enabled:Se(),index:G,tracks:ue,streamId:ne}),ie=!0,V.addFontsFromTracks(ue,ne),V.getFonts().forEach(Ee=>{if(Ee.isEssential){let ke=A[Ee.streamId].getTrackIdxForId(Ee.trackId);A[Ee.streamId].setModeForTrackIdx(ke,M.default.TEXT_DISABLED)}}),V.downloadFonts()}function pe(oe){try{const ue=oe.streamId;if(!A[ue]||isNaN(oe.time))return;A[ue].manualCueProcessing(oe.time)}catch{}}function ge(oe){try{const ue=oe.streamId;if(!A[ue])return;A[ue].disableManualTracks()}catch{}}function he(oe){try{if(!oe||!oe.mediaType||oe.mediaType!==M.default.AUDIO||!oe.currentMediaInfo)return;const ue=A[oe.streamId].getCurrentTextTrackInfo();let G=NaN;Q?G=me(oe.streamId):re(ue)&&oe.currentMediaInfo.lang&&oe.currentMediaInfo.lang!==ue.lang&&(G=me(oe.streamId),isNaN(G)&&(G=-1)),isNaN(G)||O(oe.streamId,G)}catch(ue){D.error(ue)}}function Se(){let oe=!0;return Q&&!Z&&(oe=!1),oe}function O(oe,ue){Q=ue===-1,Q&&w&&w.saveTextSettingsDisabled();let G=be(oe);if(G===ue||!A[oe])return;A[oe].disableManualTracks();let ne=A[oe].getCurrentTextTrackInfo(),Ee=ne?N.getTextTrack(ne.kind,ne.id,ne.lang,ne.isTTML,ne.isEmbedded):null;Ee&&Ee.mode!==M.default.TEXT_DISABLED&&A[oe].setModeForTrackIdx(G,M.default.TEXT_HIDDEN),A[oe].setCurrentTrackIdx(ue),ne=A[oe].getCurrentTextTrackInfo();const ke=T.get().streaming.text.dispatchForManualRendering;if(ne&&!ke&&ne.mode!==M.default.TEXT_DISABLED&&A[oe].setModeForTrackIdx(ue,M.default.TEXT_SHOWING),ne&&ne.isFragmented&&!ne.isEmbedded)(function(Re,$e,Be){if(!k[Re])return;let tt=k[Re].getConfig().fragmentedTracks;for(let vt=0;vt<tt.length;vt++){let yt=tt[vt];if($e.lang===yt.lang&&(yt.id?$e.id===yt.id:$e.index===yt.index)){let Ht=w.getCurrentTrackFor(M.default.TEXT,Re);(yt.id?Ht.id!==yt.id:Ht.index!==yt.index)?(A[Re].deleteCuesFromTrackIdx(Be),k[Re].setCurrentFragmentedTrackIdx(vt)):Be===-1&&J.trigger(P.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:Re,mediaType:M.default.TEXT})}}})(oe,ne,G);else if(ne&&!ne.isFragmented)(function(Re,$e){J.trigger(P.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:$e},{streamId:Re,mediaType:M.default.TEXT})})(oe,ne);else if(!ne&&Q){const Re=me(oe);return void(isNaN(Re)||O(oe,Re))}w.setTrack(ne)}function me(oe){const ue=function(Ee){return A[Ee].getTextTrackInfos().filter((ke,Re)=>(ke._indexToSelect=Re,!!(ke&&ke.roles&&ke.roles.length>0)&&re(ke)))}(oe);if(!ue||ue.length<=0)return NaN;const G=w.getCurrentTrackFor(M.default.AUDIO,oe);if(!G)return NaN;const ne=ue.find(Ee=>G.lang===Ee.lang);return ne?ne._indexToSelect:NaN}function re(oe){return!(!oe||!oe.roles||oe.roles.length===0)&&oe.roles.some(ue=>ue.schemeIdUri===M.default.DASH_ROLE_SCHEME_ID&&ue.value===S.default.FORCED_SUBTITLE)}function be(oe){return A[oe].getCurrentTrackIdx()}function ce(){k={},A={},z={},Q=!0,ie=!1,ye=!1}return j={addEmbeddedTrack:function(oe,ue){const G=oe.id;k[G]&&k[G].addEmbeddedTrack(ue)},addMediaInfosToBuffer:function(oe,ue,G){let ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;const Ee=oe.id;k[Ee]&&k[Ee].addMediaInfos(ue,G,ne)},createTracks:function(oe){const ue=oe.id;A[ue]&&A[ue].createTracks()},deactivateStream:function(oe){if(!oe)return;const ue=oe.id;k[ue]&&k[ue].resetMediaInfos(),A[ue]&&A[ue].deleteAllTextTracks()},enableForcedTextStreaming:function(oe){return(0,it.checkParameterType)(oe,"boolean"),Z=oe,!0},enableText:function(oe,ue){return(0,it.checkParameterType)(ue,"boolean"),Se()!==ue&&(ue&&O(oe,z[oe].lastEnabledIndex),ue||(z[oe].lastEnabledIndex=be(oe),ie?O(oe,-1):ye=!0)),!0},getAllTracksAreDisabled:function(){return Q},getCurrentTrackIdx:be,getTextSourceBuffer:function(oe){const ue=oe.id;if(k&&k[ue])return k[ue]},initialize:function(){V=sg(o).create({adapter:g,baseURLController:C}),J.on(P.default.TEXT_TRACKS_QUEUE_INITIALIZED,le,j),J.on(P.default.DVB_FONT_DOWNLOAD_FAILED,U,j),J.on(P.default.DVB_FONT_DOWNLOAD_COMPLETE,H,j),J.on(P.default.MEDIAINFO_UPDATED,he,j),T.get().streaming.text.webvtt.customRenderingEnabled&&(J.on(P.default.PLAYBACK_TIME_UPDATED,pe,j),J.on(P.default.PLAYBACK_SEEKING,ge,j))},initializeForStream:function(oe){const ue=oe.id,G=rg(o).create({videoModel:N,settings:T,streamInfo:oe});G.initialize(),A[ue]=G;const ne=ng(o).create({errHandler:m,adapter:g,dvbFonts:V,manifestModel:v,mediaController:w,videoModel:N,textTracks:G,vttParser:x,vttCustomRenderingParser:K,ttmlParser:W,streamInfo:oe,settings:T});ne.initialize(),k[ue]=ne,z[ue]={},z[ue].lastEnabledIndex=-1},isTextEnabled:Se,reset:function(){Object.keys(k).forEach(oe=>{k[oe].resetEmbedded(),k[oe].reset()}),V.reset(),ce(),J.off(P.default.TEXT_TRACKS_QUEUE_INITIALIZED,le,j),J.off(P.default.DVB_FONT_DOWNLOAD_FAILED,U,j),J.off(P.default.DVB_FONT_DOWNLOAD_COMPLETE,H,j),J.off(P.default.MEDIAINFO_UPDATED,he,j),T.get().streaming.text.webvtt.customRenderingEnabled&&(J.off(P.default.PLAYBACK_TIME_UPDATED,pe,j),J.off(P.default.PLAYBACK_SEEKING,ge,j))},setTextTrack:O,clearDataForStream:function(oe){k[oe]&&(k[oe].resetEmbedded(),k[oe].reset(),delete k[oe]),A[oe]&&(A[oe].deleteAllTextTracks(),delete A[oe]),z[oe]&&delete z[oe]}},Z=!1,ie=!1,ye=!1,x=ig(o).getInstance(),K=og(o).getInstance(),W=lg(o).getInstance(),J=(0,se.default)(o).getInstance(),D=(0,we.default)(o).getInstance().getLogger(j),ce(),j}fu.__dashjs_factory_name="TextController";var ug=ae.default.getClassFactory(fu);function gu(d){d=d||{};const o=this.context,g=(0,we.default)(o).getInstance(),m=d.settings,v=(0,se.default)(o).getInstance();let w,C,N,T,j,z;function k(){return navigator&&navigator.connection&&!isNaN(navigator.connection.downlink)&&navigator.connection.downlink>0?1e3*navigator.connection.downlink:NaN}function A(W,J,Q,Z){const ie=Math.pow(.5,Q/Z.fast);W.fastEstimate=(1-ie)*J+ie*W.fastEstimate;const ye=Math.pow(.5,Q/Z.slow);W.slowEstimate=(1-ye)*J+ye*W.slowEstimate,W.totalWeight+=Q}function x(){w={},C={},N={},T={}}const K={addEntry:function(W,J){try{if(!(W&&J&&J.trace&&J.trace.length))return;(function(ie){w[ie]=w[ie]||[],C[ie]=C[ie]||[],N[ie]=N[ie]||{fastEstimate:0,slowEstimate:0,totalWeight:0},T[ie]=T[ie]||{fastEstimate:0,slowEstimate:0,totalWeight:0}})(W);const Q=J.tresponse.getTime()-J.trequest.getTime()||1;let Z=function(ie,ye){return ie._fileLoaderType&&ie._fileLoaderType===M.default.FILE_LOADER_TYPES.FETCH?function(V){const D=V.trace.reduce((le,pe)=>le+pe.b[0],0),U=V.trace.reduce((le,pe)=>le+pe.d,0);let H=NaN;return m.get().streaming.abr.throughput.useNetworkInformationApi.fetch&&(H=k()),isNaN(H)&&(H=Math.round(8*D/U)),{downloadedBytes:D,value:H,downloadTimeInMs:U}}(ie):function(V,D){let U=NaN,H=NaN,le=!1;if(m.get().streaming.abr.throughput.useResourceTimingApi&&V._resourceTimingValues)U=V._resourceTimingValues.transferSize,H=V._resourceTimingValues.responseEnd-V._resourceTimingValues.responseStart,le=!0;else{if(V.trace.length<=1)return{throughput:NaN,downloadTimeInMs:NaN};U=V.trace.reduce((ge,he)=>ge+he.b[0],0)-V.trace[0].b[0],H=Math.max(V.trace.reduce((ge,he)=>ge+he.d,0)-V.trace[0].d,1)}let pe=NaN;if(!le&&m.get().streaming.abr.throughput.useNetworkInformationApi.xhr&&(pe=k()),isNaN(pe)){const ge=m.get().streaming.abr.throughput.useDeadTimeLatency?H:H+D;pe=Math.round(8*U/ge)}return{downloadedBytes:U,value:pe,downloadTimeInMs:H}}(ie,ye)}(J,Q);if(Z.latencyInMs=Q,isNaN(Z.value)||!isFinite(Z.value))return;if(J.cmsd){const ie=J.cmsd.dynamic&&J.cmsd.dynamic.etp?J.cmsd.dynamic.etp:null;if(ie){const ye=m.get().streaming.cmsd.abr.etpWeightRatio;ye>0&&ye<=1&&(Z.value=Z.value*(1-ye)+ie*ye)}}if(function(ie,ye,V){return m.get().streaming.abr.throughput.useResourceTimingApi&&V._resourceTimingValues?V._resourceTimingValues.transferSize===0&&V._resourceTimingValues.decodedBodySize>0:!isNaN(ye)&&(ie===M.default.VIDEO?ye<m.get().streaming.cacheLoadThresholds[M.default.VIDEO]:ie===M.default.AUDIO?ye<m.get().streaming.cacheLoadThresholds[M.default.AUDIO]:void 0)}(W,J._tfinish.getTime()-J.trequest.getTime(),J))return void z.debug(`${W} Assuming segment ${J.url} came from cache, ignoring it for throughput calculation`);z.debug(`Added throughput entry for ${W}: ${Z.value} kbit/s`),Z.serviceLocation=J._serviceLocation,w[W].push(Z),C[W].push({value:Q}),function(ie){w[ie].length>m.get().streaming.abr.throughput.sampleSettings.maxMeasurementsToKeep&&w[ie].shift(),C[ie].length>m.get().streaming.abr.throughput.sampleSettings.maxMeasurementsToKeep&&C[ie].shift()}(W),v.trigger($.default.THROUGHPUT_MEASUREMENT_STORED,{throughputValues:Z}),J.type!==Te.HTTPRequest.MPD_TYPE&&(A(N[W],Z.value,m.get().streaming.abr.throughput.ewma.weightDownloadTimeMultiplicationFactor*Z.downloadTimeInMs,j.bandwidthHalfLife),A(T[W],Q,1,j.latencyHalfLife))}catch(Q){z.error(Q)}},getThroughputDict:function(W){return W?w[W]:w},getEwmaThroughputDict:function(W){return W?N[W]:N},getEwmaLatencyDict:function(W){return W?T[W]:T},getEwmaHalfLife:function(){return j},getLatencyDict:function(W){return W?C[W]:C},reset:x};return z=g.getLogger(K),j={bandwidthHalfLife:{fast:m.get().streaming.abr.throughput.ewma.throughputFastHalfLifeSeconds,slow:m.get().streaming.abr.throughput.ewma.throughputSlowHalfLifeSeconds},latencyHalfLife:{fast:m.get().streaming.abr.throughput.ewma.latencyFastHalfLifeCount,slow:m.get().streaming.abr.throughput.ewma.latencySlowHalfLifeCount}},x(),K}gu.__dashjs_factory_name="ThroughputModel";var cg=ae.default.getClassFactory(gu);function mu(){const d=this.context,o=(0,se.default)(d).getInstance();let g,m,v;function w(){performance.clearResourceTimings()}function C(ie){ie.metric!==q.HTTP_REQUEST||!ie.value||ie.value.type!==Te.HTTPRequest.MPD_TYPE&&(ie.value.type!==Te.HTTPRequest.MEDIA_SEGMENT_TYPE||ie.mediaType!==M.default.AUDIO&&ie.mediaType!==M.default.VIDEO)||g.addEntry(ie.mediaType,ie.value)}function N(ie,ye){let V,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NaN,H=null,le=g.getEwmaHalfLife(),pe=null,ge=!0;switch(D||(D=v.get().streaming.abr.throughput.averageCalculationMode),ie){case M.default.THROUGHPUT_TYPES.BANDWIDTH:H=D===M.default.THROUGHPUT_CALCULATION_MODES.EWMA?g.getEwmaThroughputDict(ye):g.getThroughputDict(ye),pe=le.bandwidthHalfLife,ge=!0,U=isNaN(U)?m.getIsDynamic()?v.get().streaming.abr.throughput.sampleSettings.live:v.get().streaming.abr.throughput.sampleSettings.vod:U;break;case M.default.THROUGHPUT_TYPES.LATENCY:H=D===M.default.THROUGHPUT_CALCULATION_MODES.EWMA?g.getEwmaLatencyDict(ye):g.getLatencyDict(ye),pe=le.latencyHalfLife,ge=!1,U=isNaN(U)?v.get().streaming.abr.throughput.sampleSettings.averageLatencySampleAmount:U}if(!H||H.length===0)return NaN;switch(D){case M.default.THROUGHPUT_CALCULATION_MODES.ARITHMETIC_MEAN:return V=T(H,U,ie),j(H,V);case M.default.THROUGHPUT_CALCULATION_MODES.BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:return V=T(H,U,ie),z(H,V);case M.default.THROUGHPUT_CALCULATION_MODES.DATE_WEIGHTED_ARITHMETIC_MEAN:return V=T(H,U,ie),k(H,V);case M.default.THROUGHPUT_CALCULATION_MODES.HARMONIC_MEAN:return V=T(H,U,ie),A(H,V);case M.default.THROUGHPUT_CALCULATION_MODES.BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:return V=T(H,U,ie),x(H,V);case M.default.THROUGHPUT_CALCULATION_MODES.DATE_WEIGHTED_HARMONIC_MEAN:return V=T(H,U,ie),K(H,V);case M.default.THROUGHPUT_CALCULATION_MODES.EWMA:return W(H,pe,ge);case M.default.THROUGHPUT_CALCULATION_MODES.ZLEMA:return V=T(H,U,ie),J(H,V)}}function T(ie,ye,V){if(ie){if(ye>=ie.length)ye=ie.length;else if(V===M.default.THROUGHPUT_TYPES.BANDWIDTH&&v.get().streaming.abr.throughput.sampleSettings.enableSampleSizeAdjustment)for(let D=1;D<ye;++D){const U=ie[ie.length-D].value/ie[ie.length-D-1].value;if((U>=v.get().streaming.abr.throughput.sampleSettings.increaseScale||U<=v.get().streaming.abr.throughput.sampleSettings.decreaseScale)&&(ye+=1)===ie.length)break}}else ye=0;return ye}function j(ie,ye){let V=ie;return ye!==0&&V&&V.length!==0?(V=V.slice(-ye),V.reduce((D,U)=>D+U.value,0)/V.length):NaN}function z(ie,ye){let V=ie;if(ye===0||!V||V.length===0)return NaN;V=V.slice(-ye);let D=0;return V.reduce((U,H)=>{let le=Math.sqrt(H.downloadedBytes);return D+=le,U+H.value*le},0)/D}function k(ie,ye){let V=ie;if(ye===0||!V||V.length===0)return NaN;V=V.slice(-ye);let D=0;return V.reduce((U,H,le)=>{let pe=le+1;return D+=pe,U+H.value*pe},0)/D}function A(ie,ye){let V=ie;if(ye===0||!V||V.length===0)return NaN;V=V.slice(-ye);const D=V.reduce((U,H)=>U+1/H.value,0);return V.length/D}function x(ie,ye){let V=ie;if(ye===0||!V||V.length===0)return NaN;V=V.slice(-ye);let D=0;const U=V.reduce((H,le)=>{let pe=Math.sqrt(le.downloadedBytes);return D+=pe,H+1/le.value*pe},0);return D/U}function K(ie,ye){let V=ie;if(ye===0||!V||V.length===0)return NaN;V=V.slice(-ye);let D=0;const U=V.reduce((H,le,pe)=>{let ge=pe+1;return D+=ge,H+1/le.value*ge},0);return D/U}function W(ie,ye){let V=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(!ie||ie.totalWeight<=0)return NaN;const D=ie.fastEstimate/(1-Math.pow(.5,ie.totalWeight/ye.fast)),U=ie.slowEstimate/(1-Math.pow(.5,ie.totalWeight/ye.slow));return V?Math.min(D,U):Math.max(D,U)}function J(ie,ye){if(ye===0||!ie||ie.length===0)return NaN;let V=ie.slice(-ye).map(le=>le.value),D=2/(V.length+1),U=V[V.length-1],H=V[V.length-1];for(let le=0;le<V.length;le++)U=D*V[le]+(1-D)*U,H=D*U+(1-D)*H;return H}function Q(ie){let ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;const D=N(M.default.THROUGHPUT_TYPES.BANDWIDTH,ie,ye,V);return Math.round(D)}const Z={getArithmeticMean:j,getAverageLatency:function(ie){let ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;const D=N(M.default.THROUGHPUT_TYPES.LATENCY,ie,ye,V);return Math.round(D)},getAverageThroughput:Q,getByteSizeWeightedArithmeticMean:z,getByteSizeWeightedHarmonicMean:x,getDateWeightedArithmeticMean:k,getDateWeightedHarmonicMean:K,getEwma:W,getHarmonicMean:A,getRawThroughputData:function(ie){return ie?g.getThroughputDict(ie):[]},getSafeAverageThroughput:function(ie){let ye=Q(ie,arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN);return isNaN(ye)||(ye*=v.get().streaming.abr.throughput.bandwidthSafetyFactor),ye},getZlema:J,initialize:function(){g=cg(d).create({settings:v}),o.on($.default.METRIC_ADDED,C,Z),performance&&performance.addEventListener("resourcetimingbufferfull",w)},reset:function(){g.reset(),o.off($.default.METRIC_ADDED,C,Z),performance&&performance.removeEventListener("resourcetimingbufferfull",w)},setConfig:function(ie){ie.settings&&(v=ie.settings),ie.playbackController&&(m=ie.playbackController)}};return Z}mu.__dashjs_factory_name="ThroughputController";var dg=ae.default.getSingletonFactory(mu);function yo(){const d="You must first call initialize() and set a source before calling this method",o="You must first call initialize() and set a valid source and view before calling this method",g="You must first call attachView() to set the video element before calling this method",m="You must first call attachSource() with a valid source before calling this method",v="MediaPlayer not initialized!",w=this.context,C=(0,se.default)(w).getInstance();let N=(0,Y.default)(w).getInstance();const T=(0,we.default)(w).getInstance({settings:N});let j,z,k,A,x,K,W,J,Q,Z,ie,ye,V,D,U,H,le,pe,ge,he,Se,O,me,re,be,ce,oe,ue,G,ne,Ee,ke,Re,$e,Be,tt,vt,yt,Ht,Kt,sn;function kt(){qt(null),_t(null),A=null,U&&(U.reset(),U=null),H&&(H.reset(),H=null),Se&&Se.reset(),N.reset(),pe&&(pe.reset(),pe=null)}function $t(){return!!k&&!!vt.getElement()}function en(){return(0,yf.getVersionString)()}function pn(){if(!W)throw o;return G.isPaused()}function rn(){if(!W)throw o;return G.getIsDynamic()}function on(_e){const Oe=ce&&ce.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO;let ot=Re.getCurrentDVRInfo(Oe);return ot?Fe(ot.range.start+_e,ot):0}function Fe(_e,Oe){let ot=G.getOriginalLiveDelay();return _e>Oe.range.end-ot&&(_e=Oe.range.end-ot),_e}function nt(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(!W)throw o;let Oe=gt().currentTime;return _e!==""&&(Oe=ce.getTimeRelativeToStreamId(Oe,_e)),Oe}function et(_e){(0,it.checkParameterType)(_e,"boolean"),J=_e}function st(){Se.restoreDefaultUTCTimingSources()}function He(){return Re}function gt(){if(!vt.getElement())throw g;return vt.getElement()}function _t(_e){if(!x)throw v;vt.setElement(_e),_e&&(St(),function(){if(H||typeof dashjs>"u")return;let Oe=dashjs.MetricsReporting;typeof Oe=="function"&&(H=Oe(w).create().createMetricsReporting({debug:T,eventBus:C,mediaElement:gt(),adapter:ge,dashMetrics:Re,mediaPlayerModel:he,events:P.default,constants:M.default,metricsConstants:q}))}(),function(){if(le||typeof dashjs>"u")return;let Oe=dashjs.MssHandler;typeof Oe=="function"&&(B.extend(Oe.errors),le=Oe(w).create({eventBus:C,mediaPlayerModel:he,dashMetrics:Re,manifestModel:$e,playbackController:G,streamController:ce,protectionController:U,baseURLController:me,errHandler:O,events:P.default,constants:M.default,debug:T,initSegmentType:Te.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:ho,ISOBoxer:Gr,settings:N}))}(),ce&&ce.switchToVideoElement(Q)),W&&Ge(),at(Q)}function Ft(_e){if(!K)throw d;let Oe=ce.getActiveStreamInfo();return Oe?D.getTracksFor(_e,Oe.id).filter(ot=>!U||U.areKeyIdsUsable(ot.normalizedKeyIds)):[]}function qt(_e){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;if(!x)throw v;typeof _e=="string"&&yt.initialize(_e),Oe==null&&(Oe=NaN),isNaN(Oe)||(Oe=Math.max(0,Oe)),Q=Oe,k=_e,(K||W)&&Ge(),$t()&&at(Q)}function Xt(){if(!K)throw d;let _e=ce.getActiveStreamInfo();return _e?ce.getStreamById(_e.id):null}function Ge(){W=!1,K=!1,ge.reset(),ce.reset(),ue.reset(),ke.reset(),G.reset(),ne.reset(),Ee.reset(),Z.reset(),ie.reset(),D.reset(),Kt.reset(),U&&(N.get().streaming.protection.keepProtectionMediaKeys?U.stop():(U.reset(),U=null,St())),oe.reset(),Be.reset(),tt.reset()}function ft(){return Kd(w).create({debug:T,errHandler:O,dashMetrics:Re,mediaPlayerModel:he,mssHandler:le,settings:N})}function St(){if(U)return U;if(typeof dashjs>"u")return null;let _e=dashjs.Protection;if(typeof _e=="function"){let Oe=_e(w).create();return P.default.extend(_e.events),$.default.extend(_e.events,{publicOnly:!0}),B.extend(_e.errors),U=Oe.createProtectionSystem({debug:T,errHandler:O,videoModel:vt,customParametersModel:Se,capabilities:re,eventBus:C,events:P.default,BASE64:ho,constants:M.default,cmcdModel:Be,settings:N}),re||(re=(0,ps.default)(w).getInstance()),re.setProtectionController(U),U}return null}function Gt(){if(!x)throw v;if(pe)return pe;if(typeof dashjs>"u")return null;let _e=dashjs.OfflineController;if(typeof _e=="function"){P.default.extend(_e.events),$.default.extend(_e.events,{publicOnly:!0}),B.extend(_e.errors);const Oe=ft(),ot=Dl(w).create();return ot.setConfig({manifestModel:$e,adapter:ge,manifestLoader:Oe,errHandler:O,contentSteeringController:Ee}),pe=_e(w).create({debug:T,manifestUpdater:ot,baseURLController:me,manifestLoader:Oe,manifestModel:$e,mediaPlayerModel:he,abrController:Z,playbackController:G,adapter:ge,errHandler:O,dashMetrics:Re,timelineConverter:V,segmentBaseController:Kt,schemeLoaderFactory:ye,eventBus:C,events:P.default,errors:B,constants:M.default,settings:N,dashConstants:S.default,urlUtils:pt(w).getInstance()}),pe}return null}function at(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN;pe&&pe.resetRecords(),!K&&k&&(K=!0,z.info("Streaming Initialized"),function(){const Oe=ft();ce||(ce=Fl(w).getInstance()),oe||(oe=ug(w).create({errHandler:O,manifestModel:$e,adapter:ge,mediaController:D,baseURLController:me,videoModel:vt,settings:N})),be.setConfig({capabilities:re,customParametersModel:Se,adapter:ge,settings:N,protectionController:U,manifestModel:$e,errHandler:O}),ce.setConfig({capabilities:re,capabilitiesFilter:be,manifestLoader:Oe,manifestModel:$e,mediaPlayerModel:he,customParametersModel:Se,protectionController:U,textController:oe,adapter:ge,dashMetrics:Re,errHandler:O,timelineConverter:V,videoModel:vt,playbackController:G,serviceDescriptionController:ne,contentSteeringController:Ee,abrController:Z,throughputController:ie,mediaController:D,settings:N,baseURLController:me,uriFragmentModel:yt,segmentBaseController:Kt}),ue.setConfig({settings:N,playbackController:G,streamController:ce,videoModel:vt,timelineConverter:V,adapter:ge}),G.setConfig({streamController:ce,serviceDescriptionController:ne,dashMetrics:Re,adapter:ge,videoModel:vt,timelineConverter:V,settings:N}),ke.setConfig({streamController:ce,playbackController:G,mediaPlayerModel:he,videoModel:vt,settings:N}),ie.setConfig({settings:N,playbackController:G}),Z.setConfig({streamController:ce,capabilities:re,domStorage:Ht,mediaPlayerModel:he,customParametersModel:Se,throughputController:ie,cmsdModel:tt,dashMetrics:Re,adapter:ge,videoModel:vt,settings:N}),Be.setConfig({abrController:Z,dashMetrics:Re,playbackController:G,serviceDescriptionController:ne,throughputController:ie}),sn.setConfig({serviceDescriptionController:ne}),tt.setConfig({}),D.initialize(),ie.initialize(),Z.initialize(),ce.initialize(J,A),oe.initialize(),ue.initialize(),ke.initialize(),Be.initialize(J),tt.initialize(),Ee.initialize(),Kt.initialize()}(),typeof k=="string"?ce.load(k,_e):ce.loadWithManifest(k,_e)),!W&&$t()&&(W=!0,C.trigger($.default.PLAYBACK_INITIALIZED),z.info("Playback Initialized"))}return j={addABRCustomRule:function(_e,Oe,ot){Se.addAbrCustomRule(_e,Oe,ot)},addRequestInterceptor:function(_e){Se.addRequestInterceptor(_e)},addResponseInterceptor:function(_e){Se.addResponseInterceptor(_e)},addUTCTimingSource:function(_e,Oe){Se.addUTCTimingSource(_e,Oe)},attachProtectionController:function(_e){U=_e},attachSource:qt,attachTTMLRenderingDiv:function(_e){if(!vt.getElement())throw g;vt.setTTMLRenderingDiv(_e)},attachView:_t,attachVttRenderingDiv:function(_e){if(!vt.getElement())throw g;vt.setVttRenderingDiv(_e)},clearDefaultUTCTimingSources:function(){Se.clearDefaultUTCTimingSources()},convertToTimeCode:function(_e){_e=Math.max(_e,0);let Oe=Math.floor(_e/3600),ot=Math.floor(_e%3600/60),je=Math.floor(_e%3600%60);return(Oe===0?"":Oe<10?"0"+Oe.toString()+":":Oe.toString()+":")+(ot<10?"0"+ot.toString():ot.toString())+":"+(je<10?"0"+je.toString():je.toString())},destroy:function(){kt(),ae.default.deleteSingletonInstances(w)},duration:function(){if(!W)throw o;let _e=gt().duration;if(G.getIsDynamic()){const Oe=ce&&ce.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO;let ot=Re.getCurrentDVRInfo(Oe);_e=ot?ot.range.end-ot.range.start:0}return _e},enableForcedTextStreaming:function(_e){return!(!ce.getActiveStreamInfo()||!oe)&&oe.enableForcedTextStreaming(_e)},enableText:function(_e){const Oe=ce.getActiveStreamInfo();return!(!Oe||!oe)&&oe.enableText(Oe.id,_e)},extend:function(_e,Oe,ot){ae.default.extend(_e,Oe,ot,w)},formatUTC:function(_e,Oe,ot){let je=arguments.length>3&&arguments[3]!==void 0&&arguments[3];const mt=new Date(1e3*_e),zt=mt.toLocaleDateString(Oe),Jt=mt.toLocaleTimeString(Oe,{hour12:ot});return je?Jt+" "+zt:Jt},getABRCustomRules:function(){return Se.getAbrCustomRules()},getActiveStream:Xt,getAutoPlay:function(){return J},getAvailableBaseUrls:function(){const _e=$e.getValue();return _e?me.getBaseUrls(_e):[]},getAvailableLocations:function(){const _e=$e.getValue();if(!_e)return[];const Oe=ge.getLocation(_e),ot=Ee.getSynthesizedLocationElements(Oe);return Oe.concat(ot)},getAverageLatency:function(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.default.VIDEO,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;return ie?ie.getAverageLatency(_e,Oe,ot):0},getAverageThroughput:function(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.default.VIDEO,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;return ie?ie.getAverageThroughput(_e,Oe,ot):0},getBufferLength:function(_e){const Oe=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT];if(_e)return Oe.indexOf(_e)!==-1?He().getCurrentBufferLevel(_e)||NaN:(z.warn("getBufferLength requested for invalid type"),NaN);{const ot=Oe.map(je=>Ft(je).length>0?He().getCurrentBufferLevel(je):Number.MAX_VALUE).reduce((je,mt)=>Math.min(je,mt));return ot===Number.MAX_VALUE?NaN:ot}},getCurrentLiveLatency:function(){if(!x)throw v;return W?G.getCurrentLiveLatency():NaN},getCurrentRepresentationForType:function(_e){if(!K)throw d;if(_e!==M.default.IMAGE&&_e!==M.default.VIDEO&&_e!==M.default.AUDIO)return null;const Oe=Xt();if(!Oe)return null;if(_e===M.default.IMAGE){const ot=Oe.getThumbnailController();return ot?ot.getCurrentTrack():-1}return Oe.getCurrentRepresentationForType(_e)},getCurrentSteeringResponseData:function(){if(Ee)return Ee.getCurrentSteeringResponseData()},getCurrentTextTrackIndex:function(){let _e=NaN;const Oe=ce.getActiveStreamInfo();if(Oe&&oe)return _e=oe.getCurrentTrackIdx(Oe.id),_e},getCurrentTrackFor:function(_e){if(!K)throw d;let Oe=ce.getActiveStreamInfo();return Oe?D.getCurrentTrackFor(_e,Oe.id):null},getDashAdapter:function(){return ge},getDashMetrics:He,getDebug:function(){return T},getDvrSeekOffset:on,getDvrWindow:function(){if(!W)throw o;const _e=ce&&ce.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO;let Oe=Re.getCurrentDVRInfo(_e);if(!Oe)return{};let ot=0;const je=G.getIsDynamic();return je&&(ot=Oe.manifestInfo.availableFrom.getTime()/1e3),{start:Oe.range.start,end:Oe.range.end,startAsUtc:je?ot+Oe.range.start:NaN,endAsUtc:je?ot+Oe.range.end:NaN,size:Oe.range.end-Oe.range.start}},getInitialMediaSettingsFor:function(_e){if(!x)throw v;return D.getInitialSettings(_e)},getLowLatencyModeEnabled:function(){if(!W)throw o;return G.getLowLatencyModeEnabled()},getManifest:function(){return $e.getValue()},getOfflineController:function(){return Gt()},getPlaybackRate:function(){return gt().playbackRate},getProtectionController:function(){return St()},getRawThroughputData:function(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.default.VIDEO;return ie?ie.getRawThroughputData(_e):[]},getRepresentationsByType:function(_e){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!K)throw d;let ot=Oe?ce.getStreamById(Oe):Xt();return ot?ot.getRepresentationsByType(_e):[]},getSafeAverageThroughput:function(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.default.VIDEO,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;return ie?ie.getSafeAverageThroughput(_e,Oe,ot):0},getSettings:function(){return N.get()},getSource:function(){if(!k)throw m;return k},getStreamsFromManifest:function(_e){if(!K)throw d;return ge.getStreamsInfo(_e)},getTTMLRenderingDiv:function(){return vt?vt.getTTMLRenderingDiv():null},getTargetLiveDelay:function(){if(!W)throw o;return G.getOriginalLiveDelay()},getTracksFor:Ft,getTracksForTypeFromManifest:function(_e,Oe,ot){if(!K)throw d;return(ot=ot||ge.getStreamsInfo(Oe,1)[0])?ge.getAllMediaInfoForType(ot,_e,Oe):[]},getVersion:en,getVideoElement:gt,getVolume:function(){return gt().volume},getXHRWithCredentialsForType:function(_e){return Se.getXHRWithCredentialsForType(_e)},initialize:function(_e,Oe,ot){let je=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NaN;re||(re=(0,ps.default)(w).getInstance(),re.setConfig({settings:N,protectionController:U})),O||(O=$d(w).getInstance()),re.supportsMediaSource()?(x||(x=!0,V=Yf(w).getInstance(),ie||(ie=dg(w).getInstance()),Z||(Z=Us(w).getInstance()),ye||(ye=El(w).getInstance()),G||(G=Ce(w).getInstance()),D||(D=kd(w).getInstance()),ce||(ce=Fl(w).getInstance()),ue||(ue=hd(w).getInstance()),ke||(ke=bd(w).getInstance()),ne||(ne=Ed(w).getInstance()),Ee||(Ee=eo(w).getInstance()),be||(be=Wd(w).getInstance()),ge=Nf(w).getInstance(),$e=Zd(w).getInstance(),Be=el(w).getInstance(),tt=cl(w).getInstance(),sn=ml(w).getInstance(),Re=Gf(w).getInstance({settings:N}),Ht=bf(w).getInstance({settings:N}),ge.setConfig({constants:M.default,cea608parser:new Ae,errHandler:O,BASE64:ho}),me||(me=xd(w).create()),me.setConfig({adapter:ge,contentSteeringController:Ee}),ne.setConfig({adapter:ge}),Kt||(Kt=_f(w).getInstance({dashMetrics:Re,mediaPlayerModel:he,errHandler:O,baseURLController:me,events:P.default,eventBus:C,debug:T,boxParser:mi(w).getInstance(),errors:B})),D.setConfig({domStorage:Ht,settings:N,mediaPlayerModel:he,customParametersModel:Se,videoModel:vt}),he.setConfig({playbackController:G,serviceDescriptionController:ne}),Ee.setConfig({adapter:ge,errHandler:O,dashMetrics:Re,mediaPlayerModel:he,manifestModel:$e,serviceDescriptionController:ne,throughputController:ie,eventBus:C}),st(),et(ot===void 0||ot),Gt()),_e&&_t(_e),Oe&&qt(Oe,je),z.info("[dash.js "+en()+"] MediaPlayer has been initialized")):O.error(new Ie.default(B.CAPABILITY_MEDIASOURCE_ERROR_CODE,B.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},isDynamic:rn,isMuted:function(){return gt().muted},isPaused:pn,isReady:$t,isSeeking:function(){if(!W)throw o;return G.isSeeking()},isTextEnabled:function(){const _e=ce.getActiveStreamInfo();return!(!_e||!oe)&&oe.isTextEnabled(_e)},off:function(_e,Oe,ot){C.off(_e,Oe,ot)},on:function(_e,Oe,ot,je){C.on(_e,Oe,ot,je)},pause:function(){if(!W)throw o;G.pause()},play:function(){if(!W)throw o;(!J||pn()&&W)&&G.play(!0)},preload:function(){if(!vt.getElement()&&!K){if(!k)throw m;at(Q)}},provideThumbnail:function(_e,Oe){if(typeof Oe!="function")return;if(_e<0)return void Oe(null);const ot=G.getIsDynamic()?on(_e):_e,je=ce.getStreamForTime(ot);if(je===null)return void Oe(null);const mt=je.getThumbnailController();if(mt)return mt.provide(ot,Oe);Oe(null)},refreshManifest:function(_e){if(!x)throw v;if(!$t())return _e(null,m);let Oe=this;if(typeof _e=="function"){const ot=function(je){C.off(P.default.INTERNAL_MANIFEST_LOADED,ot,Oe),je.error?_e(null,je.error):_e(je.manifest)};C.on(P.default.INTERNAL_MANIFEST_LOADED,ot,Oe)}ce.refreshManifest()},registerCustomCapabilitiesFilter:function(_e){Se.registerCustomCapabilitiesFilter(_e)},registerLicenseRequestFilter:function(_e){Se.registerLicenseRequestFilter(_e)},registerLicenseResponseFilter:function(_e){Se.registerLicenseResponseFilter(_e)},removeABRCustomRule:function(_e){Se.removeAbrCustomRule(_e)},removeAllABRCustomRule:function(){Se.removeAllAbrCustomRule()},removeRequestInterceptor:function(_e){Se.removeRequestInterceptor(_e)},removeResponseInterceptor:function(_e){Se.removeResponseInterceptor(_e)},removeUTCTimingSource:function(_e,Oe){Se.removeUTCTimingSource(_e,Oe)},reset:kt,resetCustomInitialTrackSelectionFunction:function(){Se.resetCustomInitialTrackSelectionFunction(null)},resetSettings:function(){N.reset()},restoreDefaultUTCTimingSources:st,retrieveManifest:function(_e,Oe){let ot=ft(),je=this;const mt=function(zt){zt.error?Oe(null,zt.error):Oe(zt.manifest),C.off(P.default.INTERNAL_MANIFEST_LOADED,mt,je),ot.reset()};C.on(P.default.INTERNAL_MANIFEST_LOADED,mt,je),yt.initialize(_e),ot.load(_e)},seek:function(_e){if(!W)throw o;if((0,it.checkParameterType)(_e,"number"),isNaN(_e))throw M.default.BAD_ARGUMENT_ERROR;_e<0&&(_e=0);let Oe=G.getIsDynamic()?on(_e):_e;const ot=gt();!G.getIsDynamic()&&ot.duration&&(Oe=Math.min(ot.duration,Oe)),G.seek(Oe,!1,!1,!0)},seekToOriginalLive:function(){W&&rn()&&G.seekToOriginalLive()},seekToPresentationTime:function(_e){if(!W)throw o;if((0,it.checkParameterType)(_e,"number"),isNaN(_e))throw M.default.BAD_ARGUMENT_ERROR;_e<0&&(_e=0);const Oe=gt();if(!G.getIsDynamic()&&Oe.duration&&(_e=Math.min(Oe.duration,_e)),G.getIsDynamic()){const ot=ce&&ce.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO;let je=Re.getCurrentDVRInfo(ot);if(!je)return;(_e=Fe(_e,je))<je.range.start&&(_e=je.range.start)}G.seek(_e,!1,!1,!0)},setAutoPlay:et,setConfig:function(_e){_e&&(_e.capabilities&&(re=_e.capabilities),_e.capabilitiesFilter&&(be=_e.capabilitiesFilter),_e.streamController&&(ce=_e.streamController),_e.textController&&(oe=_e.textController),_e.gapController&&(ue=_e.gapController),_e.throughputController&&(ie=_e.throughputController),_e.playbackController&&(G=_e.playbackController),_e.serviceDescriptionController&&(ne=_e.serviceDescriptionController),_e.contentSteeringController&&(Ee=_e.contentSteeringController),_e.clientDataReportingController&&(sn=_e.clientDataReportingController),_e.catchupController&&(ke=_e.catchupController),_e.mediaPlayerModel&&(he=_e.mediaPlayerModel),_e.customParametersModel&&(Se=_e.customParametersModel),_e.abrController&&(Z=_e.abrController),_e.schemeLoaderFactory&&(ye=_e.schemeLoaderFactory),_e.mediaController&&(D=_e.mediaController),_e.settings&&(N=_e.settings),_e.dashMetrics&&(Re=_e.dashMetrics))},setCurrentTrack:function(_e){let Oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!K)throw d;!U||U.areKeyIdsUsable(_e.normalizedKeyIds)?D.setTrack(_e,{noSettingsSave:Oe}):z.error(`Can not switch to track with index ${_e.index} because key is not usable`)},setCustomInitialTrackSelectionFunction:function(_e){Se.setCustomInitialTrackSelectionFunction(_e)},setInitialMediaSettingsFor:function(_e,Oe){if(!x)throw v;let ot=function(je){const mt=N.get().streaming.defaultSchemeIdUri;let zt={};function Jt(dn,ln,jn){let Xn={};if(ln){if(ln instanceof Array)throw"Array type not supported for settings!";return ln instanceof Object?(Xn.schemeIdUri=ln.schemeIdUri?ln.schemeIdUri:"",Xn.value=ln.value?ln.value:""):(Xn.schemeIdUri=jn,Xn.value=ln,z.warn("No schemeIdUri provided for "+dn+', using default "'+jn+'"')),Xn}return null}return je.lang&&(zt.lang=je.lang),isNaN(je.index)||(zt.index=je.index),je.viewpoint&&(zt.viewpoint=Jt("viewpoint",je.viewpoint,mt.viewpoint)),je.audioChannelConfiguration&&(zt.audioChannelConfiguration=Jt("audioChannelConfiguration",je.audioChannelConfiguration,mt.audioChannelConfiguration)),je.role&&(zt.role=Jt("role",je.role,mt.role)),je.accessibility&&(zt.accessibility=Jt("accessibility",je.accessibility,mt.accessibility)),zt}(Oe);D.setInitialSettings(_e,ot)},setMute:function(_e){(0,it.checkParameterType)(_e,"boolean"),gt().muted=_e},setPlaybackRate:function(_e){gt().playbackRate=_e},setProtectionData:function(_e){A=_e,ce&&ce.setProtectionData(A)},setRepresentationForTypeById:function(_e,Oe){let ot=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(_e!==M.default.IMAGE&&_e!==M.default.VIDEO&&_e!==M.default.AUDIO)return;if(!K)throw d;const je=Xt();if(je)if(_e===M.default.IMAGE){const mt=je.getThumbnailController();mt&&mt.setTrackById(Oe)}else{const mt=je.getRepresentationForTypeById(_e,Oe);mt&&Z.setPlaybackQuality(_e,ce.getActiveStreamInfo(),mt,{forceReplace:ot})}},setRepresentationForTypeByIndex:function(_e,Oe){let ot=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(_e!==M.default.IMAGE&&_e!==M.default.VIDEO&&_e!==M.default.AUDIO)return;if(!K)throw d;const je=Xt();if(je)if(_e===M.default.IMAGE){const mt=je.getThumbnailController();mt&&mt.setTrackByIndex(Oe)}else{const mt=je.getRepresentationForTypeByIndex(_e,Oe);mt&&Z.setPlaybackQuality(_e,ce.getActiveStreamInfo(),mt,{forceReplace:ot})}},setTextTrack:function(_e){if(!W)throw o;const Oe=ce.getActiveStreamInfo();Oe&&oe&&oe.setTextTrack(Oe.id,_e)},setVolume:function(_e){if(typeof _e!="number"||isNaN(_e)||_e<0||_e>1)throw M.default.BAD_ARGUMENT_ERROR;gt().volume=_e},setXHRWithCredentialsForType:function(_e,Oe){Se.setXHRWithCredentialsForType(_e,Oe)},time:nt,timeAsUTC:function(){if(!W)throw o;if(!G.getIsDynamic()||nt()<0)return NaN;const _e=ce&&ce.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO;let Oe,ot,je=Re.getCurrentDVRInfo(_e);return je?(Oe=je.manifestInfo.availableFrom.getTime()/1e3,ot=Oe+nt(),ot):0},timeInDvrWindow:function(){if(!W)throw o;if(!G.getIsDynamic())return nt();let _e=gt().currentTime;const Oe=ce&&ce.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO;let ot=Re.getCurrentDVRInfo(Oe);return _e=ot===null||_e===0?0:Math.max(0,_e-ot.range.start),_e},trigger:function(_e,Oe,ot){C.trigger(_e,Oe,ot)},triggerSteeringRequest:function(){if(Ee)return Ee.loadSteeringData()},unregisterCustomCapabilitiesFilter:function(_e){Se.unregisterCustomCapabilitiesFilter(_e)},unregisterLicenseRequestFilter:function(_e){Se.unregisterLicenseRequestFilter(_e)},unregisterLicenseResponseFilter:function(_e){Se.unregisterLicenseResponseFilter(_e)},updateSettings:function(_e){N.update(_e)},updateSource:function(_e){k=_e,ce.load(k)}},z=T.getLogger(j),x=!1,W=!1,K=!1,J=!0,Q=NaN,U=null,pe=null,A=null,ge=null,Kt=null,P.default.extend($.default),he=Jd(w).getInstance(),Se=(0,dl.default)(w).getInstance(),vt=pf(w).getInstance(),yt=Qd(w).getInstance(),j}yo.__dashjs_factory_name="MediaPlayer";const Ai=ae.default.getClassFactory(yo);Ai.events=$.default,Ai.errors=B,ae.default.updateClassFactory(yo.__dashjs_factory_name,Ai);var fg=Ai},1191:function(_,f,t){t.r(f);var u=t(7252);class r extends u.default{constructor(){super(),this.AST_IN_FUTURE="astInFuture",this.BASE_URLS_UPDATED="baseUrlsUpdated",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.DVB_FONT_DOWNLOAD_ADDED="dvbFontDownloadAdded",this.DVB_FONT_DOWNLOAD_COMPLETE="dvbFontDownloadComplete",this.DVB_FONT_DOWNLOAD_FAILED="dvbFontDownloadFailed",this.DYNAMIC_TO_STATIC="dynamicToStatic",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADING_STARTED="manifestLoadingStarted",this.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.NEW_TRACK_SELECTED="newTrackSelected",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.STREAM_INITIALIZING="streamInitializing",this.STREAM_UPDATED="streamUpdated",this.STREAM_ACTIVATED="streamActivated",this.STREAM_DEACTIVATED="streamDeactivated",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.CUE_ENTER="cueEnter",this.CUE_EXIT="cueExit",this.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.CAN_PLAY_THROUGH="canPlayThrough",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_INITIALIZED="playbackInitialized",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_LOADED_DATA="playbackLoadedData",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",this.EVENT_MODE_ON_START="eventModeOnStart",this.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",this.CONFORMANCE_VIOLATION="conformanceViolation",this.REPRESENTATION_SWITCH="representationSwitch",this.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",this.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",this.INBAND_PRFT="inbandPrft",this.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",this.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming"}}let e=new r;f.default=e},5212:function(_,f,t){t.r(f),f.default={STREAM:"stream",VIDEO:"video",AUDIO:"audio",TEXT:"text",MUXED:"muxed",IMAGE:"image",STPP:"stpp",TTML:"ttml",VTT:"vtt",WVTT:"wvtt",CONTENT_STEERING:"contentSteering",LIVE_CATCHUP_MODE_DEFAULT:"liveCatchupModeDefault",LIVE_CATCHUP_MODE_LOLP:"liveCatchupModeLoLP",MOVING_AVERAGE_SLIDING_WINDOW:"slidingWindow",MOVING_AVERAGE_EWMA:"ewma",BAD_ARGUMENT_ERROR:"Invalid Arguments",MISSING_CONFIG_ERROR:"Missing config parameter(s)",TRACK_SWITCH_MODE_ALWAYS_REPLACE:"alwaysReplace",TRACK_SWITCH_MODE_NEVER_REPLACE:"neverReplace",TRACK_SELECTION_MODE_FIRST_TRACK:"firstTrack",TRACK_SELECTION_MODE_HIGHEST_BITRATE:"highestBitrate",TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:"highestEfficiency",TRACK_SELECTION_MODE_WIDEST_RANGE:"widestRange",TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:"highestSelectionPriority",CMCD_QUERY_KEY:"CMCD",CMCD_MODE_QUERY:"query",CMCD_MODE_HEADER:"header",CMCD_AVAILABLE_KEYS:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"],CMCD_V2_AVAILABLE_KEYS:["msd","ltc"],CMCD_AVAILABLE_REQUESTS:["segment","mpd","xlink","steering","other"],INITIALIZE:"initialize",TEXT_SHOWING:"showing",TEXT_HIDDEN:"hidden",TEXT_DISABLED:"disabled",ACCESSIBILITY_CEA608_SCHEME:"urn:scte:dash:cc:cea-608:2015",CC1:"CC1",CC3:"CC3",UTF8:"utf-8",SCHEME_ID_URI:"schemeIdUri",START_TIME:"starttime",SERVICE_DESCRIPTION_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:scope:2019",SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:critical:2019",CTA_5004_2023_SCHEME:"urn:mpeg:dash:cta-5004:2023",THUMBNAILS_SCHEME_ID_URIS:["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],FONT_DOWNLOAD_DVB_SCHEME:"urn:dvb:dash:fontdownload:2014",COLOUR_PRIMARIES_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:ColourPrimaries",URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2014",EXT_URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2016",MATRIX_COEFFICIENTS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:MatrixCoefficients",TRANSFER_CHARACTERISTICS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:TransferCharacteristics",HDR_METADATA_FORMAT_SCHEME_ID_URI:"urn:dvb:dash:hdr-dmi",HDR_METADATA_FORMAT_VALUES:{ST2094_10:"ST2094-10",SL_HDR2:"SL-HDR2",ST2094_40:"ST2094-40"},MEDIA_CAPABILITIES_API:{COLORGAMUT:{SRGB:"srgb",P3:"p3",REC2020:"rec2020"},TRANSFERFUNCTION:{SRGB:"srgb",PQ:"pq",HLG:"hlg"},HDR_METADATATYPE:{SMPTE_ST_2094_10:"smpteSt2094-10",SLHDR2:"slhdr2",SMPTE_ST_2094_40:"smpteSt2094-40"}},XML:"XML",ARRAY_BUFFER:"ArrayBuffer",DVB_REPORTING_URL:"dvb:reportingUrl",DVB_PROBABILITY:"dvb:probability",OFF_MIMETYPE:"application/font-sfnt",WOFF_MIMETYPE:"application/font-woff",VIDEO_ELEMENT_READY_STATES:{HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},FILE_LOADER_TYPES:{FETCH:"fetch_loader",XHR:"xhr_loader"},THROUGHPUT_TYPES:{LATENCY:"throughput_type_latency",BANDWIDTH:"throughput_type_bandwidth"},THROUGHPUT_CALCULATION_MODES:{EWMA:"throughputCalculationModeEwma",ZLEMA:"throughputCalculationModeZlema",ARITHMETIC_MEAN:"throughputCalculationModeArithmeticMean",BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeByteSizeWeightedArithmeticMean",DATE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeDateWeightedArithmeticMean",HARMONIC_MEAN:"throughputCalculationModeHarmonicMean",BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeByteSizeWeightedHarmonicMean",DATE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeDateWeightedHarmonicMean"},LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE:{MOOF_PARSING:"lowLatencyDownloadTimeCalculationModeMoofParsing",DOWNLOADED_DATA:"lowLatencyDownloadTimeCalculationModeDownloadedData",AAST:"lowLatencyDownloadTimeCalculationModeAast"},RULES_TYPES:{QUALITY_SWITCH_RULES:"qualitySwitchRules",ABANDON_FRAGMENT_RULES:"abandonFragmentRules"},QUALITY_SWITCH_RULES:{BOLA_RULE:"BolaRule",THROUGHPUT_RULE:"ThroughputRule",INSUFFICIENT_BUFFER_RULE:"InsufficientBufferRule",SWITCH_HISTORY_RULE:"SwitchHistoryRule",DROPPED_FRAMES_RULE:"DroppedFramesRule",LEARN_TO_ADAPT_RULE:"L2ARule",LOL_PLUS_RULE:"LoLPRule"},ABANDON_FRAGMENT_RULES:{ABANDON_REQUEST_RULE:"AbandonRequestsRule"},ID3_SCHEME_ID_URI:"https://aomedia.org/emsg/ID3",COMMON_ACCESS_TOKEN_HEADER:"common-access-token",DASH_ROLE_SCHEME_ID:"urn:mpeg:dash:role:2011",CODEC_FAMILIES:{MP3:"mp3",AAC:"aac",AC3:"ac3",EC3:"ec3",DTSX:"dtsx",DTSC:"dtsc",AVC:"avc",HEVC:"hevc"}}},2861:function(_,f,t){t.r(f),f.default={CLEARKEY_KEYSTEM_STRING:"org.w3.clearkey",WIDEVINE_KEYSTEM_STRING:"com.widevine.alpha",PLAYREADY_KEYSTEM_STRING:"com.microsoft.playready",PLAYREADY_RECOMMENDATION_KEYSTEM_STRING:"com.microsoft.playready.recommendation",WIDEVINE_UUID:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",PLAYREADY_UUID:"9a04f079-9840-4286-ab92-e65be0885f95",CLEARKEY_UUID:"e2719d58-a985-b3c9-781a-b030af78d30e",W3C_CLEARKEY_UUID:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",INITIALIZATION_DATA_TYPE_CENC:"cenc",INITIALIZATION_DATA_TYPE_KEYIDS:"keyids",INITIALIZATION_DATA_TYPE_WEBM:"webm",ENCRYPTION_SCHEME_CENC:"cenc",ENCRYPTION_SCHEME_CBCS:"cbcs",MEDIA_KEY_MESSAGE_TYPES:{LICENSE_REQUEST:"license-request",LICENSE_RENEWAL:"license-renewal",LICENSE_RELEASE:"license-release",INDIVIDUALIZATION_REQUEST:"individualization-request"},ROBUSTNESS_STRINGS:{WIDEVINE:{SW_SECURE_CRYPTO:"SW_SECURE_CRYPTO",SW_SECURE_DECODE:"SW_SECURE_DECODE",HW_SECURE_CRYPTO:"HW_SECURE_CRYPTO",HW_SECURE_DECODE:"HW_SECURE_DECODE",HW_SECURE_ALL:"HW_SECURE_ALL"}},MEDIA_KEY_STATUSES:{USABLE:"usable",EXPIRED:"expired",RELEASED:"released",OUTPUT_RESTRICTED:"output-restricted",OUTPUT_DOWNSCALED:"output-downscaled",STATUS_PENDING:"status-pending",INTERNAL_ERROR:"internal-error"}}},4469:function(_,f,t){t.r(f),t.d(f,{default:function(){return L}});class u{constructor(){this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null}}u.SSL_CONNECTION_FAILED_PREFIX="SSL",u.DNS_RESOLUTION_FAILED="C00",u.HOST_UNREACHABLE="C01",u.CONNECTION_REFUSED="C02",u.CONNECTION_ERROR="C03",u.CORRUPT_MEDIA_ISOBMFF="M00",u.CORRUPT_MEDIA_OTHER="M01",u.BASE_URL_CHANGED="F00",u.BECAME_REPORTER="S00";var r=u,e=t(913),n=t(138);function c(fe){let X,xe;const Ve=(fe=fe||{}).eventBus,Le=fe.dashMetrics,Me=fe.metricsConstants,Pe=fe.events;function qe(Ut){let wt=new r;if(xe){for(const yn in Ut)Ut.hasOwnProperty(yn)&&(wt[yn]=Ut[yn]);wt.mpdurl||(wt.mpdurl=xe.originalUrl||xe.url),wt.terror||(wt.terror=new Date),Le.addDVBErrors(wt)}}function rt(Ut){Ut.error||(xe=Ut.manifest)}function Ze(Ut){qe({errorcode:r.BASE_URL_CHANGED,servicelocation:Ut.entry})}function ct(){qe({errorcode:r.BECAME_REPORTER})}function Vt(Ut){var wt;Ut.metric===Me.HTTP_REQUEST&&((wt=Ut.value).responsecode===0||wt.responsecode==null||wt.responsecode>=400||wt.responsecode<100||wt.responsecode>=600)&&qe({errorcode:wt.responsecode||r.CONNECTION_ERROR,url:wt.url,terror:wt.tresponse,servicelocation:wt._serviceLocation})}function Nt(Ut){let wt;switch(Ut.error?Ut.error.code:0){case MediaError.MEDIA_ERR_NETWORK:wt=r.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:wt=r.CORRUPT_MEDIA_OTHER;break;default:return}qe({errorcode:wt})}return X={initialize:function(){Ve.on(Pe.MANIFEST_UPDATED,rt,X),Ve.on(Pe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Ze,X),Ve.on(Pe.METRIC_ADDED,Vt,X),Ve.on(Pe.METRIC_UPDATED,Vt,X),Ve.on(Pe.PLAYBACK_ERROR,Nt,X),Ve.on(e.default.BECAME_REPORTING_PLAYER,ct,X)},reset:function(){Ve.off(Pe.MANIFEST_UPDATED,rt,X),Ve.off(Pe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Ze,X),Ve.off(Pe.METRIC_ADDED,Vt,X),Ve.off(Pe.METRIC_UPDATED,Vt,X),Ve.off(Pe.PLAYBACK_ERROR,Nt,X),Ve.off(e.default.BECAME_REPORTING_PLAYER,ct,X)}},X}c.__dashjs_factory_name="DVBErrorsTranslator";var i=n.default.getSingletonFactory(c),l=t(7377);function p(fe){fe=fe||{};let X,xe,Ve=!1,Le=this.context,Me=fe.mediaElement;return X={initialize:function(Pe){Pe&&Pe.length&&(Pe.forEach(qe=>{let rt=qe.starttime,Ze=rt+qe.duration;xe.add(rt,Ze)}),Ve=!!Pe[0]._useWallClockTime)},reset:function(){xe.clear()},isEnabled:function(){let Pe,qe=xe.length;if(!qe)return!0;Pe=Ve?new Date().getTime()/1e3:Me.currentTime;for(let rt=0;rt<qe;rt+=1){let Ze=xe.start(rt),ct=xe.end(rt);if(Ze<=Pe&&Pe<ct)return!0}return!1}},xe=(0,l.default)(Le).create(),X}p.__dashjs_factory_name="RangeController";var h=n.default.getClassFactory(p);function b(){return{serialise:function fe(X){let xe,Ve,Le=[],Me=[];for(xe in X)if(X.hasOwnProperty(xe)&&xe.indexOf("_")!==0){if(Ve=X[xe],Ve==null&&(Ve=""),Array.isArray(Ve)){if(!Ve.length)continue;Me=[],Ve.forEach(function(Pe){let qe=Object.prototype.toString.call(Pe).slice(8,-1)!=="Object";Me.push(qe?Pe:fe(Pe))}),Ve=Me.map(encodeURIComponent).join(",")}else typeof Ve=="string"?Ve=encodeURIComponent(Ve):Ve instanceof Date?Ve=Ve.toISOString():typeof Ve=="number"&&(Ve=Math.round(Ve));Le.push(xe+"="+Ve)}return Le.join("&")}}}b.__dashjs_factory_name="MetricSerialiser";var E=n.default.getSingletonFactory(b);function y(){let fe,X,xe,Ve=window.crypto||window.msCrypto,Le=Uint32Array,Me=Math.pow(2,8*Le.BYTES_PER_ELEMENT)-1;function Pe(){Ve&&(fe||(fe=new Le(10)),Ve.getRandomValues(fe),X=0)}return xe={random:function(qe,rt){let Ze;return qe||(qe=0),rt||(rt=1),Ve?(X===fe.length&&Pe(),Ze=fe[X]/Me,X+=1):Ze=Math.random(),Ze*(rt-qe)+qe}},Pe(),xe}y.__dashjs_factory_name="RNG";var R=n.default.getSingletonFactory(y),F=t(1926);function te(fe){let X;fe=fe||{};let xe,Ve,Le,Me,Pe,qe,rt,Ze=this.context,ct=[];const Vt=fe.metricsConstants;function Nt(){Me=!1,Pe=!1,qe=null,rt=null}return X={report:function(Ut,wt){Array.isArray(wt)||(wt=[wt]),Pe&&rt.isEnabled()&&wt.forEach(function(yn){let Nn=xe.serialise(yn);Ut!==Vt.DVB_ERRORS&&(Nn=`metricname=${Ut}&${Nn}`),Nn=`${qe}?${Nn}`,function(Pn,na,la){let Wn=new XMLHttpRequest;Wn.withCredentials=Ve.getXHRWithCredentialsForType(Vt.HTTP_REQUEST_DVB_REPORTING_TYPE);const xt=function(){let Ct=ct.indexOf(Wn);Ct!==-1&&(ct.splice(Ct,1),!(Wn.status>=200&&Wn.status<300)&&la())};ct.push(Wn);try{Wn.open("GET",Pn),Wn.onloadend=xt,Wn.onerror=xt,Wn.send()}catch{Wn.onerror()}}(Nn,0,function(){Pe=!1})})},initialize:function(Ut,wt){let yn;if(rt=wt,qe=Ut.dvbReportingUrl,!qe)throw new Error("required parameter missing (dvb:reportingUrl)");Me||(yn=Ut.dvbProbability,yn&&(yn===1e3||yn/1e3>=Le.random())&&(Pe=!0),Me=!0)},reset:function(){Nt()}},xe=E(Ze).getInstance(),Le=R(Ze).getInstance(),Ve=(0,F.default)(Ze).getInstance(),Nt(),X}te.__dashjs_factory_name="DVBReporting";var de=n.default.getClassFactory(te);function ee(fe){fe=fe||{};const X={"urn:dvb:dash:reporting:2014":de},xe=this.context;let Ve;const Le=fe.debug?fe.debug.getLogger(Ve):{},Me=fe.metricsConstants,Pe=fe.mediaPlayerModel||{};return Ve={create:function(qe,rt){let Ze;try{Ze=X[qe.schemeIdUri](xe).create({metricsConstants:Me,mediaPlayerModel:Pe}),Ze.initialize(qe,rt)}catch(ct){Ze=null,Le.error(`ReportingFactory: could not create Reporting with schemeIdUri ${qe.schemeIdUri} (${ct.message})`)}return Ze},register:function(qe,rt){X[qe]=rt},unregister:function(qe){delete X[qe]}},Ve}ee.__dashjs_factory_name="ReportingFactory";var ve=n.default.getSingletonFactory(ee);function Ae(fe){let X,xe=[];const Ve=ve(this.context).getInstance(fe);return X={initialize:function(Le,Me){Le.some(Pe=>{let qe=Ve.create(Pe,Me);if(qe)return xe.push(qe),!0})},reset:function(){xe.forEach(Le=>Le.reset()),xe=[]},report:function(Le,Me){xe.forEach(Pe=>Pe.report(Le,Me))}},X}Ae.__dashjs_factory_name="ReportingController";var M=n.default.getClassFactory(Ae);function S(){return{reconstructFullMetricName:function(fe,X,xe){let Ve=fe;return X&&(Ve+="("+X,xe&&xe.length&&(Ve+=","+xe),Ve+=")"),Ve},validateN:function(fe){if(!fe)throw new Error("missing n");if(isNaN(fe))throw new Error("n is NaN");if(fe<0)throw new Error("n must be positive");return fe}}}S.__dashjs_factory_name="HandlerHelpers";var q=n.default.getSingletonFactory(S);function se(fe){let X,xe,Ve,Le,Me,Pe;fe=fe||{};let qe=this.context,rt=q(qe).getInstance(),Ze=[];const ct=fe.metricsConstants;function Vt(){let Nt=function(){try{return Object.keys(Ze).map(Ut=>Ze[Ut]).reduce((Ut,wt)=>Ut.level<wt.level?Ut:wt)}catch{return}}();Nt&&Pe!==Nt.t&&(Pe=Nt.t,xe.report(Le,Nt))}return X={initialize:function(Nt,Ut,wt){Ut&&(Ve=rt.validateN(wt),xe=Ut,Le=rt.reconstructFullMetricName(Nt,wt),Me=setInterval(Vt,Ve))},reset:function(){clearInterval(Me),Me=null,Ve=0,xe=null,Pe=null},handleNewMetric:function(Nt,Ut,wt){Nt===ct.BUFFER_LEVEL&&(Ze[wt]=Ut)}},X}se.__dashjs_factory_name="BufferLevelHandler";var P=n.default.getClassFactory(se),ae=n.default.getClassFactory(function(fe){let X,xe,Ve=(fe=fe||{}).eventBus;const Le=fe.metricsConstants;function Me(){Ve.off(e.default.METRICS_INITIALISATION_COMPLETE,Me,this),Ve.trigger(e.default.BECAME_REPORTING_PLAYER)}return X={initialize:function(Pe,qe){qe&&(xe=qe,Ve.on(e.default.METRICS_INITIALISATION_COMPLETE,Me,this))},reset:function(){xe=null},handleNewMetric:function(Pe,qe){Pe===Le.DVB_ERRORS&&xe&&xe.report(Pe,qe)}},X});function we(fe){let X,xe,Ve,Le,Me,Pe;fe=fe||{};let qe=[],rt=q(this.context).getInstance();const Ze=fe.metricsConstants;function ct(){var Vt=qe;Vt.length&&xe&&xe.report(Me,Vt),qe=[]}return X={initialize:function(Vt,Nt,Ut,wt){Nt&&(Ve=rt.validateN(Ut),xe=Nt,wt&&wt.length&&(Le=wt),Me=rt.reconstructFullMetricName(Vt,Ut,wt),Pe=setInterval(ct,Ve))},reset:function(){clearInterval(Pe),Pe=null,Ve=null,Le=null,qe=[],xe=null},handleNewMetric:function(Vt,Nt){Vt===Ze.HTTP_REQUEST&&(Le&&Le!==Nt.type||qe.push(Nt))}},X}we.__dashjs_factory_name="HttpListHandler";var $=n.default.getClassFactory(we);function ze(){let fe,X,xe;return fe={initialize:function(Ve,Le){X=Ve,xe=Le},reset:function(){xe=null,X=void 0},handleNewMetric:function(Ve,Le){Ve===X&&xe&&xe.report(X,Le)}},fe}ze.__dashjs_factory_name="GenericMetricHandler";var Ce=n.default.getClassFactory(ze);function Te(fe){let X;const xe=(fe=fe||{}).debug?fe.debug.getLogger(X):{};let Ve=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/;const Le=this.context;let Me={BufferLevel:P,DVBErrors:ae,HttpList:$,PlayList:Ce,RepSwitchList:Ce,TcpList:Ce};return X={create:function(Pe,qe){var rt,Ze=Pe.match(Ve);if(Ze){try{(rt=Me[Ze[1]](Le).create({eventBus:fe.eventBus,metricsConstants:fe.metricsConstants})).initialize(Ze[1],qe,Ze[3],Ze[5])}catch(ct){rt=null,xe.error(`MetricsHandlerFactory: Could not create handler for type ${Ze[1]} with args ${Ze[3]}, ${Ze[5]} (${ct.message})`)}return rt}},register:function(Pe,qe){Me[Pe]=qe},unregister:function(Pe){delete Me[Pe]}},X}Te.__dashjs_factory_name="MetricsHandlerFactory";var Ye=n.default.getSingletonFactory(Te);function Ue(fe){fe=fe||{};let X,xe=[];const Ve=this.context,Le=fe.eventBus,Me=fe.events;let Pe=Ye(Ve).getInstance({debug:fe.debug,eventBus:fe.eventBus,metricsConstants:fe.metricsConstants});function qe(rt){xe.forEach(Ze=>{Ze.handleNewMetric(rt.metric,rt.value,rt.mediaType)})}return X={initialize:function(rt,Ze){rt.split(",").forEach((ct,Vt,Nt)=>{let Ut;if(ct.indexOf("(")!==-1&&ct.indexOf(")")===-1){let wt=Nt[Vt+1];wt&&wt.indexOf("(")===-1&&wt.indexOf(")")!==-1&&(ct+=","+wt,delete Nt[Vt+1])}Ut=Pe.create(ct,Ze),Ut&&xe.push(Ut)}),Le.on(Me.METRIC_ADDED,qe,X),Le.on(Me.METRIC_UPDATED,qe,X)},reset:function(){Le.off(Me.METRIC_ADDED,qe,X),Le.off(Me.METRIC_UPDATED,qe,X),xe.forEach(rt=>rt.reset()),xe=[]}},X}Ue.__dashjs_factory_name="MetricsHandlersController";var De=n.default.getClassFactory(Ue);function We(fe){let X,xe,Ve,Le;fe=fe||{};let Me=this.context;function Pe(){X&&X.reset(),xe&&xe.reset(),Ve&&Ve.reset()}return Le={initialize:function(qe){try{Ve=h(Me).create({mediaElement:fe.mediaElement}),Ve.initialize(qe.Range),xe=M(Me).create({debug:fe.debug,metricsConstants:fe.metricsConstants,mediaPlayerModel:fe.mediaPlayerModel}),xe.initialize(qe.Reporting,Ve),X=De(Me).create({debug:fe.debug,eventBus:fe.eventBus,metricsConstants:fe.metricsConstants,events:fe.events}),X.initialize(qe.metrics,xe)}catch(rt){throw Pe(),rt}},reset:Pe},Le}We.__dashjs_factory_name="MetricsController";var lt=n.default.getClassFactory(We),At=class{constructor(){this.metrics="",this.Range=[],this.Reporting=[]}},jt=class{constructor(){this.starttime=0,this.duration=1/0,this._useWallClockTime=!1}},Bt=class{constructor(){this.schemeIdUri="",this.value="",this.dvbReportingUrl="",this.dvbProbability=1e3}};function Ie(fe){let X,xe=(fe=fe||{}).adapter;const Ve=fe.constants;return X={getMetrics:function(Le){let Me=[];return Le&&Le.Metrics&&Le.Metrics.forEach(Pe=>{var qe=new At,rt=xe.getIsDynamic(Le);Pe.hasOwnProperty("metrics")&&(qe.metrics=Pe.metrics,Pe.Range&&Pe.Range.forEach(Ze=>{var ct=new jt;ct.starttime=function(Vt,Nt,Ut){let wt,yn,Nn=0;return Nt?Nn=xe.getAvailabilityStartTime(Vt)/1e3:(wt=xe.getRegularPeriods(Vt),wt.length&&(Nn=wt[0].start)),yn=Nn,Ut&&Ut.hasOwnProperty(Ve.START_TIME)&&(yn+=Ut.starttime),yn}(Le,rt,Ze),Ze.hasOwnProperty("duration")?ct.duration=Ze.duration:ct.duration=xe.getDuration(Le),ct._useWallClockTime=rt,qe.Range.push(ct)}),Pe.Reporting&&(Pe.Reporting.forEach(Ze=>{var ct=new Bt;Ze.hasOwnProperty(Ve.SCHEME_ID_URI)&&(ct.schemeIdUri=Ze.schemeIdUri,Ze.hasOwnProperty("value")&&(ct.value=Ze.value),Ze.hasOwnProperty(Ve.DVB_REPORTING_URL)&&(ct.dvbReportingUrl=Ze[Ve.DVB_REPORTING_URL]),Ze.hasOwnProperty(Ve.DVB_PROBABILITY)&&(ct.dvbProbability=Ze[Ve.DVB_PROBABILITY]),qe.Reporting.push(ct))}),Me.push(qe)))}),Me}},X}Ie.__dashjs_factory_name="ManifestParsing";var Ne=n.default.getSingletonFactory(Ie);function Qe(fe){let X;fe=fe||{};let xe={},Ve=this.context,Le=fe.eventBus;const Me=fe.events;function Pe(rt){if(rt.error)return;let Ze=Object.keys(xe);Ne(Ve).getInstance({adapter:fe.adapter,constants:fe.constants}).getMetrics(rt.manifest).forEach(ct=>{const Vt=JSON.stringify(ct);if(xe.hasOwnProperty(Vt))Ze.splice(Vt,1);else try{let Nt=lt(Ve).create(fe);Nt.initialize(ct),xe[Vt]=Nt}catch{}}),Ze.forEach(ct=>{xe[ct].reset(),delete xe[ct]}),Le.trigger(e.default.METRICS_INITIALISATION_COMPLETE)}function qe(){Object.keys(xe).forEach(rt=>{xe[rt].reset()}),xe={}}return X={reset:function(){Le.off(Me.MANIFEST_UPDATED,Pe,X),Le.off(Me.STREAM_TEARDOWN_COMPLETE,qe,X)}},Le.on(Me.MANIFEST_UPDATED,Pe,X),Le.on(Me.STREAM_TEARDOWN_COMPLETE,qe,X),X}Qe.__dashjs_factory_name="MetricsCollectionController";var B=n.default.getClassFactory(Qe);function Y(){let fe,X,xe=this.context;return fe={createMetricsReporting:function(Ve){return X=i(xe).getInstance({eventBus:Ve.eventBus,dashMetrics:Ve.dashMetrics,metricsConstants:Ve.metricsConstants,events:Ve.events}),X.initialize(),B(xe).create(Ve)},getReportingFactory:function(){return ve(xe).getInstance()},getMetricsHandlerFactory:function(){return Ye(xe).getInstance()}},fe}Y.__dashjs_factory_name="MetricsReporting";const I=dashjs.FactoryMaker.getClassFactory(Y);I.events=e.default,dashjs.FactoryMaker.updateClassFactory(Y.__dashjs_factory_name,I);var L=I},913:function(_,f,t){t.r(f);var u=t(7252);class r extends u.default{constructor(){super(),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",this.CMCD_DATA_GENERATED="cmcdDataGenerated"}}let e=new r;f.default=e},1926:function(_,f,t){t.r(f);var u=t(5717),r=t(138),e=t(8261),n=t(656),c=t(5212);function i(){let l,p,h,b,E,y,R,F,te,de;const ee=this.context,ve=(0,e.default)(ee).getInstance();function Ae(){b=[],E=[],y=[],R=[],F=[],de=[],te=null,p=[]}function M(P,ae){let we=-1;P.some(($,ze)=>{if($===ae)return we=ze,!0}),we<0||P.splice(we,1)}function S(P){let ae;for(ae=0;ae<de.length;ae++)if(de[ae].rulename===P)return ae;return-1}function q(P,ae){se(P,ae);let we=new u.default;we.schemeIdUri=P,we.value=ae,p.push(we)}function se(P,ae){(0,n.checkParameterType)(P,"string"),(0,n.checkParameterType)(ae,"string"),p.forEach(function(we,$){we.schemeIdUri===P&&we.value===ae&&p.splice($,1)})}return l={addAbrCustomRule:function(P,ae,we){if(typeof P!="string"||P!==c.default.RULES_TYPES.ABANDON_FRAGMENT_RULES&&P!==c.default.RULES_TYPES.QUALITY_SWITCH_RULES||typeof ae!="string")throw c.default.BAD_ARGUMENT_ERROR;let $=S(ae);$===-1?de.push({type:P,rulename:ae,rule:we}):(de[$].type=P,de[$].rule=we)},addRequestInterceptor:function(P){b.push(P)},addResponseInterceptor:function(P){E.push(P)},addUTCTimingSource:q,clearDefaultUTCTimingSources:function(){p=[]},getAbrCustomRules:function(){return de},getCustomCapabilitiesFilters:function(){return F},getCustomInitialTrackSelectionFunction:function(){return te},getLicenseRequestFilters:function(){return y},getLicenseResponseFilters:function(){return R},getRequestInterceptors:function(){return b},getResponseInterceptors:function(){return E},getUTCTimingSources:function(){return p},getXHRWithCredentialsForType:function(P){const ae=h[P];return ae===void 0?h.default:ae},registerCustomCapabilitiesFilter:function(P){F.push(P)},registerLicenseRequestFilter:function(P){y.push(P)},registerLicenseResponseFilter:function(P){R.push(P)},removeAbrCustomRule:function(P){if(P){let ae=S(P);ae!==-1&&de.splice(ae,1)}else de=[]},removeAllAbrCustomRule:function(){de=[]},removeRequestInterceptor:function(P){M(b,P)},removeResponseInterceptor:function(P){M(E,P)},removeUTCTimingSource:se,reset:function(){Ae()},resetCustomInitialTrackSelectionFunction:function(){te=null},restoreDefaultUTCTimingSources:function(){let P=ve.get().streaming.utcSynchronization.defaultTimingSource;q(P.scheme,P.value)},setConfig:function(){},setCustomInitialTrackSelectionFunction:function(P){te=P},setXHRWithCredentialsForType:function P(ae,we){ae?h[ae]=!!we:Object.keys(h).forEach($=>{P($,we)})},unregisterCustomCapabilitiesFilter:function(P){M(F,P)},unregisterLicenseRequestFilter:function(P){M(y,P)},unregisterLicenseResponseFilter:function(P){M(R,P)}},h={default:!1},Ae(),l}i.__dashjs_factory_name="CustomParametersModel",f.default=r.default.getSingletonFactory(i)},3888:function(_,f,t){t.r(f),t.d(f,{default:function(){return Wn}});var u=t(8854),r=t(2861);const e={prefixes:["clearkey","dashif","ck"]};class n{static findMp4ProtectionElement(Ct){let ht=null;for(let it=0;it<Ct.length;++it){let Pt=Ct[it];Pt.schemeIdUri&&Pt.schemeIdUri.toLowerCase()===u.default.MP4_PROTECTION_SCHEME&&Pt.value&&(Pt.value.toLowerCase()===r.default.ENCRYPTION_SCHEME_CENC||Pt.value.toLowerCase()===r.default.ENCRYPTION_SCHEME_CBCS)&&(ht=Pt)}return ht}static getPSSHData(Ct){let ht=8,it=new DataView(Ct),Pt=it.getUint8(ht);return ht+=20,Pt>0&&(ht+=4+16*it.getUint32(ht)),ht+=4,Ct.slice(ht)}static getPSSHForKeySystem(Ct,ht){let it=n.parsePSSHList(ht);return Ct&&it.hasOwnProperty(Ct.uuid.toLowerCase())?it[Ct.uuid.toLowerCase()]:null}static parseInitDataFromContentProtection(Ct,ht){return"pssh"in Ct&&Ct.pssh?(Ct.pssh.__text=Ct.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),ht.decodeArray(Ct.pssh.__text).buffer):null}static parsePSSHList(Ct){if(Ct==null)return[];let ht=new DataView(Ct.buffer||Ct),it={},Pt=0;for(;;){let Dt,Lt,Et,bt,pt,Mt,un=Pt;if(Pt>=ht.buffer.byteLength)break;if(Dt=ht.getUint32(Pt),Lt=Pt+Dt,Pt+=4,ht.getUint32(Pt)===1886614376)if(Pt+=4,Et=ht.getUint8(Pt),Et===0||Et===1){for(Pt++,Pt+=3,bt="",pt=0;pt<4;pt++)Mt=ht.getUint8(Pt+pt).toString(16),bt+=Mt.length===1?"0"+Mt:Mt;for(Pt+=4,bt+="-",pt=0;pt<2;pt++)Mt=ht.getUint8(Pt+pt).toString(16),bt+=Mt.length===1?"0"+Mt:Mt;for(Pt+=2,bt+="-",pt=0;pt<2;pt++)Mt=ht.getUint8(Pt+pt).toString(16),bt+=Mt.length===1?"0"+Mt:Mt;for(Pt+=2,bt+="-",pt=0;pt<2;pt++)Mt=ht.getUint8(Pt+pt).toString(16),bt+=Mt.length===1?"0"+Mt:Mt;for(Pt+=2,bt+="-",pt=0;pt<6;pt++)Mt=ht.getUint8(Pt+pt).toString(16),bt+=Mt.length===1?"0"+Mt:Mt;Pt+=6,bt=bt.toLowerCase(),Pt+=4,it[bt]=ht.buffer.slice(un,Lt),Pt=Lt}else Pt=Lt;else Pt=Lt}return it}static getLicenseServerUrlFromMediaInfo(Ct,ht){try{if(!Ct||Ct.length===0)return null;let it=0,Pt=null;for(;it<Ct.length&&!Pt;){const Dt=Ct[it];if(Dt&&Dt.contentProtection&&Dt.contentProtection.length>0){const Lt=Dt.contentProtection.filter(Et=>Et.schemeIdUri&&Et.schemeIdUri===ht);if(Lt&&Lt.length>0){let Et=0;for(;Et<Lt.length&&!Pt;){const bt=Lt[Et];bt.laUrl&&bt.laUrl.__prefix&&e.prefixes.includes(bt.laUrl.__prefix)&&bt.laUrl.__text&&(Pt=bt.laUrl.__text),Et+=1}}}it+=1}return Pt}catch{return null}}static hexKidToBufferSource(Ct){const ht=Ct.replace(/-/g,"");return new Uint8Array(ht.match(/[\da-f]{2}/gi).map(function(it){return parseInt(it,16)})).buffer}}var c=n,i=class{constructor(xt,Ct){this.contentType=xt,this.robustness=Ct}},l=class{constructor(xt,Ct,ht,it,Pt,Dt){this.initDataTypes=Dt&&Dt.length>0?Dt:[r.default.INITIALIZATION_DATA_TYPE_CENC],xt&&xt.length&&(this.audioCapabilities=xt),Ct&&Ct.length&&(this.videoCapabilities=Ct),this.distinctiveIdentifier=ht,this.persistentState=it,this.sessionTypes=Pt}},p=t(1923),h=t(1944),b=class{constructor(xt,Ct,ht,it,Pt,Dt,Lt,Et){this.url=xt,this.method=Ct,this.responseType=ht,this.headers=it,this.withCredentials=Pt,this.messageType=Dt,this.sessionId=Lt,this.data=Et}},E=class{constructor(xt,Ct,ht){this.url=xt,this.headers=Ct,this.data=ht}},y=t(7568),R=t(7263),F=t(5212),te=t(138);function de(xt){const Ct=(xt=xt||{}).BASE64,ht=xt.cmcdModel,it=xt.constants,Pt=xt.customParametersModel,Dt=xt.debug,Lt=xt.eventBus,Et=xt.events,bt=xt.protectionKeyController,pt=xt.settings;let Mt,un,It,an,hn,cn,gn,kn,tn,dt,Je,Ot,Wt=xt.protectionModel,mn=[];function Tn(){if(!(Lt&&Lt.hasOwnProperty("on")&&bt&&bt.hasOwnProperty("getSupportedKeySystemMetadataFromContentProtection")))throw new Error("Missing config parameter(s)")}function zn(Rt,Zt){Je||an?Je&&Qn():function(bn,Sn){if(an)return;var Fn;an=!0;const $n=function(An){const Dn=[];for(let Cn=0;Cn<An.length;Cn++){const Hn=qn(An[Cn]);Dn.push({ks:An[Cn].ks,configs:[Hn],protData:An[Cn].protData})}return Dn}(bn=(Fn=bn).sort((An,Dn)=>(Mt&&Mt[An.ks.systemString]&&Mt[An.ks.systemString].priority>=0?Mt[An.ks.systemString].priority:Fn.length)-(Mt&&Mt[Dn.ks.systemString]&&Mt[Dn.ks.systemString].priority>=0?Mt[Dn.ks.systemString].priority:Fn.length)));let Un;Wt.requestKeySystemAccess($n).then(An=>(Un=An.data,function(Dn){let Cn=Dn&&Dn.selectedSystemString?Dn.selectedSystemString:Dn.keySystem.systemString;return gn.info("DRM: KeySystem Access Granted for system string ("+Cn+")!  Selecting key system..."),Wt.selectKeySystem(Dn)}(Un))).then(An=>{(function(Dn,Cn){Je=Dn,an=!1,Lt.trigger(Et.KEY_SYSTEM_SELECTED,{data:Cn});const Hn=sa(Je);Hn&&Hn.serverCertificate&&Hn.serverCertificate.length>0&&Wt.setServerCertificate(Ct.decodeArray(Hn.serverCertificate).buffer),Qn()})(An,Un)}).catch(An=>{(function(Dn,Cn){Je=null,an=!1,Cn||Lt.trigger(Et.KEY_SYSTEM_SELECTED,{data:null,error:new h.default(p.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,p.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Dn.error)})})(An,Sn)})}(Rt,Zt)}function Qn(){let Rt;for(let bn=0;bn<tn.length;bn++)for(Rt=0;Rt<tn[bn].length;Rt++)if(Je===tn[bn][Rt].ks){Zt=tn[bn][Rt],bt.isClearKey(Je)&&function(Sn){if(Sn.protData&&Sn.protData.hasOwnProperty("clearkeys")&&Object.keys(Sn.protData.clearkeys).length!==0){const Fn={kids:Object.keys(Sn.protData.clearkeys)};Sn.initData=new TextEncoder().encode(JSON.stringify(Fn))}}(Zt),Zt.sessionId?xn(Zt):Zt.initData!==null&&Vn(Zt);break}var Zt;tn=[]}function qn(Rt){const Zt=Rt.protData,bn=[],Sn=[],Fn=Zt&&Zt.initDataTypes&&Zt.initDataTypes.length>0?Zt.initDataTypes:[r.default.INITIALIZATION_DATA_TYPE_CENC],$n=Zt&&Zt.audioRobustness&&Zt.audioRobustness.length>0?Zt.audioRobustness:dt,Un=Zt&&Zt.videoRobustness&&Zt.videoRobustness.length>0?Zt.videoRobustness:dt,An=Rt.sessionType,Dn=Zt&&Zt.distinctiveIdentifier?Zt.distinctiveIdentifier:"optional",Cn=Zt&&Zt.persistentState?Zt.persistentState:An==="temporary"?"optional":"required";return kn.forEach(Hn=>{Hn.type===it.AUDIO?bn.push(new i(Hn.codec,$n)):Hn.type===it.VIDEO&&Sn.push(new i(Hn.codec,Un))}),new l(bn,Sn,Dn,Cn,[An],Fn)}function xn(Rt){Tn(),Wt.loadKeySession(Rt)}function Vn(Rt){if(Rt&&function(bn){if(!bn)return!1;try{const Sn=Wt.getSessionTokens();for(let Fn=0;Fn<Sn.length;Fn++)if(Sn[Fn].getKeyId()===bn)return!0;return!1}catch{return!1}}(Rt.keyId))return;const Zt=c.getPSSHForKeySystem(Je,Rt?Rt.initData:null);if(Zt){if(ga(Zt))return;try{Rt.initData=Zt,Wt.createKeySession(Rt)}catch(bn){Lt.trigger(Et.KEY_SESSION_CREATED,{data:null,error:new h.default(p.default.KEY_SESSION_CREATED_ERROR_CODE,p.default.KEY_SESSION_CREATED_ERROR_MESSAGE+bn.message)})}}else Rt&&Rt.initData?Wt.createKeySession(Rt):Lt.trigger(Et.KEY_SESSION_CREATED,{data:null,error:new h.default(p.default.KEY_SESSION_CREATED_ERROR_CODE,p.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Je?Je.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function sa(Rt){if(Rt){const Zt=Rt.systemString;if(Mt)return Zt in Mt?Mt[Zt]:null}return null}function ga(Rt){if(!Rt)return!1;try{const Zt=Wt.getAllInitData();for(let bn=0;bn<Zt.length;bn++)if(bt.initDataEquals(Rt,Zt[bn]))return gn.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Fa(Rt){Tn(),Rt?(Wt.setMediaElement(Rt),Lt.on(Et.NEED_KEY,Or,un)):Rt===null&&(Wt.setMediaElement(Rt),Lt.off(Et.NEED_KEY,Or,un))}function Jn(Rt){gn.debug("DRM: onKeyMessage");const Zt=Rt.data;Lt.trigger(Et.KEY_MESSAGE,{data:Zt});const bn=Zt.messageType?Zt.messageType:r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,Sn=Zt.message,Fn=Zt.sessionToken,$n=sa(Je),Un=bt.getLicenseServerModelInstance(Je,$n,bn),An={sessionToken:Fn,messageType:bn};if(Sn&&Sn.byteLength!==0){if(!Un)return gn.debug("DRM: License server request not required for this message (type = "+Rt.data.messageType+").  Session ID = "+Fn.getSessionId()),void ma(An);if(bt.isClearKey(Je)){const Dn=bt.processClearKeyLicenseRequest(Je,$n,Sn);if(Dn&&Dn.keyPairs&&Dn.keyPairs.length>0)return gn.debug("DRM: ClearKey license request handled by application!"),ma(An),void Wt.updateKeySession(Fn,Dn)}(function(Dn,Cn,Hn){const xa=Dn.sessionToken,va=Dn.messageType?Dn.messageType:r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,ja={sessionToken:xa,messageType:va},aa=Je?Je.systemString:null;let ri=function(Bn,Ba,or,lr,qa){let ua=null;const ui=lr.message;if(Bn&&Bn.serverURL){const Ia=Bn.serverURL;typeof Ia=="string"&&Ia!==""?ua=Ia:typeof Ia=="object"&&Ia.hasOwnProperty(Ba)&&(ua=Ia[Ba])}else if(Bn&&Bn.laURL&&Bn.laURL!=="")ua=Bn.laURL;else if(ua=c.getLicenseServerUrlFromMediaInfo(kn,Je.schemeIdURI),!ua&&!bt.isClearKey(Je)){const Ia=c.getPSSHData(or.initData);ua=Je.getLicenseServerURLFromInitData(Ia),ua||(ua=lr.laURL)}return ua=qa.getServerURLFromMessage(ua,ui,Ba),ua}(Hn,va,xa,Dn,Cn);if(!ri)return void ma(ja,new h.default(p.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));const gr={};let Fr=!1;Hn&&Ea(gr,Hn.httpRequestHeaders);const ii=Dn.message;Ea(gr,Je.getRequestHeadersFromMessage(ii)),Object.keys(gr).forEach(Bn=>{Bn.toLowerCase()==="authorization"&&(Fr=!0)}),Hn&&typeof Hn.withCredentials=="boolean"&&(Fr=Hn.withCredentials);const ka=function(Bn){if(Wt)if(Bn.status>=200&&Bn.status<=299){const Ba=R.default.parseHttpHeaders(Bn.getAllResponseHeaders?Bn.getAllResponseHeaders():null);let or=new E(Bn.responseURL,Ba,Bn.response);ni(Pt.getLicenseResponseFilters(),or).then(()=>{const lr=Cn.getLicenseMessage(or.data,aa,va);lr!==null?(ma(ja),Wt.updateKeySession(xa,lr)):ti(Bn,ja,aa,va,Cn)})}else ti(Bn,ja,aa,va,Cn)},ir=function(Bn){ma(ja,new h.default(p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+aa+' update, XHR aborted. status is "'+Bn.statusText+'" ('+Bn.status+"), readyState is "+Bn.readyState))},oi=function(Bn){ma(ja,new h.default(p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+aa+' update, XHR error. status is "'+Bn.statusText+'" ('+Bn.status+"), readyState is "+Bn.readyState))},_a=Je.getLicenseRequestFromMessage(ii),li=Cn.getHTTPMethod(va),jr=Cn.getResponseType(aa,va),Ur=Hn&&!isNaN(Hn.httpTimeout)?Hn.httpTimeout:8e3,Br=xa.getSessionId()||null;let qr=new b(ri,li,jr,gr,Fr,va,Br,_a);const si=isNaN(pt.get().streaming.retryAttempts[y.HTTPRequest.LICENSE])?3:pt.get().streaming.retryAttempts[y.HTTPRequest.LICENSE];ni(Pt.getLicenseRequestFilters(),qr).then(()=>{Sa(qr,si,Ur,ka,ir,oi)})})(Zt,Un,$n)}else ma(An,new h.default(p.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function ma(Rt){let Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Lt.trigger(Et.LICENSE_REQUEST_COMPLETE,{data:Rt,error:Zt})}function Sa(Rt,Zt,bn,Sn,Fn,$n){const Un=new XMLHttpRequest,An=ht.getCmcdParametersFromManifest();if(ht.isCmcdEnabled()&&(An.mode?An.mode:pt.get().streaming.cmcd.mode)===F.default.CMCD_MODE_QUERY){const Cn=ht.getQueryParameter({url:Rt.url,type:y.HTTPRequest.LICENSE});Cn&&(Rt.url=R.default.addAdditionalQueryParameterToUrl(Rt.url,[Cn]))}Un.open(Rt.method,Rt.url,!0),Un.responseType=Rt.responseType,Un.withCredentials=Rt.withCredentials,bn>0&&(Un.timeout=bn);for(const Cn in Rt.headers)Un.setRequestHeader(Cn,Rt.headers[Cn]);if(ht.isCmcdEnabled()&&(An.mode?An.mode:pt.get().streaming.cmcd.mode)===F.default.CMCD_MODE_HEADER){const Cn=ht.getHeaderParameters({url:Rt.url,type:y.HTTPRequest.LICENSE});if(Cn)for(const Hn in Cn){let xa=Cn[Hn];xa&&Un.setRequestHeader(Hn,xa)}}const Dn=function(){Zt--;const Cn=isNaN(pt.get().streaming.retryIntervals[y.HTTPRequest.LICENSE])?1e3:pt.get().streaming.retryIntervals[y.HTTPRequest.LICENSE];hn=setTimeout(function(){Sa(Rt,Zt,bn,Sn,Fn,$n)},Cn)};Un.onload=function(){cn=null,this.status>=200&&this.status<=299||Zt<=0?Sn(this):(gn.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Zt),Dn())},Un.ontimeout=Un.onerror=function(){cn=null,Zt<=0?$n(this):(gn.warn("License request network request failed . Retrying it... Pending retries: "+Zt),Dn())},Un.onabort=function(){Fn(this)},Lt.trigger(Et.LICENSE_REQUEST_SENDING,{url:Rt.url,headers:Rt.headers,payload:Rt.data,sessionId:Rt.sessionId}),cn=Un,Un.send(Rt.data)}function rr(){cn&&(cn.onloadend=cn.onerror=cn.onprogress=void 0,cn.abort(),cn=null),hn&&(clearTimeout(hn),hn=null)}function Ea(Rt,Zt){if(Zt)for(const bn in Zt)Rt[bn]=Zt[bn]}function ti(Rt,Zt,bn,Sn,Fn){let $n="NONE",Un=null;Rt.response&&($n=Fn.getErrorResponse(Rt.response,bn,Sn),Un={serverResponse:Rt.response||null,responseCode:Rt.status||null,responseText:Rt.statusText||null}),ma(Zt,new h.default(p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+bn+' update, XHR complete. status is "'+Rt.statusText+'" ('+Rt.status+"), readyState is "+Rt.readyState+".  Response is "+$n,Un))}function ni(Rt,Zt){return Rt?Rt.reduce((bn,Sn)=>bn.then(()=>Sn(Zt)),Promise.resolve()):Promise.resolve()}function Or(Rt,Zt){if(!pt.get().streaming.protection.ignoreEmeEncryptedEvent){if(gn.debug("DRM: onNeedKey"),Rt.key.initDataType!==r.default.INITIALIZATION_DATA_TYPE_CENC)return void gn.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Rt.key.initDataType);if(kn.length===0&&(gn.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Zt=Zt===void 0?1:Zt+1)<5))return void mn.push(setTimeout(()=>{Or(Rt,Zt)},500));let Sn=Rt.key.initData;if(ArrayBuffer.isView(Sn)&&(Sn=Sn.buffer),Je){const $n=c.getPSSHForKeySystem(Je,Sn);if($n&&ga($n))return}gn.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Sn)));const Fn=bt.getSupportedKeySystemsFromSegmentPssh(Sn,Mt,Ot);if(Fn.length===0)return void gn.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");bn=Fn,tn.push(bn),zn(bn,!1)}var bn}function ai(Rt){const Zt=Wt.getSessionTokens();if(Zt&&Zt.length>0){const bn=Zt.filter(Sn=>[...Rt].includes(Sn.normalizedKeyId));if(bn.some(Sn=>!Sn.hasTriggeredKeyStatusMapUpdate)||bn.length===0)return!1}return!pt.get().streaming.protection.ignoreKeyStatuses&&Rt&&Rt.size>0&&It&&It.size>0}return un={areKeyIdsExpired:function(Rt){try{return!!ai(Rt)&&[...Rt].every(Zt=>It.get(Zt)===r.default.MEDIA_KEY_STATUSES.EXPIRED)}catch(Zt){return gn.error(Zt),!1}},areKeyIdsUsable:function(Rt){try{return!ai(Rt)||[...Rt].some(Zt=>{const bn=It.get(Zt);return bn&&bn!==r.default.MEDIA_KEY_STATUSES.INTERNAL_ERROR&&bn!==r.default.MEDIA_KEY_STATUSES.OUTPUT_RESTRICTED})}catch(Zt){return gn.error(Zt),!0}},clearMediaInfoArray:function(){kn=[]},closeKeySession:function(Rt){Tn(),Wt.closeKeySession(Rt)},createKeySession:Vn,getKeySystems:function(){return bt?bt.getKeySystems():[]},getSupportedKeySystemMetadataFromContentProtection:function(Rt){return Tn(),bt.getSupportedKeySystemMetadataFromContentProtection(Rt,Mt,Ot)},handleKeySystemFromManifest:function(){if(!kn||kn.length===0)return;let Rt=[];kn.forEach(Zt=>{const bn=bt.getSupportedKeySystemMetadataFromContentProtection(Zt.contentProtection,Mt,Ot);bn.length>0&&(Rt.length===0&&(Rt=bn),tn.push(bn))}),Rt&&Rt.length>0&&zn(Rt,!0)},initializeForMedia:function(Rt){if(!Rt)throw new Error("mediaInfo can not be null or undefined");Tn(),kn.push(Rt)},loadKeySession:xn,removeKeySession:function(Rt){Tn(),Wt.removeKeySession(Rt)},reset:function(){Lt.off(Et.INTERNAL_KEY_MESSAGE,Jn,un),Tn(),rr(),Fa(null),Je=null,an=!1,It=new Map,Wt&&(Wt.reset(),Wt=null),mn.forEach(Rt=>clearTimeout(Rt)),mn=[],kn=[],tn=[]},setKeySystems:function(Rt){bt&&bt.setKeySystems(Rt)},setMediaElement:Fa,setProtectionData:function(Rt){Mt=Rt,bt.setProtectionData(Rt)},setRobustnessLevel:function(Rt){dt=Rt},setServerCertificate:function(Rt){Tn(),Wt.setServerCertificate(Rt)},setSessionType:function(Rt){Ot=Rt},stop:function(){rr(),Wt&&Wt.stop()},updateKeyStatusesMap:function(Rt){try{if(!Rt||!Rt.sessionToken||!Rt.parsedKeyStatuses)return;Rt.sessionToken.hasTriggeredKeyStatusMapUpdate=!0;const Zt=Rt.parsedKeyStatuses,bn=R.default.parseUserAgent(),Sn=bn&&bn.browser&&bn.browser.name&&bn.browser.name.toLowerCase()==="edge";Zt.forEach(Fn=>{Sn&&Je.uuid===r.default.PLAYREADY_UUID&&Fn.keyId&&Fn.keyId.byteLength===16&&function(Un){const An=R.default.bufferSourceToDataView(Un),Dn=An.getUint32(0,!0),Cn=An.getUint16(4,!0),Hn=An.getUint16(6,!0);An.setUint32(0,Dn,!1),An.setUint16(4,Cn,!1),An.setUint16(6,Hn,!1)}(Fn.keyId);const $n=R.default.bufferSourceToHex(Fn.keyId).slice(0,32);$n&&$n!==""&&It.set($n,Fn.status)}),Lt.trigger(Et.KEY_STATUSES_MAP_UPDATED,{keyStatusMap:It})}catch(Zt){gn.error(Zt)}}},gn=Dt.getLogger(un),tn=[],kn=[],Ot="temporary",dt="",cn=null,hn=null,It=new Map,Lt.on(Et.INTERNAL_KEY_MESSAGE,Jn,un),un}de.__dashjs_factory_name="ProtectionController";var ee=te.default.getClassFactory(de),ve=class{constructor(xt,Ct){this.keyID=xt,this.key=Ct}},Ae=class{constructor(xt,Ct){if(Ct&&Ct!=="persistent"&&Ct!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=xt,this.type=Ct}toJWK(){let xt,Ct=this.keyPairs.length,ht={keys:[]};for(xt=0;xt<Ct;xt++){let Et={kty:"oct",alg:"A128KW",kid:this.keyPairs[xt].keyID,k:this.keyPairs[xt].key};ht.keys.push(Et)}this.type&&(ht.type=this.type);let it=JSON.stringify(ht);const Pt=it.length;let Dt=new ArrayBuffer(Pt),Lt=new Uint8Array(Dt);for(xt=0;xt<Pt;xt++)Lt[xt]=it.charCodeAt(xt);return Dt}};const M=r.default.CLEARKEY_UUID,S=r.default.CLEARKEY_KEYSTEM_STRING,q="urn:uuid:"+M;function se(xt){let Ct;const ht=(xt=xt||{}).BASE64;return Ct={uuid:M,schemeIdURI:q,systemString:S,getInitData:function(it,Pt){try{let Dt=c.parseInitDataFromContentProtection(it,ht);if(!Dt&&Pt){const Lt={kids:[function(Et){try{let bt=Et.replace(/-/g,"");return bt=btoa(bt.match(/\w{2}/g).map(pt=>String.fromCharCode(parseInt(pt,16))).join("")),bt.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(Pt.cencDefaultKid)]};Dt=new TextEncoder().encode(JSON.stringify(Lt))}return Dt}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(it){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(it))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(it,Pt){let Dt=null;if(it){const Lt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Pt))),Et=[];for(let bt=0;bt<Lt.kids.length;bt++){const pt=Lt.kids[bt],Mt=it.clearkeys&&it.clearkeys.hasOwnProperty(pt)?it.clearkeys[pt]:null;if(!Mt)throw new Error("DRM: ClearKey keyID ("+pt+") is not known!");Et.push(new ve(pt,Mt))}Dt=new Ae(Et)}return Dt}},Ct}se.__dashjs_factory_name="KeySystemClearKey";var P=te.default.getSingletonFactory(se);const ae=r.default.W3C_CLEARKEY_UUID,we=r.default.CLEARKEY_KEYSTEM_STRING,$="urn:uuid:"+ae;function ze(xt){let Ct;const ht=xt.BASE64,it=xt.debug.getLogger(Ct);return Ct={uuid:ae,schemeIdURI:$,systemString:we,getInitData:function(Pt){return c.parseInitDataFromContentProtection(Pt,ht)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Pt){return new Uint8Array(Pt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Pt,Dt){let Lt=null;if(Pt){const Et=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Dt))),bt=[];for(let pt=0;pt<Et.kids.length;pt++){const Mt=Et.kids[pt],un=Pt.clearkeys&&Pt.clearkeys.hasOwnProperty(Mt)?Pt.clearkeys[Mt]:null;if(!un)throw new Error("DRM: ClearKey keyID ("+Mt+") is not known!");bt.push(new ve(Mt,un))}Lt=new Ae(bt),it.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return Lt}},Ct}ze.__dashjs_factory_name="KeySystemW3CClearKey";var Ce=te.default.getSingletonFactory(ze);const Te=r.default.WIDEVINE_UUID,Ye=r.default.WIDEVINE_KEYSTEM_STRING,Ue="urn:uuid:"+Te;function De(xt){let Ct;const ht=(xt=xt||{}).BASE64;return Ct={uuid:Te,schemeIdURI:Ue,systemString:Ye,getInitData:function(it){return c.parseInitDataFromContentProtection(it,ht)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(it){return new Uint8Array(it)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}},Ct}De.__dashjs_factory_name="KeySystemWidevine";var We=te.default.getSingletonFactory(De);const lt=r.default.PLAYREADY_UUID,At=r.default.PLAYREADY_KEYSTEM_STRING,jt="urn:uuid:"+lt;function Bt(xt){let Ct,ht="utf-16";const it=(xt=xt||{}).BASE64,Pt=xt.settings;function Dt(){if(!it||!it.hasOwnProperty("decodeArray")||!it.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return Ct={uuid:lt,schemeIdURI:jt,systemString:At,getInitData:function(Lt){const Et=new Uint8Array([112,115,115,104,0,0,0,0]),bt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);let pt,Mt,un,It,an,hn=0,cn=null;if(Dt(),!Lt)return null;if("pssh"in Lt&&Lt.pssh)return c.parseInitDataFromContentProtection(Lt,it);if("pro"in Lt&&Lt.pro)cn=it.decodeArray(Lt.pro.__text);else{if(!("prheader"in Lt)||!Lt.prheader)return null;cn=it.decodeArray(Lt.prheader.__text)}return pt=cn.length,Mt=4+Et.length+bt.length+4+pt,un=new ArrayBuffer(Mt),It=new Uint8Array(un),an=new DataView(un),an.setUint32(hn,Mt),hn+=4,It.set(Et,hn),hn+=Et.length,It.set(bt,hn),hn+=bt.length,an.setUint32(hn,pt),hn+=4,It.set(cn,hn),hn+=pt,It.buffer},getRequestHeadersFromMessage:function(Lt){let Et,bt;const pt={},Mt=new DOMParser;if(Pt&&Pt.get().streaming.protection.detectPlayreadyMessageFormat&&ht==="utf-16"&&Lt&&Lt.byteLength%2==1)return pt["Content-Type"]="text/xml; charset=utf-8",pt;const un=ht==="utf-16"?new Uint16Array(Lt):new Uint8Array(Lt);Et=String.fromCharCode.apply(null,un),bt=Mt.parseFromString(Et,"application/xml");const It=bt.getElementsByTagName("name"),an=bt.getElementsByTagName("value");for(let hn=0;hn<It.length;hn++)pt[It[hn].childNodes[0].nodeValue]=an[hn].childNodes[0].nodeValue;return pt.hasOwnProperty("Content")&&(pt["Content-Type"]=pt.Content,delete pt.Content),pt.hasOwnProperty("Content-Type")||(pt["Content-Type"]="text/xml; charset=utf-8"),pt},getLicenseRequestFromMessage:function(Lt){let Et=null;const bt=new DOMParser;if(Pt&&Pt.get().streaming.protection.detectPlayreadyMessageFormat&&ht==="utf-16"&&Lt&&Lt.byteLength%2==1)return Lt;const pt=ht==="utf-16"?new Uint16Array(Lt):new Uint8Array(Lt);Dt();const Mt=String.fromCharCode.apply(null,pt),un=bt.parseFromString(Mt,"application/xml");if(!un.getElementsByTagName("PlayReadyKeyMessage")[0])return Lt;{const It=un.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;It&&(Et=it.decode(It))}return Et},getLicenseServerURLFromInitData:function(Lt){if(Lt){const Et=new DataView(Lt),bt=Et.getUint16(4,!0);let pt=6;const Mt=new DOMParser;for(let un=0;un<bt;un++){const It=Et.getUint16(pt,!0);pt+=2;const an=Et.getUint16(pt,!0);if(pt+=2,It!==1){pt+=an;continue}const hn=Lt.slice(pt,pt+an),cn=String.fromCharCode.apply(null,new Uint16Array(hn)),gn=Mt.parseFromString(cn,"application/xml");if(gn.getElementsByTagName("LA_URL")[0]){const kn=gn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(kn)return kn}if(gn.getElementsByTagName("LUI_URL")[0]){const kn=gn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(kn)return kn}}}return null},getCDMData:function(Lt){let Et,bt,pt,Mt;if(Dt(),!Lt)return null;for(Et=[],Mt=0;Mt<Lt.length;++Mt)Et.push(Lt.charCodeAt(Mt)),Et.push(0);for(Et=String.fromCharCode.apply(null,Et),Et=it.encode(Et),bt='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",Et),pt=[],Mt=0;Mt<bt.length;++Mt)pt.push(bt.charCodeAt(Mt)),pt.push(0);return new Uint8Array(pt).buffer},setPlayReadyMessageFormat:function(Lt){if(Lt!=="utf-8"&&Lt!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');ht=Lt}},Ct}Bt.__dashjs_factory_name="KeySystemPlayReady";var Ie=te.default.getSingletonFactory(Bt);function Ne(xt){const Ct=(xt=xt||{}).BASE64,ht={};let it;return ht[r.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(Pt){return Ct.decodeArray(Pt.license)},getErrorResponse:function(Pt){return Pt}},ht[r.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(Pt){return Pt},getErrorResponse:function(Pt){return String.fromCharCode.apply(null,new Uint8Array(Pt))}},it={getServerURLFromMessage:function(Pt){return Pt},getHTTPMethod:function(){return"POST"},getResponseType:function(Pt){return ht[Pt].responseType},getLicenseMessage:function(Pt,Dt){return function(){if(!Ct||!Ct.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),ht[Dt].getLicenseMessage(Pt)},getErrorResponse:function(Pt,Dt){return ht[Dt].getErrorResponse(Pt)}},it}Ne.__dashjs_factory_name="DRMToday";var Qe=te.default.getSingletonFactory(Ne);function B(){let xt;const Ct="http://schemas.xmlsoap.org/soap/envelope/";function ht(Dt){const Lt=String.fromCharCode.apply(null,new Uint8Array(Dt));return decodeURIComponent(escape(Lt))}function it(Dt){if(window.DOMParser){const Lt=ht(Dt),Et=new window.DOMParser().parseFromString(Lt,"text/xml"),bt=Et?Et.getElementsByTagNameNS(Ct,"Envelope")[0]:null,pt=bt?bt.getElementsByTagNameNS(Ct,"Body")[0]:null;if(pt&&pt.getElementsByTagNameNS(Ct,"Fault")[0])return null}return Dt}function Pt(Dt){let Lt="",Et="",bt="",pt=-1,Mt=-1;if(window.DOMParser){const It=ht(Dt),an=new window.DOMParser().parseFromString(It,"text/xml"),hn=an?an.getElementsByTagNameNS(Ct,"Envelope")[0]:null,cn=hn?hn.getElementsByTagNameNS(Ct,"Body")[0]:null,gn=cn?cn.getElementsByTagNameNS(Ct,"Fault")[0]:null,kn=gn?gn.getElementsByTagName("detail")[0]:null,tn=kn?kn.getElementsByTagName("Exception")[0]:null;let dt=null;if(gn===null)return It;dt=gn.getElementsByTagName("faultstring")[0].firstChild,Lt=dt?dt.nodeValue:null,tn!==null&&(dt=tn.getElementsByTagName("StatusCode")[0],Et=dt?dt.firstChild.nodeValue:null,dt=tn.getElementsByTagName("Message")[0],bt=dt?dt.firstChild.nodeValue:null,pt=bt?bt.lastIndexOf("[")+1:-1,Mt=bt?bt.indexOf("]"):-1,bt=bt?bt.substring(pt,Mt):"")}let un=`code: ${Et}, name: ${Lt}`;return bt&&(un+=`, message: ${bt}`),un}return xt={getServerURLFromMessage:function(Dt){return Dt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Dt){return it.call(this,Dt)},getErrorResponse:function(Dt){return Pt.call(this,Dt)}},xt}B.__dashjs_factory_name="PlayReady";var Y=te.default.getSingletonFactory(B);function I(){let xt;return xt={getServerURLFromMessage:function(Ct){return Ct},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Ct){return Ct},getErrorResponse:function(Ct){return String.fromCharCode.apply(null,new Uint8Array(Ct))}},xt}I.__dashjs_factory_name="Widevine";var L=te.default.getSingletonFactory(I);function fe(){let xt;return xt={getServerURLFromMessage:function(Ct){return Ct},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Ct){if(!Ct.hasOwnProperty("keys"))return null;let ht=[];for(let it=0;it<Ct.keys.length;it++){let Pt=Ct.keys[it],Dt=Pt.kid.replace(/=/g,""),Lt=Pt.k.replace(/=/g,"");ht.push(new ve(Dt,Lt))}return new Ae(ht)},getErrorResponse:function(Ct){return String.fromCharCode.apply(null,new Uint8Array(Ct))}},xt}fe.__dashjs_factory_name="ClearKey";var X=te.default.getSingletonFactory(fe),xe=class{constructor(xt){this.ks=xt.ks,this.keyId=xt.keyId,this.initData=xt.initData,this.protData=xt.protData,this.cdmData=xt.cdmData,this.sessionId=xt.sessionId,this.sessionType=xt.sessionType}};function Ve(){let xt,Ct,ht,it,Pt,Dt,Lt,Et,bt=this.context;function pt(It,an){return an&&It in an?an[It]:null}function Mt(It,an){return It&&It.sessionId?It.sessionId:an&&an.sessionId?an.sessionId:null}function un(It,an){return It&&It.sessionType?It.sessionType:an}return xt={getKeySystemBySystemString:function(It){for(let an=0;an<it.length;an++)if(it[an].systemString===It)return it[an];return null},getKeySystems:function(){return it},getLicenseServerModelInstance:function(It,an,hn){if(hn===r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_RELEASE||hn===r.default.MEDIA_KEY_MESSAGE_TYPES.INDIVIDUALIZATION_REQUEST)return null;let cn=null;return an&&an.hasOwnProperty("drmtoday")?cn=Qe(bt).getInstance({BASE64:Pt}):It.systemString===r.default.WIDEVINE_KEYSTEM_STRING?cn=L(bt).getInstance():It.systemString===r.default.PLAYREADY_KEYSTEM_STRING?cn=Y(bt).getInstance():It.systemString===r.default.CLEARKEY_KEYSTEM_STRING&&(cn=X(bt).getInstance()),cn},getSupportedKeySystemMetadataFromContentProtection:function(It,an,hn){let cn,gn,kn,tn,dt=[];if(!It||!It.length)return dt;const Je=c.findMp4ProtectionElement(It);for(kn=0;kn<it.length;kn++){gn=it[kn];const Ot=pt(gn.systemString,an);for(tn=0;tn<It.length;tn++)if(cn=It[tn],cn.schemeIdUri.toLowerCase()===gn.schemeIdURI){let Wt=gn.getInitData(cn,Je);const mn=new xe({ks:it[kn],keyId:cn.keyId,initData:Wt,protData:Ot,cdmData:gn.getCDMData(Ot?Ot.cdmData:null),sessionId:Mt(Ot,cn),sessionType:un(Ot,hn)});Ot?dt.unshift(mn):dt.push(mn)}}return dt},getSupportedKeySystemsFromSegmentPssh:function(It,an,hn){let cn,gn,kn=[],tn=c.parsePSSHList(It);for(let dt=0;dt<it.length;++dt){cn=it[dt],gn=cn.systemString;const Je=pt(gn,an);cn.uuid in tn&&kn.push({ks:cn,initData:tn[cn.uuid],protData:Je,cdmData:cn.getCDMData(Je?Je.cdmData:null),sessionId:Mt(Je),sessionType:un(Je,hn)})}return kn},initDataEquals:function(It,an){if(It.byteLength===an.byteLength){let hn=new Uint8Array(It),cn=new Uint8Array(an);for(let gn=0;gn<hn.length;gn++)if(hn[gn]!==cn[gn])return!1;return!0}return!1},initialize:function(){let It;it=[],It=Ie(bt).getInstance({BASE64:Pt,settings:Dt}),it.push(It),It=We(bt).getInstance({BASE64:Pt}),it.push(It),It=P(bt).getInstance({BASE64:Pt}),it.push(It),Lt=It,It=Ce(bt).getInstance({BASE64:Pt,debug:Ct}),it.push(It),Et=It},isClearKey:function(It){return It===Lt||It===Et},processClearKeyLicenseRequest:function(It,an,hn){try{return It.getClearKeysFromProtectionData(an,hn)}catch{return ht.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(It){It&&(It.debug&&(Ct=It.debug,ht=Ct.getLogger(xt)),It.BASE64&&(Pt=It.BASE64),It.settings&&(Dt=It.settings))},setKeySystems:function(It){it=It},setProtectionData:function(It){for(var an,hn,cn=0;cn<it.length;cn++){var gn=it[cn];gn.hasOwnProperty("init")&&gn.init((an=gn.systemString,hn=void 0,hn=null,It&&(hn=an in It?It[an]:null),hn))}}},xt}Ve.__dashjs_factory_name="ProtectionKeyController";var Le=te.default.getSingletonFactory(Ve),Me=t(445),Pe=class{constructor(xt,Ct){this.initData=xt,this.initDataType=Ct}},qe=class{constructor(xt,Ct,ht,it){this.sessionToken=xt,this.message=Ct,this.defaultURL=ht,this.messageType=it||r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST}},rt=class{constructor(xt,Ct){this.keySystem=xt,this.ksConfiguration=Ct,this.nativeMediaKeySystemAccessObject=null,this.selectedSystemString=null}};const Ze={};function ct(xt){xt=xt||{};const Ct=this.context,ht=xt.eventBus,it=xt.events,Pt=xt.debug;let Dt,Lt,Et,bt,pt,Mt,un,It;function an(dt,Je,Ot,Wt){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){const qn="Insecure origins are not allowed";return ht.trigger(it.KEY_SYSTEM_ACCESS_COMPLETE,{error:qn}),void Wt({error:qn})}const mn=dt[Je].protData&&dt[Je].protData.systemStringPriority?dt[Je].protData.systemStringPriority:null,Tn=dt[Je].configs,zn=dt[Je].ks;let Qn=zn.systemString;(function(qn,xn){return new Promise((Vn,sa)=>{hn(qn,xn,0,Vn,sa)})})(mn||(Ze[Qn]?Ze[Qn]:[Qn]),Tn).then(qn=>{const xn=qn&&qn.nativeMediaKeySystemAccessObject&&typeof qn.nativeMediaKeySystemAccessObject.getConfiguration=="function"?qn.nativeMediaKeySystemAccessObject.getConfiguration():null,Vn=new rt(zn,xn);Vn.selectedSystemString=qn.selectedSystemString,Vn.nativeMediaKeySystemAccessObject=qn.nativeMediaKeySystemAccessObject,ht.trigger(it.KEY_SYSTEM_ACCESS_COMPLETE,{data:Vn}),Ot({data:Vn})}).catch(qn=>{if(Je+1<dt.length)an(dt,Je+1,Ot,Wt);else{const xn="Key system access denied! ";ht.trigger(it.KEY_SYSTEM_ACCESS_COMPLETE,{error:xn+qn.message}),Wt({error:xn+qn.message})}})}function hn(dt,Je,Ot,Wt,mn){const Tn=dt[Ot];Lt.debug(`Requesting key system access for system string ${Tn}`),navigator.requestMediaKeySystemAccess(Tn,Je).then(zn=>{Wt({nativeMediaKeySystemAccessObject:zn,selectedSystemString:Tn})}).catch(zn=>{Ot+1<dt.length?hn(dt,Je,Ot+1,Wt,mn):mn(zn)})}function cn(dt){if(!dt||!dt.session)return Promise.resolve;const Je=dt.session;return Je.removeEventListener("keystatuseschange",dt),Je.removeEventListener("message",dt),Je.close()}function gn(dt){for(let Je=0;Je<Mt.length;Je++)if(Mt[Je]===dt){Mt.splice(Je,1);break}}function kn(dt,Je){const Ot={session:dt,keyId:Je.keyId,normalizedKeyId:Je&&Je.keyId&&typeof Je.keyId=="string"?Je.keyId.replace(/-/g,"").toLowerCase():"",initData:Je.initData,sessionId:Je.sessionId,sessionType:Je.sessionType,hasTriggeredKeyStatusMapUpdate:!1,handleEvent:function(Wt){switch(Wt.type){case"keystatuseschange":this._onKeyStatusesChange(Wt);break;case"message":this._onKeyMessage(Wt)}},_onKeyStatusesChange:function(Wt){ht.trigger(it.KEY_STATUSES_CHANGED,{data:this});const mn=[];Wt.target.keyStatuses.forEach(function(){mn.push(tn(arguments))}),ht.trigger(it.INTERNAL_KEY_STATUSES_CHANGED,{parsedKeyStatuses:mn,sessionToken:Ot})},_onKeyMessage:function(Wt){let mn=ArrayBuffer.isView(Wt.message)?Wt.message.buffer:Wt.message;ht.trigger(it.INTERNAL_KEY_MESSAGE,{data:new qe(this,mn,void 0,Wt.messageType)})},getKeyId:function(){return this.keyId},getSessionId:function(){return dt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return dt.expiration},getKeyStatuses:function(){return dt.keyStatuses},getUsable:function(){let Wt=!1;return dt.keyStatuses.forEach(function(){tn(arguments).status===r.default.MEDIA_KEY_STATUSES.USABLE&&(Wt=!0)}),Wt}};return dt.addEventListener("keystatuseschange",Ot),dt.addEventListener("message",Ot),dt.closed.then(()=>{gn(Ot),Lt.debug("DRM: Session closed.  SessionID = "+Ot.getSessionId()),ht.trigger(it.KEY_SESSION_CLOSED,{data:Ot.getSessionId()})}),Mt.push(Ot),Ot}function tn(dt){let Je,Ot;return dt&&dt.length>0&&(dt[0]&&(typeof dt[0]=="string"?Je=dt[0]:Ot=dt[0]),dt[1]&&(typeof dt[1]=="string"?Je=dt[1]:Ot=dt[1])),{status:Je,keyId:Ot}}return Dt={closeKeySession:function(dt){cn(dt).catch(function(Je){gn(dt),ht.trigger(it.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+dt.getSessionId()+") "+Je.name})})},createKeySession:function(dt){if(!Et||!pt)throw new Error("Can not create sessions until you have selected a key system");const Je=pt.createSession(dt.sessionType),Ot=kn(Je,dt),Wt=Et.systemString===r.default.CLEARKEY_KEYSTEM_STRING&&(dt.initData||dt.protData&&dt.protData.clearkeys)?r.default.INITIALIZATION_DATA_TYPE_KEYIDS:r.default.INITIALIZATION_DATA_TYPE_CENC;Je.generateRequest(Wt,dt.initData).then(function(){Lt.debug("DRM: Session created.  SessionID = "+Ot.getSessionId()),ht.trigger(it.KEY_SESSION_CREATED,{data:Ot})}).catch(function(mn){gn(Ot),ht.trigger(it.KEY_SESSION_CREATED,{data:null,error:new h.default(p.default.KEY_SESSION_CREATED_ERROR_CODE,p.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+mn.name)})})},getAllInitData:function(){const dt=[];for(let Je=0;Je<Mt.length;Je++)Mt[Je].initData&&dt.push(Mt[Je].initData);return dt},getSessionTokens:function(){return Mt},loadKeySession:function(dt){if(!Et||!pt)throw new Error("Can not load sessions until you have selected a key system");const Je=dt.sessionId;for(let mn=0;mn<Mt.length;mn++)if(Je===Mt[mn].sessionId)return void Lt.warn("DRM: Ignoring session ID because we have already seen it!");const Ot=pt.createSession(dt.sessionType),Wt=kn(Ot,dt);Wt.hasTriggeredKeyStatusMapUpdate=!0,Ot.load(Je).then(function(mn){mn?(Lt.debug("DRM: Session loaded.  SessionID = "+Wt.getSessionId()),ht.trigger(it.KEY_SESSION_CREATED,{data:Wt})):(gn(Wt),ht.trigger(it.KEY_SESSION_CREATED,{data:null,error:new h.default(p.default.KEY_SESSION_CREATED_ERROR_CODE,p.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Je+")")}))}).catch(function(mn){gn(Wt),ht.trigger(it.KEY_SESSION_CREATED,{data:null,error:new h.default(p.default.KEY_SESSION_CREATED_ERROR_CODE,p.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Je+")! "+mn.name)})})},removeKeySession:function(dt){dt.session.remove().then(function(){Lt.debug("DRM: Session removed.  SessionID = "+dt.getSessionId()),ht.trigger(it.KEY_SESSION_REMOVED,{data:dt.getSessionId()})},function(Je){ht.trigger(it.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+dt.getSessionId()+"). "+Je.name})})},requestKeySystemAccess:function(dt){return new Promise((Je,Ot)=>{an(dt,0,Je,Ot)})},reset:function(){const dt=Mt.length;let Je;if(dt!==0){const Ot=function(Wt){gn(Wt),Mt.length===0&&(bt?(bt.removeEventListener("encrypted",un),bt.setMediaKeys(null).then(function(){ht.trigger(it.TEARDOWN_COMPLETE)})):ht.trigger(it.TEARDOWN_COMPLETE))};for(let Wt=0;Wt<dt;Wt++)Je=Mt[Wt],function(mn){cn(Je),Ot(mn)}(Je)}else ht.trigger(it.TEARDOWN_COMPLETE)},selectKeySystem:function(dt){return new Promise((Je,Ot)=>{dt.nativeMediaKeySystemAccessObject.createMediaKeys().then(Wt=>(Et=dt.keySystem,pt=Wt,bt?bt.setMediaKeys(pt):Promise.resolve())).then(()=>{Je(Et)}).catch(function(){Ot({error:"Error selecting keys system ("+dt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(dt){bt!==dt&&(bt&&(bt.removeEventListener("encrypted",un),bt.setMediaKeys&&bt.setMediaKeys(null)),bt=dt,bt&&(bt.addEventListener("encrypted",un),bt.setMediaKeys&&pt&&bt.setMediaKeys(pt)))},setServerCertificate:function(dt){return new Promise((Je,Ot)=>{pt.setServerCertificate(dt).then(function(){Lt.info("DRM: License server certificate successfully updated."),ht.trigger(it.SERVER_CERTIFICATE_UPDATED),Je()}).catch(Wt=>{Ot(Wt),ht.trigger(it.SERVER_CERTIFICATE_UPDATED,{error:new h.default(p.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,p.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Wt.name)})})})},stop:function(){let dt;for(let Je=0;Je<Mt.length;Je++)dt=Mt[Je],dt.getUsable()||(cn(dt),gn(dt))},updateKeySession:function(dt,Je){const Ot=dt.session;It.isClearKey(Et)&&(Je=Je.toJWK()),Ot.update(Je).then(()=>{ht.trigger(it.KEY_SESSION_UPDATED)}).catch(function(Wt){ht.trigger(it.KEY_ERROR,{error:new h.default(p.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+Wt.name,dt)})})}},Lt=Pt.getLogger(Dt),Et=null,bt=null,pt=null,Mt=[],It=Le(Ct).getInstance(),un={handleEvent:function(dt){if(dt.type==="encrypted"&&dt.initData){let Je=ArrayBuffer.isView(dt.initData)?dt.initData.buffer:dt.initData;ht.trigger(it.NEED_KEY,{key:new Pe(Je,dt.initDataType)})}}},Dt}Ze[r.default.PLAYREADY_KEYSTEM_STRING]=[r.default.PLAYREADY_KEYSTEM_STRING,r.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Ze[r.default.WIDEVINE_KEYSTEM_STRING]=[r.default.WIDEVINE_KEYSTEM_STRING],Ze[r.default.CLEARKEY_KEYSTEM_STRING]=[r.default.CLEARKEY_KEYSTEM_STRING],ct.__dashjs_factory_name="DefaultProtectionModel";var Vt=te.default.getClassFactory(ct);function Nt(xt){xt=xt||{};const Ct=this.context,ht=xt.eventBus,it=xt.events,Pt=xt.debug,Dt=xt.api;let Lt,Et,bt,pt,Mt,un,It,an,hn;function cn(){try{for(let tn=0;tn<It.length;tn++)gn(It[tn]);bt&&bt.removeEventListener(Dt.needkey,an),ht.trigger(it.TEARDOWN_COMPLETE)}catch(tn){ht.trigger(it.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+tn.message})}}function gn(tn){const dt=tn.session;dt.removeEventListener(Dt.error,tn),dt.removeEventListener(Dt.message,tn),dt.removeEventListener(Dt.ready,tn),dt.removeEventListener(Dt.close,tn);for(let Je=0;Je<It.length;Je++)if(It[Je]===tn){It.splice(Je,1);break}dt[Dt.release]()}function kn(){let tn=null;const dt=function(){bt.removeEventListener("loadedmetadata",tn),bt[Dt.setMediaKeys](Mt),ht.trigger(it.VIDEO_ELEMENT_SELECTED)};bt.readyState>=1?dt():(tn=dt.bind(this),bt.addEventListener("loadedmetadata",tn))}return Lt={getAllInitData:function(){const tn=[];for(let dt=0;dt<It.length;dt++)tn.push(It[dt].initData);return tn},getSessionTokens:function(){return It},requestKeySystemAccess:function(tn){return new Promise((dt,Je)=>{let Ot=!1;for(let Wt=0;Wt<tn.length;Wt++){const mn=tn[Wt].ks.systemString,Tn=tn[Wt].configs;let zn=null,Qn=null;for(let qn=0;qn<Tn.length;qn++){const xn=Tn[qn].audioCapabilities,Vn=Tn[qn].videoCapabilities;if(xn&&xn.length!==0){zn=[];for(let Jn=0;Jn<xn.length;Jn++)window[Dt.MediaKeys].isTypeSupported(mn,xn[Jn].contentType)&&zn.push(xn[Jn])}if(Vn&&Vn.length!==0){Qn=[];for(let Jn=0;Jn<Vn.length;Jn++)window[Dt.MediaKeys].isTypeSupported(mn,Vn[Jn].contentType)&&Qn.push(Vn[Jn])}if(!zn&&!Qn||zn&&zn.length===0||Qn&&Qn.length===0)continue;Ot=!0;const sa=new l(zn,Qn),ga=hn.getKeySystemBySystemString(mn),Fa=new rt(ga,sa);ht.trigger(it.KEY_SYSTEM_ACCESS_COMPLETE,{data:Fa}),dt({data:Fa});break}}if(!Ot){const Wt="Key system access denied! -- No valid audio/video content configurations detected!";ht.trigger(it.KEY_SYSTEM_ACCESS_COMPLETE,{error:Wt}),Je({error:Wt})}})},selectKeySystem:function(tn){return new Promise((dt,Je)=>{try{Mt=tn.mediaKeys=new window[Dt.MediaKeys](tn.keySystem.systemString),pt=tn.keySystem,un=tn,bt&&kn(),dt(pt)}catch{Je({error:"Error selecting keys system ("+pt.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(tn){bt!==tn&&(bt&&bt.removeEventListener(Dt.needkey,an),bt=tn,bt&&(bt.addEventListener(Dt.needkey,an),Mt&&kn()))},createKeySession:function(tn){if(!pt||!Mt||!un)throw new Error("Can not create sessions until you have selected a key system");let dt=null;if(un.ksConfiguration.videoCapabilities&&un.ksConfiguration.videoCapabilities.length>0&&(dt=un.ksConfiguration.videoCapabilities[0]),dt===null&&un.ksConfiguration.audioCapabilities&&un.ksConfiguration.audioCapabilities.length>0&&(dt=un.ksConfiguration.audioCapabilities[0]),dt===null)throw new Error("Can not create sessions for unknown content types.");const Je=dt.contentType,Ot=Mt.createSession(Je,new Uint8Array(tn.initData),tn.cdmData?new Uint8Array(tn.cdmData):null),Wt=function(mn,Tn){return{session:mn,keyId:Tn.keyId,normalizedKeyId:Tn&&Tn.keyId&&typeof Tn.keyId=="string"?Tn.keyId.replace(/-/g,"").toLowerCase():"",initData:Tn.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}},handleEvent:function(zn){switch(zn.type){case Dt.error:let Qn="KeyError";ht.trigger(it.KEY_ERROR,{error:new h.default(p.default.MEDIA_KEYERR_CODE,Qn,this)});break;case Dt.message:let qn=ArrayBuffer.isView(zn.message)?zn.message.buffer:zn.message;ht.trigger(it.INTERNAL_KEY_MESSAGE,{data:new qe(this,qn,zn.destinationURL)});break;case Dt.ready:Et.debug("DRM: Key added."),ht.trigger(it.KEY_ADDED);break;case Dt.close:Et.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),ht.trigger(it.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Ot,tn);Ot.addEventListener(Dt.error,Wt),Ot.addEventListener(Dt.message,Wt),Ot.addEventListener(Dt.ready,Wt),Ot.addEventListener(Dt.close,Wt),It.push(Wt),Et.debug("DRM: Session created.  SessionID = "+Wt.getSessionId()),ht.trigger(it.KEY_SESSION_CREATED,{data:Wt})},updateKeySession:function(tn,dt){const Je=tn.session;hn.isClearKey(pt)?Je.update(new Uint8Array(dt.toJWK())):Je.update(new Uint8Array(dt)),ht.trigger(it.KEY_SESSION_UPDATED)},closeKeySession:gn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:cn,reset:cn},Et=Pt.getLogger(Lt),bt=null,pt=null,Mt=null,un=null,It=[],hn=Le(Ct).getInstance(),an={handleEvent:function(tn){if(tn.type===Dt.needkey&&tn.initData){const dt=ArrayBuffer.isView(tn.initData)?tn.initData.buffer:tn.initData;ht.trigger(it.NEED_KEY,{key:new Pe(dt,r.default.INITIALIZATION_DATA_TYPE_CENC)})}}},Lt}Nt.__dashjs_factory_name="ProtectionModel_3Feb2014";var Ut=te.default.getClassFactory(Nt);function wt(xt){xt=xt||{};const Ct=this.context,ht=xt.eventBus,it=xt.events,Pt=xt.debug,Dt=xt.api,Lt=xt.errHandler;let Et,bt,pt,Mt,un,It,an,hn,cn;function gn(){pt&&dt();for(let Je=0;Je<an.length;Je++)kn(an[Je]);ht.trigger(it.TEARDOWN_COMPLETE)}function kn(Je){try{pt[Dt.cancelKeyRequest](Mt.systemString,Je.sessionId)}catch(Ot){ht.trigger(it.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Je.sessionId+") "+Ot.message})}}function tn(Je,Ot){if(Ot&&Je){const Wt=Je.length;for(let mn=0;mn<Wt;mn++)if(Je[mn].sessionId==Ot)return Je[mn];return null}return null}function dt(){pt.removeEventListener(Dt.keyerror,cn),pt.removeEventListener(Dt.needkey,cn),pt.removeEventListener(Dt.keymessage,cn),pt.removeEventListener(Dt.keyadded,cn)}return Et={getAllInitData:function(){const Je=[];for(let Ot=0;Ot<It.length;Ot++)Je.push(It[Ot].initData);for(let Ot=0;Ot<an.length;Ot++)Je.push(an[Ot].initData);return Je},getSessionTokens:function(){return an.concat(It)},requestKeySystemAccess:function(Je){return new Promise((Ot,Wt)=>{let mn=pt;mn||(mn=document.createElement("video"));let Tn=!1;for(let zn=0;zn<Je.length;zn++){const Qn=Je[zn].ks.systemString,qn=Je[zn].configs;let xn=null,Vn=null;for(let sa=0;sa<qn.length;sa++){const ga=qn[sa].videoCapabilities;if(ga&&ga.length!==0){Vn=[];for(let Sa=0;Sa<ga.length;Sa++)mn.canPlayType(ga[Sa].contentType,Qn)!==""&&Vn.push(ga[Sa])}if(!Vn||xn||Vn&&Vn.length===0)continue;Tn=!0;const Fa=new l(xn,Vn),Jn=un.getKeySystemBySystemString(Qn),ma=new rt(Jn,Fa);ht.trigger(it.KEY_SYSTEM_ACCESS_COMPLETE,{data:ma}),Ot({data:ma});break}}if(!Tn){const zn="Key system access denied! -- No valid audio/video content configurations detected!";ht.trigger(it.KEY_SYSTEM_ACCESS_COMPLETE,{error:zn}),Wt({error:zn})}})},selectKeySystem:function(Je){return Mt=Je.keySystem,Promise.resolve(Mt)},setMediaElement:function(Je){if(pt!==Je){if(pt){dt();for(var Ot=0;Ot<an.length;Ot++)kn(an[Ot]);an=[]}pt=Je,pt&&(pt.addEventListener(Dt.keyerror,cn),pt.addEventListener(Dt.needkey,cn),pt.addEventListener(Dt.keymessage,cn),pt.addEventListener(Dt.keyadded,cn),ht.trigger(it.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(Je){if(!Mt)throw new Error("Can not create sessions until you have selected a key system");if(hn||an.length===0){const Ot={sessionId:null,keyId:Je.keyId,normalizedKeyId:Je&&Je.keyId&&typeof Je.keyId=="string"?Je.keyId.replace(/-/g,"").toLowerCase():"",initData:Je.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}}};return It.push(Ot),pt[Dt.generateKeyRequest](Mt.systemString,new Uint8Array(Je.initData)),Ot}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(Je,Ot){const Wt=Je.sessionId;if(un.isClearKey(Mt))for(let mn=0;mn<Ot.keyPairs.length;mn++)pt[Dt.addKey](Mt.systemString,Ot.keyPairs[mn].key,Ot.keyPairs[mn].keyID,Wt);else pt[Dt.addKey](Mt.systemString,new Uint8Array(Ot),new Uint8Array(Je.initData),Wt);ht.trigger(it.KEY_SESSION_UPDATED)},closeKeySession:kn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:gn,reset:gn},bt=Pt.getLogger(Et),pt=null,Mt=null,It=[],an=[],un=Le(Ct).getInstance(),cn={handleEvent:function(Je){let Ot=null;switch(Je.type){case Dt.needkey:let Wt=ArrayBuffer.isView(Je.initData)?Je.initData.buffer:Je.initData;ht.trigger(it.NEED_KEY,{key:new Pe(Wt,r.default.INITIALIZATION_DATA_TYPE_CENC)});break;case Dt.keyerror:if(Ot=tn(an,Je.sessionId),Ot||(Ot=tn(It,Je.sessionId)),Ot){let mn=p.default.MEDIA_KEYERR_CODE,Tn="";switch(Je.errorCode.code){case 1:mn=p.default.MEDIA_KEYERR_UNKNOWN_CODE,Tn+="MEDIA_KEYERR_UNKNOWN - "+p.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:mn=p.default.MEDIA_KEYERR_CLIENT_CODE,Tn+="MEDIA_KEYERR_CLIENT - "+p.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:mn=p.default.MEDIA_KEYERR_SERVICE_CODE,Tn+="MEDIA_KEYERR_SERVICE - "+p.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:mn=p.default.MEDIA_KEYERR_OUTPUT_CODE,Tn+="MEDIA_KEYERR_OUTPUT - "+p.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:mn=p.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Tn+="MEDIA_KEYERR_HARDWARECHANGE - "+p.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:mn=p.default.MEDIA_KEYERR_DOMAIN_CODE,Tn+="MEDIA_KEYERR_DOMAIN - "+p.default.MEDIA_KEYERR_DOMAIN_MESSAGE}Tn+="  System Code = "+Je.systemCode,ht.trigger(it.KEY_ERROR,{error:new h.default(mn,Tn,Ot)})}else bt.error("No session token found for key error");break;case Dt.keyadded:Ot=tn(an,Je.sessionId),Ot||(Ot=tn(It,Je.sessionId)),Ot?(bt.debug("DRM: Key added."),ht.trigger(it.KEY_ADDED,{data:Ot})):bt.debug("No session token found for key added");break;case Dt.keymessage:if(hn=Je.sessionId!==null&&Je.sessionId!==void 0,hn?(Ot=tn(an,Je.sessionId),!Ot&&It.length>0&&(Ot=It.shift(),an.push(Ot),Ot.sessionId=Je.sessionId,ht.trigger(it.KEY_SESSION_CREATED,{data:Ot}))):It.length>0&&(Ot=It.shift(),an.push(Ot),It.length!==0&&Lt.error(new h.default(p.default.MEDIA_KEY_MESSAGE_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Ot){let mn=ArrayBuffer.isView(Je.message)?Je.message.buffer:Je.message;Ot.keyMessage=mn,ht.trigger(it.INTERNAL_KEY_MESSAGE,{data:new qe(Ot,mn,Je.defaultURL)})}else bt.warn("No session token found for key message")}}},Et}wt.__dashjs_factory_name="ProtectionModel_01b";var yn=te.default.getClassFactory(wt);const Nn=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Pn=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function na(){let xt;const Ct=this.context;function ht(it,Pt){for(let Dt=0;Dt<Pt.length;Dt++){const Lt=Pt[Dt];if(typeof it[Lt[Object.keys(Lt)[0]]]=="function")return Lt}return null}return xt={createProtectionSystem:function(it){let Pt=null;const Dt=Le(Ct).getInstance();Dt.setConfig({debug:it.debug,BASE64:it.BASE64,settings:it.settings}),Dt.initialize();let Lt=function(Et){const bt=Et.debug,pt=bt.getLogger(xt),Mt=Et.eventBus,un=Et.errHandler,It=Et.videoModel?Et.videoModel.getElement():null;return It&&It.onencrypted===void 0||It&&It.mediaKeys===void 0?ht(It,Pn)?(pt.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Ut(Ct).create({debug:bt,eventBus:Mt,events:Et.events,api:ht(It,Pn)})):ht(It,Nn)?(pt.info("EME detected on this user agent! (ProtectionModel_01b)"),yn(Ct).create({debug:bt,eventBus:Mt,errHandler:un,events:Et.events,api:ht(It,Nn)})):(pt.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(pt.info("EME detected on this user agent! (DefaultProtectionModel"),Vt(Ct).create({debug:bt,eventBus:Mt,events:Et.events}))}(it);return Lt&&(Pt=ee(Ct).create({BASE64:it.BASE64,cmcdModel:it.cmcdModel,constants:it.constants,customParametersModel:it.customParametersModel,debug:it.debug,eventBus:it.eventBus,events:it.events,protectionKeyController:Dt,protectionModel:Lt,settings:it.settings}),it.capabilities.setEncryptedMediaSupported(!0)),Pt}},xt}na.__dashjs_factory_name="Protection";const la=dashjs.FactoryMaker.getClassFactory(na);la.events=Me.default,la.errors=p.default,dashjs.FactoryMaker.updateClassFactory(na.__dashjs_factory_name,la);var Wn=la},445:function(_,f,t){t.r(f);var u=t(7252);class r extends u.default{constructor(){super(),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_STATUSES_CHANGED="internalkeyStatusesChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_STATUSES_MAP_UPDATED="keyStatusesMapUpdated",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.LICENSE_REQUEST_SENDING="public_licenseRequestSending",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected",this.KEY_SESSION_UPDATED="public_keySessionUpdated"}}let e=new r;f.default=e},1923:function(_,f,t){t.r(f);var u=t(8748);class r extends u.default{constructor(){super(),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}}let e=new r;f.default=e},559:function(_,f,t){t.r(f),t.d(f,{supportsMediaSource:function(){return i}});var u=t(138),r=t(5212),e=t(2861),n=t(7393),c=t(649);function i(){let p="ManagedMediaSource"in window,h="WebKitMediaSource"in window,b="MediaSource"in window;return p||h||b}function l(){let p,h,b,E,y,R;const F=this.context,te=(0,n.default)(F).getInstance();function de(M,S){let q;S===r.default.VIDEO?q=function(P){const ae={video:{}};return P&&(P.width&&(ae.video.width=P.width),P.height&&(ae.video.height=P.height),P.framerate&&(ae.video.framerate=parseFloat(P.framerate)),P.hdrMetadataType&&(ae.video.hdrMetadataType=P.hdrMetadataType),P.colorGamut&&(ae.video.colorGamut=P.colorGamut),P.transferFunction&&(ae.video.transferFunction=P.transferFunction)),ae}(M):S===r.default.AUDIO&&(q=function(P){const ae={audio:{}};return P.samplerate&&(ae.audio.samplerate=P.samplerate),ae}(M)),q[S].contentType=M.codec,q[S].bitrate=parseInt(M.bitrate),q.type="media-source";let se=M.codec;return M.width&&M.height&&(se+=';width="'+M.width+'";height="'+M.height+'"'),q.mediaSourceCodecString=se,function(P,ae,we){return ae&&ae.keySystemsMetadata&&ae.keySystemsMetadata.length!==0?ae.keySystemsMetadata.map($=>{const ze={...P};if($.ks){ze.keySystemConfiguration={},$.ks.systemString&&(ze.keySystemConfiguration.keySystem=$.ks.systemString);let Ce="";$.ks.systemString===e.default.WIDEVINE_KEYSTEM_STRING&&(Ce=e.default.ROBUSTNESS_STRINGS.WIDEVINE.SW_SECURE_CRYPTO);const Te=$.protData,Ye=Te&&Te.audioRobustness&&Te.audioRobustness.length>0?Te.audioRobustness:Ce,Ue=Te&&Te.videoRobustness&&Te.videoRobustness.length>0?Te.videoRobustness:Ce;we===r.default.AUDIO?ze.keySystemConfiguration[we]={robustness:Ye}:we===r.default.VIDEO&&(ze.keySystemConfiguration[we]={robustness:Ue})}return ze}):[P]}(q,M,S)}function ee(M){if(E&&E.length!==0&&M)return E.find(S=>{const q=ve(M,S,r.default.AUDIO),se=ve(M,S,r.default.VIDEO),P=ve(M,S,"keySystemConfiguration");return q&&se&&P})}function ve(M,S,q){return!M[q]&&!S[q]||!(!M[q]||!S[q])&&te.areEqual(M[q],S[q])}function Ae(M,S){return(M=M.filter(q=>!(q.schemeIdUri&&S.some(se=>se.schemeIdUri===q.schemeIdUri)))).push(...S),M}return p={areKeyIdsExpired:function(M){return!!(b&&M&&M.normalizedKeyIds&&M.normalizedKeyIds.size!==0)&&b.areKeyIdsExpired(M.normalizedKeyIds)},areKeyIdsUsable:function(M){return!(b&&M&&M.normalizedKeyIds&&M.normalizedKeyIds.size!==0)||b.areKeyIdsUsable(M.normalizedKeyIds)},isCodecSupportedBasedOnTestedConfigurations:function(M,S){if(!M||!M.codec||M.isSupported===!1)return!1;const q=de(M,S).map(se=>ee(se)).filter(se=>se!=null);return!(q&&q.length>0)||function(se){return se.some(P=>P&&P.decodingInfo&&P.decodingInfo.supported)}(q)},isProtectionCompatible:function(M,S){return!S||!(!M.isEncrypted&&S.isEncrypted)},runCodecSupportCheck:function(M,S){if(S!==r.default.AUDIO&&S!==r.default.VIDEO)return Promise.resolve();const q=de(M,S);return function(se,P){return h.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(se.codec&&P===r.default.AUDIO||P===r.default.VIDEO&&se.codec&&se.width&&se.height&&se.bitrate&&se.framerate)}(M,S)?function(se){return new Promise(P=>{if(!se||se.length===0)return void P();const ae=se.map(we=>function($){return new Promise(ze=>{ee($)?ze():navigator.mediaCapabilities.decodingInfo($).then(Ce=>{$.decodingInfo=Ce,E.push($),ze()}).catch(Ce=>{$.decodingInfo={supported:!1},E.push($),R.error(Ce),ze()})})}(we));Promise.allSettled(ae).then(()=>{P()}).catch(we=>{R.error(we),P()})})}(q):(function(se){if(!se||!se.length)return;const P=se[0];if(ee(P))return;let ae={supported:!1};("ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(P.mediaSourceCodecString)||"MediaSource"in window&&MediaSource.isTypeSupported(P.mediaSourceCodecString)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(P.mediaSourceCodecString))&&(ae.supported=!0),P.decodingInfo=ae,E.push(P)}(q),Promise.resolve())},setConfig:function(M){M&&(M.settings&&(h=M.settings),M.protectionController&&(b=M.protectionController))},setEncryptedMediaSupported:function(M){y=M},setProtectionController:function(M){b=M},supportsChangeType:function(){return!!window.SourceBuffer&&!!SourceBuffer.prototype&&!!SourceBuffer.prototype.changeType},supportsEncryptedMedia:function(){return y},supportsEssentialProperty:function(M){let S=h.get().streaming.capabilities.supportedEssentialProperties;h.get().streaming.capabilities.useMediaCapabilitiesApi&&h.get().streaming.capabilities.filterVideoColorimetryEssentialProperties&&(S=Ae(S,[{schemeIdUri:r.default.COLOUR_PRIMARIES_SCHEME_ID_URI},{schemeIdUri:r.default.MATRIX_COEFFICIENTS_SCHEME_ID_URI},{schemeIdUri:r.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI}])),h.get().streaming.capabilities.useMediaCapabilitiesApi&&h.get().streaming.capabilities.filterHDRMetadataFormatEssentialProperties&&(S=Ae(S,[{schemeIdUri:r.default.HDR_METADATA_FORMAT_SCHEME_ID_URI}]));try{return M.inArray(S)}catch{return!0}},supportsMediaSource:i},y=!1,E=[],R=(0,c.default)(F).getInstance().getLogger(p),p}l.__dashjs_factory_name="Capabilities",f.default=u.default.getSingletonFactory(l)},7377:function(_,f,t){t.r(f);var u=t(138),r=t(656);function e(){return{customTimeRangeArray:[],length:0,add:function(n,c){let i;for(i=0;i<this.customTimeRangeArray.length&&n>this.customTimeRangeArray[i].start;i++);for(this.customTimeRangeArray.splice(i,0,{start:n,end:c}),i=0;i<this.customTimeRangeArray.length-1;i++)this.mergeRanges(i,i+1)&&i--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(n,c){for(let i=0;i<this.customTimeRangeArray.length;i++)if(n<=this.customTimeRangeArray[i].start&&c>=this.customTimeRangeArray[i].end)this.customTimeRangeArray.splice(i,1),i--;else{if(n>this.customTimeRangeArray[i].start&&c<this.customTimeRangeArray[i].end){this.customTimeRangeArray.splice(i+1,0,{start:c,end:this.customTimeRangeArray[i].end}),this.customTimeRangeArray[i].end=n;break}n>this.customTimeRangeArray[i].start&&n<this.customTimeRangeArray[i].end?this.customTimeRangeArray[i].end=n:c>this.customTimeRangeArray[i].start&&c<this.customTimeRangeArray[i].end&&(this.customTimeRangeArray[i].start=c)}this.length=this.customTimeRangeArray.length},mergeRanges:function(n,c){let i=this.customTimeRangeArray[n],l=this.customTimeRangeArray[c];return i.start<=l.start&&l.start<=i.end&&i.end<=l.end?(i.end=l.end,this.customTimeRangeArray.splice(c,1),!0):l.start<=i.start&&i.start<=l.end&&l.end<=i.end?(i.start=l.start,this.customTimeRangeArray.splice(c,1),!0):l.start<=i.start&&i.start<=l.end&&i.end<=l.end?(this.customTimeRangeArray.splice(n,1),!0):i.start<=l.start&&l.start<=i.end&&l.end<=i.end&&(this.customTimeRangeArray.splice(c,1),!0)},start:function(n){return(0,r.checkInteger)(n),n>=this.customTimeRangeArray.length||n<0?NaN:this.customTimeRangeArray[n].start},end:function(n){return(0,r.checkInteger)(n),n>=this.customTimeRangeArray.length||n<0?NaN:this.customTimeRangeArray[n].end}}}e.__dashjs_factory_name="CustomTimeRanges",f.default=u.default.getClassFactory(e)},7393:function(_,f,t){t.r(f);var u=t(138),r=t(7316);function e(){let n;return n={areEqual:function(c,i){return r(c,i)}},n}e.__dashjs_factory_name="ObjectUtils",f.default=u.default.getSingletonFactory(e)},656:function(_,f,t){t.r(f),t.d(f,{checkInteger:function(){return e},checkIsVideoOrAudioType:function(){return c},checkParameterType:function(){return r},checkRange:function(){return n}});var u=t(5212);function r(i,l){if(typeof i!==l)throw u.default.BAD_ARGUMENT_ERROR}function e(i){if(i===null||isNaN(i)||i%1!=0)throw u.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function n(i,l,p){if(i<l||i>p)throw u.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function c(i){if(typeof i!="string"||i!==u.default.AUDIO&&i!==u.default.VIDEO)throw u.default.BAD_ARGUMENT_ERROR}},1944:function(_,f,t){t.r(f),f.default=class{constructor(u,r,e){this.code=u||null,this.message=r||null,this.data=e||null}}},7568:function(_,f,t){t.r(f),t.d(f,{HTTPRequest:function(){return u},HTTPRequestTrace:function(){return r}});class u{constructor(){this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null,this._resourceTimingValues=null}}class r{constructor(){this.s=null,this.d=null,this.b=[]}}u.GET="GET",u.HEAD="HEAD",u.MPD_TYPE="MPD",u.XLINK_EXPANSION_TYPE="XLinkExpansion",u.INIT_SEGMENT_TYPE="InitializationSegment",u.INDEX_SEGMENT_TYPE="IndexSegment",u.MEDIA_SEGMENT_TYPE="MediaSegment",u.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",u.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",u.DVB_REPORTING_TYPE="DVBReporting",u.LICENSE="license",u.CONTENT_STEERING_TYPE="ContentSteering",u.OTHER_TYPE="other"}},wu={};function ta(_){var f=wu[_];if(f!==void 0)return f.exports;var t=wu[_]={exports:{}};return Rg[_].call(t.exports,t,t.exports,ta),t.exports}ta.amdO={},ta.d=function(_,f){for(var t in f)ta.o(f,t)&&!ta.o(_,t)&&Object.defineProperty(_,t,{enumerable:!0,get:f[t]})},ta.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ta.o=function(_,f){return Object.prototype.hasOwnProperty.call(_,f)},ta.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var Na={};ta.r(Na),ta.d(Na,{Constants:function(){return mc.default},Debug:function(){return gc.default},MediaPlayer:function(){return Cg.MediaPlayer},MediaPlayerFactory:function(){return fc},MetricsReporting:function(){return cc.default},Protection:function(){return dc.default},default:function(){return xg},supportsMediaSource:function(){return pc.supportsMediaSource}});var Cg=ta(5393),cc=ta(4469),dc=ta(3888),Ng=ta(5849);let Su,Li=function(){const _="application/dash+xml";let f;function t(r,e,n){if(!r||!/^VIDEO$/i.test(r.nodeName))return null;if(r._dashjs_player)return r._dashjs_player;let c,i=r.id||r.name||"video element";if(!(e=e||[].slice.call(r.querySelectorAll("source")).filter(function(l){return l.type==_})[0])&&r.src)(e=document.createElement("source")).src=r.src;else if(!e&&!r.src)return null;return n=n||{},c=(0,Ng.default)(n).create(),c.initialize(r,e.src,r.autoplay),f||(f=c.getDebug().getLogger()),f.debug("Converted "+i+" to dash.js player and added content: "+e.src),r._dashjs_player=c,c}function u(r){return/^VIDEO$/i.test(r.nodeName)?r:u(r.parentNode)}return{create:t,createAll:function(r,e){let n=[];r=r||"[data-dashjs-player]";let c=(e=e||document).querySelectorAll(r);for(let l=0;l<c.length;l++){let p=t(c[l],null);n.push(p)}let i=e.querySelectorAll('source[type="'+_+'"]');for(let l=0;l<i.length;l++){let p=t(u(i[l]),null);n.push(p)}return n}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?Li.createAll():Su=window.setInterval(function(){window.dashjs&&(window.clearInterval(Su),Li.createAll())},500):window.addEventListener("load",function _(){window.removeEventListener("load",_),Li.createAll()}));var fc=Li,gc=ta(649),mc=ta(5212),pc=ta(559);dashjs.Protection=dc.default,dashjs.MetricsReporting=cc.default,dashjs.MediaPlayerFactory=fc,dashjs.Debug=gc.default,dashjs.supportsMediaSource=pc.supportsMediaSource,dashjs.Constants=mc.default;var xg=dashjs;(Na=Na.default).Constants;Na.Debug;var Dg=Na.MediaPlayer;Na.MediaPlayerFactory;Na.MetricsReporting;Na.Protection;Na.default;Na.supportsMediaSource;function Mg(_){let f;return{c(){f=Yt("div"),f.innerHTML="",Xe(f,"class","artplayer-app")},m(t,u){wn(t,f,u),_[11](f)},p:Zn,i:Zn,o:Zn,d(t){t&&_n(f),_[11](null)}}}function Pg(_,f,t){let{app:u}=f,{config:r}=f,{i18n:e}=f,n=null,c,i=null,l=0;const p={volume:70,speed:100,loopCount:3};function h(M=""){var q,se,P;const S={...p,...r};return{container:c,url:M,volume:S.volume/100,autoplay:!0,pip:!0,autoSize:!0,autoMini:!0,setting:!0,flip:!0,playbackRate:!0,aspectRatio:!0,fullscreen:!0,fullscreenWeb:!0,subtitleOffset:!0,miniProgressBar:!0,mutex:!0,backdrop:!0,playsInline:!0,autoPlayback:!0,theme:"var(--b3-theme-primary)",lang:((P=(se=(q=window.siyuan)==null?void 0:q.config)==null?void 0:se.lang)==null?void 0:P.toLowerCase())==="en_us"?"en":"zh-cn"}}function b(M="",S=""){E();const q=h(M);if(S==="mpd"){const se=console.warn;console.warn=(...P)=>{var ae;return!((ae=P[0])!=null&&ae.includes("[CapabilitiesFilter]"))&&se.apply(console,P)},q.type="mpd",q.customType={mpd:(P,ae,we)=>{we.dash&&we.dash.destroy();const $=Dg().create();$.initialize(P,ae,we.option.autoplay),we.dash=$,we.on("destroy",()=>{we.dash&&we.dash.destroy(),console.warn=se})}}}return n=new Ag(q),n.on("video:timeupdate",()=>{if(i&&n.currentTime>=i.end){const se=(r==null?void 0:r.loopCount)||p.loopCount;if(se>0&&l>=se){i=null,l=0,n.notice.show=e.player.loop.endMessage;return}n.currentTime=i.start,n.notice.show=e.player.loop.currentLoop.replace("${current}",++l).replace("${total}",se)}}),n.on("ready",()=>{const se={...p,...r};n.volume=se.volume/100,n.playbackRate=se.speed/100}),n}function E(){n&&(n.destroy(!0),n=null)}async function y(M,S={}){try{i=null,l=0;const q=S.type==="bilibili-dash"||M.endsWith(".mpd")?"mpd":"";if(!n||q==="mpd")n=b(M,q);else{if(n.dash)try{n.dash.destroy(),n.dash=null}catch(se){console.warn("[Player] "+e.player.error.clearDash,se)}n.option.customType={},n.option.type="",n.url=M}await new Promise(se=>{const P=()=>{se(),n.off("video:loadeddata",P)};n.on("video:loadeddata",P)}),S.headers&&(n.headers=S.headers),S.startTime!==void 0&&(S.isLoop&&S.endTime!==void 0?R(S.startTime,S.endTime):R(S.startTime)),n.play()}catch(q){console.error("[Player] "+e.player.error.playFailed,q),fn.showMessage(e.player.error.playRetry),n!=null&&n.container&&n.container.dispatchEvent(new CustomEvent("streamError",{detail:{url:M,options:S}}))}}function R(M,S){if(n)try{l=0,i=S!==void 0?{start:M,end:S}:null,n.currentTime=M}catch(q){console.error("[Player] "+e.player.error.setTimeFailed,q),fn.showMessage(e.player.error.setTimeFailed)}}function F(M,S){if(n)try{n.loop=M,S!==void 0&&r&&t(1,r.loopCount=S,r)}catch(q){console.error("[Player] "+e.player.error.setLoopFailed,q)}}function te(M){if(!n)return;const S={...p,...M};n.volume=S.volume/100,n.playbackRate=S.speed/100}function de(M){n&&(n.currentTime=M)}function ee(){return(n==null?void 0:n.currentTime)||0}function ve(){return n?n.getDataURL():Promise.resolve(null)}Nr(()=>{c&&b()}),oc(E);function Ae(M){xr[M?"unshift":"push"](()=>{c=M,t(0,c)})}return _.$$set=M=>{"app"in M&&t(2,u=M.app),"config"in M&&t(1,r=M.config),"i18n"in M&&t(3,e=M.i18n)},[c,r,u,e,y,R,F,te,de,ee,ve,Ae]}class zg extends nr{constructor(f){super(),tr(this,f,Pg,Mg,er,{app:2,config:1,i18n:3,play:4,setPlayTime:5,setLoop:6,updateConfig:7,seekTo:8,getCurrentTime:9,getScreenshotDataURL:10})}get play(){return this.$$.ctx[4]}get setPlayTime(){return this.$$.ctx[5]}get setLoop(){return this.$$.ctx[6]}get updateConfig(){return this.$$.ctx[7]}get seekTo(){return this.$$.ctx[8]}get getCurrentTime(){return this.$$.ctx[9]}get getScreenshotDataURL(){return this.$$.ctx[10]}}var hc={exports:{}},bc={exports:{}};(function(){var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f={rotl:function(t,u){return t<<u|t>>>32-u},rotr:function(t,u){return t<<32-u|t>>>u},endian:function(t){if(t.constructor==Number)return f.rotl(t,8)&16711935|f.rotl(t,24)&4278255360;for(var u=0;u<t.length;u++)t[u]=f.endian(t[u]);return t},randomBytes:function(t){for(var u=[];t>0;t--)u.push(Math.floor(Math.random()*256));return u},bytesToWords:function(t){for(var u=[],r=0,e=0;r<t.length;r++,e+=8)u[e>>>5]|=t[r]<<24-e%32;return u},wordsToBytes:function(t){for(var u=[],r=0;r<t.length*32;r+=8)u.push(t[r>>>5]>>>24-r%32&255);return u},bytesToHex:function(t){for(var u=[],r=0;r<t.length;r++)u.push((t[r]>>>4).toString(16)),u.push((t[r]&15).toString(16));return u.join("")},hexToBytes:function(t){for(var u=[],r=0;r<t.length;r+=2)u.push(parseInt(t.substr(r,2),16));return u},bytesToBase64:function(t){for(var u=[],r=0;r<t.length;r+=3)for(var e=t[r]<<16|t[r+1]<<8|t[r+2],n=0;n<4;n++)r*8+n*6<=t.length*8?u.push(_.charAt(e>>>6*(3-n)&63)):u.push("=");return u.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var u=[],r=0,e=0;r<t.length;e=++r%4)e!=0&&u.push((_.indexOf(t.charAt(r-1))&Math.pow(2,-2*e+8)-1)<<e*2|_.indexOf(t.charAt(r))>>>6-e*2);return u}};bc.exports=f})();var Lg=bc.exports,Do={utf8:{stringToBytes:function(_){return Do.bin.stringToBytes(unescape(encodeURIComponent(_)))},bytesToString:function(_){return decodeURIComponent(escape(Do.bin.bytesToString(_)))}},bin:{stringToBytes:function(_){for(var f=[],t=0;t<_.length;t++)f.push(_.charCodeAt(t)&255);return f},bytesToString:function(_){for(var f=[],t=0;t<_.length;t++)f.push(String.fromCharCode(_[t]));return f.join("")}}},ku=Do;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Og=function(_){return _!=null&&(yc(_)||Fg(_)||!!_._isBuffer)};function yc(_){return!!_.constructor&&typeof _.constructor.isBuffer=="function"&&_.constructor.isBuffer(_)}function Fg(_){return typeof _.readFloatLE=="function"&&typeof _.slice=="function"&&yc(_.slice(0,0))}(function(){var _=Lg,f=ku.utf8,t=Og,u=ku.bin,r=function(e,n){e.constructor==String?n&&n.encoding==="binary"?e=u.stringToBytes(e):e=f.stringToBytes(e):t(e)?e=Array.prototype.slice.call(e,0):!Array.isArray(e)&&e.constructor!==Uint8Array&&(e=e.toString());for(var c=_.bytesToWords(e),i=e.length*8,l=1732584193,p=-271733879,h=-1732584194,b=271733878,E=0;E<c.length;E++)c[E]=(c[E]<<8|c[E]>>>24)&16711935|(c[E]<<24|c[E]>>>8)&4278255360;c[i>>>5]|=128<<i%32,c[(i+64>>>9<<4)+14]=i;for(var y=r._ff,R=r._gg,F=r._hh,te=r._ii,E=0;E<c.length;E+=16){var de=l,ee=p,ve=h,Ae=b;l=y(l,p,h,b,c[E+0],7,-680876936),b=y(b,l,p,h,c[E+1],12,-389564586),h=y(h,b,l,p,c[E+2],17,606105819),p=y(p,h,b,l,c[E+3],22,-1044525330),l=y(l,p,h,b,c[E+4],7,-176418897),b=y(b,l,p,h,c[E+5],12,1200080426),h=y(h,b,l,p,c[E+6],17,-1473231341),p=y(p,h,b,l,c[E+7],22,-45705983),l=y(l,p,h,b,c[E+8],7,1770035416),b=y(b,l,p,h,c[E+9],12,-1958414417),h=y(h,b,l,p,c[E+10],17,-42063),p=y(p,h,b,l,c[E+11],22,-1990404162),l=y(l,p,h,b,c[E+12],7,1804603682),b=y(b,l,p,h,c[E+13],12,-40341101),h=y(h,b,l,p,c[E+14],17,-1502002290),p=y(p,h,b,l,c[E+15],22,1236535329),l=R(l,p,h,b,c[E+1],5,-165796510),b=R(b,l,p,h,c[E+6],9,-1069501632),h=R(h,b,l,p,c[E+11],14,643717713),p=R(p,h,b,l,c[E+0],20,-373897302),l=R(l,p,h,b,c[E+5],5,-701558691),b=R(b,l,p,h,c[E+10],9,38016083),h=R(h,b,l,p,c[E+15],14,-660478335),p=R(p,h,b,l,c[E+4],20,-405537848),l=R(l,p,h,b,c[E+9],5,568446438),b=R(b,l,p,h,c[E+14],9,-1019803690),h=R(h,b,l,p,c[E+3],14,-187363961),p=R(p,h,b,l,c[E+8],20,1163531501),l=R(l,p,h,b,c[E+13],5,-1444681467),b=R(b,l,p,h,c[E+2],9,-51403784),h=R(h,b,l,p,c[E+7],14,1735328473),p=R(p,h,b,l,c[E+12],20,-1926607734),l=F(l,p,h,b,c[E+5],4,-378558),b=F(b,l,p,h,c[E+8],11,-2022574463),h=F(h,b,l,p,c[E+11],16,1839030562),p=F(p,h,b,l,c[E+14],23,-35309556),l=F(l,p,h,b,c[E+1],4,-1530992060),b=F(b,l,p,h,c[E+4],11,1272893353),h=F(h,b,l,p,c[E+7],16,-155497632),p=F(p,h,b,l,c[E+10],23,-1094730640),l=F(l,p,h,b,c[E+13],4,681279174),b=F(b,l,p,h,c[E+0],11,-358537222),h=F(h,b,l,p,c[E+3],16,-722521979),p=F(p,h,b,l,c[E+6],23,76029189),l=F(l,p,h,b,c[E+9],4,-640364487),b=F(b,l,p,h,c[E+12],11,-421815835),h=F(h,b,l,p,c[E+15],16,530742520),p=F(p,h,b,l,c[E+2],23,-995338651),l=te(l,p,h,b,c[E+0],6,-198630844),b=te(b,l,p,h,c[E+7],10,1126891415),h=te(h,b,l,p,c[E+14],15,-1416354905),p=te(p,h,b,l,c[E+5],21,-57434055),l=te(l,p,h,b,c[E+12],6,1700485571),b=te(b,l,p,h,c[E+3],10,-1894986606),h=te(h,b,l,p,c[E+10],15,-1051523),p=te(p,h,b,l,c[E+1],21,-2054922799),l=te(l,p,h,b,c[E+8],6,1873313359),b=te(b,l,p,h,c[E+15],10,-30611744),h=te(h,b,l,p,c[E+6],15,-1560198380),p=te(p,h,b,l,c[E+13],21,1309151649),l=te(l,p,h,b,c[E+4],6,-145523070),b=te(b,l,p,h,c[E+11],10,-1120210379),h=te(h,b,l,p,c[E+2],15,718787259),p=te(p,h,b,l,c[E+9],21,-343485551),l=l+de>>>0,p=p+ee>>>0,h=h+ve>>>0,b=b+Ae>>>0}return _.endian([l,p,h,b])};r._ff=function(e,n,c,i,l,p,h){var b=e+(n&c|~n&i)+(l>>>0)+h;return(b<<p|b>>>32-p)+n},r._gg=function(e,n,c,i,l,p,h){var b=e+(n&i|c&~i)+(l>>>0)+h;return(b<<p|b>>>32-p)+n},r._hh=function(e,n,c,i,l,p,h){var b=e+(n^c^i)+(l>>>0)+h;return(b<<p|b>>>32-p)+n},r._ii=function(e,n,c,i,l,p,h){var b=e+(c^(n|~i))+(l>>>0)+h;return(b<<p|b>>>32-p)+n},r._blocksize=16,r._digestsize=16,hc.exports=function(e,n){if(e==null)throw new Error("Illegal argument "+e);var c=_.wordsToBytes(r(e,n));return n&&n.asBytes?c:n&&n.asString?u.bytesToString(c):_.bytesToHex(c)}})();var jg=hc.exports;const Ug=uc(jg);function Bg(_,f=null){return _!=null&&_.length?_.sort((u,r)=>{if(f){if(u.id===f)return-1;if(r.id===f)return 1}return r.id-u.id||r.bandwidth-u.bandwidth})[0]:null}function qg(_,f,t){var i,l,p,h;let u=[],r=[],e=3600,n=1.5;if(Array.isArray(_))u=_,r=f,e=t&&!isNaN(t)&&t>0?t:3600;else{const b=_;if(!b.data.dash)throw new Error("无效的DASH数据");const E=b.data.dash.duration||Math.floor(b.data.timelength/1e3);e=E&&!isNaN(E)&&E>0?E:3600,n=b.data.dash.min_buffer_time||1.5,u=b.data.dash.video||[],r=b.data.dash.audio||[]}let c=`<?xml version="1.0" encoding="UTF-8"?>
<MPD xmlns="urn:mpeg:dash:schema:mpd:2011" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="urn:mpeg:dash:schema:mpd:2011 DASH-MPD.xsd" 
    profiles="urn:mpeg:dash:profile:isoff-on-demand:2011"
    type="static" 
    minBufferTime="PT${n}S" 
    mediaPresentationDuration="PT${e}S">
    <Period id="1" start="PT0S">`;if((u==null?void 0:u.length)>0){const b=u.filter(E=>E&&E.baseUrl&&E.id&&E.codecs&&E.bandwidth&&E.width&&E.height&&E.frameRate);if(b.length>0){const E=Math.max(...b.map(F=>F.width)),y=Math.max(...b.map(F=>F.height));c+=`
        <AdaptationSet 
            mimeType="video/mp4" 
            segmentAlignment="true" 
            startWithSAP="1"
            maxWidth="${E}"
            maxHeight="${y}">`;const R=[...b].sort((F,te)=>{const de=te.height-F.height;return de!==0?de:te.bandwidth-F.bandwidth});for(const F of R)c+=`
            <Representation 
                id="video-${F.id}" 
                codecs="${F.codecs}" 
                bandwidth="${F.bandwidth}" 
                width="${F.width}" 
                height="${F.height}" 
                frameRate="${F.frameRate}"
                scanType="progressive">
                <BaseURL>${F.baseUrl}</BaseURL>
                <SegmentBase indexRange="${((i=F.segment_base)==null?void 0:i.index_range)||"0-0"}">
                    <Initialization range="${((l=F.segment_base)==null?void 0:l.initialization)||"0-0"}"/>
                </SegmentBase>
            </Representation>`;c+=`
        </AdaptationSet>`}}if((r==null?void 0:r.length)>0){const b=r.filter(E=>E&&E.baseUrl&&E.codecs&&E.bandwidth);if(b.length>0){const E=[...b].sort((y,R)=>R.bandwidth-y.bandwidth);c+=`
        <AdaptationSet 
            mimeType="audio/mp4" 
            segmentAlignment="true" 
            startWithSAP="1"
            lang="und">`;for(const y of E){const R=y.id||Math.floor(Math.random()*1e3);c+=`
            <Representation 
                id="audio-${R}" 
                codecs="${y.codecs}" 
                bandwidth="${y.bandwidth}">
                <BaseURL>${y.baseUrl}</BaseURL>
                <SegmentBase indexRange="${((p=y.segment_base)==null?void 0:p.index_range)||"0-0"}">
                    <Initialization range="${((h=y.segment_base)==null?void 0:h.initialization)||"0-0"}"/>
                </SegmentBase>
            </Representation>`}c+=`
        </AdaptationSet>`}}return c+=`
    </Period>
</MPD>`,c}function _o(_,f=!1){if(isNaN(_)||_<0)return"0:00";const t=f?Math.round(_):_,u=Math.floor(t/3600),r=Math.floor(t%3600/60),e=f?Math.floor(t%60):parseFloat((t%60).toFixed(1));return u>0?`${u}:${r.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`:`${r}:${e.toString().padStart(2,"0")}`}function Ec(_){if(isNaN(_)||_<0)return"0:00";const f=Math.floor(_/3600),t=Math.floor(_%3600/60),u=Math.floor(_%60);return f>0?`${f}:${t.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`:`${t}:${u.toString().padStart(2,"0")}`}const Wr={VIDEO:[".mp4",".webm",".ogg",".mov",".m4v"],AUDIO:[".mp3",".wav",".aac",".m4a"],get ALL(){return[...this.VIDEO,...this.AUDIO]}},Hg=["mp3","mp4","webm","ogg","wav","m4v","mov","aac","m4a"];function Iu(_){const f=_.toLowerCase();return f.includes("bilibili.com")?"bilibili":Wr.VIDEO.some(r=>f.endsWith(r))?"video":Wr.AUDIO.some(r=>f.endsWith(r))?"audio":"video"}function Au(_){return _=_.replace(/^["']|["']$/g,""),/^(https?|file):\/\//.test(_)?_:/^[a-zA-Z]:\\/.test(_)?"file:///"+_.replace(/\\/g,"/"):"file://"+_}function Gg(_){try{const t=new URL(_).pathname.split("/"),u=t[t.length-1];return decodeURIComponent(u.split(".")[0])||"未知标题"}catch{const f=_.split(/[/\\]/);return f[f.length-1].split(".")[0]||"未知标题"}}function Yg(_){if(!_)return!1;const f=_.toLowerCase(),t=["obsidian:","notion:","zotero:","evernote:","onenote:"];for(const u of t)if(f.startsWith(u))return!1;if(f.includes("bilibili.com")||Hg.some(u=>new RegExp(`[/\\\\._-]${u}[/\\\\._-]|[/\\\\._-]${u}$|^${u}[/\\\\._-]|^${u}$`).test(f)))return!0;try{const u=new URL(_);if(!["http:","https:","file:"].includes(u.protocol))return!1;const e=u.pathname.toLowerCase();if(Wr.ALL.some(n=>e.endsWith(n)))return!0;if(u.protocol==="file:")return Wr.ALL.some(n=>e.endsWith(n));if(u.searchParams.has("t")){const n=u.searchParams.get("t")||"";return/^(\d+(\.\d+)?(-\d+(\.\d+)?)?)$/.test(n)}return!1}catch{return Wr.ALL.some(u=>f.endsWith(u))}}function vc(_){if(!_)return{mediaUrl:""};try{const f=new URL(_),t=f.searchParams.get("t");if(!t)return{mediaUrl:_};f.searchParams.delete("t");const u=f.toString();if(t.includes("-")){const[e,n]=t.split("-").map(Number);return{mediaUrl:u,startTime:isNaN(e)?void 0:e,endTime:isNaN(n)?void 0:n}}const r=Number(t);return{mediaUrl:u,startTime:isNaN(r)?void 0:r}}catch{return{mediaUrl:_}}}var Jr={},Vg=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},_c={},ya={};let qo;const Kg=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ya.getSymbolSize=function(f){if(!f)throw new Error('"version" cannot be null or undefined');if(f<1||f>40)throw new Error('"version" should be in range from 1 to 40');return f*4+17};ya.getSymbolTotalCodewords=function(f){return Kg[f]};ya.getBCHDigit=function(_){let f=0;for(;_!==0;)f++,_>>>=1;return f};ya.setToSJISFunction=function(f){if(typeof f!="function")throw new Error('"toSJISFunc" is not a valid function.');qo=f};ya.isKanjiModeEnabled=function(){return typeof qo<"u"};ya.toSJIS=function(f){return qo(f)};var Ui={};(function(_){_.L={bit:1},_.M={bit:0},_.Q={bit:3},_.H={bit:2};function f(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return _.L;case"m":case"medium":return _.M;case"q":case"quartile":return _.Q;case"h":case"high":return _.H;default:throw new Error("Unknown EC Level: "+t)}}_.isValid=function(u){return u&&typeof u.bit<"u"&&u.bit>=0&&u.bit<4},_.from=function(u,r){if(_.isValid(u))return u;try{return f(u)}catch{return r}}})(Ui);function Tc(){this.buffer=[],this.length=0}Tc.prototype={get:function(_){const f=Math.floor(_/8);return(this.buffer[f]>>>7-_%8&1)===1},put:function(_,f){for(let t=0;t<f;t++)this.putBit((_>>>f-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(_){const f=Math.floor(this.length/8);this.buffer.length<=f&&this.buffer.push(0),_&&(this.buffer[f]|=128>>>this.length%8),this.length++}};var $g=Tc;function ei(_){if(!_||_<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=_,this.data=new Uint8Array(_*_),this.reservedBit=new Uint8Array(_*_)}ei.prototype.set=function(_,f,t,u){const r=_*this.size+f;this.data[r]=t,u&&(this.reservedBit[r]=!0)};ei.prototype.get=function(_,f){return this.data[_*this.size+f]};ei.prototype.xor=function(_,f,t){this.data[_*this.size+f]^=t};ei.prototype.isReserved=function(_,f){return this.reservedBit[_*this.size+f]};var Wg=ei,wc={};(function(_){const f=ya.getSymbolSize;_.getRowColCoords=function(u){if(u===1)return[];const r=Math.floor(u/7)+2,e=f(u),n=e===145?26:Math.ceil((e-13)/(2*r-2))*2,c=[e-7];for(let i=1;i<r-1;i++)c[i]=c[i-1]-n;return c.push(6),c.reverse()},_.getPositions=function(u){const r=[],e=_.getRowColCoords(u),n=e.length;for(let c=0;c<n;c++)for(let i=0;i<n;i++)c===0&&i===0||c===0&&i===n-1||c===n-1&&i===0||r.push([e[c],e[i]]);return r}})(wc);var Sc={};const Xg=ya.getSymbolSize,Ru=7;Sc.getPositions=function(f){const t=Xg(f);return[[0,0],[t-Ru,0],[0,t-Ru]]};var kc={};(function(_){_.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const f={N1:3,N2:3,N3:40,N4:10};_.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},_.from=function(r){return _.isValid(r)?parseInt(r,10):void 0},_.getPenaltyN1=function(r){const e=r.size;let n=0,c=0,i=0,l=null,p=null;for(let h=0;h<e;h++){c=i=0,l=p=null;for(let b=0;b<e;b++){let E=r.get(h,b);E===l?c++:(c>=5&&(n+=f.N1+(c-5)),l=E,c=1),E=r.get(b,h),E===p?i++:(i>=5&&(n+=f.N1+(i-5)),p=E,i=1)}c>=5&&(n+=f.N1+(c-5)),i>=5&&(n+=f.N1+(i-5))}return n},_.getPenaltyN2=function(r){const e=r.size;let n=0;for(let c=0;c<e-1;c++)for(let i=0;i<e-1;i++){const l=r.get(c,i)+r.get(c,i+1)+r.get(c+1,i)+r.get(c+1,i+1);(l===4||l===0)&&n++}return n*f.N2},_.getPenaltyN3=function(r){const e=r.size;let n=0,c=0,i=0;for(let l=0;l<e;l++){c=i=0;for(let p=0;p<e;p++)c=c<<1&2047|r.get(l,p),p>=10&&(c===1488||c===93)&&n++,i=i<<1&2047|r.get(p,l),p>=10&&(i===1488||i===93)&&n++}return n*f.N3},_.getPenaltyN4=function(r){let e=0;const n=r.data.length;for(let i=0;i<n;i++)e+=r.data[i];return Math.abs(Math.ceil(e*100/n/5)-10)*f.N4};function t(u,r,e){switch(u){case _.Patterns.PATTERN000:return(r+e)%2===0;case _.Patterns.PATTERN001:return r%2===0;case _.Patterns.PATTERN010:return e%3===0;case _.Patterns.PATTERN011:return(r+e)%3===0;case _.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(e/3))%2===0;case _.Patterns.PATTERN101:return r*e%2+r*e%3===0;case _.Patterns.PATTERN110:return(r*e%2+r*e%3)%2===0;case _.Patterns.PATTERN111:return(r*e%3+(r+e)%2)%2===0;default:throw new Error("bad maskPattern:"+u)}}_.applyMask=function(r,e){const n=e.size;for(let c=0;c<n;c++)for(let i=0;i<n;i++)e.isReserved(i,c)||e.xor(i,c,t(r,i,c))},_.getBestMask=function(r,e){const n=Object.keys(_.Patterns).length;let c=0,i=1/0;for(let l=0;l<n;l++){e(l),_.applyMask(l,r);const p=_.getPenaltyN1(r)+_.getPenaltyN2(r)+_.getPenaltyN3(r)+_.getPenaltyN4(r);_.applyMask(l,r),p<i&&(i=p,c=l)}return c}})(kc);var Bi={};const Xa=Ui,xi=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Di=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Bi.getBlocksCount=function(f,t){switch(t){case Xa.L:return xi[(f-1)*4+0];case Xa.M:return xi[(f-1)*4+1];case Xa.Q:return xi[(f-1)*4+2];case Xa.H:return xi[(f-1)*4+3];default:return}};Bi.getTotalCodewordsCount=function(f,t){switch(t){case Xa.L:return Di[(f-1)*4+0];case Xa.M:return Di[(f-1)*4+1];case Xa.Q:return Di[(f-1)*4+2];case Xa.H:return Di[(f-1)*4+3];default:return}};var Ic={},qi={};const Xr=new Uint8Array(512),Fi=new Uint8Array(256);(function(){let f=1;for(let t=0;t<255;t++)Xr[t]=f,Fi[f]=t,f<<=1,f&256&&(f^=285);for(let t=255;t<512;t++)Xr[t]=Xr[t-255]})();qi.log=function(f){if(f<1)throw new Error("log("+f+")");return Fi[f]};qi.exp=function(f){return Xr[f]};qi.mul=function(f,t){return f===0||t===0?0:Xr[Fi[f]+Fi[t]]};(function(_){const f=qi;_.mul=function(u,r){const e=new Uint8Array(u.length+r.length-1);for(let n=0;n<u.length;n++)for(let c=0;c<r.length;c++)e[n+c]^=f.mul(u[n],r[c]);return e},_.mod=function(u,r){let e=new Uint8Array(u);for(;e.length-r.length>=0;){const n=e[0];for(let i=0;i<r.length;i++)e[i]^=f.mul(r[i],n);let c=0;for(;c<e.length&&e[c]===0;)c++;e=e.slice(c)}return e},_.generateECPolynomial=function(u){let r=new Uint8Array([1]);for(let e=0;e<u;e++)r=_.mul(r,new Uint8Array([1,f.exp(e)]));return r}})(Ic);const Ac=Ic;function Ho(_){this.genPoly=void 0,this.degree=_,this.degree&&this.initialize(this.degree)}Ho.prototype.initialize=function(f){this.degree=f,this.genPoly=Ac.generateECPolynomial(this.degree)};Ho.prototype.encode=function(f){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(f.length+this.degree);t.set(f);const u=Ac.mod(t,this.genPoly),r=this.degree-u.length;if(r>0){const e=new Uint8Array(this.degree);return e.set(u,r),e}return u};var Qg=Ho,Rc={},ar={},Go={};Go.isValid=function(f){return!isNaN(f)&&f>=1&&f<=40};var Oa={};const Cc="[0-9]+",Zg="[A-Z $%*+\\-./:]+";let Zr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Zr=Zr.replace(/u/g,"\\u");const Jg="(?:(?![A-Z0-9 $%*+\\-./:]|"+Zr+`)(?:.|[\r
]))+`;Oa.KANJI=new RegExp(Zr,"g");Oa.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Oa.BYTE=new RegExp(Jg,"g");Oa.NUMERIC=new RegExp(Cc,"g");Oa.ALPHANUMERIC=new RegExp(Zg,"g");const em=new RegExp("^"+Zr+"$"),tm=new RegExp("^"+Cc+"$"),nm=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Oa.testKanji=function(f){return em.test(f)};Oa.testNumeric=function(f){return tm.test(f)};Oa.testAlphanumeric=function(f){return nm.test(f)};(function(_){const f=Go,t=Oa;_.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},_.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},_.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},_.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},_.MIXED={bit:-1},_.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!f.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},_.getBestModeForData=function(e){return t.testNumeric(e)?_.NUMERIC:t.testAlphanumeric(e)?_.ALPHANUMERIC:t.testKanji(e)?_.KANJI:_.BYTE},_.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},_.isValid=function(e){return e&&e.bit&&e.ccBits};function u(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return _.NUMERIC;case"alphanumeric":return _.ALPHANUMERIC;case"kanji":return _.KANJI;case"byte":return _.BYTE;default:throw new Error("Unknown mode: "+r)}}_.from=function(e,n){if(_.isValid(e))return e;try{return u(e)}catch{return n}}})(ar);(function(_){const f=ya,t=Bi,u=Ui,r=ar,e=Go,n=7973,c=f.getBCHDigit(n);function i(b,E,y){for(let R=1;R<=40;R++)if(E<=_.getCapacity(R,y,b))return R}function l(b,E){return r.getCharCountIndicator(b,E)+4}function p(b,E){let y=0;return b.forEach(function(R){const F=l(R.mode,E);y+=F+R.getBitsLength()}),y}function h(b,E){for(let y=1;y<=40;y++)if(p(b,y)<=_.getCapacity(y,E,r.MIXED))return y}_.from=function(E,y){return e.isValid(E)?parseInt(E,10):y},_.getCapacity=function(E,y,R){if(!e.isValid(E))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=r.BYTE);const F=f.getSymbolTotalCodewords(E),te=t.getTotalCodewordsCount(E,y),de=(F-te)*8;if(R===r.MIXED)return de;const ee=de-l(R,E);switch(R){case r.NUMERIC:return Math.floor(ee/10*3);case r.ALPHANUMERIC:return Math.floor(ee/11*2);case r.KANJI:return Math.floor(ee/13);case r.BYTE:default:return Math.floor(ee/8)}},_.getBestVersionForData=function(E,y){let R;const F=u.from(y,u.M);if(Array.isArray(E)){if(E.length>1)return h(E,F);if(E.length===0)return 1;R=E[0]}else R=E;return i(R.mode,R.getLength(),F)},_.getEncodedBits=function(E){if(!e.isValid(E)||E<7)throw new Error("Invalid QR Code version");let y=E<<12;for(;f.getBCHDigit(y)-c>=0;)y^=n<<f.getBCHDigit(y)-c;return E<<12|y}})(Rc);var Nc={};const Mo=ya,xc=1335,am=21522,Cu=Mo.getBCHDigit(xc);Nc.getEncodedBits=function(f,t){const u=f.bit<<3|t;let r=u<<10;for(;Mo.getBCHDigit(r)-Cu>=0;)r^=xc<<Mo.getBCHDigit(r)-Cu;return(u<<10|r)^am};var Dc={};const rm=ar;function Dr(_){this.mode=rm.NUMERIC,this.data=_.toString()}Dr.getBitsLength=function(f){return 10*Math.floor(f/3)+(f%3?f%3*3+1:0)};Dr.prototype.getLength=function(){return this.data.length};Dr.prototype.getBitsLength=function(){return Dr.getBitsLength(this.data.length)};Dr.prototype.write=function(f){let t,u,r;for(t=0;t+3<=this.data.length;t+=3)u=this.data.substr(t,3),r=parseInt(u,10),f.put(r,10);const e=this.data.length-t;e>0&&(u=this.data.substr(t),r=parseInt(u,10),f.put(r,e*3+1))};var im=Dr;const om=ar,To=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Mr(_){this.mode=om.ALPHANUMERIC,this.data=_}Mr.getBitsLength=function(f){return 11*Math.floor(f/2)+6*(f%2)};Mr.prototype.getLength=function(){return this.data.length};Mr.prototype.getBitsLength=function(){return Mr.getBitsLength(this.data.length)};Mr.prototype.write=function(f){let t;for(t=0;t+2<=this.data.length;t+=2){let u=To.indexOf(this.data[t])*45;u+=To.indexOf(this.data[t+1]),f.put(u,11)}this.data.length%2&&f.put(To.indexOf(this.data[t]),6)};var lm=Mr;const sm=ar;function Pr(_){this.mode=sm.BYTE,typeof _=="string"?this.data=new TextEncoder().encode(_):this.data=new Uint8Array(_)}Pr.getBitsLength=function(f){return f*8};Pr.prototype.getLength=function(){return this.data.length};Pr.prototype.getBitsLength=function(){return Pr.getBitsLength(this.data.length)};Pr.prototype.write=function(_){for(let f=0,t=this.data.length;f<t;f++)_.put(this.data[f],8)};var um=Pr;const cm=ar,dm=ya;function zr(_){this.mode=cm.KANJI,this.data=_}zr.getBitsLength=function(f){return f*13};zr.prototype.getLength=function(){return this.data.length};zr.prototype.getBitsLength=function(){return zr.getBitsLength(this.data.length)};zr.prototype.write=function(_){let f;for(f=0;f<this.data.length;f++){let t=dm.toSJIS(this.data[f]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[f]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),_.put(t,13)}};var fm=zr,Mc={exports:{}};(function(_){var f={single_source_shortest_paths:function(t,u,r){var e={},n={};n[u]=0;var c=f.PriorityQueue.make();c.push(u,0);for(var i,l,p,h,b,E,y,R,F;!c.empty();){i=c.pop(),l=i.value,h=i.cost,b=t[l]||{};for(p in b)b.hasOwnProperty(p)&&(E=b[p],y=h+E,R=n[p],F=typeof n[p]>"u",(F||R>y)&&(n[p]=y,c.push(p,y),e[p]=l))}if(typeof r<"u"&&typeof n[r]>"u"){var te=["Could not find a path from ",u," to ",r,"."].join("");throw new Error(te)}return e},extract_shortest_path_from_predecessor_list:function(t,u){for(var r=[],e=u;e;)r.push(e),t[e],e=t[e];return r.reverse(),r},find_path:function(t,u,r){var e=f.single_source_shortest_paths(t,u,r);return f.extract_shortest_path_from_predecessor_list(e,r)},PriorityQueue:{make:function(t){var u=f.PriorityQueue,r={},e;t=t||{};for(e in u)u.hasOwnProperty(e)&&(r[e]=u[e]);return r.queue=[],r.sorter=t.sorter||u.default_sorter,r},default_sorter:function(t,u){return t.cost-u.cost},push:function(t,u){var r={value:t,cost:u};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};_.exports=f})(Mc);var gm=Mc.exports;(function(_){const f=ar,t=im,u=lm,r=um,e=fm,n=Oa,c=ya,i=gm;function l(te){return unescape(encodeURIComponent(te)).length}function p(te,de,ee){const ve=[];let Ae;for(;(Ae=te.exec(ee))!==null;)ve.push({data:Ae[0],index:Ae.index,mode:de,length:Ae[0].length});return ve}function h(te){const de=p(n.NUMERIC,f.NUMERIC,te),ee=p(n.ALPHANUMERIC,f.ALPHANUMERIC,te);let ve,Ae;return c.isKanjiModeEnabled()?(ve=p(n.BYTE,f.BYTE,te),Ae=p(n.KANJI,f.KANJI,te)):(ve=p(n.BYTE_KANJI,f.BYTE,te),Ae=[]),de.concat(ee,ve,Ae).sort(function(S,q){return S.index-q.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function b(te,de){switch(de){case f.NUMERIC:return t.getBitsLength(te);case f.ALPHANUMERIC:return u.getBitsLength(te);case f.KANJI:return e.getBitsLength(te);case f.BYTE:return r.getBitsLength(te)}}function E(te){return te.reduce(function(de,ee){const ve=de.length-1>=0?de[de.length-1]:null;return ve&&ve.mode===ee.mode?(de[de.length-1].data+=ee.data,de):(de.push(ee),de)},[])}function y(te){const de=[];for(let ee=0;ee<te.length;ee++){const ve=te[ee];switch(ve.mode){case f.NUMERIC:de.push([ve,{data:ve.data,mode:f.ALPHANUMERIC,length:ve.length},{data:ve.data,mode:f.BYTE,length:ve.length}]);break;case f.ALPHANUMERIC:de.push([ve,{data:ve.data,mode:f.BYTE,length:ve.length}]);break;case f.KANJI:de.push([ve,{data:ve.data,mode:f.BYTE,length:l(ve.data)}]);break;case f.BYTE:de.push([{data:ve.data,mode:f.BYTE,length:l(ve.data)}])}}return de}function R(te,de){const ee={},ve={start:{}};let Ae=["start"];for(let M=0;M<te.length;M++){const S=te[M],q=[];for(let se=0;se<S.length;se++){const P=S[se],ae=""+M+se;q.push(ae),ee[ae]={node:P,lastCount:0},ve[ae]={};for(let we=0;we<Ae.length;we++){const $=Ae[we];ee[$]&&ee[$].node.mode===P.mode?(ve[$][ae]=b(ee[$].lastCount+P.length,P.mode)-b(ee[$].lastCount,P.mode),ee[$].lastCount+=P.length):(ee[$]&&(ee[$].lastCount=P.length),ve[$][ae]=b(P.length,P.mode)+4+f.getCharCountIndicator(P.mode,de))}}Ae=q}for(let M=0;M<Ae.length;M++)ve[Ae[M]].end=0;return{map:ve,table:ee}}function F(te,de){let ee;const ve=f.getBestModeForData(te);if(ee=f.from(de,ve),ee!==f.BYTE&&ee.bit<ve.bit)throw new Error('"'+te+'" cannot be encoded with mode '+f.toString(ee)+`.
 Suggested mode is: `+f.toString(ve));switch(ee===f.KANJI&&!c.isKanjiModeEnabled()&&(ee=f.BYTE),ee){case f.NUMERIC:return new t(te);case f.ALPHANUMERIC:return new u(te);case f.KANJI:return new e(te);case f.BYTE:return new r(te)}}_.fromArray=function(de){return de.reduce(function(ee,ve){return typeof ve=="string"?ee.push(F(ve,null)):ve.data&&ee.push(F(ve.data,ve.mode)),ee},[])},_.fromString=function(de,ee){const ve=h(de,c.isKanjiModeEnabled()),Ae=y(ve),M=R(Ae,ee),S=i.find_path(M.map,"start","end"),q=[];for(let se=1;se<S.length-1;se++)q.push(M.table[S[se]].node);return _.fromArray(E(q))},_.rawSplit=function(de){return _.fromArray(h(de,c.isKanjiModeEnabled()))}})(Dc);const Hi=ya,wo=Ui,mm=$g,pm=Wg,hm=wc,bm=Sc,Po=kc,zo=Bi,ym=Qg,ji=Rc,Em=Nc,vm=ar,So=Dc;function _m(_,f){const t=_.size,u=bm.getPositions(f);for(let r=0;r<u.length;r++){const e=u[r][0],n=u[r][1];for(let c=-1;c<=7;c++)if(!(e+c<=-1||t<=e+c))for(let i=-1;i<=7;i++)n+i<=-1||t<=n+i||(c>=0&&c<=6&&(i===0||i===6)||i>=0&&i<=6&&(c===0||c===6)||c>=2&&c<=4&&i>=2&&i<=4?_.set(e+c,n+i,!0,!0):_.set(e+c,n+i,!1,!0))}}function Tm(_){const f=_.size;for(let t=8;t<f-8;t++){const u=t%2===0;_.set(t,6,u,!0),_.set(6,t,u,!0)}}function wm(_,f){const t=hm.getPositions(f);for(let u=0;u<t.length;u++){const r=t[u][0],e=t[u][1];for(let n=-2;n<=2;n++)for(let c=-2;c<=2;c++)n===-2||n===2||c===-2||c===2||n===0&&c===0?_.set(r+n,e+c,!0,!0):_.set(r+n,e+c,!1,!0)}}function Sm(_,f){const t=_.size,u=ji.getEncodedBits(f);let r,e,n;for(let c=0;c<18;c++)r=Math.floor(c/3),e=c%3+t-8-3,n=(u>>c&1)===1,_.set(r,e,n,!0),_.set(e,r,n,!0)}function ko(_,f,t){const u=_.size,r=Em.getEncodedBits(f,t);let e,n;for(e=0;e<15;e++)n=(r>>e&1)===1,e<6?_.set(e,8,n,!0):e<8?_.set(e+1,8,n,!0):_.set(u-15+e,8,n,!0),e<8?_.set(8,u-e-1,n,!0):e<9?_.set(8,15-e-1+1,n,!0):_.set(8,15-e-1,n,!0);_.set(u-8,8,1,!0)}function km(_,f){const t=_.size;let u=-1,r=t-1,e=7,n=0;for(let c=t-1;c>0;c-=2)for(c===6&&c--;;){for(let i=0;i<2;i++)if(!_.isReserved(r,c-i)){let l=!1;n<f.length&&(l=(f[n]>>>e&1)===1),_.set(r,c-i,l),e--,e===-1&&(n++,e=7)}if(r+=u,r<0||t<=r){r-=u,u=-u;break}}}function Im(_,f,t){const u=new mm;t.forEach(function(i){u.put(i.mode.bit,4),u.put(i.getLength(),vm.getCharCountIndicator(i.mode,_)),i.write(u)});const r=Hi.getSymbolTotalCodewords(_),e=zo.getTotalCodewordsCount(_,f),n=(r-e)*8;for(u.getLengthInBits()+4<=n&&u.put(0,4);u.getLengthInBits()%8!==0;)u.putBit(0);const c=(n-u.getLengthInBits())/8;for(let i=0;i<c;i++)u.put(i%2?17:236,8);return Am(u,_,f)}function Am(_,f,t){const u=Hi.getSymbolTotalCodewords(f),r=zo.getTotalCodewordsCount(f,t),e=u-r,n=zo.getBlocksCount(f,t),c=u%n,i=n-c,l=Math.floor(u/n),p=Math.floor(e/n),h=p+1,b=l-p,E=new ym(b);let y=0;const R=new Array(n),F=new Array(n);let te=0;const de=new Uint8Array(_.buffer);for(let S=0;S<n;S++){const q=S<i?p:h;R[S]=de.slice(y,y+q),F[S]=E.encode(R[S]),y+=q,te=Math.max(te,q)}const ee=new Uint8Array(u);let ve=0,Ae,M;for(Ae=0;Ae<te;Ae++)for(M=0;M<n;M++)Ae<R[M].length&&(ee[ve++]=R[M][Ae]);for(Ae=0;Ae<b;Ae++)for(M=0;M<n;M++)ee[ve++]=F[M][Ae];return ee}function Rm(_,f,t,u){let r;if(Array.isArray(_))r=So.fromArray(_);else if(typeof _=="string"){let l=f;if(!l){const p=So.rawSplit(_);l=ji.getBestVersionForData(p,t)}r=So.fromString(_,l||40)}else throw new Error("Invalid data");const e=ji.getBestVersionForData(r,t);if(!e)throw new Error("The amount of data is too big to be stored in a QR Code");if(!f)f=e;else if(f<e)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+e+`.
`);const n=Im(f,t,r),c=Hi.getSymbolSize(f),i=new pm(c);return _m(i,f),Tm(i),wm(i,f),ko(i,t,0),f>=7&&Sm(i,f),km(i,n),isNaN(u)&&(u=Po.getBestMask(i,ko.bind(null,i,t))),Po.applyMask(u,i),ko(i,t,u),{modules:i,version:f,errorCorrectionLevel:t,maskPattern:u,segments:r}}_c.create=function(f,t){if(typeof f>"u"||f==="")throw new Error("No input text");let u=wo.M,r,e;return typeof t<"u"&&(u=wo.from(t.errorCorrectionLevel,wo.M),r=ji.from(t.version),e=Po.from(t.maskPattern),t.toSJISFunc&&Hi.setToSJISFunction(t.toSJISFunc)),Rm(f,r,u,e)};var Pc={},Yo={};(function(_){function f(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let u=t.slice().replace("#","").split("");if(u.length<3||u.length===5||u.length>8)throw new Error("Invalid hex color: "+t);(u.length===3||u.length===4)&&(u=Array.prototype.concat.apply([],u.map(function(e){return[e,e]}))),u.length===6&&u.push("F","F");const r=parseInt(u.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+u.slice(0,6).join("")}}_.getOptions=function(u){u||(u={}),u.color||(u.color={});const r=typeof u.margin>"u"||u.margin===null||u.margin<0?4:u.margin,e=u.width&&u.width>=21?u.width:void 0,n=u.scale||4;return{width:e,scale:e?4:n,margin:r,color:{dark:f(u.color.dark||"#000000ff"),light:f(u.color.light||"#ffffffff")},type:u.type,rendererOpts:u.rendererOpts||{}}},_.getScale=function(u,r){return r.width&&r.width>=u+r.margin*2?r.width/(u+r.margin*2):r.scale},_.getImageWidth=function(u,r){const e=_.getScale(u,r);return Math.floor((u+r.margin*2)*e)},_.qrToImageData=function(u,r,e){const n=r.modules.size,c=r.modules.data,i=_.getScale(n,e),l=Math.floor((n+e.margin*2)*i),p=e.margin*i,h=[e.color.light,e.color.dark];for(let b=0;b<l;b++)for(let E=0;E<l;E++){let y=(b*l+E)*4,R=e.color.light;if(b>=p&&E>=p&&b<l-p&&E<l-p){const F=Math.floor((b-p)/i),te=Math.floor((E-p)/i);R=h[c[F*n+te]?1:0]}u[y++]=R.r,u[y++]=R.g,u[y++]=R.b,u[y]=R.a}}})(Yo);(function(_){const f=Yo;function t(r,e,n){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function u(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}_.render=function(e,n,c){let i=c,l=n;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),n||(l=u()),i=f.getOptions(i);const p=f.getImageWidth(e.modules.size,i),h=l.getContext("2d"),b=h.createImageData(p,p);return f.qrToImageData(b.data,e,i),t(h,l,p),h.putImageData(b,0,0),l},_.renderToDataURL=function(e,n,c){let i=c;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),i||(i={});const l=_.render(e,n,i),p=i.type||"image/png",h=i.rendererOpts||{};return l.toDataURL(p,h.quality)}})(Pc);var zc={};const Cm=Yo;function Nu(_,f){const t=_.a/255,u=f+'="'+_.hex+'"';return t<1?u+" "+f+'-opacity="'+t.toFixed(2).slice(1)+'"':u}function Io(_,f,t){let u=_+f;return typeof t<"u"&&(u+=" "+t),u}function Nm(_,f,t){let u="",r=0,e=!1,n=0;for(let c=0;c<_.length;c++){const i=Math.floor(c%f),l=Math.floor(c/f);!i&&!e&&(e=!0),_[c]?(n++,c>0&&i>0&&_[c-1]||(u+=e?Io("M",i+t,.5+l+t):Io("m",r,0),r=0,e=!1),i+1<f&&_[c+1]||(u+=Io("h",n),n=0)):r++}return u}zc.render=function(f,t,u){const r=Cm.getOptions(t),e=f.modules.size,n=f.modules.data,c=e+r.margin*2,i=r.color.light.a?"<path "+Nu(r.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+Nu(r.color.dark,"stroke")+' d="'+Nm(n,e,r.margin)+'"/>',p='viewBox="0 0 '+c+" "+c+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+p+' shape-rendering="crispEdges">'+i+l+`</svg>
`;return typeof u=="function"&&u(null,b),b};const xm=Vg,Lo=_c,Lc=Pc,Dm=zc;function Vo(_,f,t,u,r){const e=[].slice.call(arguments,1),n=e.length,c=typeof e[n-1]=="function";if(!c&&!xm())throw new Error("Callback required as last argument");if(c){if(n<2)throw new Error("Too few arguments provided");n===2?(r=t,t=f,f=u=void 0):n===3&&(f.getContext&&typeof r>"u"?(r=u,u=void 0):(r=u,u=t,t=f,f=void 0))}else{if(n<1)throw new Error("Too few arguments provided");return n===1?(t=f,f=u=void 0):n===2&&!f.getContext&&(u=t,t=f,f=void 0),new Promise(function(i,l){try{const p=Lo.create(t,u);i(_(p,f,u))}catch(p){l(p)}})}try{const i=Lo.create(t,u);r(null,_(i,f,u))}catch(i){r(i)}}Jr.create=Lo.create;Jr.toCanvas=Vo.bind(null,Lc.render);Jr.toDataURL=Vo.bind(null,Lc.renderToDataURL);Jr.toString=Vo.bind(null,function(_,f,t){return Dm.render(_,t)});const Ua={PROXY:"/api/network/forwardProxy",QR_LOGIN:"https://passport.bilibili.com/x/passport-login/web/qrcode/generate",QR_POLL:"https://passport.bilibili.com/x/passport-login/web/qrcode/poll",USER_INFO:"https://api.bilibili.com/x/web-interface/nav",VIDEO_INFO:"https://api.bilibili.com/x/web-interface/view",VIDEO_PAGES:"https://api.bilibili.com/x/player/pagelist",VIDEO_STREAM:"https://api.bilibili.com/x/player/wbi/playurl",FAVORITE_LIST:"https://api.bilibili.com/x/v3/fav/resource/list",FAVORITE_IDS:"https://api.bilibili.com/x/v3/fav/resource/ids"},Oc={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",Origin:"https://www.bilibili.com"},Fc=_=>{try{return new URL(_).searchParams.get("SESSDATA")}catch{return null}},jc=_=>{try{const f=new URL(_);if(f.hostname==="b23.tv")return null;const t=parseInt(f.searchParams.get("p")||"1"),u=f.pathname.match(/\/(BV[\w]+)/);if(u)return{bvid:u[1],p:t};const r=f.searchParams.get("aid"),e=f.searchParams.get("bvid");return r?{aid:r,p:t}:e?{bvid:e,p:t}:null}catch{return null}},Uc=_=>{try{const f=new URL(_),t=f.searchParams.get("fid"),u=f.searchParams.get("media_id");if(t||u)return t||u;const r=[/\/favlist\/(\d+)/,/\/medialist\/media\/(\d+)/];for(const e of r){const n=_.match(e);if(n!=null&&n[1])return n[1]}return null}catch{return null}},Wa=async(_,f={})=>{try{const u=await(await fetch(Ua.PROXY,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:_,method:"GET",timeout:7e3,headers:Object.entries(f).map(([r,e])=>({[r]:e}))})})).json();if(u.code!==0)throw new Error(`请求失败: ${u.msg}`);return JSON.parse(u.data.body)}catch(t){throw new Error(`网络请求失败: ${t instanceof Error?t.message:String(t)}`)}},Mm=async()=>{try{const _=await Wa(Ua.QR_LOGIN);if(_.code!==0)throw new Error(`生成登录二维码失败: ${_.message}`);return{qrcodeData:await Jr.toDataURL(_.data.url,{width:200,margin:2,color:{dark:"#000000",light:"#ffffff"}}),qrcode_key:_.data.qrcode_key}}catch(_){throw new Error(`生成登录二维码失败: ${_ instanceof Error?_.message:String(_)}`)}},Pm=async _=>{try{const f=await Wa(`${Ua.QR_POLL}?qrcode_key=${_}`);if(f.code===0&&f.data.url){const t=Fc(f.data.url),u=t?await zm(t):null;return{...f.data,code:0,message:"登录成功",userInfo:u||void 0}}return{code:f.code||-1,message:f.message||"未知错误"}}catch(f){return{code:-1,message:`检查二维码状态失败: ${f instanceof Error?f.message:String(f)}`}}},zm=async _=>{try{const f=await Wa(Ua.USER_INFO,{...Oc,Cookie:`SESSDATA=${_}`});return f.code===0?f.data:null}catch{return null}},Mi=(_,f)=>{var u;const t={...Oc,Referer:f?`https://www.bilibili.com/video/${f}/`:"https://www.bilibili.com"};if((u=_.bilibiliLogin)!=null&&u.url){const r=Fc(_.bilibiliLogin.url);if(r)t.Cookie=`SESSDATA=${r}`;else try{const e=new URL(_.bilibiliLogin.url),n=Array.from(e.searchParams.entries()).filter(([c])=>c!=="url").map(([c,i])=>`${c}=${i}`).join("; ");n&&(t.Cookie=n)}catch{}}return t},Lm=[46,47,18,2,53,8,23,32,15,50,10,31,58,3,45,35,27,43,5,49,33,9,42,19,29,28,14,39,12,38,41,13,37,48,7,16,24,55,40,61,26,17,0,1,60,51,30,4,22,25,54,21,56,59,6,63,57,62,11,36,20,34,44,52];class Ja{static mixinKey(f){return Lm.map(t=>f[t]).join("").slice(0,32)}static sign(f,t,u){const r=this.mixinKey(t+u);f={...f,wts:Math.round(Date.now()/1e3)};const e=Object.keys(f).sort().map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(f[n].toString().replace(/[!'()*]/g,""))}`).join("&");return`${e}&w_rid=${Ug(e+r)}`}static getWbiKeys(f){var u,r,e,n;const t=(r=(u=f==null?void 0:f.bilibiliLogin)==null?void 0:u.userInfo)==null?void 0:r.wbi_img;if(!t)throw new Error("未找到WBI密钥信息");return{imgKey:((e=t.img_url.split("/").pop())==null?void 0:e.split(".")[0])||"",subKey:((n=t.sub_url.split("/").pop())==null?void 0:n.split(".")[0])||""}}static async getVideoInfo(f){const t=jc(f);if(!t)return null;try{const{p:u,...r}=t,e=await Wa(`${Ua.VIDEO_INFO}?${new URLSearchParams(r).toString()}`);if(e.code!==0)return null;const n=await this.getVideoParts(r);let c=e.data.cid;if(n.length>0){const i=Math.min(Math.max(1,u||1),n.length)-1;if(c=n[i].cid,n.length>1){const l=n[i].part;e.data.title=`${e.data.title} - P${i+1}${l?": "+l:""}`}}return{url:f,title:e.data.title,artist:e.data.owner.name,artistIcon:e.data.owner.face,duration:Ec(e.data.duration),thumbnail:e.data.pic,aid:String(e.data.aid),bvid:e.data.bvid,cid:String(c)}}catch{return null}}static async getVideoParts(f){try{const t=await Wa(`${Ua.VIDEO_PAGES}?${new URLSearchParams(f).toString()}`);return t.code===0&&Array.isArray(t.data)?t.data:[]}catch{return[]}}static async getVideoStream(f,t,u,r){const e={bvid:f,cid:t,qn:u,fnval:16,fnver:0,fourk:1,platform:"html5",high_quality:1};try{const n=this.getWbiKeys(r),c=this.sign(e,n.imgKey,n.subKey),i=Mi(r,f),l=await Wa(`${Ua.VIDEO_STREAM}?${c}`,i);return l.data.durl?l.data.dash={video:[{id:l.data.quality,baseUrl:decodeURIComponent(l.data.durl[0].url),codecs:"avc1.640032",bandwidth:l.data.durl[0].size,frameRate:"30",width:1920,height:1080}],audio:[]}:l.data.dash&&(l.data.dash.video&&(l.data.dash.video=l.data.dash.video.map(p=>({...p,baseUrl:decodeURIComponent(p.baseUrl)}))),l.data.dash.audio&&(l.data.dash.audio=l.data.dash.audio.map(p=>({...p,baseUrl:decodeURIComponent(p.baseUrl)})))),l}catch(n){throw new Error(`获取视频流失败: ${n instanceof Error?n.message:String(n)}`)}}static async getProcessedVideoStream(f,t,u,r){var e,n,c,i,l;try{const p=await this.getVideoStream(f,t,u,r),h=Mi(r,f);if(!((n=(e=p.data.dash)==null?void 0:e.video)!=null&&n.length))throw new Error("未找到可用的视频流");const E=Bg(p.data.dash.video).baseUrl,y=(l=(i=(c=p.data.dash)==null?void 0:c.audio)==null?void 0:i[0])==null?void 0:l.baseUrl,R=Math.floor(p.data.timelength/1e3);if(y&&p.data.dash.video.length>1){const F=qg(p.data.dash.video,p.data.dash.audio||[],R);return{video:{url:E},audio:{url:y},headers:h,mpdUrl:`data:application/dash+xml;charset=utf-8,${encodeURIComponent(F)}`}}return{video:{url:E},audio:y?{url:y}:void 0,headers:h}}catch(p){throw new Error(`处理视频流失败: ${p instanceof Error?p.message:String(p)}`)}}static async getLoginQRCode(){return Mm()}static async checkQRCodeStatus(f){return Pm(f)}static async getFavoritesList(f,t){var u,r;try{const[e,n]=await Promise.all([Wa(`${Ua.FAVORITE_LIST}?media_id=${f}&platform=web&ps=20&pn=1`,Mi(t)),Wa(`${Ua.FAVORITE_IDS}?media_id=${f}&platform=web`,Mi(t))]),c=((r=(u=e.data)==null?void 0:u.info)==null?void 0:r.title)||"未命名收藏夹",i=Array.isArray(n.data)?n.data.filter(l=>l.type===2&&l.bvid):[];return{title:c,items:i}}catch(e){throw console.error("获取收藏夹内容失败：",e),e}}static extractMediaIdFromUrl(f){return Uc(f)}}const xu=24*60*60*1e3,Pi="media_info_",Du=2,Om=15e3,Fm='data:image/svg+xml;charset=utf-8,<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M628.905386 769.860427 628.905386 482.261019l169.381759-27.464779C771.308637 311.811584 645.822916 203.633728 494.993179 203.633728c-170.51599 0-308.738475 138.222485-308.738475 308.738875 0 170.516989 138.222485 308.738875 308.738475 308.738875 16.540186 0 32.756191-1.34209 48.589456-3.839397 12.391598-20.573051 34.625524-37.084856 62.858182-44.145869C613.897561 771.276467 621.429455 770.182208 628.905386 769.860427zM551.718919 228.830645l-33.079572 144.922942-33.078373 0-23.62798-144.922942C496.589896 211.497397 551.718919 228.830645 551.718919 228.830645zM494.993179 626.995689c-63.300482 0-114.622086-51.317007-114.622086-114.622886 0-63.30348 51.321604-114.622486 114.622086-114.622486 63.306478 0 114.622486 51.319006 114.622486 114.622486C609.615665 575.678482 558.299457 626.995689 494.993179 626.995689zM494.993179 424.978057c-48.20112 0-87.394147 39.192827-87.394147 87.394546 0 48.20112 39.192827 87.395546 87.394147 87.395546 48.201719 0 87.395946-39.194226 87.395946-87.395546C582.389124 464.170884 543.194698 424.978057 494.993179 424.978057zM494.993179 574.79708c-34.421063 0-62.423477-28.002015-62.423477-62.424476 0-34.421662 28.011408-62.424076 62.423477-62.424076 34.432055 0 62.416082 28.002414 62.416082 62.424076C557.409061 546.795265 529.425034 574.79708 494.993179 574.79708zM534.528574 870.531771c1.499983 8.297374 4.789753 16.008146 9.524542 22.939447-16.073102 2.058604-32.429013 3.239803-49.050144 3.239803-211.934708 0-384.347812-172.417701-384.347812-384.338419 0-211.922716 172.413104-384.338419 384.338019-384.338419 188.118456 0 345.001689 135.905456 377.892189 314.664258l-37.310503 6.059292c-29.969681-160.790984-171.236502-282.919381-340.581686-282.919381-191.084445 0-346.53365 155.451604-346.53365 346.53425 0 191.080048 155.449205 346.53425 346.53365 346.53425 12.796724 0 25.414169-0.748493 37.859731-2.104573C532.968631 861.361189 533.461497 865.948079 534.528574 870.531771zM912.096583 463.425989l0 333.227272c0 27.59629-20.573051 49.609165-52.658098 57.716668-35.234911 8.736077-69.250848-6.021917-75.997274-33.022611-6.760416-27.057655 16.31294-56.065787 51.53386-64.879811 15.920206-3.931335 31.587384-3.128879 44.698494 1.494986L879.673565 557.20001l-180.148459 32.927675-0.834434 249.757065-0.036975 0c-0.156894 23.646767-21.482435 46.868223-52.156438 54.45388-34.814196 8.759061-71.280472-7.807706-75.193819-32.597899-6.691463-26.747865 16.124068-55.470191 51.00222-64.201272 15.699356-3.904353 31.039755-3.119885 43.933013 1.402049L666.238674 503.300354 912.096583 463.425989z" fill="currentColor" style="color:var(--b3-theme-primary)"/></svg>';class Ao{static getCachedInfo(f){try{const t=localStorage.getItem(`${Pi}${f}`);if(!t)return null;const{timestamp:u,info:r}=JSON.parse(t);return Date.now()-u>xu?(localStorage.removeItem(`${Pi}${f}`),null):r}catch{return null}}static cacheInfo(f,t){if(t)try{localStorage.setItem(`${Pi}${f}`,JSON.stringify({timestamp:Date.now(),info:t}))}catch(u){console.warn("缓存媒体信息失败:",u)}}static cleanupCache(){try{const f=Date.now();for(let t=0;t<localStorage.length;t++){const u=localStorage.key(t);if(u!=null&&u.startsWith(Pi))try{const r=JSON.parse(localStorage.getItem(u)||"");f-r.timestamp>xu&&localStorage.removeItem(u)}catch{localStorage.removeItem(u)}}}catch(f){console.warn("清理缓存失败:",f)}}static async getMediaInfoFromElement(f,t=0){return new Promise((u,r)=>{const e=Au(f),n=Iu(f),c=document.createElement(n==="audio"?"audio":"video");c.style.display="none",document.body.appendChild(c);let i;const l=()=>{var b;clearTimeout(i),c.removeEventListener("loadedmetadata",p),c.removeEventListener("error",h),(b=c.parentNode)==null||b.removeChild(c)},p=async()=>{var y;const b=Ec(c.duration);let E="";if(c instanceof HTMLVideoElement)try{c.currentTime=Math.min(5,c.duration/2),await new Promise(F=>{const te=()=>{c.removeEventListener("seeked",te),F(null)};c.addEventListener("seeked",te)});const R=document.createElement("canvas");R.width=c.videoWidth,R.height=c.videoHeight,(y=R.getContext("2d"))==null||y.drawImage(c,0,0,R.width,R.height),E=R.toDataURL("image/jpeg",.7)}catch{}l(),u({title:Gg(f),duration:b,thumbnail:E,artist:"",artistIcon:""})},h=()=>{l(),t<Du?u(this.getMediaInfoFromElement(f,t+1)):r(new Error("媒体加载失败"))};i=window.setTimeout(()=>{l(),t<Du?u(this.getMediaInfoFromElement(f,t+1)):r(new Error("媒体加载超时"))},Om),c.addEventListener("loadedmetadata",p),c.addEventListener("error",h),c.src=e,c.load()})}static async createMediaItem(f,t){try{const u=Au(f);let r=this.getCachedInfo(u);if(r||(r=u.includes("bilibili.com")?await Ja.getVideoInfo(u):await this.getMediaInfoFromElement(u),r&&t&&(r={...r,...t}),this.cacheInfo(u,r)),!r)return null;const e=`media-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,n=Iu(u);return{id:e,title:r.title,artist:r.artist,artistIcon:r.artistIcon,duration:r.duration,thumbnail:r.thumbnail||(n==="audio"?Fm:""),url:u,type:n,isPinned:!1,isFavorite:!1,aid:r.aid,bvid:r.bvid,cid:r.cid}}catch(u){return console.error("创建媒体项失败:",u),null}}static getMediaInfoFromItems(f){return f.map(t=>({id:t.id,title:t.title,url:t.url,type:t.type,...t.aid?{aid:t.aid}:{},...t.bvid?{bvid:t.bvid}:{},...t.cid?{cid:t.cid}:{}}))}static async createMediaItems(f){return(await Promise.all(f.map(u=>this.createMediaItem(u.url,u)))).filter(u=>u!==null)}}function Mu(_,f,t){const u=_.slice();return u[22]=f[t],u}function jm(_){let f,t=_[22].name+"",u,r,e;function n(){return _[13](_[22])}function c(...i){return _[14](_[22],...i)}return{c(){f=Yt("button"),u=Rn(t),Xe(f,"class","tab"),Gn(f,"active",_[1]===_[22].id)},m(i,l){wn(i,f,l),ut(f,u),r||(e=[Ln(f,"click",n),Ln(f,"contextmenu",Oo(c))],r=!0)},p(i,l){_=i,l&1&&t!==(t=_[22].name+"")&&On(u,t),l&3&&Gn(f,"active",_[1]===_[22].id)},d(i){i&&_n(f),r=!1,oa(e)}}}function Um(_){let f,t,u,r,e,n;function c(...l){return _[11](_[22],...l)}function i(...l){return _[12](_[22],...l)}return{c(){f=Yt("div"),t=Yt("input"),Xe(t,"id",u="tab-edit-"+_[22].id),Xe(t,"type","text"),Xe(t,"class","tab-input"),t.value=r=_[22].name,Xe(f,"class","tab-edit-wrapper")},m(l,p){wn(l,f,p),ut(f,t),e||(n=[Ln(t,"blur",c),Ln(t,"keydown",i)],e=!0)},p(l,p){_=l,p&1&&u!==(u="tab-edit-"+_[22].id)&&Xe(t,"id",u),p&1&&r!==(r=_[22].name)&&t.value!==r&&(t.value=r)},d(l){l&&_n(f),e=!1,oa(n)}}}function Pu(_,f){let t,u;function r(c,i){return c[22].isEditing?Um:jm}let e=r(f),n=e(f);return{key:_,first:null,c(){t=Co(),n.c(),u=Co(),this.first=t},m(c,i){wn(c,t,i),n.m(c,i),wn(c,u,i)},p(c,i){f=c,e===(e=r(f))&&n?n.p(f,i):(n.d(1),n=e(f),n&&(n.c(),n.m(u.parentNode,u)))},d(c){c&&(_n(t),_n(u)),n.d(c)}}}function Bm(_){let f,t,u;return{c(){f=Yt("button"),f.textContent="+",Xe(f,"class","tab tab-add")},m(r,e){wn(r,f,e),t||(u=[Ln(f,"click",_[8].add),Ln(f,"contextmenu",Oo(_[16]))],t=!0)},p:Zn,d(r){r&&_n(f),t=!1,oa(u)}}}function qm(_){let f,t,u,r;return{c(){f=Yt("input"),Xe(f,"type","text"),Xe(f,"class","tab-input"),yu(f,"width","100px"),yu(f,"max-width","100px"),Xe(f,"placeholder",t=_[4]==="localFolder"?_[2].playList.placeholder.folderPath:_[4]==="bilibiliFavorites"?_[2].playList.placeholder.bilibiliFavorites:_[2].playList.placeholder.newTab)},m(e,n){wn(e,f,n),_[15](f),u||(r=[Ln(f,"blur",_[8].save),Ln(f,"keydown",_[8].save)],u=!0)},p(e,n){n&20&&t!==(t=e[4]==="localFolder"?e[2].playList.placeholder.folderPath:e[4]==="bilibiliFavorites"?e[2].playList.placeholder.bilibiliFavorites:e[2].playList.placeholder.newTab)&&Xe(f,"placeholder",t)},d(e){e&&_n(f),_[15](null),u=!1,oa(r)}}}function Hm(_){let f,t=[],u=new Map,r,e,n=La(_[0]);const c=h=>h[22].id;for(let h=0;h<n.length;h+=1){let b=Mu(_,n,h),E=c(b);u.set(E,t[h]=Pu(E,b))}function i(h,b){return h[3]?qm:Bm}let l=i(_),p=l(_);return{c(){f=Yt("div");for(let h=0;h<t.length;h+=1)t[h].c();r=vn(),e=Yt("div"),p.c(),Xe(e,"class","tab-add-wrapper"),Xe(f,"class","playlist-tabs")},m(h,b){wn(h,f,b);for(let E=0;E<t.length;E+=1)t[E]&&t[E].m(f,null);ut(f,r),ut(f,e),p.m(e,null)},p(h,[b]){b&771&&(n=La(h[0]),t=Bo(t,b,c,1,h,n,u,f,sc,Pu,r,Mu)),l===(l=i(h))&&p?p.p(h,b):(p.d(1),p=l(h),p&&(p.c(),p.m(e,null)))},i:Zn,o:Zn,d(h){h&&_n(f);for(let b=0;b<t.length;b+=1)t[b].d();p.d()}}}function Gm(_,f,t){let{tabs:u=[]}=f,{activeTabId:r="default"}=f,{i18n:e}=f,{configManager:n}=f,c=!1,i="normal",l;const p=Lr(),h={addTab:[{icon:"iconFolder",label:e.playList.menu.addLocalFolder,action:()=>de("localFolder")},{icon:"iconCloud",label:e.playList.menu.addAliCloud,action:()=>fn.showMessage(e.playList.message.notImplemented)},{icon:"iconCloud",label:e.playList.menu.addTianYiCloud,action:()=>fn.showMessage(e.playList.message.notImplemented)},{icon:"iconCloud",label:e.playList.menu.addQuarkCloud,action:()=>fn.showMessage(e.playList.message.notImplemented)},{icon:"iconHeart",label:e.playList.menu.addBilibiliFavorites,action:()=>de("bilibiliFavorites")}]};function b(se,P,ae){const we=new fn.Menu(se);P.forEach(({icon:$,label:ze,action:Ce})=>we.addItem({icon:$,label:ze,click:Ce})),we.open({x:ae.clientX,y:ae.clientY})}async function E(se){try{const P=`folder-${Date.now()}`,ae=se.split(/[/\\]/).pop()||e.playList.folder.defaultName,we={id:P,name:ae,items:[]};t(0,u=[...u,we]),p("tabsUpdate",{tabs:u}),te(P);try{const $=await window.showDirectoryPicker();await y($,se)}catch($){console.error(e.playList.error.selectFolderFailed,$),fn.showMessage(e.playList.error.selectFolderFailed)}}catch(P){console.error(e.playList.error.processLocalFolderFailed,P),fn.showMessage(e.playList.error.processLocalFolderFailed)}}async function y(se,P){try{if(se.kind!=="directory")return;const ae=await se.entries();let we=0;for await(const[$,ze]of ae)if(ze.kind==="file"){if(/\.(mp4|webm|avi|mkv|mov|flv|mp3|wav|ogg|flac)$/i.test($)){const Te=`file://${P}/${$}`;p("addMedia",{url:Te,options:{autoPlay:!1}}),we++}}else ze.kind==="directory"&&await y(ze,`${P}/${$}`);fn.showMessage(e.playList.message.folderAdded.replace("${name}",se.name).replace("${count}",we.toString()))}catch(ae){console.error(e.playList.error.processDirectoryFailed,ae),fn.showMessage(e.playList.error.processDirectoryFailed)}}async function R(se){try{const P=Uc(se);if(!P){fn.showMessage(e.playList.error.invalidFavUrl);return}fn.showMessage(e.playList.message.processingFavorites);const ae=await n.getConfig(),{title:we,items:$}=await Ja.getFavoritesList(P,ae);if(!$||$.length===0){fn.showMessage(e.playList.error.emptyFavorites);return}const ze=`bili-fav-${Date.now()}`,Ce={id:ze,name:we,items:[]};t(0,u=[...u,Ce]),p("tabsUpdate",{tabs:u}),te(ze);let Te=0;for(const Ye of $)try{const Ue=`https://www.bilibili.com/video/${Ye.bvid}`;p("addMedia",{url:Ue,options:{autoPlay:!1}}),Te++}catch(Ue){console.error(`添加视频 ${Ye.bvid} 失败:`,Ue)}fn.showMessage(e.playList.message.favoritesAdded.replace("${name}",we).replace("${count}",Te.toString()))}catch(P){console.error(e.playList.error.processFavoritesFailed,P),fn.showMessage(e.playList.error.processFavoritesFailed)}}const F={add:()=>de("normal"),save(se,P){if(se instanceof KeyboardEvent&&se.key!=="Enter")return;const ae=se.target,we=ae.value.trim();if(P)t(0,u=u.map($=>$.id===P.id?{...$,name:we||$.name,isEditing:!1}:$)),p("tabsUpdate",{tabs:u});else if(we){if(i==="normal"){const $={id:`tab-${Date.now()}`,name:we,items:[]};t(0,u=[...u,$]),p("tabsUpdate",{tabs:u}),te($.id)}else i==="localFolder"?E(we):i==="bilibiliFavorites"&&R(we);t(3,c=!1)}else t(3,c=!1);ae.value="",p("tabsUpdate",{tabs:u})},showContextMenu(se,P){const ae=[],we={rename:()=>{t(0,u=u.map($=>({...$,isEditing:$.id===P.id}))),p("tabsUpdate",{tabs:u}),setTimeout(()=>{const $=document.querySelector(`#tab-edit-${P.id}`);$==null||$.focus(),$==null||$.select()},0)},delete:()=>{t(0,u=u.filter($=>$.id!==P.id)),r===P.id&&te("default"),p("tabsUpdate",{tabs:u})},clear:()=>{t(0,u=u.map($=>$.id===P.id?{...$,items:[]}:$)),p("tabsUpdate",{tabs:u}),fn.showMessage(e.playList.message.listCleared.replace("${name}",P.name))}};P.isFixed||ae.push({icon:"iconEdit",label:e.playList.menu.rename,action:we.rename},{icon:"iconTrashcan",label:e.playList.menu.delete,action:we.delete}),ae.push({icon:"iconClear",label:e.playList.menu.clear,action:we.clear}),b("tabContextMenu",ae,se)}};function te(se){t(1,r=se),p("tabChange",{tabId:se})}function de(se){t(3,c=!0),t(4,i=se),setTimeout(()=>l==null?void 0:l.focus(),0)}const ee=(se,P)=>F.save(P,se),ve=(se,P)=>F.save(P,se),Ae=se=>te(se.id),M=(se,P)=>F.showContextMenu(P,se);function S(se){xr[se?"unshift":"push"](()=>{l=se,t(5,l)})}const q=se=>b("addTabMenu",h.addTab,se);return _.$$set=se=>{"tabs"in se&&t(0,u=se.tabs),"activeTabId"in se&&t(1,r=se.activeTabId),"i18n"in se&&t(2,e=se.i18n),"configManager"in se&&t(10,n=se.configManager)},[u,r,e,c,i,l,h,b,F,te,n,ee,ve,Ae,M,S,q]}class Ym extends nr{constructor(f){super(),tr(this,f,Gm,Hm,er,{tabs:0,activeTabId:1,i18n:2,configManager:10})}}function zu(_,f,t){const u=_.slice();return u[21]=f[t],u}function Vm(_){let f,t,u,r,e,n,c,i,l,p=_[0].title+"",h,b,E,y,R=_[0].duration&&Lu(_),F=_[0].artist&&Ou(_),te=_[0].url&&ju(_);return{c(){f=Yt("div"),t=Yt("div"),u=Yt("img"),n=vn(),R&&R.c(),c=vn(),i=Yt("div"),l=Yt("div"),h=Rn(p),E=vn(),F&&F.c(),y=vn(),te&&te.c(),za(u.src,r=_[0].thumbnail||"/plugins/siyuan-media-player/thumbnails/default.svg")||Xe(u,"src",r),Xe(u,"alt",e=_[0].title),Xe(u,"loading","lazy"),Xe(t,"class","item-thumbnail"),Xe(l,"class","item-title"),Xe(l,"title",b=_[0].title),Xe(i,"class","item-info"),Xe(f,"class","item-content")},m(de,ee){wn(de,f,ee),ut(f,t),ut(t,u),ut(t,n),R&&R.m(t,null),ut(f,c),ut(f,i),ut(i,l),ut(l,h),ut(i,E),F&&F.m(i,null),ut(i,y),te&&te.m(i,null)},p(de,ee){ee&1&&!za(u.src,r=de[0].thumbnail||"/plugins/siyuan-media-player/thumbnails/default.svg")&&Xe(u,"src",r),ee&1&&e!==(e=de[0].title)&&Xe(u,"alt",e),de[0].duration?R?R.p(de,ee):(R=Lu(de),R.c(),R.m(t,null)):R&&(R.d(1),R=null),ee&1&&p!==(p=de[0].title+"")&&On(h,p),ee&1&&b!==(b=de[0].title)&&Xe(l,"title",b),de[0].artist?F?F.p(de,ee):(F=Ou(de),F.c(),F.m(i,y)):F&&(F.d(1),F=null),de[0].url?te?te.p(de,ee):(te=ju(de),te.c(),te.m(i,null)):te&&(te.d(1),te=null)},d(de){de&&_n(f),R&&R.d(),F&&F.d(),te&&te.d()}}}function Km(_){let f,t=_[0].title+"",u,r;return{c(){f=Yt("div"),u=Rn(t),Xe(f,"class","item-title"),Xe(f,"title",r=_[0].title)},m(e,n){wn(e,f,n),ut(f,u)},p(e,n){n&1&&t!==(t=e[0].title+"")&&On(u,t),n&1&&r!==(r=e[0].title)&&Xe(f,"title",r)},d(e){e&&_n(f)}}}function $m(_){let f,t,u,r,e,n,c,i=_[0].title+"",l,p,h=_[0].duration&&Uu(_);return{c(){f=Yt("div"),t=Yt("img"),e=vn(),h&&h.c(),n=vn(),c=Yt("div"),l=Rn(i),za(t.src,u=_[0].thumbnail||"/plugins/siyuan-media-player/thumbnails/default.svg")||Xe(t,"src",u),Xe(t,"alt",r=_[0].title),Xe(t,"loading","lazy"),Xe(c,"class","item-title"),Xe(c,"title",p=_[0].title),Xe(f,"class","item-thumbnail")},m(b,E){wn(b,f,E),ut(f,t),ut(f,e),h&&h.m(f,null),ut(f,n),ut(f,c),ut(c,l)},p(b,E){E&1&&!za(t.src,u=b[0].thumbnail||"/plugins/siyuan-media-player/thumbnails/default.svg")&&Xe(t,"src",u),E&1&&r!==(r=b[0].title)&&Xe(t,"alt",r),b[0].duration?h?h.p(b,E):(h=Uu(b),h.c(),h.m(f,n)):h&&(h.d(1),h=null),E&1&&i!==(i=b[0].title+"")&&On(l,i),E&1&&p!==(p=b[0].title)&&Xe(c,"title",p)},d(b){b&&_n(f),h&&h.d()}}}function Lu(_){let f,t=_[0].duration+"",u;return{c(){f=Yt("div"),u=Rn(t),Xe(f,"class","duration")},m(r,e){wn(r,f,e),ut(f,u)},p(r,e){e&1&&t!==(t=r[0].duration+"")&&On(u,t)},d(r){r&&_n(f)}}}function Ou(_){let f,t,u,r=_[0].artist+"",e,n=_[0].artistIcon&&Fu(_);return{c(){f=Yt("div"),n&&n.c(),t=vn(),u=Yt("span"),e=Rn(r),Xe(f,"class","item-artist")},m(c,i){wn(c,f,i),n&&n.m(f,null),ut(f,t),ut(f,u),ut(u,e)},p(c,i){c[0].artistIcon?n?n.p(c,i):(n=Fu(c),n.c(),n.m(f,t)):n&&(n.d(1),n=null),i&1&&r!==(r=c[0].artist+"")&&On(e,r)},d(c){c&&_n(f),n&&n.d()}}}function Fu(_){let f,t,u;return{c(){f=Yt("img"),Xe(f,"class","artist-icon"),za(f.src,t=_[0].artistIcon)||Xe(f,"src",t),Xe(f,"alt",u=_[0].artist),Xe(f,"loading","lazy")},m(r,e){wn(r,f,e)},p(r,e){e&1&&!za(f.src,t=r[0].artistIcon)&&Xe(f,"src",t),e&1&&u!==(u=r[0].artist)&&Xe(f,"alt",u)},d(r){r&&_n(f)}}}function ju(_){let f,t,u=_[0].url+"",r,e,n,c,i;return{c(){f=Yt("div"),t=Yt("a"),r=Rn(u),Xe(t,"href",e=_[0].url),Xe(t,"target","_blank"),Xe(t,"rel","noopener noreferrer"),Xe(f,"class","item-url"),Xe(f,"title",n=_[0].url)},m(l,p){wn(l,f,p),ut(f,t),ut(t,r),c||(i=Ln(t,"click",ic(_[15])),c=!0)},p(l,p){p&1&&u!==(u=l[0].url+"")&&On(r,u),p&1&&e!==(e=l[0].url)&&Xe(t,"href",e),p&1&&n!==(n=l[0].url)&&Xe(f,"title",n)},d(l){l&&_n(f),c=!1,i()}}}function Uu(_){let f,t=_[0].duration+"",u;return{c(){f=Yt("div"),u=Rn(t),Xe(f,"class","duration")},m(r,e){wn(r,f,e),ut(f,u)},p(r,e){e&1&&t!==(t=r[0].duration+"")&&On(u,t)},d(r){r&&_n(f)}}}function Bu(_){let f,t=La(_[3]),u=[];for(let r=0;r<t.length;r+=1)u[r]=qu(zu(_,t,r));return{c(){f=Yt("div");for(let r=0;r<u.length;r+=1)u[r].c();Xe(f,"class","item-parts"),Gn(f,"grid-parts",_[2]==="grid"),Gn(f,"single-parts",_[2]==="grid-single")},m(r,e){wn(r,f,e);for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(f,null)},p(r,e){if(e&1035){t=La(r[3]);let n;for(n=0;n<t.length;n+=1){const c=zu(r,t,n);u[n]?u[n].p(c,e):(u[n]=qu(c),u[n].c(),u[n].m(f,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=t.length}e&4&&Gn(f,"grid-parts",r[2]==="grid"),e&4&&Gn(f,"single-parts",r[2]==="grid-single")},d(r){r&&_n(f),rc(u,r)}}}function qu(_){let f,t=_[21].page+"",u,r,e,n,c,i;function l(){return _[16](_[21])}return{c(){var p;f=Yt("button"),u=Rn(t),r=vn(),Xe(f,"class",e="part-item "+(((p=_[1])==null?void 0:p.id)===`${_[0].id}-p${_[21].page}`?"playing":"")),Xe(f,"title",n=_[21].part||`P${_[21].page}`)},m(p,h){wn(p,f,h),ut(f,u),ut(f,r),c||(i=Ln(f,"click",ic(l)),c=!0)},p(p,h){var b;_=p,h&8&&t!==(t=_[21].page+"")&&On(u,t),h&11&&e!==(e="part-item "+(((b=_[1])==null?void 0:b.id)===`${_[0].id}-p${_[21].page}`?"playing":""))&&Xe(f,"class",e),h&8&&n!==(n=_[21].part||`P${_[21].page}`)&&Xe(f,"title",n)},d(p){p&&_n(f),c=!1,i()}}}function Wm(_){let f,t,u,r;function e(l,p){return l[6]?$m:l[2]==="compact"?Km:Vm}let n=e(_),c=n(_),i=_[4]&&_[5]&&Bu(_);return{c(){f=Yt("div"),c.c(),t=vn(),i&&i.c(),Xe(f,"class","playlist-item"),Gn(f,"playing",_[7]),Gn(f,"compact",_[2]==="compact"),Gn(f,"grid",_[6])},m(l,p){wn(l,f,p),c.m(f,null),ut(f,t),i&&i.m(f,null),u||(r=[Ln(f,"click",_[9]),Ln(f,"dblclick",_[17]),Ln(f,"contextmenu",Oo(_[11]))],u=!0)},p(l,[p]){n===(n=e(l))&&c?c.p(l,p):(c.d(1),c=n(l),c&&(c.c(),c.m(f,t))),l[4]&&l[5]?i?i.p(l,p):(i=Bu(l),i.c(),i.m(f,null)):i&&(i.d(1),i=null),p&128&&Gn(f,"playing",l[7]),p&4&&Gn(f,"compact",l[2]==="compact"),p&64&&Gn(f,"grid",l[6])},i:Zn,o:Zn,d(l){l&&_n(f),c.d(),i&&i.d(),u=!1,oa(r)}}}function Xm(_,f,t){let u,r,e,{item:n}=f,{currentItem:c=null}=f,{i18n:i}=f,{tabs:l=[]}=f,{activeTabId:p=""}=f,{viewMode:h="detailed"}=f,b=!1,E=[],y=!1;const R=Lr();async function F(){if(!(E.length>0||y||n.type!=="bilibili"||!n.bvid))try{y=!0,t(3,E=await Ja.getVideoParts({bvid:n.bvid})||[])}catch(q){console.error("获取视频分P列表失败",q)}finally{y=!1}}async function te(){if(n.type==="bilibili"&&n.bvid&&(await F(),r)){t(4,b=!b);return}n.originalUrl&&R("play",{item:n})}function de(q){R("playPart",{item:{...n,id:`${n.id}-p${q.page}`,title:`${n.title.split(" - P")[0]} - P${q.page}${q.part?": "+q.part:""}`,cid:String(q.cid)},part:q})}function ee(q){const se=new fn.Menu("mediaItemMenu"),P={play:()=>{R("play",{item:n}),se.close()},togglePin:()=>{R("togglePin",{item:n}),se.close()},toggleFavorite:()=>{R("toggleFavorite",{item:n}),se.close()},remove:()=>{R("remove",{item:n}),se.close()}};[{icon:"iconPlay",label:i.playList.menu.play,action:P.play},{icon:"iconPin",label:n.isPinned?i.playList.menu.unpin:i.playList.menu.pin,action:P.togglePin},{icon:"iconHeart",label:n.isFavorite?i.playList.menu.unfavorite:i.playList.menu.favorite,action:P.toggleFavorite},{icon:"iconTrashcan",label:i.playList.menu.delete,action:P.remove}].forEach(({icon:ae,label:we,action:$})=>se.addItem({icon:ae,label:we,click:$})),se.open({x:q.clientX,y:q.clientY})}function ve(q){q.target.closest(".playlist-item")||t(4,b=!1)}Nr(()=>(document.addEventListener("click",ve),()=>document.removeEventListener("click",ve)));function Ae(q){yg.call(this,_,q)}const M=q=>de(q),S=()=>R("play",{item:n});return _.$$set=q=>{"item"in q&&t(0,n=q.item),"currentItem"in q&&t(1,c=q.currentItem),"i18n"in q&&t(12,i=q.i18n),"tabs"in q&&t(13,l=q.tabs),"activeTabId"in q&&t(14,p=q.activeTabId),"viewMode"in q&&t(2,h=q.viewMode)},_.$$.update=()=>{var q;_.$$.dirty&3&&t(7,u=(c==null?void 0:c.id)===n.id||((q=c==null?void 0:c.id)==null?void 0:q.startsWith(`${n.id}-p`))),_.$$.dirty&8&&t(5,r=E.length>1),_.$$.dirty&4&&t(6,e=h==="grid"||h==="grid-single")},[n,c,h,E,b,r,e,u,R,te,de,ee,i,l,p,Ae,M,S]}class Qm extends nr{constructor(f){super(),tr(this,f,Xm,Wm,er,{item:0,currentItem:1,i18n:12,tabs:13,activeTabId:14,viewMode:2})}}function Hu(_){let f,t,u;return{c(){f=Yt("span"),f.textContent="×",Xe(f,"class","clear-icon")},m(r,e){wn(r,f,e),t||(u=Ln(f,"click",_[5]),t=!0)},p:Zn,d(r){r&&_n(f),t=!1,u()}}}function Zm(_){let f,t,u,r,e,n,c,i=_[0].playList.action.add+"",l,p,h,b,E=_[1]&&Hu(_);return{c(){f=Yt("div"),t=Yt("div"),u=Yt("input"),e=vn(),E&&E.c(),n=vn(),c=Yt("button"),l=Rn(i),Xe(u,"type","text"),Xe(u,"class","tab-input playlist-input"),Xe(u,"placeholder",r=_[0].playList.placeholder.mediaLink),Xe(t,"class","input-wrapper"),Xe(c,"class","add-btn"),c.disabled=p=!_[1].trim(),Xe(f,"class","playlist-footer")},m(y,R){wn(y,f,R),ut(f,t),ut(t,u),Cr(u,_[1]),ut(t,e),E&&E.m(t,null),ut(f,n),ut(f,c),ut(c,l),h||(b=[Ln(u,"input",_[4]),Ln(u,"keydown",_[3]),Ln(c,"click",_[2])],h=!0)},p(y,[R]){R&1&&r!==(r=y[0].playList.placeholder.mediaLink)&&Xe(u,"placeholder",r),R&2&&u.value!==y[1]&&Cr(u,y[1]),y[1]?E?E.p(y,R):(E=Hu(y),E.c(),E.m(t,null)):E&&(E.d(1),E=null),R&1&&i!==(i=y[0].playList.action.add+"")&&On(l,i),R&2&&p!==(p=!y[1].trim())&&(c.disabled=p)},i:Zn,o:Zn,d(y){y&&_n(f),E&&E.d(),h=!1,oa(b)}}}function Jm(_,f,t){let{i18n:u}=f,r="";const e=Lr();function n(){const p=r.trim();p&&(e("addMedia",{url:p,options:{autoPlay:!1}}),t(1,r=""))}function c(p){p.key==="Enter"&&n()}function i(){r=this.value,t(1,r)}const l=()=>t(1,r="");return _.$$set=p=>{"i18n"in p&&t(0,u=p.i18n)},[u,r,n,c,i,l]}class ep extends nr{constructor(f){super(),tr(this,f,Jm,Zm,er,{i18n:0})}}function Gu(_,f,t){const u=_.slice();return u[24]=f[t],u}function tp(_){let f,t=_[4].playList.empty+"",u;return{c(){f=Yt("div"),u=Rn(t),Xe(f,"class","playlist-empty")},m(r,e){wn(r,f,e),ut(f,u)},p(r,e){e&16&&t!==(t=r[4].playList.empty+"")&&On(u,t)},i:Zn,o:Zn,d(r){r&&_n(f)}}}function np(_){let f,t=[],u=new Map,r,e=La(_[7].items);const n=c=>c[24].id;for(let c=0;c<e.length;c+=1){let i=Gu(_,e,c),l=n(i);u.set(l,t[c]=Yu(l,i))}return{c(){f=Yt("div");for(let c=0;c<t.length;c+=1)t[c].c();Xe(f,"class","playlist-items"),Gn(f,"grid-single",_[8]==="grid-single")},m(c,i){wn(c,f,i);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(f,null);r=!0},p(c,i){i&1521&&(e=La(c[7].items),jo(),t=Bo(t,i,n,1,c,e,u,f,wg,Yu,null,Gu),Uo()),(!r||i&256)&&Gn(f,"grid-single",c[8]==="grid-single")},i(c){if(!r){for(let i=0;i<e.length;i+=1)ia(t[i]);r=!0}},o(c){for(let i=0;i<t.length;i+=1)ba(t[i]);r=!1},d(c){c&&_n(f);for(let i=0;i<t.length;i+=1)t[i].d()}}}function Yu(_,f){let t,u,r;return u=new Qm({props:{item:f[24],currentItem:f[0],tabs:f[5],activeTabId:f[6],i18n:f[4],viewMode:f[8]}}),u.$on("play",f[10]),u.$on("playPart",f[10]),u.$on("togglePin",f[10]),u.$on("toggleFavorite",f[10]),u.$on("remove",f[10]),{key:_,first:null,c(){t=Co(),fr(u.$$.fragment),this.first=t},m(e,n){wn(e,t,n),Qa(u,e,n),r=!0},p(e,n){f=e;const c={};n&128&&(c.item=f[24]),n&1&&(c.currentItem=f[0]),n&32&&(c.tabs=f[5]),n&64&&(c.activeTabId=f[6]),n&16&&(c.i18n=f[4]),n&256&&(c.viewMode=f[8]),u.$set(c)},i(e){r||(ia(u.$$.fragment,e),r=!0)},o(e){ba(u.$$.fragment,e),r=!1},d(e){e&&_n(t),Za(u,e)}}}function ap(_){let f,t,u,r=_[4].playList.title+"",e,n,c,i,l,p,h=_[4].playList.itemCount+"",b,E,y,R,F,te,de,ee,ve,Ae,M,S,q,se,P,ae,we,$,ze;ve=new Ym({props:{tabs:_[5],activeTabId:_[6],i18n:_[4],configManager:_[1]}}),ve.$on("tabChange",_[11]),ve.$on("tabsUpdate",_[12]),ve.$on("addMedia",_[13]);const Ce=[np,tp],Te=[];function Ye(Ue,De){var We,lt;return((lt=(We=Ue[7])==null?void 0:We.items)==null?void 0:lt.length)>0?0:1}return S=Ye(_),q=Te[S]=Ce[S](_),P=new ep({props:{i18n:_[4]}}),P.$on("addMedia",_[13]),{c(){f=Yt("div"),t=Yt("div"),u=Yt("h3"),e=Rn(r),n=vn(),c=Yt("div"),i=Yt("span"),l=Rn(_[9]),p=vn(),b=Rn(h),E=vn(),y=Yt("button"),R=ha("svg"),F=ha("path"),ee=vn(),fr(ve.$$.fragment),Ae=vn(),M=Yt("div"),q.c(),se=vn(),fr(P.$$.fragment),Xe(i,"class","playlist-count"),Xe(R,"viewBox","0 0 24 24"),Xe(R,"width","16"),Xe(R,"height","16"),Xe(R,"class",te="view-"+_[8]),Xe(y,"class","view-mode-btn"),Xe(y,"title",de=_[4].playList.viewMode[_[8]]),Xe(c,"class","header-controls"),Xe(t,"class","playlist-header"),Xe(M,"class","playlist-content"),Gn(M,"grid-view",_[8]==="grid"||_[8]==="grid-single"),Xe(f,"class",ae="playlist "+_[2]),Gn(f,"hidden",_[3])},m(Ue,De){wn(Ue,f,De),ut(f,t),ut(t,u),ut(u,e),ut(t,n),ut(t,c),ut(c,i),ut(i,l),ut(i,p),ut(i,b),ut(c,E),ut(c,y),ut(y,R),ut(R,F),ut(f,ee),Qa(ve,f,null),ut(f,Ae),ut(f,M),Te[S].m(M,null),ut(f,se),Qa(P,f,null),we=!0,$||(ze=Ln(y,"click",_[14]),$=!0)},p(Ue,[De]){(!we||De&16)&&r!==(r=Ue[4].playList.title+"")&&On(e,r),(!we||De&512)&&On(l,Ue[9]),(!we||De&16)&&h!==(h=Ue[4].playList.itemCount+"")&&On(b,h),(!we||De&256&&te!==(te="view-"+Ue[8]))&&Xe(R,"class",te),(!we||De&272&&de!==(de=Ue[4].playList.viewMode[Ue[8]]))&&Xe(y,"title",de);const We={};De&32&&(We.tabs=Ue[5]),De&64&&(We.activeTabId=Ue[6]),De&16&&(We.i18n=Ue[4]),De&2&&(We.configManager=Ue[1]),ve.$set(We);let lt=S;S=Ye(Ue),S===lt?Te[S].p(Ue,De):(jo(),ba(Te[lt],1,1,()=>{Te[lt]=null}),Uo(),q=Te[S],q?q.p(Ue,De):(q=Te[S]=Ce[S](Ue),q.c()),ia(q,1),q.m(M,null)),(!we||De&256)&&Gn(M,"grid-view",Ue[8]==="grid"||Ue[8]==="grid-single");const At={};De&16&&(At.i18n=Ue[4]),P.$set(At),(!we||De&4&&ae!==(ae="playlist "+Ue[2]))&&Xe(f,"class",ae),(!we||De&12)&&Gn(f,"hidden",Ue[3])},i(Ue){we||(ia(ve.$$.fragment,Ue),ia(q),ia(P.$$.fragment,Ue),we=!0)},o(Ue){ba(ve.$$.fragment,Ue),ba(q),ba(P.$$.fragment,Ue),we=!1},d(Ue){Ue&&_n(f),Za(ve),Te[S].d(),Za(P),$=!1,ze()}}}function rp(_,f,t){let u,r,{items:e=[]}=f,{currentItem:n=null}=f,{configManager:c}=f,{className:i=""}=f,{hidden:l=!1}=f,{i18n:p}=f,h=[],b="default",E="detailed";const y=Lr();async function R(ae){try{const we=await c.getConfig(),$={id:ae.id,url:ae.url,title:ae.title,originalUrl:ae.originalUrl||ae.url,type:ae.type||"video",startTime:ae.startTime,endTime:ae.endTime,isLoop:ae.isLoop,loopCount:ae.loopCount,bvid:ae.bvid,cid:ae.cid};if(ae.type==="bilibili"&&ae.bvid&&ae.cid){const ze=await Ja.getProcessedVideoStream(ae.bvid,ae.cid,0,we);Object.assign($,{url:ze.mpdUrl||ze.video.url,headers:ze.headers,type:ze.mpdUrl?"bilibili-dash":"bilibili"})}y("play",$),t(0,n=ae)}catch(we){console.error(`[播放失败] ${we.message||we}`),fn.showMessage(p.playList.error.playRetry)}}Nr(async()=>{Ao.cleanupCache(),await F()});async function F(){const ae=await c.load();t(5,h=await Promise.all(ae.playlists.map(async we=>({...we,items:await Ao.createMediaItems(we.items||[])}))))}function te(){const ae=h.map(we=>({id:we.id,name:we.name,isFixed:we.isFixed,items:(we.items||[]).map($=>({id:$.id,title:$.title,type:$.type,url:$.url,originalUrl:$.originalUrl,aid:$.aid,bvid:$.bvid,cid:$.cid,startTime:$.startTime,endTime:$.endTime,isLoop:$.isLoop,loopCount:$.loopCount,isPinned:$.isPinned,isFavorite:$.isFavorite}))}));c.updatePlaylists(ae)}async function de(ae,we=!0){var $,ze;try{const{mediaUrl:Ce,startTime:Te,endTime:Ye}=vc(ae),Ue=jc(Ce),De=Ue==null?void 0:Ue.bvid,We=Ue==null?void 0:Ue.p;let lt;if(De?lt=($=u==null?void 0:u.items)==null?void 0:$.find(jt=>jt.bvid===De):lt=(ze=u==null?void 0:u.items)==null?void 0:ze.find(jt=>jt.url===Ce),lt){const jt={...lt,startTime:Te,endTime:Ye,originalUrl:ae};if(We&&De&&lt.type==="bilibili")try{const Ie=(await Ja.getVideoParts({bvid:De})).find(Ne=>Ne.page===We);if(Ie){const Ne=lt.id.split("-p")[0];jt.id=`${Ne}-p${We}`,jt.title=`${lt.title.split(" - P")[0]} - P${We}${Ie.part?": "+Ie.part:""}`,jt.cid=String(Ie.cid)}}catch{}we&&await R(jt);return}const At=await Ao.createMediaItem(Ce);if(!At){fn.showMessage(p.playList.error.cannotParse);return}Object.assign(At,{startTime:Te,endTime:Ye,originalUrl:ae}),u&&(t(7,u.items=[...u.items||[],At],u),await te(),we&&await R(At),fn.showMessage(p.playList.message.added))}catch(Ce){console.error(`[添加媒体失败] ${Ce.message||Ce}`),fn.showMessage(p.playList.error.addMediaFailed)}}function ee(ae){const{item:we}=ae.detail,$=ae.type,ze={play:()=>R(we),playPart:()=>R(we),togglePin:()=>{const Ce=h.find(Ye=>Ye.id===b);if(!Ce)return;const Te=Ce.items.map(Ye=>Ye.id===we.id?{...Ye,isPinned:!Ye.isPinned}:Ye);Ce.items=[...Te.filter(Ye=>Ye.isPinned),...Te.filter(Ye=>!Ye.isPinned)],t(5,h=[...h])},toggleFavorite:()=>{const Ce=h.find(Ye=>Ye.id==="favorites"),Te=h.find(Ye=>Ye.id===b);!Ce||!Te||(we.isFavorite?Ce.items=Ce.items.filter(Ye=>Ye.id!==we.id):Ce.items=[...Ce.items||[],{...we,isFavorite:!0}],Te.items=Te.items.map(Ye=>Ye.id===we.id?{...Ye,isFavorite:!Ye.isFavorite}:Ye),t(5,h=[...h]))},remove:()=>{const Ce=h.find(Te=>Te.id===b);if(Ce){if(Ce.items=Ce.items.filter(Te=>Te.id!==we.id),we.isFavorite){const Te=h.find(Ye=>Ye.id==="favorites");Te&&(Te.items=Te.items.filter(Ye=>Ye.id!==we.id))}t(5,h=[...h])}}};ze[$]&&ze[$]()}const ve=ae=>t(6,b=ae.detail.tabId),Ae=ae=>t(5,h=ae.detail.tabs),M=ae=>{var we;return de(ae.detail.url,(we=ae.detail.options)==null?void 0:we.autoPlay)};async function S(ae){if(!ae||!u)return;const we=ae.bvid;let $;if(we?$=u.items.find(ze=>ze.bvid===we):$=u.items.find(ze=>ze.url===ae.url||ze.originalUrl===ae.originalUrl),$){const ze={...$,startTime:ae.startTime,endTime:ae.endTime,isLoop:ae.isLoop,loopCount:ae.loopCount};we&&ae.cid&&$.cid!==ae.cid&&Object.assign(ze,{id:ae.id,title:ae.title,cid:ae.cid}),await R(ze),fn.showMessage(p.playList.message.existingItemPlay)}else t(7,u.items=[...u.items,ae],u),t(5,h=[...h]),await R(ae),fn.showMessage(p.playList.message.added)}function q(ae){t(15,e=[...e,ae])}function se(ae,we){de(ae,(we==null?void 0:we.autoPlay)!==!1)}function P(){const ae=["detailed","compact","grid","grid-single"],we=ae.indexOf(E);t(8,E=ae[(we+1)%ae.length])}return _.$$set=ae=>{"items"in ae&&t(15,e=ae.items),"currentItem"in ae&&t(0,n=ae.currentItem),"configManager"in ae&&t(1,c=ae.configManager),"className"in ae&&t(2,i=ae.className),"hidden"in ae&&t(3,l=ae.hidden),"i18n"in ae&&t(4,p=ae.i18n)},_.$$.update=()=>{var ae;_.$$.dirty&96&&t(7,u=h.find(we=>we.id===b)),_.$$.dirty&128&&t(9,r=((ae=u==null?void 0:u.items)==null?void 0:ae.length)||0),_.$$.dirty&32&&h.length>0&&te()},[n,c,i,l,p,h,b,u,E,r,ee,ve,Ae,M,P,e,S,q,se]}class ip extends nr{constructor(f){super(),tr(this,f,rp,ap,er,{items:15,currentItem:0,configManager:1,className:2,hidden:3,i18n:4,handleMediaItem:16,addItem:17,addMedia:18})}get handleMediaItem(){return this.$$.ctx[16]}get addItem(){return this.$$.ctx[17]}get addMedia(){return this.$$.ctx[18]}}function Vu(_,f,t){const u=_.slice();return u[24]=f[t],u}function Ku(_,f,t){const u=_.slice();return u[27]=f[t],u}function op(_){let f,t=_[1].setting.bilibili.loginDescription+"",u;return{c(){f=Yt("div"),u=Rn(t),Xe(f,"class","setting-description")},m(r,e){wn(r,f,e),ut(f,u)},p(r,e){e&2&&t!==(t=r[1].setting.bilibili.loginDescription+"")&&On(u,t)},d(r){r&&_n(f)}}}function lp(_){let f,t,u,r,e,n,c,i=_[4].uname+"",l,p,h,b,E=_[4].level_info.current_level+"",y,R,F,te,de=_[4].mid+"",ee;return{c(){f=Yt("div"),t=Yt("img"),e=vn(),n=Yt("div"),c=Yt("div"),l=Rn(i),p=vn(),h=Yt("span"),b=Rn("LV"),y=Rn(E),R=vn(),F=Yt("div"),te=Rn("UID: "),ee=Rn(de),Xe(t,"class","user-avatar"),za(t.src,u=_[4].face)||Xe(t,"src",u),Xe(t,"alt",r=_[1].setting.bilibili.avatar),Xe(h,"class","user-level"),Xe(c,"class","user-name"),Xe(F,"class","user-id"),Xe(n,"class","user-details"),Xe(f,"class","user-wrapper")},m(ve,Ae){wn(ve,f,Ae),ut(f,t),ut(f,e),ut(f,n),ut(n,c),ut(c,l),ut(c,p),ut(c,h),ut(h,b),ut(h,y),ut(n,R),ut(n,F),ut(F,te),ut(F,ee)},p(ve,Ae){Ae&16&&!za(t.src,u=ve[4].face)&&Xe(t,"src",u),Ae&2&&r!==(r=ve[1].setting.bilibili.avatar)&&Xe(t,"alt",r),Ae&16&&i!==(i=ve[4].uname+"")&&On(l,i),Ae&16&&E!==(E=ve[4].level_info.current_level+"")&&On(y,E),Ae&16&&de!==(de=ve[4].mid+"")&&On(ee,de)},d(ve){ve&&_n(f)}}}function sp(_){let f,t=_[1].setting.bilibili.logout+"",u,r,e;return{c(){f=Yt("button"),u=Rn(t),Xe(f,"class","b3-button b3-button--outline")},m(n,c){wn(n,f,c),ut(f,u),r||(e=Ln(f,"click",_[9]),r=!0)},p(n,c){c&2&&t!==(t=n[1].setting.bilibili.logout+"")&&On(u,t)},d(n){n&&_n(f),r=!1,e()}}}function up(_){let f,t=_[1].setting.bilibili.login+"",u,r,e,n;return{c(){f=Yt("button"),u=Rn(t),Xe(f,"class","b3-button b3-button--outline"),f.disabled=r=!!_[2]},m(c,i){wn(c,f,i),ut(f,u),e||(n=Ln(f,"click",_[8]),e=!0)},p(c,i){i&2&&t!==(t=c[1].setting.bilibili.login+"")&&On(u,t),i&4&&r!==(r=!!c[2])&&(f.disabled=r)},d(c){c&&_n(f),e=!1,n()}}}function $u(_){let f,t,u,r=_[1].setting.bilibili.scanTitle+"",e,n,c,i=_[1].setting.bilibili.scanDescription+"",l,p,h,b,E,y,R,F,te;return{c(){f=Yt("div"),t=Yt("div"),u=Yt("div"),e=Rn(r),n=vn(),c=Yt("div"),l=Rn(i),p=vn(),h=Yt("div"),b=Yt("img"),R=vn(),F=Yt("div"),te=Rn(_[5]),Xe(u,"class","qrcode-title"),Xe(c,"class","qrcode-description"),Xe(t,"class","qrcode-header"),za(b.src,E=_[2])||Xe(b,"src",E),Xe(b,"alt",y=_[1].setting.bilibili.qrCode),Xe(F,"class","scan-status"),Gn(F,"success",_[3]),Xe(h,"class","qrcode-container"),Xe(f,"class","bilibili-qrcode")},m(de,ee){wn(de,f,ee),ut(f,t),ut(t,u),ut(u,e),ut(t,n),ut(t,c),ut(c,l),ut(f,p),ut(f,h),ut(h,b),ut(h,R),ut(h,F),ut(F,te)},p(de,ee){ee&2&&r!==(r=de[1].setting.bilibili.scanTitle+"")&&On(e,r),ee&2&&i!==(i=de[1].setting.bilibili.scanDescription+"")&&On(l,i),ee&4&&!za(b.src,E=de[2])&&Xe(b,"src",E),ee&2&&y!==(y=de[1].setting.bilibili.qrCode)&&Xe(b,"alt",y),ee&32&&On(te,de[5]),ee&8&&Gn(F,"success",de[3])},d(de){de&&_n(f)}}}function Wu(_){let f,t=_[24].description+"",u;return{c(){f=Yt("div"),u=Rn(t),Xe(f,"class","setting-description")},m(r,e){wn(r,f,e),ut(f,u)},p(r,e){e&64&&t!==(t=r[24].description+"")&&On(u,t)},d(r){r&&_n(f)}}}function Xu(_){let f,t,u,r,e,n,c,i,l,p,h;function b(...F){return _[14](_[24],...F)}function E(F,te){return F[24].key==="speed"?dp:cp}let y=E(_),R=y(_);return{c(){var F,te,de;f=Yt("div"),t=Yt("div"),u=Yt("input"),i=vn(),l=Yt("span"),R.c(),Xe(u,"type","range"),Xe(u,"min",r=((F=_[24].slider)==null?void 0:F.min)??0),Xe(u,"max",e=((te=_[24].slider)==null?void 0:te.max)??100),Xe(u,"step",n=((de=_[24].slider)==null?void 0:de.step)??1),u.value=c=_[24].value,Xe(l,"class","slider-value"),Xe(t,"class","slider-wrapper"),Xe(f,"class","setting-content")},m(F,te){wn(F,f,te),ut(f,t),ut(t,u),ut(t,i),ut(t,l),R.m(l,null),p||(h=Ln(u,"input",b),p=!0)},p(F,te){var de,ee,ve;_=F,te&64&&r!==(r=((de=_[24].slider)==null?void 0:de.min)??0)&&Xe(u,"min",r),te&64&&e!==(e=((ee=_[24].slider)==null?void 0:ee.max)??100)&&Xe(u,"max",e),te&64&&n!==(n=((ve=_[24].slider)==null?void 0:ve.step)??1)&&Xe(u,"step",n),te&64&&c!==(c=_[24].value)&&(u.value=c),y===(y=E(_))&&R?R.p(_,te):(R.d(1),R=y(_),R&&(R.c(),R.m(l,null)))},d(F){F&&_n(f),R.d(),p=!1,h()}}}function cp(_){let f=_[24].value+"",t;return{c(){t=Rn(f)},m(u,r){wn(u,t,r)},p(u,r){r&64&&f!==(f=u[24].value+"")&&On(t,f)},d(u){u&&_n(t)}}}function dp(_){let f=Number(_[24].value)/100+"",t,u;return{c(){t=Rn(f),u=Rn("x")},m(r,e){wn(r,t,e),wn(r,u,e)},p(r,e){e&64&&f!==(f=Number(r[24].value)/100+"")&&On(t,f)},d(r){r&&(_n(t),_n(u))}}}function fp(_){let f,t,u,r,e=La(_[24].options||[]),n=[];for(let i=0;i<e.length;i+=1)n[i]=Qu(Ku(_,e,i));function c(...i){return _[16](_[24],...i)}return{c(){f=Yt("select");for(let i=0;i<n.length;i+=1)n[i].c();Xe(f,"class","select-wrapper")},m(i,l){wn(i,f,l);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(f,null);Eu(f,_[24].value),u||(r=Ln(f,"change",c),u=!0)},p(i,l){if(_=i,l&64){e=La(_[24].options||[]);let p;for(p=0;p<e.length;p+=1){const h=Ku(_,e,p);n[p]?n[p].p(h,l):(n[p]=Qu(h),n[p].c(),n[p].m(f,null))}for(;p<n.length;p+=1)n[p].d(1);n.length=e.length}l&64&&t!==(t=_[24].value)&&Eu(f,_[24].value)},d(i){i&&_n(f),rc(n,i),u=!1,r()}}}function gp(_){let f,t,u,r,e,n,c;function i(...l){return _[15](_[24],...l)}return{c(){f=Yt("label"),t=Yt("input"),r=vn(),e=Yt("span"),Xe(t,"type","checkbox"),t.checked=u=!!_[24].value,Xe(e,"class","checkbox-custom"),Xe(f,"class","checkbox-wrapper")},m(l,p){wn(l,f,p),ut(f,t),ut(f,r),ut(f,e),n||(c=Ln(t,"change",i),n=!0)},p(l,p){_=l,p&64&&u!==(u=!!_[24].value)&&(t.checked=u)},d(l){l&&_n(f),n=!1,c()}}}function Qu(_){let f,t=_[27].label+"",u,r;return{c(){f=Yt("option"),u=Rn(t),f.__value=r=_[27].value,Cr(f,f.__value)},m(e,n){wn(e,f,n),ut(f,u)},p(e,n){n&64&&t!==(t=e[27].label+"")&&On(u,t),n&64&&r!==(r=e[27].value)&&(f.__value=r,Cr(f,f.__value))},d(e){e&&_n(f)}}}function Zu(_){let f,t,u,r;return{c(){f=Yt("input"),Xe(f,"type","text"),Xe(f,"class","player-path-input"),Xe(f,"placeholder",t=_[1].setting.items.playerPath.title)},m(e,n){wn(e,f,n),Cr(f,_[7]),u||(r=Ln(f,"input",_[17]),u=!0)},p(e,n){n&2&&t!==(t=e[1].setting.items.playerPath.title)&&Xe(f,"placeholder",t),n&128&&f.value!==e[7]&&Cr(f,e[7])},d(e){e&&_n(f),u=!1,r()}}}function Ju(_,f){let t,u,r,e=f[24].title+"",n,c,i,l,p,h,b,E=f[24].description&&Wu(f),y=f[24].type==="slider"&&Xu(f);function R(ee,ve){if(ee[24].type==="checkbox")return gp;if(ee[24].type==="select")return fp}let F=R(f),te=F&&F(f),de=f[24].key==="playerType"&&f[24].value==="potplayer"&&Zu(f);return{key:_,first:null,c(){t=Yt("div"),u=Yt("div"),r=Yt("div"),n=Rn(e),c=vn(),E&&E.c(),i=vn(),y&&y.c(),l=vn(),p=Yt("div"),te&&te.c(),h=vn(),de&&de.c(),b=vn(),Xe(r,"class","setting-title"),Xe(u,"class","setting-info"),Xe(p,"class","setting-control"),Xe(t,"class","setting-item"),Gn(t,"with-path",f[24].key==="playerType"&&f[24].value==="potplayer"),this.first=t},m(ee,ve){wn(ee,t,ve),ut(t,u),ut(u,r),ut(r,n),ut(u,c),E&&E.m(u,null),ut(u,i),y&&y.m(u,null),ut(t,l),ut(t,p),te&&te.m(p,null),ut(t,h),de&&de.m(t,null),ut(t,b)},p(ee,ve){f=ee,ve&64&&e!==(e=f[24].title+"")&&On(n,e),f[24].description?E?E.p(f,ve):(E=Wu(f),E.c(),E.m(u,i)):E&&(E.d(1),E=null),f[24].type==="slider"?y?y.p(f,ve):(y=Xu(f),y.c(),y.m(u,null)):y&&(y.d(1),y=null),F===(F=R(f))&&te?te.p(f,ve):(te&&te.d(1),te=F&&F(f),te&&(te.c(),te.m(p,null))),f[24].key==="playerType"&&f[24].value==="potplayer"?de?de.p(f,ve):(de=Zu(f),de.c(),de.m(t,b)):de&&(de.d(1),de=null),ve&64&&Gn(t,"with-path",f[24].key==="playerType"&&f[24].value==="potplayer")},d(ee){ee&&_n(t),E&&E.d(),y&&y.d(),te&&te.d(),de&&de.d()}}}function mp(_){let f,t,u,r=_[1].setting.title+"",e,n,c,i,l,p=_[1].setting.reset+"",h,b,E,y,R=_[1].setting.save+"",F,te,de,ee,ve,Ae,M=_[1].setting.bilibili.account+"",S,q,se,P,ae,we,$,ze=[],Ce=new Map,Te,Ye;function Ue(Qe,B){return Qe[3]&&Qe[4]?lp:op}let De=Ue(_),We=De(_);function lt(Qe,B){return Qe[3]?sp:up}let At=lt(_),jt=At(_),Bt=_[2]&&!_[3]&&$u(_),Ie=La(_[6]);const Ne=Qe=>Qe[24].key;for(let Qe=0;Qe<Ie.length;Qe+=1){let B=Vu(_,Ie,Qe),Y=Ne(B);Ce.set(Y,ze[Qe]=Ju(Y,B))}return{c(){f=Yt("div"),t=Yt("div"),u=Yt("h3"),e=Rn(r),n=vn(),c=Yt("div"),i=Yt("button"),l=Yt("span"),h=Rn(p),b=vn(),E=Yt("button"),y=Yt("span"),F=Rn(R),te=vn(),de=Yt("div"),ee=Yt("div"),ve=Yt("div"),Ae=Yt("div"),S=Rn(M),q=vn(),se=Yt("div"),We.c(),P=vn(),ae=Yt("div"),jt.c(),we=vn(),Bt&&Bt.c(),$=vn();for(let Qe=0;Qe<ze.length;Qe+=1)ze[Qe].c();Xe(i,"class","btn"),Xe(E,"class","btn primary"),Xe(c,"class","header-actions"),Xe(t,"class","settings-header"),Xe(Ae,"class","setting-title"),Xe(se,"class","setting-content"),Xe(ve,"class","setting-info"),Xe(ae,"class","setting-control"),Xe(ee,"class","setting-item"),Xe(de,"class","setting-panel"),Xe(f,"class","settings"),Xe(f,"data-name",_[0])},m(Qe,B){wn(Qe,f,B),ut(f,t),ut(t,u),ut(u,e),ut(t,n),ut(t,c),ut(c,i),ut(i,l),ut(l,h),ut(c,b),ut(c,E),ut(E,y),ut(y,F),ut(f,te),ut(f,de),ut(de,ee),ut(ee,ve),ut(ve,Ae),ut(Ae,S),ut(ve,q),ut(ve,se),We.m(se,null),ut(ee,P),ut(ee,ae),jt.m(ae,null),ut(de,we),Bt&&Bt.m(de,null),ut(de,$);for(let Y=0;Y<ze.length;Y+=1)ze[Y]&&ze[Y].m(de,null);Te||(Ye=[Ln(i,"click",_[11]),Ln(E,"click",_[10])],Te=!0)},p(Qe,[B]){B&2&&r!==(r=Qe[1].setting.title+"")&&On(e,r),B&2&&p!==(p=Qe[1].setting.reset+"")&&On(h,p),B&2&&R!==(R=Qe[1].setting.save+"")&&On(F,R),B&2&&M!==(M=Qe[1].setting.bilibili.account+"")&&On(S,M),De===(De=Ue(Qe))&&We?We.p(Qe,B):(We.d(1),We=De(Qe),We&&(We.c(),We.m(se,null))),At===(At=lt(Qe))&&jt?jt.p(Qe,B):(jt.d(1),jt=At(Qe),jt&&(jt.c(),jt.m(ae,null))),Qe[2]&&!Qe[3]?Bt?Bt.p(Qe,B):(Bt=$u(Qe),Bt.c(),Bt.m(de,$)):Bt&&(Bt.d(1),Bt=null),B&4290&&(Ie=La(Qe[6]),ze=Bo(ze,B,Ne,1,Qe,Ie,Ce,de,sc,Ju,null,Vu)),B&1&&Xe(f,"data-name",Qe[0])},i:Zn,o:Zn,d(Qe){Qe&&_n(f),We.d(),jt.d(),Bt&&Bt.d();for(let B=0;B<ze.length;B+=1)ze[B].d();Te=!1,oa(Ye)}}}function pp(_,f,t){let{group:u}=f,{configManager:r}=f,{i18n:e}=f,n="",c="",i,l=!1,p=null,h=e.setting.bilibili.waitingScan;Nr(()=>()=>{i&&clearInterval(i)});async function b(){try{const ae=await Ja.getLoginQRCode();t(2,n=ae.qrcodeData),c=ae.qrcode_key,R()}catch(ae){fn.showMessage(ae.message||e.setting.bilibili.getQRCodeFailed)}}async function E(ae){t(3,l=!0),t(4,p=ae.userInfo);const we=await r.getConfig();we.bilibiliLogin={url:ae.url,refresh_token:ae.refresh_token,timestamp:ae.timestamp,userInfo:ae.userInfo},await r.save(),fn.showMessage(e.setting.bilibili.loginSuccess)}async function y(){t(3,l=!1),t(4,p=null);const ae=await r.getConfig();delete ae.bilibiliLogin,await r.save(),fn.showMessage(e.setting.bilibili.logoutSuccess)}function R(){i&&clearInterval(i),i=window.setInterval(async()=>{try{const ae=await Ja.checkQRCodeStatus(c);switch(ae.code){case 0:clearInterval(i),t(5,h=e.setting.bilibili.loginSuccess),await E(ae);break;case 86038:clearInterval(i),t(5,h=e.setting.bilibili.qrCodeExpired),t(2,n="");break;case 86090:t(5,h=e.setting.bilibili.qrCodeScanned);break;case 86101:t(5,h=e.setting.bilibili.waitingScan);break;default:t(5,h=ae.message||e.setting.bilibili.unknownStatus)}}catch{clearInterval(i),fn.showMessage(e.setting.bilibili.checkQRCodeFailed)}},3e3)}const F=[{key:"volume",value:70,type:"slider",title:e.setting.items.volume.title,description:e.setting.items.volume.description,slider:{min:0,max:100,step:1}},{key:"speed",value:100,type:"slider",title:e.setting.items.speed.title,description:e.setting.items.speed.description,slider:{min:25,max:200,step:25}},{key:"loopCount",value:3,type:"slider",title:e.setting.items.loopCount.title,description:e.setting.items.loopCount.description,slider:{min:1,max:10,step:1}},{key:"insertAtCursor",value:!0,type:"checkbox",title:e.setting.items.insertAtCursor.title,description:e.setting.items.insertAtCursor.description},{key:"playerType",value:"built-in",type:"select",title:e.setting.items.playerType.title,description:e.setting.items.playerType.description,options:[{label:e.setting.items.playerType.builtIn,value:"built-in"},{label:e.setting.items.playerType.potPlayer,value:"potplayer"},{label:e.setting.items.playerType.browser,value:"browser"}]}];let te=[...F],de="PotPlayerMini64.exe";Nr(async()=>{const ae=await r.load();t(6,te=te.map(we=>({...we,value:ae.settings[we.key]??we.value}))),t(7,de=ae.settings.playerPath||"PotPlayerMini64.exe"),ae.bilibiliLogin&&(t(3,l=!0),t(4,p=ae.bilibiliLogin.userInfo))});const ee=Lr();async function ve(){const ae=te.reduce((we,$)=>({...we,[$.key]:$.value}),{playerPath:de});await r.updateSettings(ae),ee("changed",{settings:ae}),fn.showMessage(e.setting.saveSuccess)}function Ae(){t(6,te=F.map(we=>({...we}))),t(7,de="PotPlayerMini64.exe");const ae=te.reduce((we,$)=>({...we,[$.key]:$.value}),{playerPath:de});ee("changed",{settings:ae}),fn.showMessage(e.setting.resetSuccess)}function M(ae,we){const $=ae.target;let ze;$.type==="checkbox"?ze=$.checked:we.type==="select"?ze=$.value:ze=Number($.value);const Ce=te.findIndex(Te=>Te.key===we.key);Ce!==-1&&(t(6,te[Ce].value=ze,te),t(6,te))}const S=(ae,we)=>M(we,ae),q=(ae,we)=>M(we,ae),se=(ae,we)=>M(we,ae);function P(){de=this.value,t(7,de)}return _.$$set=ae=>{"group"in ae&&t(0,u=ae.group),"configManager"in ae&&t(13,r=ae.configManager),"i18n"in ae&&t(1,e=ae.i18n)},[u,e,n,l,p,h,te,de,b,y,ve,Ae,M,r,S,q,se,P]}class hp extends nr{constructor(f){super(),tr(this,f,pp,mp,er,{group:0,configManager:13,i18n:1})}}function ec(_){let f;return{c(){f=ha("path"),Xe(f,"d","M608.256 321.609143q-41.106286-17.773714-86.308571-17.773714-45.129143 0-86.162286 17.627428-35.401143 15.213714-63.341714 41.618286v-9.947429q0-14.043429-10.020572-23.990857-9.874286-9.801143-23.771428-9.801143t-23.844572 10.020572q-10.020571 9.947429-10.020571 23.771428V470.308571q0 14.116571 10.020571 24.064 9.947429 9.801143 23.844572 9.801143h117.174857q14.043429 0 23.990857-10.020571 9.801143-9.947429 9.801143-23.844572 0-13.824-10.020572-23.844571-9.947429-9.947429-23.771428-9.947429h-43.885715q19.602286-25.746286 48.859429-40.228571 33.645714-16.603429 71.460571-13.750857 50.980571 3.876571 87.478858 40.521143 36.571429 36.571429 40.082285 87.478857 4.242286 60.416-37.010285 104.448-40.96 43.885714-100.937143 43.885714-43.739429 0-79.36-25.161143-34.742857-24.576-49.883429-64.365714-4.388571-11.702857-14.409143-18.797714-10.093714-7.094857-22.308571-7.094857-20.187429 0-32.182857 16.530285-11.922286 16.676571-4.973715 35.401143 24.137143 65.097143 81.334858 104.155429 58.733714 40.155429 130.413714 37.156571 84.260571-33.364571 144.457143-63.561143 60.196571-60.050286 63.634285-144.091428 1.828571-45.494857-14.482285-87.332572-15.725714-40.374857-45.933715-71.68-30.208-31.232-69.924571-48.420571z")},m(t,u){wn(t,f,u)},d(t){t&&_n(f)}}}function bp(_){let f,t,u,r,e,n,c,i,l,p,h,b,E,y,R,F,te,de,ee,ve=(_[0]||_[2].controlBar.notPlaying)+"",Ae,M,S,q,se,P,ae,we,$,ze,Ce,Te,Ye,Ue,De=!_[1]&&ec();return{c(){f=Yt("div"),t=Yt("div"),u=Yt("button"),r=ha("svg"),e=ha("path"),c=vn(),i=Yt("button"),l=ha("svg"),p=ha("path"),b=vn(),E=Yt("button"),y=ha("svg"),R=ha("path"),De&&De.c(),te=vn(),de=Yt("div"),ee=Yt("span"),Ae=Rn(ve),M=vn(),S=Yt("div"),q=Yt("button"),se=ha("svg"),P=ha("path"),we=vn(),$=Yt("button"),ze=ha("svg"),Ce=ha("path"),Xe(e,"d","M853.333333 170.666667a73.142857 73.142857 0 0 1 73.142857 73.142857v536.380952a73.142857 73.142857 0 0 1-73.142857 73.142857H170.666667a73.142857 73.142857 0 0 1-73.142857-73.142857V243.809524a73.142857 73.142857 0 0 1 73.142857-73.142857h682.666666z m0 73.142857H170.666667v536.380952h682.666666V243.809524z m-375.856762 168.057905l120.685715 120.685714 51.687619-51.712 172.422095 172.373333-51.712 51.736381-120.685714-120.685714-51.736381 51.736381-120.685715-120.685714-224.109714 224.109714-51.712-51.687619 275.846095-275.870476zM731.428571 292.571429a48.761905 48.761905 0 1 1 0 97.523809 48.761905 48.761905 0 0 1 0-97.523809z"),Xe(r,"viewBox","0 0 1024 1024"),Xe(r,"class","icon"),Xe(u,"class","control-btn"),Xe(u,"title",n=_[2].controlBar.screenshot.name),Xe(p,"d","M511.292952 121.904762c80.408381 0 155.087238 24.405333 217.136762 66.218667l-49.737143 49.785904a318.756571 318.756571 0 0 0-167.399619-47.152762C334.189714 190.756571 190.610286 334.57981 190.610286 512s143.60381 321.243429 320.682666 321.243429c177.103238 0 320.682667-143.823238 320.682667-321.243429 0-49.127619-11.02019-95.695238-30.72-137.337905l51.102476-51.078095A388.87619 388.87619 0 0 1 900.681143 512c0 215.454476-174.32381 390.095238-389.36381 390.095238C296.228571 902.095238 121.904762 727.454476 121.904762 512S296.228571 121.904762 511.292952 121.904762z m0 137.679238c42.179048 0 81.968762 10.386286 116.906667 28.769524l-51.955809 51.931428a182.54019 182.54019 0 0 0-64.950858-11.849142c-101.180952 0-183.247238 82.16381-183.247238 183.56419 0 101.376 82.041905 183.588571 183.247238 183.588571s183.247238-82.212571 183.247238-183.588571a185.295238 185.295238 0 0 0-2.194285-28.42819l56.344381-56.32c9.435429 26.477714 14.57981 55.003429 14.579809 84.74819 0 139.410286-112.810667 252.416-251.977143 252.416-139.142095 0-251.952762-113.005714-251.952762-252.416s112.810667-252.416 251.952762-252.416zM853.577143 143.433143L902.095238 192.146286 566.613333 527.676952l-51.102476 2.681905 2.535619-51.297524 335.481905-335.62819z"),Xe(l,"viewBox","0 0 1024 1024"),Xe(l,"class","icon"),Xe(i,"class","control-btn"),Xe(i,"title",h=_[2].controlBar.timestamp.name),Xe(R,"d","M1020.562286 846.555429q0 43.885714-43.885715 43.885714h-50.029714v85.284571q0 18.212571-12.873143 31.085715t-31.012571 12.873142q-43.885714 0-43.885714-43.885714v-85.357714H140.726857q-43.885714 0-43.885714-43.885714V215.04H45.348571q-43.885714 0-43.885714-43.885714t43.885714-43.885715h51.565715V48.493714q0-43.885714 43.885714-43.885714t43.885714 43.885714V127.268571h698.148572q18.139429 0 31.012571 12.873143 12.8 12.873143 12.8 31.012572v631.588571h50.102857q43.885714 0 43.885715 43.812572z m-181.686857-43.885715V215.04H184.612571v587.702857h654.262858z"),Xe(y,"viewBox","0 0 1024 1024"),Xe(y,"class","icon"),Xe(E,"class","control-btn"),Xe(E,"title",F=_[2].controlBar.loopSegment.name),Xe(t,"class","left-controls"),Xe(ee,"class","media-title"),Xe(de,"class","title-area"),Xe(P,"d","M414.47619 121.904762a73.142857 73.142857 0 0 1 73.142858 73.142857v219.428571a73.142857 73.142857 0 0 1-73.142858 73.142858H195.047619a73.142857 73.142857 0 0 1-73.142857-73.142858V195.047619a73.142857 73.142857 0 0 1 73.142857-73.142857h219.428571zM195.047619 195.047619v219.428571h219.428571V195.047619H195.047619z m219.428571 341.333333a73.142857 73.142857 0 0 1 73.142858 73.142858v219.428571a73.142857 73.142857 0 0 1-73.142858 73.142857H195.047619a73.142857 73.142857 0 0 1-73.142857-73.142857v-219.428571a73.142857 73.142857 0 0 1 73.142857-73.142858h219.428571z m-219.428571 73.142858v219.428571h219.428571v-219.428571H195.047619zM536.380952 182.857143v73.142857h353.52381v-73.142857H536.380952zM536.380952 609.52381v73.142857h353.52381v-73.142857H536.380952z m0-268.190477v73.142857h353.52381v-73.142857H536.380952z m0 426.666667v73.142857h353.52381v-73.142857H536.380952z"),Xe(se,"viewBox","0 0 1024 1024"),Xe(se,"class","icon"),Xe(q,"class","control-btn"),Xe(q,"title",ae=_[2].controlBar.playlist.name),Xe(Ce,"d","M448.487619 97.52381l130.096762 0.170666c40.399238 0.073143 73.142857 32.792381 73.191619 73.216l0.048762 21.211429a345.283048 345.283048 0 0 1 71.143619 39.960381l17.408-10.044953a73.313524 73.313524 0 0 1 99.961905 26.819048l65.219047 112.566857a73.313524 73.313524 0 0 1-22.893714 97.816381l-3.974095 2.438095-17.481143 10.093715a341.479619 341.479619 0 0 1-1.292191 83.968l12.361143 7.168a73.313524 73.313524 0 0 1 28.867048 96.329142l-2.023619 3.803429-61.098667 105.813333a73.313524 73.313524 0 0 1-96.329143 28.867048l-3.803428-2.048-16.896-9.752381a341.918476 341.918476 0 0 1-68.291048 38.083048l0.024381 29.062095a73.313524 73.313524 0 0 1-68.754286 73.264762l-4.632381 0.146285-130.121142-0.170666a73.313524 73.313524 0 0 1-73.191619-73.216l-0.048762-35.035429a346.599619 346.599619 0 0 1-57.368381-34.035809l-31.158857 17.944381a73.313524 73.313524 0 0 1-99.986286-26.819048l-65.219048-112.566857a73.313524 73.313524 0 0 1 22.918095-97.816381l3.949715-2.438095 31.719619-18.285715c-2.438095-23.161905-2.56-46.665143-0.219429-70.119619l-35.206095-20.333714a73.313524 73.313524 0 0 1-28.891429-96.329143l2.048-3.803428 61.098667-105.813334a73.313524 73.313524 0 0 1 96.329143-28.867047l3.803429 2.048 30.72 17.724952a341.284571 341.284571 0 0 1 64.609523-39.716571l-0.048762-27.89181a73.313524 73.313524 0 0 1 68.754286-73.264762L448.487619 97.52381z m-0.097524 73.313523l0.073143 74.48381-42.130286 19.846095c-18.041905 8.46019-35.05981 18.919619-50.761142 31.158857l-38.936381 30.403048-71.655619-41.398857-1.852953-1.024-61.074286 105.813333 76.239239 44.007619-4.729905 47.104a268.434286 268.434286 0 0 0 0.170666 55.100952l5.022477 47.445334-73.069715 42.081524 65.194667 112.566857 72.557714-41.740191 38.473143 28.184381a272.579048 272.579048 0 0 0 45.226667 26.819048l42.057143 19.772952 0.146285 81.529905 130.072381 0.170667-0.073143-78.019048 45.202286-18.822095a268.629333 268.629333 0 0 0 53.638095-29.915429l38.448762-27.648 57.904762 33.426286 61.049905-105.813333-55.100952-31.890286 6.826666-48.88381a268.190476 268.190476 0 0 0 1.024-65.950476l-5.12-47.494095 58.928762-34.011429-65.219047-112.566857L718.262857 319.390476l-38.497524-28.086857a272.62781 272.62781 0 0 0-56.051809-31.50019l-45.104762-18.724572-0.121905-70.070857-130.096762-0.170667z m145.895619 210.407619a146.773333 146.773333 0 0 1 53.686857 200.362667 146.407619 146.407619 0 0 1-200.167619 53.638095 146.773333 146.773333 0 0 1-53.662476-200.362666 146.407619 146.407619 0 0 1 200.167619-53.638096z m-136.655238 90.258286a73.48419 73.48419 0 0 0 26.86781 100.278857 73.118476 73.118476 0 0 0 99.961904-26.770285c19.529143-33.865143 9.020952-76.824381-23.186285-98.03581l-3.657143-2.267429-3.803429-2.048a73.118476 73.118476 0 0 0-96.182857 28.842667z"),Xe(ze,"viewBox","0 0 1024 1024"),Xe(ze,"class","icon"),Xe($,"class","control-btn"),Xe($,"title",Te=_[2].controlBar.settings.name),Xe(S,"class","right-controls"),Xe(f,"class","control-bar")},m(We,lt){wn(We,f,lt),ut(f,t),ut(t,u),ut(u,r),ut(r,e),ut(t,c),ut(t,i),ut(i,l),ut(l,p),ut(t,b),ut(t,E),ut(E,y),ut(y,R),De&&De.m(y,null),ut(f,te),ut(f,de),ut(de,ee),ut(ee,Ae),ut(f,M),ut(f,S),ut(S,q),ut(q,se),ut(se,P),ut(S,we),ut(S,$),ut($,ze),ut(ze,Ce),Ye||(Ue=[Ln(u,"click",_[3]),Ln(i,"click",_[4]),Ln(E,"click",_[5]),Ln(q,"click",_[6]),Ln($,"click",_[7])],Ye=!0)},p(We,[lt]){lt&4&&n!==(n=We[2].controlBar.screenshot.name)&&Xe(u,"title",n),lt&4&&h!==(h=We[2].controlBar.timestamp.name)&&Xe(i,"title",h),We[1]?De&&(De.d(1),De=null):De||(De=ec(),De.c(),De.m(y,null)),lt&4&&F!==(F=We[2].controlBar.loopSegment.name)&&Xe(E,"title",F),lt&5&&ve!==(ve=(We[0]||We[2].controlBar.notPlaying)+"")&&On(Ae,ve),lt&4&&ae!==(ae=We[2].controlBar.playlist.name)&&Xe(q,"title",ae),lt&4&&Te!==(Te=We[2].controlBar.settings.name)&&Xe($,"title",Te)},i:Zn,o:Zn,d(We){We&&_n(f),De&&De.d(),Ye=!1,oa(Ue)}}}function yp(_,f,t){const u=Lr();let{title:r=null}=f,{loopStartTime:e=null}=f,{i18n:n}=f;function c(){if(!r){fn.showMessage(n.controlBar.screenshot.hint);return}u("screenshot")}function i(){if(!r){fn.showMessage(n.controlBar.timestamp.hint);return}u("timestamp")}function l(){if(!r){fn.showMessage(n.controlBar.loopSegment.hint);return}e===null?(u("loopSegment",{action:"start"}),fn.showMessage(n.controlBar.loopSegment.startHint)):(u("loopSegment",{action:"end"}),fn.showMessage(n.controlBar.loopSegment.endHint))}function p(){u("playlist")}function h(){u("settings")}return _.$$set=b=>{"title"in b&&t(0,r=b.title),"loopStartTime"in b&&t(1,e=b.loopStartTime),"i18n"in b&&t(2,n=b.i18n)},[r,e,n,c,i,l,p,h]}class Ep extends nr{constructor(f){super(),tr(this,f,yp,bp,er,{title:0,loopStartTime:1,i18n:2})}}var Rr=(_=>(_.BUILT_IN="built-in",_.POT_PLAYER="potplayer",_.BROWSER="browser",_))(Rr||{});const kr={};let Ro="";class vp{constructor(f,t){fa(this,"playlist");fa(this,"isListening",!1);fa(this,"clickHandler",null);this.configManager=f,this.openTabCallback=t}setPlaylist(f){this.playlist=f}startListening(){this.isListening||(this.clickHandler=async f=>{const t=f.target;if(!t.matches('span[data-type="a"]'))return;const u=t.getAttribute("data-href");if(!u||!Yg(u))return;f.preventDefault(),f.stopPropagation();const r=f.ctrlKey;await this.handleMediaLink(u,r)},document.addEventListener("click",this.clickHandler,!0),this.isListening=!0)}async handleMediaLink(f,t=!1){try{const u=await this.configManager.getConfig(),r=t?Rr.BROWSER:u.settings.playerType,{playerPath:e}=u.settings;switch(r){case Rr.POT_PLAYER:await this.openWithPotPlayer(f,e);break;case Rr.BROWSER:await this.openInBrowser(f);break;default:await this.openInBuiltPlayer(f)}}catch(u){console.error("[LinkHandler] 处理链接失败:",u),fn.showMessage("播放失败，请重试")}}async openWithPotPlayer(f,t){try{const u=(t||"").replace(/^["']|["']$/g,"");if(!u){fn.showMessage("请在设置中配置PotPlayer路径");return}const r=window.navigator.userAgent.includes("Electron"),{mediaUrl:e,startTime:n}=vc(f),c=n?this.formatTime(n):"";let i="";if(r){const{exec:l}=require("child_process"),p=require("os");if(p.platform()==="win32"){if(n?i=`"${u}" "${e}" /seek=${c} /current`:i=`"${u}" "${e}" /current`,console.log("执行PotPlayer命令:",i),i===Ro){console.log("跳过重复的PotPlayer命令");return}Ro=i,l(i,h=>{h&&(console.error("PotPlayer命令执行失败:",h),fn.showMessage(`播放失败: ${h.message}`),Ro="")})}else p.platform()==="darwin"?i=`open -a "${u}" "${e}"`:i=`"${u}" "${e}"`,l(i)}else n?i=`"${u}" "${e}" /seek=${c} /current`:i=`"${u}" "${e}" /current`,fetch("/api/system/execCommand",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:i})}).catch(l=>console.error("命令执行失败:",l))}catch(u){console.error("打开PotPlayer失败:",u),fn.showMessage(`打开失败: ${u instanceof Error?u.message:String(u)}`)}}async openInBrowser(f){try{if(window.navigator.userAgent.includes("Electron")){const{shell:e}=require("electron");await e.openExternal(f);return}const u=f.replace(/[^a-zA-Z0-9]/g,"_").substring(0,30);if(kr[u]&&!kr[u].closed)try{kr[u].focus();try{kr[u].location.href!==f&&(kr[u].location.href=f)}catch{console.log("无法访问窗口location，可能是跨域限制")}return}catch(e){console.log("现有窗口无法访问:",e)}const r=window.open(f,u);r&&(kr[u]=r)}catch(t){console.error("在浏览器中打开失败:",t),fn.showMessage(`在浏览器中打开失败: ${t instanceof Error?t.message:String(t)}`)}}formatTime(f){const t=Math.floor(f/3600),u=Math.floor(f%3600/60),r=Math.floor(f%60);return[t>0?t.toString().padStart(2,"0"):"00",u.toString().padStart(2,"0"),r.toString().padStart(2,"0")].join(":")}async openInBuiltPlayer(f){document.querySelector(".media-player-tab")||(this.openTabCallback(),await new Promise(t=>{const u=setInterval(()=>{document.querySelector(".media-player-tab")&&(clearInterval(u),t())},100)}),await new Promise(t=>setTimeout(t,200))),this.playlist&&await this.playlist.addMedia(f,{autoPlay:!0})}stopListening(){this.clickHandler&&(document.removeEventListener("click",this.clickHandler,!0),this.clickHandler=null),this.isListening=!1}}function tc(_){let f,t;return f=new hp({props:{group:"media-player",configManager:_[1],i18n:_[10]}}),f.$on("changed",_[13]),{c(){fr(f.$$.fragment)},m(u,r){Qa(f,u,r),t=!0},p(u,r){const e={};r&2&&(e.configManager=u[1]),f.$set(e)},i(u){t||(ia(f.$$.fragment,u),t=!0)},o(u){ba(f.$$.fragment,u),t=!1},d(u){Za(f,u)}}}function _p(_){var de;let f,t,u,r,e,n,c,i,l,p,h,b,E,y,R={app:_[0],config:_[8],i18n:_[10]};r=new zg({props:R}),_[18](r),c=new Ep({props:{title:(de=_[6])==null?void 0:de.title,loopStartTime:_[9],i18n:_[10]}}),c.$on("screenshot",_[15]),c.$on("timestamp",_[15]),c.$on("loopSegment",_[15]),c.$on("playlist",_[15]),c.$on("settings",_[15]);let F={configManager:_[1],currentItem:_[6],className:"playlist-container",hidden:!_[4],i18n:_[10]};p=new ip({props:F}),_[19](p),p.$on("select",_[14]),p.$on("play",_[16]);let te=_[5]&&tc(_);return{c(){f=Yt("div"),t=Yt("div"),u=Yt("div"),fr(r.$$.fragment),e=vn(),n=Yt("div"),fr(c.$$.fragment),i=vn(),l=Yt("div"),fr(p.$$.fragment),h=vn(),te&&te.c(),Xe(n,"class","control-bar"),Gn(n,"hidden",!_[3]),Xe(u,"class","player-area"),Xe(l,"class","sidebar"),Gn(l,"show",_[4]||_[5]),Xe(t,"class","content-area"),Gn(t,"with-sidebar",_[4]||_[5]),Xe(f,"class","media-player-tab")},m(ee,ve){wn(ee,f,ve),ut(f,t),ut(t,u),Qa(r,u,null),ut(u,e),ut(u,n),Qa(c,n,null),ut(t,i),ut(t,l),Qa(p,l,null),ut(l,h),te&&te.m(l,null),b=!0,E||(y=[Ln(f,"mousemove",_[11]),Ln(f,"mouseleave",_[12])],E=!0)},p(ee,[ve]){var q;const Ae={};ve&1&&(Ae.app=ee[0]),ve&256&&(Ae.config=ee[8]),r.$set(Ae);const M={};ve&64&&(M.title=(q=ee[6])==null?void 0:q.title),ve&512&&(M.loopStartTime=ee[9]),c.$set(M),(!b||ve&8)&&Gn(n,"hidden",!ee[3]);const S={};ve&2&&(S.configManager=ee[1]),ve&64&&(S.currentItem=ee[6]),ve&16&&(S.hidden=!ee[4]),p.$set(S),ee[5]?te?(te.p(ee,ve),ve&32&&ia(te,1)):(te=tc(ee),te.c(),ia(te,1),te.m(l,null)):te&&(jo(),ba(te,1,1,()=>{te=null}),Uo()),(!b||ve&48)&&Gn(l,"show",ee[4]||ee[5]),(!b||ve&48)&&Gn(t,"with-sidebar",ee[4]||ee[5])},i(ee){b||(ia(r.$$.fragment,ee),ia(c.$$.fragment,ee),ia(p.$$.fragment,ee),ia(te),b=!0)},o(ee){ba(r.$$.fragment,ee),ba(c.$$.fragment,ee),ba(p.$$.fragment,ee),ba(te),b=!1},d(ee){ee&&_n(f),_[18](null),Za(r),Za(c),_[19](null),Za(p),te&&te.d(),E=!1,oa(y)}}}function Tp(_,f,t){let{app:u}=f,{configManager:r}=f,{linkHandler:e}=f,n=u.i18n,c=!0,i,l=!1,p=!1,h=null,b,E,y=null,R;const F=()=>{var We;const Ue=window.getSelection();if(!(Ue!=null&&Ue.focusNode))throw new Error(n.mediaPlayerTab.block.cursorNotFound);let De=Ue.focusNode;for(;De&&!((We=De.dataset)!=null&&We.nodeId);)De=De.parentElement;if(!(De!=null&&De.dataset.nodeId))throw new Error(n.mediaPlayerTab.block.targetBlockNotFound);return De.dataset.nodeId},te=async Ue=>{try{if((await r.getConfig()).settings.insertAtCursor??!0){const We=F();if(!(await fetch("/api/block/updateBlock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:Ue,dataType:"markdown",id:We})})).ok)throw new Error;fn.showMessage(n.mediaPlayerTab.block.linkInserted)}else await navigator.clipboard.writeText(Ue),fn.showMessage(n.mediaPlayerTab.block.copiedToClipboard)}catch{await navigator.clipboard.writeText(Ue),fn.showMessage(n.mediaPlayerTab.block.insertFailed)}},de=(Ue=!1,De,We)=>{if(!b||!h)return null;try{const lt=De??b.getCurrentTime(),At=We??(Ue?lt+3:void 0),jt=h.originalUrl||h.url;if(!jt)throw new Error;const Bt=new URL(jt);if(Bt.searchParams.delete("t"),Bt.searchParams.delete("p"),Ue&&At?Bt.searchParams.set("t",`${lt.toFixed(1)}-${At.toFixed(1)}`):Bt.searchParams.set("t",lt.toFixed(1)),h.type==="bilibili"&&h.id&&h.id.includes("-p")){const Ie=h.id.match(/-p(\d+)$/);Ie&&Ie[1]&&Bt.searchParams.set("p",Ie[1])}return Ue&&At?`- [${_o(lt,!0)}-${_o(At,!0)}](${Bt.toString()})`:`- [${_o(lt,!0)}](${Bt.toString()})`}catch{return fn.showMessage(n.mediaPlayerTab.timestamp.generateFailed),null}},ee=async(Ue,De)=>{try{if(window.navigator.userAgent.includes("Electron")){const{exec:We}=require("child_process"),lt=require("os");De=De.replace(/^["']|["']$/g,""),lt.platform()==="win32"?We(`"${De}" "${Ue}"`,At=>{At&&(console.error("打开外部播放器失败:",At),fn.showMessage(`打开外部播放器失败: ${At.message}`))}):lt.platform()==="darwin"&&We(`open -a "${De}" "${Ue}"`,At=>{At&&(console.error("打开外部播放器失败:",At),fn.showMessage(`打开外部播放器失败: ${At.message}`))})}else if(!(await fetch("/api/system/execCommand",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:`start "${De}" "${Ue}"`})})).ok)throw new Error("命令执行失败")}catch(We){console.error("打开外部播放器失败:",We),fn.showMessage(`打开外部播放器失败: ${We.message}`)}},ve=async Ue=>{try{if(window.navigator.userAgent.includes("Electron")){const{shell:De}=require("electron");await De.openExternal(Ue)}else window.open(Ue,"_blank");fn.showMessage(n.mediaPlayerTab.browser.openSuccess)}catch(De){console.error("在浏览器中打开失败:",De),fn.showMessage(`在浏览器中打开失败: ${De.message}`)}},Ae=async()=>{if(!b||!h){fn.showMessage(n.controlBar.screenshot.hint);return}try{const Ue=await b.getScreenshotDataURL();if(!Ue){fn.showMessage(n.mediaPlayerTab.screenshot.failHint);return}const We=await(await fetch(Ue)).blob(),lt=Date.now(),At=`${h.title||n.mediaPlayerTab.screenshot.defaultName}_${lt}.png`,jt=new FormData;jt.append("file[]",We,At);const Bt=await fetch("/api/asset/upload",{method:"POST",body:jt});if(!Bt.ok)throw new Error;const Ie=await Bt.json();if(Ie.code!==0)throw new Error;await te(`![${At}](${Ie.data.succMap[At]})`),fn.showMessage(n.mediaPlayerTab.screenshot.successHint)}catch{fn.showMessage(n.mediaPlayerTab.screenshot.errorHint)}},M=async()=>{if(!b||!h){fn.showMessage(n.controlBar.screenshot.hint);return}const Ue=de(!1);Ue&&await te(Ue)},S=async()=>{if(!b||!h){fn.showMessage(n.controlBar.screenshot.hint);return}const Ue=b.getCurrentTime();if(y===null)t(9,y=Ue),fn.showMessage(n.controlBar.loopSegment.startHint);else{const De=de(!0,y,Ue);De&&await te(De),t(9,y=null)}},q=()=>{t(3,c=!0),clearTimeout(i),i=window.setTimeout(()=>t(3,c=!1),3e3)},se=()=>{clearTimeout(i),t(3,c=!1)},P=Ue=>{t(8,E=Ue.detail.settings),b==null||b.updateConfig(E)},ae=Ue=>{t(6,h=Ue.detail)},we=async Ue=>{switch(Ue.type.replace(":","")){case"screenshot":await Ae();break;case"timestamp":await M();break;case"loopSegment":await S();break;case"playlist":t(4,l=!l),l&&t(5,p=!1);break;case"settings":t(5,p=!p),p&&t(4,l=!1);break}},$=Ue=>{Ue.detail.type==="bilibili"&&Ce()},ze=async Ue=>{const De=Ue.detail;if(!(De!=null&&De.url)){fn.showMessage(n.mediaPlayerTab.play.invalidOptions);return}try{t(6,h={id:De.id||`item-${Date.now()}`,title:De.title||n.mediaPlayerTab.play.untitledMedia,url:De.url,originalUrl:De.originalUrl||De.url,type:["bilibili-dash","bilibili"].includes(De.type)?"bilibili":"video",startTime:De.startTime,endTime:De.endTime,isLoop:De.isLoop,loopCount:De.loopCount,bvid:De.bvid,cid:De.cid});const We=await r.getConfig(),lt=jt=>{if((h==null?void 0:h.startTime)!==void 0&&!jt.includes("t="))try{const Bt=new URL(jt);return Bt.searchParams.set("t",h.startTime.toString()),Bt.toString()}catch{return jt}return jt},At=h.type==="bilibili"&&h.originalUrl?h.originalUrl:De.url;if(We.settings.playerType===Rr.POT_PLAYER){await ee(lt(At),We.settings.playerPath);return}else if(We.settings.playerType===Rr.BROWSER){await ve(lt(At));return}["bilibili-dash","bilibili"].includes(De.type)?await b.play(De.url,{type:De.type,headers:De.headers,title:De.title}):await b.play(De.url),De.startTime!==void 0&&b.setPlayTime(De.startTime,De.endTime),De.isLoop&&b.setLoop(!0,De.loopCount)}catch(We){fn.showMessage(n.mediaPlayerTab.play.failMessage+We.message)}},Ce=async()=>{if(!((h==null?void 0:h.type)!=="bilibili"||!h.bvid||!h.cid))try{const Ue=await r.getConfig(),De=await Ja.getProcessedVideoStream(h.bvid,h.cid,0,Ue);if(b){const We=De.mpdUrl||De.video.url,lt=De.mpdUrl?"bilibili-dash":"bilibili";b.play(We,{type:lt,headers:De.headers,title:h.title})}}catch{fn.showMessage(n.mediaPlayerTab.stream.playbackError)}};Nr(()=>((async()=>{const De=await r.load();t(8,E=De.settings),E.loopCount||t(8,E.loopCount=3,E);const We=document.querySelector(".artplayer-app");We&&We.addEventListener("streamError",$)})(),()=>{const De=document.querySelector(".artplayer-app");De&&De.removeEventListener("streamError",$)})),oc(()=>{e==null||e.setPlaylist(null)});function Te(Ue){xr[Ue?"unshift":"push"](()=>{b=Ue,t(7,b)})}function Ye(Ue){xr[Ue?"unshift":"push"](()=>{R=Ue,t(2,R)})}return _.$$set=Ue=>{"app"in Ue&&t(0,u=Ue.app),"configManager"in Ue&&t(1,r=Ue.configManager),"linkHandler"in Ue&&t(17,e=Ue.linkHandler)},_.$$.update=()=>{_.$$.dirty&131076&&R&&e&&e.setPlaylist(R)},[u,r,R,c,l,p,h,b,E,y,n,q,se,P,ae,we,ze,e,Te,Ye]}class wp extends nr{constructor(f){super(),tr(this,f,Tp,_p,er,{app:0,configManager:1,linkHandler:17})}}class Sp{constructor(f){fa(this,"plugin");fa(this,"config");this.plugin=f,this.config=this.getDefaultConfig()}getDefaultConfig(){const f=this.plugin.i18n.playList;return{playlists:[{id:"default",name:(f==null?void 0:f.defaultList)||"默认列表",items:[],isFixed:!0},{id:"favorites",name:(f==null?void 0:f.favorites)||"收藏夹",items:[],isFixed:!0}],settings:{volume:70,speed:100,hotkey:!0,loop:!1,insertAtCursor:!0,playerType:"built-in",playerPath:"PotPlayerMini64.exe"}}}async load(){try{const f=await this.plugin.loadData("config.json");if(!f)return this.config;if(f.playlists){const t=this.plugin.i18n.playList;f.playlists=f.playlists.map(u=>(u.isFixed&&(u.id==="default"?u.name=(t==null?void 0:t.defaultList)||"默认列表":u.id==="favorites"&&(u.name=(t==null?void 0:t.favorites)||"收藏夹")),u))}this.config={...this.config,...f}}catch(f){console.error("加载配置失败:",f)}return this.config}async save(){try{await this.plugin.saveData("config.json",this.config)}catch(f){console.error("保存配置失败:",f)}}async updatePlaylists(f){this.config.playlists=f,await this.save()}async updateSettings(f){this.config.settings=f,await this.save()}getConfig(){return this.config}}class kp extends fn.Plugin{constructor(){super(...arguments);fa(this,"configManager");fa(this,"linkHandler");fa(this,"mediaPlayerTab");fa(this,"activeContainer",null);fa(this,"TAB_TYPE","custom_tab");fa(this,"isMobile")}async onload(){console.log("思源媒体播放器加载");const t=fn.getFrontend();this.isMobile=t==="mobile"||t==="browser-mobile",this.addIcons(`<symbol id="iconMediaPlayer" viewBox="0 0 1024 1024">
            <path d="M513.792 514.5088m-457.0112 0a457.0112 457.0112 0 1 0 914.0224 0 457.0112 457.0112 0 1 0-914.0224 0Z" fill="#8C7BFD"></path>
            <path d="M440.6272 732.16c-17.6128 0-35.2768-4.6592-51.3024-13.9264-32.1536-18.5344-51.3024-51.7632-51.3024-88.8832V399.6672c0-37.12 19.2-70.3488 51.3024-88.8832 32.1536-18.5856 70.5024-18.5344 102.656 0l198.912 114.8416c32.1536 18.5344 51.3024 51.7632 51.3024 88.8832s-19.2 70.3488-51.3024 88.8832l-198.912 114.8416c-16.0768 9.2672-33.7408 13.9264-51.3536 13.9264z m0.0512-332.6976c-0.1024 0-0.3072 0.1024-0.4096 0.2048l0.1024 229.6832c0 0.1536 0.256 0.3072 0.4096 0.3072l198.8608-114.944c0.1536-0.0512 0.1536-0.3584 0.1024-0.512l-0.1024 0.1024-198.8608-114.8416h-0.1024z" fill="#FFE37B"></path>
        </symbol>`),this.configManager=new Sp(this),await this.configManager.load(),this.addTopBar({icon:"iconMediaPlayer",title:this.i18n.name,position:"right",callback:()=>{this.openMediaPlayerTab()}}),this.registerHotkeys(),this.linkHandler=new vp(this.configManager,()=>this.openMediaPlayerTab()),this.linkHandler.startListening()}onLayoutReady(){console.log("思源媒体播放器布局加载完成")}onunload(){var t;console.log("思源媒体播放器卸载");try{(t=this.mediaPlayerTab)!=null&&t.player&&(typeof this.mediaPlayerTab.player.pause=="function"&&this.mediaPlayerTab.player.pause(),this.mediaPlayerTab.player.destroy(!0)),this.linkHandler&&this.linkHandler.stopListening(),this.mediaPlayerTab=null,this.activeContainer=null}catch(u){console.error("插件卸载时清理播放器失败:",u)}}registerHotkeys(){this.addCommand({langKey:"screenshot",langText:this.i18n.screenshot.text,hotkey:"",callback:()=>{this.handleHotkeyAction("screenshot")}}),this.addCommand({langKey:"timestamp",langText:this.i18n.timestamp.text,hotkey:"",callback:()=>{this.handleHotkeyAction("timestamp")}}),this.addCommand({langKey:"loopSegment",langText:this.i18n.loopSegment.text,hotkey:"",callback:()=>{this.handleHotkeyAction("loopSegment")}})}async handleHotkeyAction(t){if(!this.activeContainer){fn.showMessage(this.i18n.openPlayer);return}const u=this.activeContainer.querySelector(".control-bar");if(!u){fn.showMessage(this.i18n.playerNotReady);return}const r={screenshot:this.i18n.controlBar.screenshot.name,timestamp:this.i18n.controlBar.timestamp.name,loopSegment:this.i18n.controlBar.loopSegment.name}[t],e=u.querySelector(`button[title="${r}"]`);e instanceof HTMLElement?e.click():(console.warn(`找不到标题为 "${r}" 的按钮`),fn.showMessage(this.i18n.buttonNotFound))}openMediaPlayerTab(){const t=this;this.addTab({type:this.TAB_TYPE,init(){const u=document.createElement("div");u.className="media-player-container",t.activeContainer=u,t.mediaPlayerTab=new wp({target:u,props:{app:{...t.app,i18n:t.i18n},configManager:t.configManager,linkHandler:t.linkHandler}}),this.element.appendChild(u)},destroy(){var u,r;console.log("Destroying media player tab");try{(u=t.mediaPlayerTab)!=null&&u.player&&(typeof t.mediaPlayerTab.player.pause=="function"&&t.mediaPlayerTab.player.pause(),t.mediaPlayerTab.player.destroy(!0)),(r=t.mediaPlayerTab)!=null&&r.$destroy&&t.mediaPlayerTab.$destroy()}catch(e){console.error("销毁播放器失败:",e)}t.mediaPlayerTab=null,t.activeContainer=null}}),fn.openTab({app:this.app,custom:{icon:"iconMediaPlayer",title:this.i18n.name,id:this.name+this.TAB_TYPE}})}}module.exports=kp;
