# 更新日志

## v0.3.5 (2025.6.2)

### 功能更新
- **重构播放列表**: 优化播放列表组件结构和性能
- **重构设置组件**: 
  - 移除pro和alist繁琐样式，简化为开关项
  - 统一组件处理逻辑，大幅提升效率
  - 增加数据库avid、笔记本id获取显示
  - 移除保存和重置按钮，实时保存，单项重置

### 功能调整
- **脚本功能移除**: 移除插件内置的自定义脚本加载功能，建议使用思源笔记内置的JS脚本功能
- **代码精简**: 清理相关脚本管理代码，减少插件体积
- **专注核心**: 专注于媒体播放和笔记集成功能，避免功能重复

## v0.3.4 (2025.5.26)

### 功能更新
- **按钮布局优化**: 调整功能按钮位置，提升使用体验
- **图标更新**: 修改dock栏图标，提高可识别性
- **链接逻辑重构**: 重构媒体链接检查逻辑，支持本地媒体链接
- **问题修复**: 解决本地媒体时间戳链接无法正常工作的问题
- **细节优化**: 多项细节改进和功能优化

## v0.3.3 (2025.5.18)

### 功能更新
- **界面大改**: 移除顶部图标，通过dock栏按钮打开播放器
- **按钮布局优化**: 将功能按钮移动到顶部，可以通过开关隐藏
- **播放循环增强**: 增加单项循环和列表循环功能
- **循环控制**: 增加循环后暂停功能
- **弹幕功能**: 增加弹幕列表，可以便捷导出弹幕内容
- **账号显示优化**: 优化账号显示方式
- **列表排序功能**: 新增播放列表排序功能，支持按名称、时间和类型排序
- **脚本加载功能**: 支持加载自定义JavaScript脚本，可通过设置界面管理脚本状态
- **插件拓展性增强**: 提供脚本API，允许用户通过脚本创建自定义操作和界面元素

## v0.3.2 (2025.5.11)

### 功能增强
- **UI界面优化**：统一了助手、播放列表、设置面板的设计风格，提升整体使用体验
- **AList网盘支持**：添加AList云存储支持，扩展媒体来源选择
- **文件选择优化**：支持本地文件直接选择导入，简化媒体添加流程
- **面板调整**：支持面板拖拽放大缩小，灵活调整界面布局
- **循环设置增强**：新增循环播放后自动暂停的设置选项
- **创建媒体笔记**：添加媒体笔记功能，提供自定义笔记模板支持
- **标签菜单简化**：优化标签菜单，移除复杂的标签+右键操作逻辑

### 插入功能优化
- 扩展文档插入方式，提供更多选择：
  - 插入光标处 (insertBlock)
  - 追加到块末尾 (appendBlock)
  - 添加到块开头 (prependBlock)
  - 更新当前块 (updateBlock)
  - 插入到文档顶部 (prependDoc)
  - 插入到文档底部 (appendDoc)
  - 复制到剪贴板 (clipboard)
- 扩展链接格式，支持一次性插入时间戳和截图
- 统一自定义格式系统，增加恢复默认格式功能

### 代码优化
- 极限精简`src/core/utils.ts`文件，移除冗余代码，简化函数实现，合并相似功能
- 规范化API命名，使用与思源笔记官方API一致的命名（如`insertBlock`、`appendBlock`等）
- 增强错误处理，使代码更健壮
- 移除大部分成功提示消息(showMessage)，只保留失败情况的提示，进一步精简代码
- 提高剪贴板操作成功率，并添加成功提示
- 优化文档结构，改进README_zh_CN.md文件组织，增加折叠部分和更清晰的目录

## v0.3.1 (2025.4.26)
1. 支持B站视频字幕在播放器界面通过字幕按钮显示或隐藏
2. 支持媒体助手字幕列表跟随进度自动滚动
3. 优化媒体助手UI界面
4. 修复特殊字符导致的添加错误
5. 优化截图功能，支持直接复制图片到剪贴板
6. 统一字幕处理逻辑，提升播放器性能

## v0.3.0 (2025.4.24)
1. 添加B站视频弹幕支持，丰富视频观看体验
2. 引入专业版功能（可选），提供更多高级特性
   - 媒体助手功能：视频字幕列表和AI摘要
   - 标签拓展：本地文件夹、B站收藏夹整合
3. 增强B站收藏夹功能，支持直接选择添加到播放列表
4. 添加媒体助手功能，方便查看字幕和视频摘要
5. 添加字幕支持（本地媒体和B站视频），自动加载匹配字幕
6. 引入视频摘要功能（目前仅支持B站视频），AI智能生成视频内容概要

## v0.2.6 (2025.4.16)
1. 新增外部播放器选项：PotPlayer和浏览器，提供更灵活的媒体查看方式
2. 新增快捷浏览器打开功能：按住Ctrl键点击链接可直接通过浏览器打开
3. 播放列表中的媒体URL现在可点击，方便在浏览器中查看
4. 修复B站分P视频重复添加到播放列表的问题
5. 优化播放器界面元素，提升用户体验

## v0.2.5 (2025.4.10)
1. 新增B站收藏夹直接导入功能，可一键添加整个收藏夹视频到播放列表
2. 新增4种播放列表视图模式（详细视图、简洁视图、网格视图和封面视图），满足不同浏览习惯
3. 修复B站视频分p生成时间戳和循环片段链接问题，现在链接可正确跳转到对应分p
4. 重构播放列表系统，拆分为多个功能模块，提升性能和用户体验
5. 优化列表加载速度，提高大量视频时的响应性能

## v0.2.2 (2025.4.7)
- 修复问题
  - 修复某些网络视频解析失败的问题
  - 解决播放列表管理中的稳定性问题
  - 修复链接生成和解析中的边缘情况
- 性能优化
  - 优化内存使用，减少资源占用
  - 提高播放器加载速度
  - 改进缓存机制，减少重复加载
- UI改进
  - 细节优化，提升用户体验
  - 修复部分界面元素显示异常
  - 改进移动端适配效果

## v0.2.1 (2025.4.2)
- 新增B站分P列表功能
  - 自动罗列所有分P视频
  - 双击其他项时自动折叠展开的分P列表
  - 支持分P预览缩略图显示
- 增强播放器语言支持
  - 自动根据思源语言设置切换播放器界面语言
  - 完善英文界面翻译
  - 优化多语言字符显示
- 优化网络媒体加载
  - 提高Samba等网络视频的解析成功率
  - 延长超时时间并增加自动重试机制
  - 为网速较慢环境提供更好支持
  - 添加加载进度指示

## v0.2.0 (2025.3.28)
- 新增国际化(i18n)支持
  - 完整支持中英文界面本地化
  - 根据系统设置动态切换语言
  - 切换语言时自动翻译播放列表名称
  - 支持自定义翻译文本
- 改进用户界面
  - 优化播放控制栏布局
  - 添加更多视觉反馈
  - 改进移动端适配
- 提升兼容性
  - 修复在不同操作系统上的显示问题
  - 优化在低性能设备上的表现

## v0.1.9 (2024.3.27)
- 新增本地文件夹批量导入媒体功能
  - 支持递归扫描子文件夹
  - 自动过滤非媒体文件
  - 保留文件夹结构信息
- 新增播放列表清空功能
  - 支持单个列表清空
  - 提供确认机制防止误操作
- 修复播放列表标签切换问题
- 修复/命令菜单错位问题
- 优化整体稳定性

## v0.1.8 (2025.3.26)
- 增加B站DASH流支持
  - 解决音画不同步问题
  - 提升播放稳定性
  - 支持更高清晰度选项
- 优化链接处理
  - 修复时间戳和循环片段链接问题
  - 改进播放器标签页未打开时的链接点击行为
  - 增强链接解析容错能力
- 简化设置选项
  - 移除冗余设置项
  - 新增链接插入方式选择（光标位置或剪贴板）
  - 改进设置界面布局
- 修复已知问题并优化性能
  - 解决内存泄漏问题
  - 提高加载速度
  - 优化渲染性能

## v0.1.7 (2025.02.05)
- 改进内容插入机制
  - 将直接插入块改为复制到剪贴板
  - 用户可以自由选择粘贴位置
  - 添加更多插入反馈
- 修复/命令菜单错位的问题
- 性能优化与稳定性提升
  - 减少资源占用
  - 提高响应速度
- 非常抱歉，最近一段时间比较忙，全力备考，不能及时更新了，大家先将就用。

## v0.1.6 (2025.1.27)
- 优化B站视频分P支持
  - 正确获取分P视频的cid
  - 标题中显示分P信息
  - 支持通过p参数直接跳转到指定分P
  - 改进分P列表交互
- 优化循环播放功能
  - 循环次数可在设置中配置(1-10次)
  - 播放器界面显示循环进度
  - 统一配置管理
  - 添加循环播放视觉提示
- 修复已知问题
  - 修复链接处理逻辑（正确识别媒体链接）
  - 优化代码结构
  - 解决UI呈现不一致问题

## v0.1.5 (2025.1.26)
- 重构播放逻辑，提升稳定性
  - 改进媒体加载机制
  - 增强错误处理和恢复能力
- 增加循环片段支持
  - 可设置开始和结束时间点
  - 循环次数可配置
  - 循环区间可视化显示
- 修复已知问题
  - 解决播放中断问题
  - 修正时间戳生成错误
- 优化性能表现
  - 减少CPU和内存占用
  - 提高响应速度

## v0.1.1 (2025-01-23)
- 重构播放逻辑，提升稳定性
- 增加循环片段支持
- 修复已知问题
- 优化性能表现
- 改进用户界面交互

## v0.0.1 (2025-01-18)
- 初始版本发布
- 基础播放功能
  - 支持本地和网络视频播放
  - 播放控制（播放/暂停、音量、进度）
- B站视频支持
  - 解析B站链接
  - 自动提取视频信息
- 播放列表管理
  - 创建和编辑播放列表
  - 媒体项排序和删除