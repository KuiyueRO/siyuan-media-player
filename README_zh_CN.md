# 🎬 思源媒体播放器

## 📚 快速导航

📖 [帮助文档](https://vcne5rvqxi9z.feishu.cn/wiki/KZSMwZk7JiyzFtkgmPUc8rHxnVh) | 💬 [反馈与交流](https://vcne5rvqxi9z.feishu.cn/wiki/KZSMwZk7JiyzFtkgmPUc8rHxnVh#share-JcVadDDYzoViQNxltupcIrJxnSg) | 📋 [更新日志](https://vcne5rvqxi9z.feishu.cn/wiki/FEDdw8o7ti1IPpkJLjXcNX7En6d) | 👏 [鸣谢](https://vcne5rvqxi9z.feishu.cn/wiki/KZSMwZk7JiyzFtkgmPUc8rHxnVh#share-PKecdG4eboPDjAxo4Apc0vuTnJb)

> 关于最新功能和改进的详细信息，请参阅[更新日志](https://vcne5rvqxi9z.feishu.cn/wiki/FEDdw8o7ti1IPpkJLjXcNX7En6d)。

## 🧧 打赏、鼓励、催更

<div style="display: flex; justify-content: space-around; flex-wrap: wrap;">
  <div style="text-align: center; margin: 10px;">
    <img src="/plugins/siyuan-media-player/assets/images/alipay.jpg" alt="支付宝付款码" width="300" />
    <p>支付宝</p>
  </div>
  <div style="text-align: center; margin: 10px;">
    <img src="/plugins/siyuan-media-player/assets/images/wechat.jpg" alt="微信付款码" width="300" />
    <p>微信</p>
  </div>
</div>

## 🚀 近期更新

**0.3.1版本更新：**
- **💬 B站字幕控制**：支持通过字幕按钮在播放器界面显示或隐藏B站视频字幕
- **📜 字幕自动滚动**：媒体助手字幕列表现在会跟随播放进度自动滚动
- **🎨 界面优化**：改进媒体助手UI界面，提升用户体验
- **🛠️ 问题修复**：解决了文件路径中特殊字符导致的添加错误
- **📸 截图功能优化**：改进截图功能，支持直接复制图片到剪贴板
- **🔄 字幕处理统一**：统一字幕处理逻辑，提升播放器性能

**0.3.0版本更新：**
- **🎯 B站弹幕支持**：添加B站视频弹幕显示功能
- **✨ Pro功能引入**：新增可选的Pro版功能
- **🔖 B站收藏夹增强**：直接选择添加到播放列表
- **🧠 媒体助手功能**：字幕浏览和视频摘要功能
- **💬 字幕支持**：支持本地媒体和B站视频字幕
- **📑 视频摘要**：AI生成视频内容概要（目前仅支持B站视频）

## 🎯 功能概述

思源媒体播放器是一款功能强大的多媒体播放插件，帮助您在思源笔记中便捷地播放、管理和引用各类媒体资源。

### 🎥 视频播放

- **📁 本地视频支持**：播放本地视频文件，支持多种常见视频格式
- **🅱️ B站视频支持**：直接播放哔哩哔哩视频，无需离开思源笔记
- **💬 自动字幕识别**：自动检测并加载匹配的字幕文件
- **💭 弹幕支持**：显示B站视频弹幕，提供原生观看体验
- **🎛️ 多种播放控制**：时间跳转、音量调节、播放速度、全屏等功能

### 📋 播放列表管理

- **📚 多列表管理**：创建和管理多个播放列表，便于分类组织媒体
- **👁️ 视图模式切换**：支持详细视图、简洁视图、网格视图和封面视图
- **📥 批量导入**：一键导入B站收藏夹或本地文件夹到播放列表

### 📝 笔记集成功能

- **⏱️ 时间戳链接**：生成指向视频特定时间点的链接，插入到笔记中
- **🔄 循环片段**：创建循环播放特定片段的链接，便于重复学习
- **📸 视频截图**：捕获视频画面并直接插入到笔记中
- **🖊️ 灵活插入选项**：选择在光标位置插入或复制到剪贴板

### ✨ 高级功能（Pro版）

- **🧠 媒体助手**：
  - 📜 字幕列表：便捷浏览和搜索视频字幕内容
  - 📊 视频摘要：AI生成的视频内容概要，快速了解视频要点
  - 📤 一键导出：将字幕和摘要内容导出到笔记中
- **🔖 标签拓展**：
  - 📂 本地文件夹：直接浏览和管理本地媒体文件
  - 🌟 B站收藏夹：无缝集成B站收藏内容
  - 🚀 更多功能开发中...

## 📖 使用方法

### 🎬 播放本地视频

1. 点击播放器窗口的"添加媒体"按钮
2. 选择本地视频文件
3. 播放器会自动检测并加载同名字幕文件（如果存在）
4. 使用播放器控制栏控制播放

### 🅱️ 播放B站视频

1. 复制B站视频链接（支持标准链接和短链接）
2. 在播放器中点击"添加媒体"按钮
3. 粘贴链接并确认
4. 播放器会自动加载视频、字幕和弹幕

### ⏱️ 创建时间戳和循环片段

1. 播放视频到需要标记的位置
2. 点击时间戳按钮创建时间戳，或点击循环片段按钮设置起点
3. 如创建循环片段，继续播放到结束位置再次点击循环片段按钮
4. 生成的链接会自动复制到剪贴板或插入到光标位置（根据设置）

### 📂 导入B站收藏夹

1. 登录B站账号（在设置面板中）
2. 在播放列表面板中选择"添加B站收藏夹"
3. 选择要导入的收藏夹
4. 确认导入，视频将批量添加到当前播放列表

### 🧠 使用媒体助手（Pro版）

1. 在播放视频时点击控制栏中的媒体助手按钮
2. 在助手面板中浏览字幕列表或查看视频摘要
3. 点击字幕条目可跳转到对应时间点
4. 使用导出按钮将内容导出到笔记中

### 👤 管理B站账号

1. 在设置面板中找到B站账号部分
2. 点击登录按钮显示二维码
3. 使用B站手机APP扫描二维码登录
4. 登录后可访问和导入您的个人收藏夹

## ⌨️ 快捷键

### 🎮 播放器内置快捷键（Artplayer）

- **空格键**：切换播放/暂停
- **方向键左/右**：视频快退/快进
- **方向键上/下**：增加/降低音量

### ⚙️ 自定义快捷键

您可以在思源笔记的设置中自定义以下功能的快捷键：

1. 打开思源设置 > 快捷键
2. 搜索"媒体播放器"或"siyuan-media-player"
3. 为以下功能设置自定义快捷键：
   - **⏱️ 创建时间戳**：生成当前播放时间的链接
   - **🔄 创建循环片段**：设置循环播放的起点和终点
   - **📸 截图**：捕获当前视频画面
   - **🧠 打开/关闭媒体助手**：显示或隐藏字幕和摘要面板（Pro版）

自定义快捷键让您可以在不使用鼠标的情况下，快速完成常用操作。

## ⚙️ 设置选项

### 🛠️ 常规设置

- **🔊 音量**：设置默认播放音量
- **⏩ 播放速度**：设置默认播放速度
- **🔁 循环次数**：设置片段循环播放的次数
- **💬 显示字幕**：是否默认显示字幕
- **💭 启用弹幕**：是否默认显示弹幕

### 🎛️ 播放器设置

- **📺 播放器选择**：选择使用内置播放器、PotPlayer或浏览器
- **📌 链接插入方式**：选择插入到光标位置或复制到剪贴板
- **🔗 链接格式**：自定义生成的链接格式，支持添加表情符号

## ❓ 常见问题

### 🎬 视频无法播放

- 检查网络连接是否正常
- 对于B站视频，尝试刷新或重新添加链接
- 确认视频格式是否受支持

### 💬 字幕不显示

- 确认字幕文件与视频文件同名且在同一目录下
- 检查字幕文件格式是否为.srt、.vtt或.ass
- 在设置中确认"显示字幕"选项已启用

### 💭 弹幕不显示

- 确认"启用弹幕"选项已启用
- 只有B站视频支持弹幕功能
- 部分视频可能没有弹幕数据

### 📂 导入收藏夹失败

- 确认已登录B站账号
- 检查网络连接
- 尝试重新登录账号

## 💡 高级技巧

### 🔗 自定义链接格式

在设置中，您可以自定义时间戳链接的显示格式。例如：

```
- [😄标题 时间 字幕](链接)  // 带有表情符号的链接
> 🕒 时间 | 标题 | 字幕     // 引用格式的链接
```

### 📚 多播放列表管理

- 创建主题相关的播放列表，如"学习资料"、"娱乐视频"等
- 使用置顶功能将常用列表固定在顶部
- 定期整理和清理不再需要的媒体内容

### 📥 批量处理技巧

- 使用本地文件夹导入功能一次添加多个视频
- 使用B站收藏夹导入快速添加系列视频
- 通过视图模式切换，在不同场景下高效浏览和管理媒体
